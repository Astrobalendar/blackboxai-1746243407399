var xN=Object.defineProperty;var SN=(t,e,n)=>e in t?xN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Xe=(t,e,n)=>SN(t,typeof e!="symbol"?e+"":e,n);function kN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var LN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $v(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var DL={exports:{}},Hv={},RL={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp=Symbol.for("react.element"),CN=Symbol.for("react.portal"),TN=Symbol.for("react.fragment"),PN=Symbol.for("react.strict_mode"),AN=Symbol.for("react.profiler"),IN=Symbol.for("react.provider"),NN=Symbol.for("react.context"),DN=Symbol.for("react.forward_ref"),RN=Symbol.for("react.suspense"),MN=Symbol.for("react.memo"),ON=Symbol.for("react.lazy"),f_=Symbol.iterator;function FN(t){return t===null||typeof t!="object"?null:(t=f_&&t[f_]||t["@@iterator"],typeof t=="function"?t:null)}var ML={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OL=Object.assign,FL={};function ch(t,e,n){this.props=t,this.context=e,this.refs=FL,this.updater=n||ML}ch.prototype.isReactComponent={};ch.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ch.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jL(){}jL.prototype=ch.prototype;function Sw(t,e,n){this.props=t,this.context=e,this.refs=FL,this.updater=n||ML}var kw=Sw.prototype=new jL;kw.constructor=Sw;OL(kw,ch.prototype);kw.isPureReactComponent=!0;var p_=Array.isArray,BL=Object.prototype.hasOwnProperty,Lw={current:null},VL={key:!0,ref:!0,__self:!0,__source:!0};function UL(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)BL.call(e,r)&&!VL.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:gp,type:t,key:s,ref:o,props:i,_owner:Lw.current}}function jN(t,e){return{$$typeof:gp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cw(t){return typeof t=="object"&&t!==null&&t.$$typeof===gp}function BN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var m_=/\/+/g;function fy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BN(""+t.key):e.toString(36)}function Wm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gp:case CN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+fy(o,0):r,p_(i)?(n="",t!=null&&(n=t.replace(m_,"$&/")+"/"),Wm(i,e,n,"",function(u){return u})):i!=null&&(Cw(i)&&(i=jN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(m_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",p_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+fy(s,a);o+=Wm(s,e,n,l,i)}else if(l=FN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+fy(s,a++),o+=Wm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function cm(t,e,n){if(t==null)return t;var r=[],i=0;return Wm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function VN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yi={current:null},Ym={transition:null},UN={ReactCurrentDispatcher:yi,ReactCurrentBatchConfig:Ym,ReactCurrentOwner:Lw};function zL(){throw Error("act(...) is not supported in production builds of React.")}Ot.Children={map:cm,forEach:function(t,e,n){cm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return cm(t,function(){e++}),e},toArray:function(t){return cm(t,function(e){return e})||[]},only:function(t){if(!Cw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ot.Component=ch;Ot.Fragment=TN;Ot.Profiler=AN;Ot.PureComponent=Sw;Ot.StrictMode=PN;Ot.Suspense=RN;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UN;Ot.act=zL;Ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=OL({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Lw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)BL.call(e,l)&&!VL.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:gp,type:t.type,key:i,ref:s,props:r,_owner:o}};Ot.createContext=function(t){return t={$$typeof:NN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IN,_context:t},t.Consumer=t};Ot.createElement=UL;Ot.createFactory=function(t){var e=UL.bind(null,t);return e.type=t,e};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(t){return{$$typeof:DN,render:t}};Ot.isValidElement=Cw;Ot.lazy=function(t){return{$$typeof:ON,_payload:{_status:-1,_result:t},_init:VN}};Ot.memo=function(t,e){return{$$typeof:MN,type:t,compare:e===void 0?null:e}};Ot.startTransition=function(t){var e=Ym.transition;Ym.transition={};try{t()}finally{Ym.transition=e}};Ot.unstable_act=zL;Ot.useCallback=function(t,e){return yi.current.useCallback(t,e)};Ot.useContext=function(t){return yi.current.useContext(t)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(t){return yi.current.useDeferredValue(t)};Ot.useEffect=function(t,e){return yi.current.useEffect(t,e)};Ot.useId=function(){return yi.current.useId()};Ot.useImperativeHandle=function(t,e,n){return yi.current.useImperativeHandle(t,e,n)};Ot.useInsertionEffect=function(t,e){return yi.current.useInsertionEffect(t,e)};Ot.useLayoutEffect=function(t,e){return yi.current.useLayoutEffect(t,e)};Ot.useMemo=function(t,e){return yi.current.useMemo(t,e)};Ot.useReducer=function(t,e,n){return yi.current.useReducer(t,e,n)};Ot.useRef=function(t){return yi.current.useRef(t)};Ot.useState=function(t){return yi.current.useState(t)};Ot.useSyncExternalStore=function(t,e,n){return yi.current.useSyncExternalStore(t,e,n)};Ot.useTransition=function(){return yi.current.useTransition()};Ot.version="18.3.1";RL.exports=Ot;var S=RL.exports;const xe=$v(S),Tw=kN({__proto__:null,default:xe},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zN=S,qN=Symbol.for("react.element"),$N=Symbol.for("react.fragment"),HN=Object.prototype.hasOwnProperty,WN=zN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YN={key:!0,ref:!0,__self:!0,__source:!0};function qL(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HN.call(e,r)&&!YN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:qN,type:t,key:s,ref:o,props:i,_owner:WN.current}}Hv.Fragment=$N;Hv.jsx=qL;Hv.jsxs=qL;DL.exports=Hv;var B=DL.exports,S1={},$L={exports:{}},Ji={},HL={exports:{}},WL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,ne){var ie=z.length;z.push(ne);e:for(;0<ie;){var ye=ie-1>>>1,F=z[ye];if(0<i(F,ne))z[ye]=ne,z[ie]=F,ie=ye;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var ne=z[0],ie=z.pop();if(ie!==ne){z[0]=ie;e:for(var ye=0,F=z.length,Y=F>>>1;ye<Y;){var ee=2*(ye+1)-1,Q=z[ee],ae=ee+1,de=z[ae];if(0>i(Q,ie))ae<F&&0>i(de,Q)?(z[ye]=de,z[ae]=ie,ye=ae):(z[ye]=Q,z[ee]=ie,ye=ee);else if(ae<F&&0>i(de,ie))z[ye]=de,z[ae]=ie,ye=ae;else break e}}return ne}function i(z,ne){var ie=z.sortIndex-ne.sortIndex;return ie!==0?ie:z.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,m=3,p=!1,v=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(z){for(var ne=n(u);ne!==null;){if(ne.callback===null)r(u);else if(ne.startTime<=z)r(u),ne.sortIndex=ne.expirationTime,e(l,ne);else break;ne=n(u)}}function O(z){if(_=!1,P(z),!v)if(n(l)!==null)v=!0,X(j);else{var ne=n(u);ne!==null&&re(O,ne.startTime-z)}}function j(z,ne){v=!1,_&&(_=!1,w(x),x=-1),p=!0;var ie=m;try{for(P(ne),h=n(l);h!==null&&(!(h.expirationTime>ne)||z&&!C());){var ye=h.callback;if(typeof ye=="function"){h.callback=null,m=h.priorityLevel;var F=ye(h.expirationTime<=ne);ne=t.unstable_now(),typeof F=="function"?h.callback=F:h===n(l)&&r(l),P(ne)}else r(l);h=n(l)}if(h!==null)var Y=!0;else{var ee=n(u);ee!==null&&re(O,ee.startTime-ne),Y=!1}return Y}finally{h=null,m=ie,p=!1}}var H=!1,A=null,x=-1,T=5,M=-1;function C(){return!(t.unstable_now()-M<T)}function I(){if(A!==null){var z=t.unstable_now();M=z;var ne=!0;try{ne=A(!0,z)}finally{ne?R():(H=!1,A=null)}}else H=!1}var R;if(typeof b=="function")R=function(){b(I)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Z=W.port2;W.port1.onmessage=I,R=function(){Z.postMessage(null)}}else R=function(){k(I,0)};function X(z){A=z,H||(H=!0,R())}function re(z,ne){x=k(function(){z(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,X(j))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(z){switch(m){case 1:case 2:case 3:var ne=3;break;default:ne=m}var ie=m;m=ne;try{return z()}finally{m=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,ne){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ie=m;m=z;try{return ne()}finally{m=ie}},t.unstable_scheduleCallback=function(z,ne,ie){var ye=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ye+ie:ye):ie=ye,z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ie+F,z={id:c++,callback:ne,priorityLevel:z,startTime:ie,expirationTime:F,sortIndex:-1},ie>ye?(z.sortIndex=ie,e(u,z),n(l)===null&&z===n(u)&&(_?(w(x),x=-1):_=!0,re(O,ie-ye))):(z.sortIndex=F,e(l,z),v||p||(v=!0,X(j))),z},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(z){var ne=m;return function(){var ie=m;m=ne;try{return z.apply(this,arguments)}finally{m=ie}}}})(WL);HL.exports=WL;var GN=HL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KN=S,Qi=GN;function Ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YL=new Set,Mf={};function yc(t,e){Bd(t,e),Bd(t+"Capture",e)}function Bd(t,e){for(Mf[t]=e,t=0;t<e.length;t++)YL.add(e[t])}var _a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k1=Object.prototype.hasOwnProperty,QN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g_={},v_={};function JN(t){return k1.call(v_,t)?!0:k1.call(g_,t)?!1:QN.test(t)?v_[t]=!0:(g_[t]=!0,!1)}function XN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZN(t,e,n,r){if(e===null||typeof e>"u"||XN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Or={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Or[t]=new wi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Or[e]=new wi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Or[t]=new wi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Or[t]=new wi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Or[t]=new wi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Or[t]=new wi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Or[t]=new wi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Or[t]=new wi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Or[t]=new wi(t,5,!1,t.toLowerCase(),null,!1,!1)});var Pw=/[\-:]([a-z])/g;function Aw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Pw,Aw);Or[e]=new wi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Pw,Aw);Or[e]=new wi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Pw,Aw);Or[e]=new wi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Or[t]=new wi(t,1,!1,t.toLowerCase(),null,!1,!1)});Or.xlinkHref=new wi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Or[t]=new wi(t,1,!1,t.toLowerCase(),null,!0,!0)});function Iw(t,e,n,r){var i=Or.hasOwnProperty(e)?Or[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZN(e,n,i,r)&&(n=null),r||i===null?JN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ia=KN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dm=Symbol.for("react.element"),ld=Symbol.for("react.portal"),ud=Symbol.for("react.fragment"),Nw=Symbol.for("react.strict_mode"),L1=Symbol.for("react.profiler"),GL=Symbol.for("react.provider"),KL=Symbol.for("react.context"),Dw=Symbol.for("react.forward_ref"),C1=Symbol.for("react.suspense"),T1=Symbol.for("react.suspense_list"),Rw=Symbol.for("react.memo"),yl=Symbol.for("react.lazy"),QL=Symbol.for("react.offscreen"),y_=Symbol.iterator;function zh(t){return t===null||typeof t!="object"?null:(t=y_&&t[y_]||t["@@iterator"],typeof t=="function"?t:null)}var Mn=Object.assign,py;function lf(t){if(py===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);py=e&&e[1]||""}return`
`+py+t}var my=!1;function gy(t,e){if(!t||my)return"";my=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{my=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?lf(t):""}function eD(t){switch(t.tag){case 5:return lf(t.type);case 16:return lf("Lazy");case 13:return lf("Suspense");case 19:return lf("SuspenseList");case 0:case 2:case 15:return t=gy(t.type,!1),t;case 11:return t=gy(t.type.render,!1),t;case 1:return t=gy(t.type,!0),t;default:return""}}function P1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ud:return"Fragment";case ld:return"Portal";case L1:return"Profiler";case Nw:return"StrictMode";case C1:return"Suspense";case T1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KL:return(t.displayName||"Context")+".Consumer";case GL:return(t._context.displayName||"Context")+".Provider";case Dw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Rw:return e=t.displayName||null,e!==null?e:P1(t.type)||"Memo";case yl:e=t._payload,t=t._init;try{return P1(t(e))}catch{}}return null}function tD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P1(e);case 8:return e===Nw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function JL(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nD(t){var e=JL(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hm(t){t._valueTracker||(t._valueTracker=nD(t))}function XL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=JL(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function A1(t,e){var n=e.checked;return Mn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function w_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZL(t,e){e=e.checked,e!=null&&Iw(t,"checked",e,!1)}function I1(t,e){ZL(t,e);var n=Hl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?N1(t,e.type,n):e.hasOwnProperty("defaultValue")&&N1(t,e.type,Hl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function b_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function N1(t,e,n){(e!=="number"||Cg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var uf=Array.isArray;function _d(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function D1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return Mn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function __(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ue(92));if(uf(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hl(n)}}function eC(t,e){var n=Hl(e.value),r=Hl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function E_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function R1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fm,nC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fm=fm||document.createElement("div"),fm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Of(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rD=["Webkit","ms","Moz","O"];Object.keys(wf).forEach(function(t){rD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wf[e]=wf[t]})});function rC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wf.hasOwnProperty(t)&&wf[t]?(""+e).trim():e+"px"}function iC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=rC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iD=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function M1(t,e){if(e){if(iD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ue(62))}}function O1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F1=null;function Mw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var j1=null,Ed=null,xd=null;function x_(t){if(t=wp(t)){if(typeof j1!="function")throw Error(Ue(280));var e=t.stateNode;e&&(e=Qv(e),j1(t.stateNode,t.type,e))}}function sC(t){Ed?xd?xd.push(t):xd=[t]:Ed=t}function oC(){if(Ed){var t=Ed,e=xd;if(xd=Ed=null,x_(t),e)for(t=0;t<e.length;t++)x_(e[t])}}function aC(t,e){return t(e)}function lC(){}var vy=!1;function uC(t,e,n){if(vy)return t(e,n);vy=!0;try{return aC(t,e,n)}finally{vy=!1,(Ed!==null||xd!==null)&&(lC(),oC())}}function Ff(t,e){var n=t.stateNode;if(n===null)return null;var r=Qv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ue(231,e,typeof n));return n}var B1=!1;if(_a)try{var qh={};Object.defineProperty(qh,"passive",{get:function(){B1=!0}}),window.addEventListener("test",qh,qh),window.removeEventListener("test",qh,qh)}catch{B1=!1}function sD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var bf=!1,Tg=null,Pg=!1,V1=null,oD={onError:function(t){bf=!0,Tg=t}};function aD(t,e,n,r,i,s,o,a,l){bf=!1,Tg=null,sD.apply(oD,arguments)}function lD(t,e,n,r,i,s,o,a,l){if(aD.apply(this,arguments),bf){if(bf){var u=Tg;bf=!1,Tg=null}else throw Error(Ue(198));Pg||(Pg=!0,V1=u)}}function wc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function S_(t){if(wc(t)!==t)throw Error(Ue(188))}function uD(t){var e=t.alternate;if(!e){if(e=wc(t),e===null)throw Error(Ue(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return S_(i),t;if(s===r)return S_(i),e;s=s.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?t:e}function dC(t){return t=uD(t),t!==null?hC(t):null}function hC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hC(t);if(e!==null)return e;t=t.sibling}return null}var fC=Qi.unstable_scheduleCallback,k_=Qi.unstable_cancelCallback,cD=Qi.unstable_shouldYield,dD=Qi.unstable_requestPaint,Kn=Qi.unstable_now,hD=Qi.unstable_getCurrentPriorityLevel,Ow=Qi.unstable_ImmediatePriority,pC=Qi.unstable_UserBlockingPriority,Ag=Qi.unstable_NormalPriority,fD=Qi.unstable_LowPriority,mC=Qi.unstable_IdlePriority,Wv=null,ko=null;function pD(t){if(ko&&typeof ko.onCommitFiberRoot=="function")try{ko.onCommitFiberRoot(Wv,t,void 0,(t.current.flags&128)===128)}catch{}}var Us=Math.clz32?Math.clz32:vD,mD=Math.log,gD=Math.LN2;function vD(t){return t>>>=0,t===0?32:31-(mD(t)/gD|0)|0}var pm=64,mm=4194304;function cf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ig(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=cf(a):(s&=o,s!==0&&(r=cf(s)))}else o=n&~i,o!==0?r=cf(o):s!==0&&(r=cf(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Us(e),i=1<<n,r|=t[n],e&=~i;return r}function yD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Us(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yD(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function U1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gC(){var t=pm;return pm<<=1,!(pm&4194240)&&(pm=64),t}function yy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Us(e),t[e]=n}function bD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Us(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Fw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Us(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var hn=0;function vC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yC,jw,wC,bC,_C,z1=!1,gm=[],Pl=null,Al=null,Il=null,jf=new Map,Bf=new Map,_l=[],_D="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L_(t,e){switch(t){case"focusin":case"focusout":Pl=null;break;case"dragenter":case"dragleave":Al=null;break;case"mouseover":case"mouseout":Il=null;break;case"pointerover":case"pointerout":jf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bf.delete(e.pointerId)}}function $h(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wp(e),e!==null&&jw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ED(t,e,n,r,i){switch(e){case"focusin":return Pl=$h(Pl,t,e,n,r,i),!0;case"dragenter":return Al=$h(Al,t,e,n,r,i),!0;case"mouseover":return Il=$h(Il,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return jf.set(s,$h(jf.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Bf.set(s,$h(Bf.get(s)||null,t,e,n,r,i)),!0}return!1}function EC(t){var e=zu(t.target);if(e!==null){var n=wc(e);if(n!==null){if(e=n.tag,e===13){if(e=cC(n),e!==null){t.blockedOn=e,_C(t.priority,function(){wC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=q1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);F1=r,n.target.dispatchEvent(r),F1=null}else return e=wp(n),e!==null&&jw(e),t.blockedOn=n,!1;e.shift()}return!0}function C_(t,e,n){Gm(t)&&n.delete(e)}function xD(){z1=!1,Pl!==null&&Gm(Pl)&&(Pl=null),Al!==null&&Gm(Al)&&(Al=null),Il!==null&&Gm(Il)&&(Il=null),jf.forEach(C_),Bf.forEach(C_)}function Hh(t,e){t.blockedOn===e&&(t.blockedOn=null,z1||(z1=!0,Qi.unstable_scheduleCallback(Qi.unstable_NormalPriority,xD)))}function Vf(t){function e(i){return Hh(i,t)}if(0<gm.length){Hh(gm[0],t);for(var n=1;n<gm.length;n++){var r=gm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Pl!==null&&Hh(Pl,t),Al!==null&&Hh(Al,t),Il!==null&&Hh(Il,t),jf.forEach(e),Bf.forEach(e),n=0;n<_l.length;n++)r=_l[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_l.length&&(n=_l[0],n.blockedOn===null);)EC(n),n.blockedOn===null&&_l.shift()}var Sd=Ia.ReactCurrentBatchConfig,Ng=!0;function SD(t,e,n,r){var i=hn,s=Sd.transition;Sd.transition=null;try{hn=1,Bw(t,e,n,r)}finally{hn=i,Sd.transition=s}}function kD(t,e,n,r){var i=hn,s=Sd.transition;Sd.transition=null;try{hn=4,Bw(t,e,n,r)}finally{hn=i,Sd.transition=s}}function Bw(t,e,n,r){if(Ng){var i=q1(t,e,n,r);if(i===null)Ty(t,e,r,Dg,n),L_(t,r);else if(ED(i,t,e,n,r))r.stopPropagation();else if(L_(t,r),e&4&&-1<_D.indexOf(t)){for(;i!==null;){var s=wp(i);if(s!==null&&yC(s),s=q1(t,e,n,r),s===null&&Ty(t,e,r,Dg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ty(t,e,r,null,n)}}var Dg=null;function q1(t,e,n,r){if(Dg=null,t=Mw(r),t=zu(t),t!==null)if(e=wc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Dg=t,null}function xC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hD()){case Ow:return 1;case pC:return 4;case Ag:case fD:return 16;case mC:return 536870912;default:return 16}default:return 16}}var xl=null,Vw=null,Km=null;function SC(){if(Km)return Km;var t,e=Vw,n=e.length,r,i="value"in xl?xl.value:xl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Km=i.slice(t,1<r?1-r:void 0)}function Qm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vm(){return!0}function T_(){return!1}function Xi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vm:T_,this.isPropagationStopped=T_,this}return Mn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vm)},persist:function(){},isPersistent:vm}),e}var dh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uw=Xi(dh),yp=Mn({},dh,{view:0,detail:0}),LD=Xi(yp),wy,by,Wh,Yv=Mn({},yp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wh&&(Wh&&t.type==="mousemove"?(wy=t.screenX-Wh.screenX,by=t.screenY-Wh.screenY):by=wy=0,Wh=t),wy)},movementY:function(t){return"movementY"in t?t.movementY:by}}),P_=Xi(Yv),CD=Mn({},Yv,{dataTransfer:0}),TD=Xi(CD),PD=Mn({},yp,{relatedTarget:0}),_y=Xi(PD),AD=Mn({},dh,{animationName:0,elapsedTime:0,pseudoElement:0}),ID=Xi(AD),ND=Mn({},dh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DD=Xi(ND),RD=Mn({},dh,{data:0}),A_=Xi(RD),MD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FD[t])?!!e[t]:!1}function zw(){return jD}var BD=Mn({},yp,{key:function(t){if(t.key){var e=MD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zw,charCode:function(t){return t.type==="keypress"?Qm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),VD=Xi(BD),UD=Mn({},Yv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I_=Xi(UD),zD=Mn({},yp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zw}),qD=Xi(zD),$D=Mn({},dh,{propertyName:0,elapsedTime:0,pseudoElement:0}),HD=Xi($D),WD=Mn({},Yv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YD=Xi(WD),GD=[9,13,27,32],qw=_a&&"CompositionEvent"in window,_f=null;_a&&"documentMode"in document&&(_f=document.documentMode);var KD=_a&&"TextEvent"in window&&!_f,kC=_a&&(!qw||_f&&8<_f&&11>=_f),N_=" ",D_=!1;function LC(t,e){switch(t){case"keyup":return GD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cd=!1;function QD(t,e){switch(t){case"compositionend":return CC(e);case"keypress":return e.which!==32?null:(D_=!0,N_);case"textInput":return t=e.data,t===N_&&D_?null:t;default:return null}}function JD(t,e){if(cd)return t==="compositionend"||!qw&&LC(t,e)?(t=SC(),Km=Vw=xl=null,cd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kC&&e.locale!=="ko"?null:e.data;default:return null}}var XD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XD[t.type]:e==="textarea"}function TC(t,e,n,r){sC(r),e=Rg(e,"onChange"),0<e.length&&(n=new Uw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ef=null,Uf=null;function ZD(t){BC(t,0)}function Gv(t){var e=fd(t);if(XL(e))return t}function eR(t,e){if(t==="change")return e}var PC=!1;if(_a){var Ey;if(_a){var xy="oninput"in document;if(!xy){var M_=document.createElement("div");M_.setAttribute("oninput","return;"),xy=typeof M_.oninput=="function"}Ey=xy}else Ey=!1;PC=Ey&&(!document.documentMode||9<document.documentMode)}function O_(){Ef&&(Ef.detachEvent("onpropertychange",AC),Uf=Ef=null)}function AC(t){if(t.propertyName==="value"&&Gv(Uf)){var e=[];TC(e,Uf,t,Mw(t)),uC(ZD,e)}}function tR(t,e,n){t==="focusin"?(O_(),Ef=e,Uf=n,Ef.attachEvent("onpropertychange",AC)):t==="focusout"&&O_()}function nR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gv(Uf)}function rR(t,e){if(t==="click")return Gv(e)}function iR(t,e){if(t==="input"||t==="change")return Gv(e)}function sR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hs=typeof Object.is=="function"?Object.is:sR;function zf(t,e){if(Hs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!k1.call(e,i)||!Hs(t[i],e[i]))return!1}return!0}function F_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function j_(t,e){var n=F_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=F_(n)}}function IC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?IC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NC(){for(var t=window,e=Cg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cg(t.document)}return e}function $w(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oR(t){var e=NC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&IC(n.ownerDocument.documentElement,n)){if(r!==null&&$w(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=j_(n,s);var o=j_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aR=_a&&"documentMode"in document&&11>=document.documentMode,dd=null,$1=null,xf=null,H1=!1;function B_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;H1||dd==null||dd!==Cg(r)||(r=dd,"selectionStart"in r&&$w(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xf&&zf(xf,r)||(xf=r,r=Rg($1,"onSelect"),0<r.length&&(e=new Uw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=dd)))}function ym(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hd={animationend:ym("Animation","AnimationEnd"),animationiteration:ym("Animation","AnimationIteration"),animationstart:ym("Animation","AnimationStart"),transitionend:ym("Transition","TransitionEnd")},Sy={},DC={};_a&&(DC=document.createElement("div").style,"AnimationEvent"in window||(delete hd.animationend.animation,delete hd.animationiteration.animation,delete hd.animationstart.animation),"TransitionEvent"in window||delete hd.transitionend.transition);function Kv(t){if(Sy[t])return Sy[t];if(!hd[t])return t;var e=hd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DC)return Sy[t]=e[n];return t}var RC=Kv("animationend"),MC=Kv("animationiteration"),OC=Kv("animationstart"),FC=Kv("transitionend"),jC=new Map,V_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function iu(t,e){jC.set(t,e),yc(e,[t])}for(var ky=0;ky<V_.length;ky++){var Ly=V_[ky],lR=Ly.toLowerCase(),uR=Ly[0].toUpperCase()+Ly.slice(1);iu(lR,"on"+uR)}iu(RC,"onAnimationEnd");iu(MC,"onAnimationIteration");iu(OC,"onAnimationStart");iu("dblclick","onDoubleClick");iu("focusin","onFocus");iu("focusout","onBlur");iu(FC,"onTransitionEnd");Bd("onMouseEnter",["mouseout","mouseover"]);Bd("onMouseLeave",["mouseout","mouseover"]);Bd("onPointerEnter",["pointerout","pointerover"]);Bd("onPointerLeave",["pointerout","pointerover"]);yc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yc("onBeforeInput",["compositionend","keypress","textInput","paste"]);yc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var df="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cR=new Set("cancel close invalid load scroll toggle".split(" ").concat(df));function U_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lD(r,e,void 0,t),t.currentTarget=null}function BC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;U_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;U_(i,a,u),s=l}}}if(Pg)throw t=V1,Pg=!1,V1=null,t}function Ln(t,e){var n=e[Q1];n===void 0&&(n=e[Q1]=new Set);var r=t+"__bubble";n.has(r)||(VC(e,t,2,!1),n.add(r))}function Cy(t,e,n){var r=0;e&&(r|=4),VC(n,t,r,e)}var wm="_reactListening"+Math.random().toString(36).slice(2);function qf(t){if(!t[wm]){t[wm]=!0,YL.forEach(function(n){n!=="selectionchange"&&(cR.has(n)||Cy(n,!1,t),Cy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wm]||(e[wm]=!0,Cy("selectionchange",!1,e))}}function VC(t,e,n,r){switch(xC(e)){case 1:var i=SD;break;case 4:i=kD;break;default:i=Bw}n=i.bind(null,e,n,t),i=void 0,!B1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ty(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}uC(function(){var u=s,c=Mw(n),h=[];e:{var m=jC.get(t);if(m!==void 0){var p=Uw,v=t;switch(t){case"keypress":if(Qm(n)===0)break e;case"keydown":case"keyup":p=VD;break;case"focusin":v="focus",p=_y;break;case"focusout":v="blur",p=_y;break;case"beforeblur":case"afterblur":p=_y;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=P_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=TD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=qD;break;case RC:case MC:case OC:p=ID;break;case FC:p=HD;break;case"scroll":p=LD;break;case"wheel":p=YD;break;case"copy":case"cut":case"paste":p=DD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=I_}var _=(e&4)!==0,k=!_&&t==="scroll",w=_?m!==null?m+"Capture":null:m;_=[];for(var b=u,P;b!==null;){P=b;var O=P.stateNode;if(P.tag===5&&O!==null&&(P=O,w!==null&&(O=Ff(b,w),O!=null&&_.push($f(b,O,P)))),k)break;b=b.return}0<_.length&&(m=new p(m,v,null,n,c),h.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==F1&&(v=n.relatedTarget||n.fromElement)&&(zu(v)||v[Ea]))break e;if((p||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?zu(v):null,v!==null&&(k=wc(v),v!==k||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(_=P_,O="onMouseLeave",w="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(_=I_,O="onPointerLeave",w="onPointerEnter",b="pointer"),k=p==null?m:fd(p),P=v==null?m:fd(v),m=new _(O,b+"leave",p,n,c),m.target=k,m.relatedTarget=P,O=null,zu(c)===u&&(_=new _(w,b+"enter",v,n,c),_.target=P,_.relatedTarget=k,O=_),k=O,p&&v)t:{for(_=p,w=v,b=0,P=_;P;P=Jc(P))b++;for(P=0,O=w;O;O=Jc(O))P++;for(;0<b-P;)_=Jc(_),b--;for(;0<P-b;)w=Jc(w),P--;for(;b--;){if(_===w||w!==null&&_===w.alternate)break t;_=Jc(_),w=Jc(w)}_=null}else _=null;p!==null&&z_(h,m,p,_,!1),v!==null&&k!==null&&z_(h,k,v,_,!0)}}e:{if(m=u?fd(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var j=eR;else if(R_(m))if(PC)j=iR;else{j=nR;var H=tR}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=rR);if(j&&(j=j(t,u))){TC(h,j,n,c);break e}H&&H(t,m,u),t==="focusout"&&(H=m._wrapperState)&&H.controlled&&m.type==="number"&&N1(m,"number",m.value)}switch(H=u?fd(u):window,t){case"focusin":(R_(H)||H.contentEditable==="true")&&(dd=H,$1=u,xf=null);break;case"focusout":xf=$1=dd=null;break;case"mousedown":H1=!0;break;case"contextmenu":case"mouseup":case"dragend":H1=!1,B_(h,n,c);break;case"selectionchange":if(aR)break;case"keydown":case"keyup":B_(h,n,c)}var A;if(qw)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else cd?LC(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(kC&&n.locale!=="ko"&&(cd||x!=="onCompositionStart"?x==="onCompositionEnd"&&cd&&(A=SC()):(xl=c,Vw="value"in xl?xl.value:xl.textContent,cd=!0)),H=Rg(u,x),0<H.length&&(x=new A_(x,t,null,n,c),h.push({event:x,listeners:H}),A?x.data=A:(A=CC(n),A!==null&&(x.data=A)))),(A=KD?QD(t,n):JD(t,n))&&(u=Rg(u,"onBeforeInput"),0<u.length&&(c=new A_("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=A))}BC(h,e)})}function $f(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ff(t,n),s!=null&&r.unshift($f(t,s,i)),s=Ff(t,e),s!=null&&r.push($f(t,s,i))),t=t.return}return r}function Jc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ff(n,s),l!=null&&o.unshift($f(n,l,a))):i||(l=Ff(n,s),l!=null&&o.push($f(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dR=/\r\n?/g,hR=/\u0000|\uFFFD/g;function q_(t){return(typeof t=="string"?t:""+t).replace(dR,`
`).replace(hR,"")}function bm(t,e,n){if(e=q_(e),q_(t)!==e&&n)throw Error(Ue(425))}function Mg(){}var W1=null,Y1=null;function G1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var K1=typeof setTimeout=="function"?setTimeout:void 0,fR=typeof clearTimeout=="function"?clearTimeout:void 0,$_=typeof Promise=="function"?Promise:void 0,pR=typeof queueMicrotask=="function"?queueMicrotask:typeof $_<"u"?function(t){return $_.resolve(null).then(t).catch(mR)}:K1;function mR(t){setTimeout(function(){throw t})}function Py(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Vf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Vf(e)}function Nl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function H_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var hh=Math.random().toString(36).slice(2),wo="__reactFiber$"+hh,Hf="__reactProps$"+hh,Ea="__reactContainer$"+hh,Q1="__reactEvents$"+hh,gR="__reactListeners$"+hh,vR="__reactHandles$"+hh;function zu(t){var e=t[wo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ea]||n[wo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=H_(t);t!==null;){if(n=t[wo])return n;t=H_(t)}return e}t=n,n=t.parentNode}return null}function wp(t){return t=t[wo]||t[Ea],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ue(33))}function Qv(t){return t[Hf]||null}var J1=[],pd=-1;function su(t){return{current:t}}function Tn(t){0>pd||(t.current=J1[pd],J1[pd]=null,pd--)}function _n(t,e){pd++,J1[pd]=t.current,t.current=e}var Wl={},ei=su(Wl),Pi=su(!1),rc=Wl;function Vd(t,e){var n=t.type.contextTypes;if(!n)return Wl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ai(t){return t=t.childContextTypes,t!=null}function Og(){Tn(Pi),Tn(ei)}function W_(t,e,n){if(ei.current!==Wl)throw Error(Ue(168));_n(ei,e),_n(Pi,n)}function UC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ue(108,tD(t)||"Unknown",i));return Mn({},n,r)}function Fg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wl,rc=ei.current,_n(ei,t),_n(Pi,Pi.current),!0}function Y_(t,e,n){var r=t.stateNode;if(!r)throw Error(Ue(169));n?(t=UC(t,e,rc),r.__reactInternalMemoizedMergedChildContext=t,Tn(Pi),Tn(ei),_n(ei,t)):Tn(Pi),_n(Pi,n)}var ia=null,Jv=!1,Ay=!1;function zC(t){ia===null?ia=[t]:ia.push(t)}function yR(t){Jv=!0,zC(t)}function ou(){if(!Ay&&ia!==null){Ay=!0;var t=0,e=hn;try{var n=ia;for(hn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ia=null,Jv=!1}catch(i){throw ia!==null&&(ia=ia.slice(t+1)),fC(Ow,ou),i}finally{hn=e,Ay=!1}}return null}var md=[],gd=0,jg=null,Bg=0,cs=[],ds=0,ic=null,la=1,ua="";function Ru(t,e){md[gd++]=Bg,md[gd++]=jg,jg=t,Bg=e}function qC(t,e,n){cs[ds++]=la,cs[ds++]=ua,cs[ds++]=ic,ic=t;var r=la;t=ua;var i=32-Us(r)-1;r&=~(1<<i),n+=1;var s=32-Us(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,la=1<<32-Us(e)+i|n<<i|r,ua=s+t}else la=1<<s|n<<i|r,ua=t}function Hw(t){t.return!==null&&(Ru(t,1),qC(t,1,0))}function Ww(t){for(;t===jg;)jg=md[--gd],md[gd]=null,Bg=md[--gd],md[gd]=null;for(;t===ic;)ic=cs[--ds],cs[ds]=null,ua=cs[--ds],cs[ds]=null,la=cs[--ds],cs[ds]=null}var Gi=null,Wi=null,Pn=!1,js=null;function $C(t,e){var n=ps(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function G_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gi=t,Wi=Nl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gi=t,Wi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ic!==null?{id:la,overflow:ua}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ps(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gi=t,Wi=null,!0):!1;default:return!1}}function X1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Z1(t){if(Pn){var e=Wi;if(e){var n=e;if(!G_(t,e)){if(X1(t))throw Error(Ue(418));e=Nl(n.nextSibling);var r=Gi;e&&G_(t,e)?$C(r,n):(t.flags=t.flags&-4097|2,Pn=!1,Gi=t)}}else{if(X1(t))throw Error(Ue(418));t.flags=t.flags&-4097|2,Pn=!1,Gi=t}}}function K_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gi=t}function _m(t){if(t!==Gi)return!1;if(!Pn)return K_(t),Pn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!G1(t.type,t.memoizedProps)),e&&(e=Wi)){if(X1(t))throw HC(),Error(Ue(418));for(;e;)$C(t,e),e=Nl(e.nextSibling)}if(K_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wi=Nl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wi=null}}else Wi=Gi?Nl(t.stateNode.nextSibling):null;return!0}function HC(){for(var t=Wi;t;)t=Nl(t.nextSibling)}function Ud(){Wi=Gi=null,Pn=!1}function Yw(t){js===null?js=[t]:js.push(t)}var wR=Ia.ReactCurrentBatchConfig;function Yh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,t))}return t}function Em(t,e){throw t=Object.prototype.toString.call(e),Error(Ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Q_(t){var e=t._init;return e(t._payload)}function WC(t){function e(w,b){if(t){var P=w.deletions;P===null?(w.deletions=[b],w.flags|=16):P.push(b)}}function n(w,b){if(!t)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function r(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=Ol(w,b),w.index=0,w.sibling=null,w}function s(w,b,P){return w.index=P,t?(P=w.alternate,P!==null?(P=P.index,P<b?(w.flags|=2,b):P):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,b,P,O){return b===null||b.tag!==6?(b=Fy(P,w.mode,O),b.return=w,b):(b=i(b,P),b.return=w,b)}function l(w,b,P,O){var j=P.type;return j===ud?c(w,b,P.props.children,O,P.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===yl&&Q_(j)===b.type)?(O=i(b,P.props),O.ref=Yh(w,b,P),O.return=w,O):(O=rg(P.type,P.key,P.props,null,w.mode,O),O.ref=Yh(w,b,P),O.return=w,O)}function u(w,b,P,O){return b===null||b.tag!==4||b.stateNode.containerInfo!==P.containerInfo||b.stateNode.implementation!==P.implementation?(b=jy(P,w.mode,O),b.return=w,b):(b=i(b,P.children||[]),b.return=w,b)}function c(w,b,P,O,j){return b===null||b.tag!==7?(b=Ju(P,w.mode,O,j),b.return=w,b):(b=i(b,P),b.return=w,b)}function h(w,b,P){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Fy(""+b,w.mode,P),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case dm:return P=rg(b.type,b.key,b.props,null,w.mode,P),P.ref=Yh(w,null,b),P.return=w,P;case ld:return b=jy(b,w.mode,P),b.return=w,b;case yl:var O=b._init;return h(w,O(b._payload),P)}if(uf(b)||zh(b))return b=Ju(b,w.mode,P,null),b.return=w,b;Em(w,b)}return null}function m(w,b,P,O){var j=b!==null?b.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return j!==null?null:a(w,b,""+P,O);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case dm:return P.key===j?l(w,b,P,O):null;case ld:return P.key===j?u(w,b,P,O):null;case yl:return j=P._init,m(w,b,j(P._payload),O)}if(uf(P)||zh(P))return j!==null?null:c(w,b,P,O,null);Em(w,P)}return null}function p(w,b,P,O,j){if(typeof O=="string"&&O!==""||typeof O=="number")return w=w.get(P)||null,a(b,w,""+O,j);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case dm:return w=w.get(O.key===null?P:O.key)||null,l(b,w,O,j);case ld:return w=w.get(O.key===null?P:O.key)||null,u(b,w,O,j);case yl:var H=O._init;return p(w,b,P,H(O._payload),j)}if(uf(O)||zh(O))return w=w.get(P)||null,c(b,w,O,j,null);Em(b,O)}return null}function v(w,b,P,O){for(var j=null,H=null,A=b,x=b=0,T=null;A!==null&&x<P.length;x++){A.index>x?(T=A,A=null):T=A.sibling;var M=m(w,A,P[x],O);if(M===null){A===null&&(A=T);break}t&&A&&M.alternate===null&&e(w,A),b=s(M,b,x),H===null?j=M:H.sibling=M,H=M,A=T}if(x===P.length)return n(w,A),Pn&&Ru(w,x),j;if(A===null){for(;x<P.length;x++)A=h(w,P[x],O),A!==null&&(b=s(A,b,x),H===null?j=A:H.sibling=A,H=A);return Pn&&Ru(w,x),j}for(A=r(w,A);x<P.length;x++)T=p(A,w,x,P[x],O),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?x:T.key),b=s(T,b,x),H===null?j=T:H.sibling=T,H=T);return t&&A.forEach(function(C){return e(w,C)}),Pn&&Ru(w,x),j}function _(w,b,P,O){var j=zh(P);if(typeof j!="function")throw Error(Ue(150));if(P=j.call(P),P==null)throw Error(Ue(151));for(var H=j=null,A=b,x=b=0,T=null,M=P.next();A!==null&&!M.done;x++,M=P.next()){A.index>x?(T=A,A=null):T=A.sibling;var C=m(w,A,M.value,O);if(C===null){A===null&&(A=T);break}t&&A&&C.alternate===null&&e(w,A),b=s(C,b,x),H===null?j=C:H.sibling=C,H=C,A=T}if(M.done)return n(w,A),Pn&&Ru(w,x),j;if(A===null){for(;!M.done;x++,M=P.next())M=h(w,M.value,O),M!==null&&(b=s(M,b,x),H===null?j=M:H.sibling=M,H=M);return Pn&&Ru(w,x),j}for(A=r(w,A);!M.done;x++,M=P.next())M=p(A,w,x,M.value,O),M!==null&&(t&&M.alternate!==null&&A.delete(M.key===null?x:M.key),b=s(M,b,x),H===null?j=M:H.sibling=M,H=M);return t&&A.forEach(function(I){return e(w,I)}),Pn&&Ru(w,x),j}function k(w,b,P,O){if(typeof P=="object"&&P!==null&&P.type===ud&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case dm:e:{for(var j=P.key,H=b;H!==null;){if(H.key===j){if(j=P.type,j===ud){if(H.tag===7){n(w,H.sibling),b=i(H,P.props.children),b.return=w,w=b;break e}}else if(H.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===yl&&Q_(j)===H.type){n(w,H.sibling),b=i(H,P.props),b.ref=Yh(w,H,P),b.return=w,w=b;break e}n(w,H);break}else e(w,H);H=H.sibling}P.type===ud?(b=Ju(P.props.children,w.mode,O,P.key),b.return=w,w=b):(O=rg(P.type,P.key,P.props,null,w.mode,O),O.ref=Yh(w,b,P),O.return=w,w=O)}return o(w);case ld:e:{for(H=P.key;b!==null;){if(b.key===H)if(b.tag===4&&b.stateNode.containerInfo===P.containerInfo&&b.stateNode.implementation===P.implementation){n(w,b.sibling),b=i(b,P.children||[]),b.return=w,w=b;break e}else{n(w,b);break}else e(w,b);b=b.sibling}b=jy(P,w.mode,O),b.return=w,w=b}return o(w);case yl:return H=P._init,k(w,b,H(P._payload),O)}if(uf(P))return v(w,b,P,O);if(zh(P))return _(w,b,P,O);Em(w,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,b!==null&&b.tag===6?(n(w,b.sibling),b=i(b,P),b.return=w,w=b):(n(w,b),b=Fy(P,w.mode,O),b.return=w,w=b),o(w)):n(w,b)}return k}var zd=WC(!0),YC=WC(!1),Vg=su(null),Ug=null,vd=null,Gw=null;function Kw(){Gw=vd=Ug=null}function Qw(t){var e=Vg.current;Tn(Vg),t._currentValue=e}function e2(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function kd(t,e){Ug=t,Gw=vd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ti=!0),t.firstContext=null)}function vs(t){var e=t._currentValue;if(Gw!==t)if(t={context:t,memoizedValue:e,next:null},vd===null){if(Ug===null)throw Error(Ue(308));vd=t,Ug.dependencies={lanes:0,firstContext:t}}else vd=vd.next=t;return e}var qu=null;function Jw(t){qu===null?qu=[t]:qu.push(t)}function GC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Jw(e)):(n.next=i.next,i.next=n),e.interleaved=n,xa(t,r)}function xa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wl=!1;function Xw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ha(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Kt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,xa(t,n)}return i=r.interleaved,i===null?(e.next=e,Jw(r)):(e.next=i.next,i.next=e),r.interleaved=e,xa(t,n)}function Jm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fw(t,n)}}function J_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zg(t,e,n,r){var i=t.updateQueue;wl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var m=a.lane,p=a.eventTime;if((r&m)===m){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(m=e,p=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(p,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,m=typeof v=="function"?v.call(p,h,m):v,m==null)break e;h=Mn({},h,m);break e;case 2:wl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);oc|=o,t.lanes=o,t.memoizedState=h}}function X_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ue(191,i));i.call(r)}}}var bp={},Lo=su(bp),Wf=su(bp),Yf=su(bp);function $u(t){if(t===bp)throw Error(Ue(174));return t}function Zw(t,e){switch(_n(Yf,e),_n(Wf,t),_n(Lo,bp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:R1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=R1(e,t)}Tn(Lo),_n(Lo,e)}function qd(){Tn(Lo),Tn(Wf),Tn(Yf)}function QC(t){$u(Yf.current);var e=$u(Lo.current),n=R1(e,t.type);e!==n&&(_n(Wf,t),_n(Lo,n))}function e5(t){Wf.current===t&&(Tn(Lo),Tn(Wf))}var Nn=su(0);function qg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Iy=[];function t5(){for(var t=0;t<Iy.length;t++)Iy[t]._workInProgressVersionPrimary=null;Iy.length=0}var Xm=Ia.ReactCurrentDispatcher,Ny=Ia.ReactCurrentBatchConfig,sc=0,Rn=null,fr=null,Er=null,$g=!1,Sf=!1,Gf=0,bR=0;function zr(){throw Error(Ue(321))}function n5(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Hs(t[n],e[n]))return!1;return!0}function r5(t,e,n,r,i,s){if(sc=s,Rn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xm.current=t===null||t.memoizedState===null?SR:kR,t=n(r,i),Sf){s=0;do{if(Sf=!1,Gf=0,25<=s)throw Error(Ue(301));s+=1,Er=fr=null,e.updateQueue=null,Xm.current=LR,t=n(r,i)}while(Sf)}if(Xm.current=Hg,e=fr!==null&&fr.next!==null,sc=0,Er=fr=Rn=null,$g=!1,e)throw Error(Ue(300));return t}function i5(){var t=Gf!==0;return Gf=0,t}function mo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Er===null?Rn.memoizedState=Er=t:Er=Er.next=t,Er}function ys(){if(fr===null){var t=Rn.alternate;t=t!==null?t.memoizedState:null}else t=fr.next;var e=Er===null?Rn.memoizedState:Er.next;if(e!==null)Er=e,fr=t;else{if(t===null)throw Error(Ue(310));fr=t,t={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},Er===null?Rn.memoizedState=Er=t:Er=Er.next=t}return Er}function Kf(t,e){return typeof e=="function"?e(t):e}function Dy(t){var e=ys(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var r=fr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((sc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Rn.lanes|=c,oc|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Hs(r,e.memoizedState)||(Ti=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Rn.lanes|=s,oc|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ry(t){var e=ys(),n=e.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Hs(s,e.memoizedState)||(Ti=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function JC(){}function XC(t,e){var n=Rn,r=ys(),i=e(),s=!Hs(r.memoizedState,i);if(s&&(r.memoizedState=i,Ti=!0),r=r.queue,s5(tT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Er!==null&&Er.memoizedState.tag&1){if(n.flags|=2048,Qf(9,eT.bind(null,n,r,i,e),void 0,null),Sr===null)throw Error(Ue(349));sc&30||ZC(n,e,i)}return i}function ZC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eT(t,e,n,r){e.value=n,e.getSnapshot=r,nT(e)&&rT(t)}function tT(t,e,n){return n(function(){nT(e)&&rT(t)})}function nT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hs(t,n)}catch{return!0}}function rT(t){var e=xa(t,1);e!==null&&zs(e,t,1,-1)}function Z_(t){var e=mo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kf,lastRenderedState:t},e.queue=t,t=t.dispatch=xR.bind(null,Rn,t),[e.memoizedState,t]}function Qf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Rn.updateQueue,e===null?(e={lastEffect:null,stores:null},Rn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iT(){return ys().memoizedState}function Zm(t,e,n,r){var i=mo();Rn.flags|=t,i.memoizedState=Qf(1|e,n,void 0,r===void 0?null:r)}function Xv(t,e,n,r){var i=ys();r=r===void 0?null:r;var s=void 0;if(fr!==null){var o=fr.memoizedState;if(s=o.destroy,r!==null&&n5(r,o.deps)){i.memoizedState=Qf(e,n,s,r);return}}Rn.flags|=t,i.memoizedState=Qf(1|e,n,s,r)}function eE(t,e){return Zm(8390656,8,t,e)}function s5(t,e){return Xv(2048,8,t,e)}function sT(t,e){return Xv(4,2,t,e)}function oT(t,e){return Xv(4,4,t,e)}function aT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lT(t,e,n){return n=n!=null?n.concat([t]):null,Xv(4,4,aT.bind(null,e,t),n)}function o5(){}function uT(t,e){var n=ys();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n5(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function cT(t,e){var n=ys();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&n5(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dT(t,e,n){return sc&21?(Hs(n,e)||(n=gC(),Rn.lanes|=n,oc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ti=!0),t.memoizedState=n)}function _R(t,e){var n=hn;hn=n!==0&&4>n?n:4,t(!0);var r=Ny.transition;Ny.transition={};try{t(!1),e()}finally{hn=n,Ny.transition=r}}function hT(){return ys().memoizedState}function ER(t,e,n){var r=Ml(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fT(t))pT(e,n);else if(n=GC(t,e,n,r),n!==null){var i=vi();zs(n,t,r,i),mT(n,e,r)}}function xR(t,e,n){var r=Ml(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fT(t))pT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Hs(a,o)){var l=e.interleaved;l===null?(i.next=i,Jw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=GC(t,e,i,r),n!==null&&(i=vi(),zs(n,t,r,i),mT(n,e,r))}}function fT(t){var e=t.alternate;return t===Rn||e!==null&&e===Rn}function pT(t,e){Sf=$g=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fw(t,n)}}var Hg={readContext:vs,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},SR={readContext:vs,useCallback:function(t,e){return mo().memoizedState=[t,e===void 0?null:e],t},useContext:vs,useEffect:eE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zm(4194308,4,aT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zm(4,2,t,e)},useMemo:function(t,e){var n=mo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=ER.bind(null,Rn,t),[r.memoizedState,t]},useRef:function(t){var e=mo();return t={current:t},e.memoizedState=t},useState:Z_,useDebugValue:o5,useDeferredValue:function(t){return mo().memoizedState=t},useTransition:function(){var t=Z_(!1),e=t[0];return t=_R.bind(null,t[1]),mo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Rn,i=mo();if(Pn){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=e(),Sr===null)throw Error(Ue(349));sc&30||ZC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,eE(tT.bind(null,r,s,t),[t]),r.flags|=2048,Qf(9,eT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=mo(),e=Sr.identifierPrefix;if(Pn){var n=ua,r=la;n=(r&~(1<<32-Us(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kR={readContext:vs,useCallback:uT,useContext:vs,useEffect:s5,useImperativeHandle:lT,useInsertionEffect:sT,useLayoutEffect:oT,useMemo:cT,useReducer:Dy,useRef:iT,useState:function(){return Dy(Kf)},useDebugValue:o5,useDeferredValue:function(t){var e=ys();return dT(e,fr.memoizedState,t)},useTransition:function(){var t=Dy(Kf)[0],e=ys().memoizedState;return[t,e]},useMutableSource:JC,useSyncExternalStore:XC,useId:hT,unstable_isNewReconciler:!1},LR={readContext:vs,useCallback:uT,useContext:vs,useEffect:s5,useImperativeHandle:lT,useInsertionEffect:sT,useLayoutEffect:oT,useMemo:cT,useReducer:Ry,useRef:iT,useState:function(){return Ry(Kf)},useDebugValue:o5,useDeferredValue:function(t){var e=ys();return fr===null?e.memoizedState=t:dT(e,fr.memoizedState,t)},useTransition:function(){var t=Ry(Kf)[0],e=ys().memoizedState;return[t,e]},useMutableSource:JC,useSyncExternalStore:XC,useId:hT,unstable_isNewReconciler:!1};function Ms(t,e){if(t&&t.defaultProps){e=Mn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function t2(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Zv={isMounted:function(t){return(t=t._reactInternals)?wc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vi(),i=Ml(t),s=ha(r,i);s.payload=e,n!=null&&(s.callback=n),e=Dl(t,s,i),e!==null&&(zs(e,t,i,r),Jm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vi(),i=Ml(t),s=ha(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Dl(t,s,i),e!==null&&(zs(e,t,i,r),Jm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vi(),r=Ml(t),i=ha(n,r);i.tag=2,e!=null&&(i.callback=e),e=Dl(t,i,r),e!==null&&(zs(e,t,r,n),Jm(e,t,r))}};function tE(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!zf(n,r)||!zf(i,s):!0}function gT(t,e,n){var r=!1,i=Wl,s=e.contextType;return typeof s=="object"&&s!==null?s=vs(s):(i=Ai(e)?rc:ei.current,r=e.contextTypes,s=(r=r!=null)?Vd(t,i):Wl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zv,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function nE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Zv.enqueueReplaceState(e,e.state,null)}function n2(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Xw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=vs(s):(s=Ai(e)?rc:ei.current,i.context=Vd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(t2(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zv.enqueueReplaceState(i,i.state,null),zg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $d(t,e){try{var n="",r=e;do n+=eD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function My(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function r2(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CR=typeof WeakMap=="function"?WeakMap:Map;function vT(t,e,n){n=ha(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yg||(Yg=!0,f2=r),r2(t,e)},n}function yT(t,e,n){n=ha(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){r2(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){r2(t,e),typeof r!="function"&&(Rl===null?Rl=new Set([this]):Rl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function rE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UR.bind(null,t,e,n),e.then(t,t))}function iE(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sE(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ha(-1,1),e.tag=2,Dl(n,e,1))),n.lanes|=1),t)}var TR=Ia.ReactCurrentOwner,Ti=!1;function hi(t,e,n,r){e.child=t===null?YC(e,null,n,r):zd(e,t.child,n,r)}function oE(t,e,n,r,i){n=n.render;var s=e.ref;return kd(e,i),r=r5(t,e,n,r,s,i),n=i5(),t!==null&&!Ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sa(t,e,i)):(Pn&&n&&Hw(e),e.flags|=1,hi(t,e,r,i),e.child)}function aE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!p5(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,wT(t,e,s,r,i)):(t=rg(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:zf,n(o,r)&&t.ref===e.ref)return Sa(t,e,i)}return e.flags|=1,t=Ol(s,r),t.ref=e.ref,t.return=e,e.child=t}function wT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(zf(s,r)&&t.ref===e.ref)if(Ti=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ti=!0);else return e.lanes=t.lanes,Sa(t,e,i)}return i2(t,e,n,r,i)}function bT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(wd,qi),qi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_n(wd,qi),qi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,_n(wd,qi),qi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,_n(wd,qi),qi|=r;return hi(t,e,i,n),e.child}function _T(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function i2(t,e,n,r,i){var s=Ai(n)?rc:ei.current;return s=Vd(e,s),kd(e,i),n=r5(t,e,n,r,s,i),r=i5(),t!==null&&!Ti?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sa(t,e,i)):(Pn&&r&&Hw(e),e.flags|=1,hi(t,e,n,i),e.child)}function lE(t,e,n,r,i){if(Ai(n)){var s=!0;Fg(e)}else s=!1;if(kd(e,i),e.stateNode===null)eg(t,e),gT(e,n,r),n2(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=vs(u):(u=Ai(n)?rc:ei.current,u=Vd(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&nE(e,o,r,u),wl=!1;var m=e.memoizedState;o.state=m,zg(e,r,o,i),l=e.memoizedState,a!==r||m!==l||Pi.current||wl?(typeof c=="function"&&(t2(e,n,c,r),l=e.memoizedState),(a=wl||tE(e,n,a,r,m,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,KC(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ms(e.type,a),o.props=u,h=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=vs(l):(l=Ai(n)?rc:ei.current,l=Vd(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||m!==l)&&nE(e,o,r,l),wl=!1,m=e.memoizedState,o.state=m,zg(e,r,o,i);var v=e.memoizedState;a!==h||m!==v||Pi.current||wl?(typeof p=="function"&&(t2(e,n,p,r),v=e.memoizedState),(u=wl||tE(e,n,u,r,m,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return s2(t,e,n,r,s,i)}function s2(t,e,n,r,i,s){_T(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Y_(e,n,!1),Sa(t,e,s);r=e.stateNode,TR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zd(e,t.child,null,s),e.child=zd(e,null,a,s)):hi(t,e,a,s),e.memoizedState=r.state,i&&Y_(e,n,!0),e.child}function ET(t){var e=t.stateNode;e.pendingContext?W_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&W_(t,e.context,!1),Zw(t,e.containerInfo)}function uE(t,e,n,r,i){return Ud(),Yw(i),e.flags|=256,hi(t,e,n,r),e.child}var o2={dehydrated:null,treeContext:null,retryLane:0};function a2(t){return{baseLanes:t,cachePool:null,transitions:null}}function xT(t,e,n){var r=e.pendingProps,i=Nn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_n(Nn,i&1),t===null)return Z1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=n0(o,r,0,null),t=Ju(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=a2(n),e.memoizedState=o2,t):a5(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return PR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ol(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ol(a,s):(s=Ju(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?a2(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=o2,r}return s=t.child,t=s.sibling,r=Ol(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function a5(t,e){return e=n0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xm(t,e,n,r){return r!==null&&Yw(r),zd(e,t.child,null,n),t=a5(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=My(Error(Ue(422))),xm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=n0({mode:"visible",children:r.children},i,0,null),s=Ju(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&zd(e,t.child,null,o),e.child.memoizedState=a2(o),e.memoizedState=o2,s);if(!(e.mode&1))return xm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ue(419)),r=My(s,r,void 0),xm(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ti||a){if(r=Sr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xa(t,i),zs(r,t,i,-1))}return f5(),r=My(Error(Ue(421))),xm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Wi=Nl(i.nextSibling),Gi=e,Pn=!0,js=null,t!==null&&(cs[ds++]=la,cs[ds++]=ua,cs[ds++]=ic,la=t.id,ua=t.overflow,ic=e),e=a5(e,r.children),e.flags|=4096,e)}function cE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),e2(t.return,e,n)}function Oy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ST(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(hi(t,e,r.children,n),r=Nn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cE(t,n,e);else if(t.tag===19)cE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_n(Nn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&qg(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Oy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&qg(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Oy(e,!0,n,null,s);break;case"together":Oy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eg(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ue(153));if(e.child!==null){for(t=e.child,n=Ol(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ol(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AR(t,e,n){switch(e.tag){case 3:ET(e),Ud();break;case 5:QC(e);break;case 1:Ai(e.type)&&Fg(e);break;case 4:Zw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_n(Vg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_n(Nn,Nn.current&1),e.flags|=128,null):n&e.child.childLanes?xT(t,e,n):(_n(Nn,Nn.current&1),t=Sa(t,e,n),t!==null?t.sibling:null);_n(Nn,Nn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ST(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_n(Nn,Nn.current),r)break;return null;case 22:case 23:return e.lanes=0,bT(t,e,n)}return Sa(t,e,n)}var kT,l2,LT,CT;kT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};l2=function(){};LT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$u(Lo.current);var s=null;switch(n){case"input":i=A1(t,i),r=A1(t,r),s=[];break;case"select":i=Mn({},i,{value:void 0}),r=Mn({},r,{value:void 0}),s=[];break;case"textarea":i=D1(t,i),r=D1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Mg)}M1(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mf.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mf.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ln("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};CT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Gh(t,e){if(!Pn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function IR(t,e,n){var r=e.pendingProps;switch(Ww(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qr(e),null;case 1:return Ai(e.type)&&Og(),qr(e),null;case 3:return r=e.stateNode,qd(),Tn(Pi),Tn(ei),t5(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(_m(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,js!==null&&(g2(js),js=null))),l2(t,e),qr(e),null;case 5:e5(e);var i=$u(Yf.current);if(n=e.type,t!==null&&e.stateNode!=null)LT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ue(166));return qr(e),null}if(t=$u(Lo.current),_m(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[wo]=e,r[Hf]=s,t=(e.mode&1)!==0,n){case"dialog":Ln("cancel",r),Ln("close",r);break;case"iframe":case"object":case"embed":Ln("load",r);break;case"video":case"audio":for(i=0;i<df.length;i++)Ln(df[i],r);break;case"source":Ln("error",r);break;case"img":case"image":case"link":Ln("error",r),Ln("load",r);break;case"details":Ln("toggle",r);break;case"input":w_(r,s),Ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ln("invalid",r);break;case"textarea":__(r,s),Ln("invalid",r)}M1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&bm(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&bm(r.textContent,a,t),i=["children",""+a]):Mf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ln("scroll",r)}switch(n){case"input":hm(r),b_(r,s,!0);break;case"textarea":hm(r),E_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Mg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[wo]=e,t[Hf]=r,kT(t,e,!1,!1),e.stateNode=t;e:{switch(o=O1(n,r),n){case"dialog":Ln("cancel",t),Ln("close",t),i=r;break;case"iframe":case"object":case"embed":Ln("load",t),i=r;break;case"video":case"audio":for(i=0;i<df.length;i++)Ln(df[i],t);i=r;break;case"source":Ln("error",t),i=r;break;case"img":case"image":case"link":Ln("error",t),Ln("load",t),i=r;break;case"details":Ln("toggle",t),i=r;break;case"input":w_(t,r),i=A1(t,r),Ln("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Mn({},r,{value:void 0}),Ln("invalid",t);break;case"textarea":__(t,r),i=D1(t,r),Ln("invalid",t);break;default:i=r}M1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?iC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nC(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Of(t,l):typeof l=="number"&&Of(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Mf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ln("scroll",t):l!=null&&Iw(t,s,l,o))}switch(n){case"input":hm(t),b_(t,r,!1);break;case"textarea":hm(t),E_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?_d(t,!!r.multiple,s,!1):r.defaultValue!=null&&_d(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Mg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qr(e),null;case 6:if(t&&e.stateNode!=null)CT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ue(166));if(n=$u(Yf.current),$u(Lo.current),_m(e)){if(r=e.stateNode,n=e.memoizedProps,r[wo]=e,(s=r.nodeValue!==n)&&(t=Gi,t!==null))switch(t.tag){case 3:bm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bm(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wo]=e,e.stateNode=r}return qr(e),null;case 13:if(Tn(Nn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pn&&Wi!==null&&e.mode&1&&!(e.flags&128))HC(),Ud(),e.flags|=98560,s=!1;else if(s=_m(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ue(317));s[wo]=e}else Ud(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qr(e),s=!1}else js!==null&&(g2(js),js=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Nn.current&1?mr===0&&(mr=3):f5())),e.updateQueue!==null&&(e.flags|=4),qr(e),null);case 4:return qd(),l2(t,e),t===null&&qf(e.stateNode.containerInfo),qr(e),null;case 10:return Qw(e.type._context),qr(e),null;case 17:return Ai(e.type)&&Og(),qr(e),null;case 19:if(Tn(Nn),s=e.memoizedState,s===null)return qr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Gh(s,!1);else{if(mr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qg(t),o!==null){for(e.flags|=128,Gh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _n(Nn,Nn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Kn()>Hd&&(e.flags|=128,r=!0,Gh(s,!1),e.lanes=4194304)}else{if(!r)if(t=qg(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Gh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pn)return qr(e),null}else 2*Kn()-s.renderingStartTime>Hd&&n!==1073741824&&(e.flags|=128,r=!0,Gh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Kn(),e.sibling=null,n=Nn.current,_n(Nn,r?n&1|2:n&1),e):(qr(e),null);case 22:case 23:return h5(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?qi&1073741824&&(qr(e),e.subtreeFlags&6&&(e.flags|=8192)):qr(e),null;case 24:return null;case 25:return null}throw Error(Ue(156,e.tag))}function NR(t,e){switch(Ww(e),e.tag){case 1:return Ai(e.type)&&Og(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qd(),Tn(Pi),Tn(ei),t5(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return e5(e),null;case 13:if(Tn(Nn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ue(340));Ud()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tn(Nn),null;case 4:return qd(),null;case 10:return Qw(e.type._context),null;case 22:case 23:return h5(),null;case 24:return null;default:return null}}var Sm=!1,Qr=!1,DR=typeof WeakSet=="function"?WeakSet:Set,et=null;function yd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Un(t,e,r)}else n.current=null}function u2(t,e,n){try{n()}catch(r){Un(t,e,r)}}var dE=!1;function RR(t,e){if(W1=Ng,t=NC(),$w(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,m=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===t)break t;if(m===n&&++u===i&&(a=o),m===s&&++c===r&&(l=o),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Y1={focusedElem:t,selectionRange:n},Ng=!1,et=e;et!==null;)if(e=et,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,et=t;else for(;et!==null;){e=et;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,k=v.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:Ms(e.type,_),k);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(O){Un(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,et=t;break}et=e.return}return v=dE,dE=!1,v}function kf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&u2(e,n,s)}i=i.next}while(i!==r)}}function e0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function c2(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TT(t){var e=t.alternate;e!==null&&(t.alternate=null,TT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[wo],delete e[Hf],delete e[Q1],delete e[gR],delete e[vR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PT(t){return t.tag===5||t.tag===3||t.tag===4}function hE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function d2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mg));else if(r!==4&&(t=t.child,t!==null))for(d2(t,e,n),t=t.sibling;t!==null;)d2(t,e,n),t=t.sibling}function h2(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(h2(t,e,n),t=t.sibling;t!==null;)h2(t,e,n),t=t.sibling}var Nr=null,Fs=!1;function hl(t,e,n){for(n=n.child;n!==null;)AT(t,e,n),n=n.sibling}function AT(t,e,n){if(ko&&typeof ko.onCommitFiberUnmount=="function")try{ko.onCommitFiberUnmount(Wv,n)}catch{}switch(n.tag){case 5:Qr||yd(n,e);case 6:var r=Nr,i=Fs;Nr=null,hl(t,e,n),Nr=r,Fs=i,Nr!==null&&(Fs?(t=Nr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nr.removeChild(n.stateNode));break;case 18:Nr!==null&&(Fs?(t=Nr,n=n.stateNode,t.nodeType===8?Py(t.parentNode,n):t.nodeType===1&&Py(t,n),Vf(t)):Py(Nr,n.stateNode));break;case 4:r=Nr,i=Fs,Nr=n.stateNode.containerInfo,Fs=!0,hl(t,e,n),Nr=r,Fs=i;break;case 0:case 11:case 14:case 15:if(!Qr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&u2(n,e,o),i=i.next}while(i!==r)}hl(t,e,n);break;case 1:if(!Qr&&(yd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Un(n,e,a)}hl(t,e,n);break;case 21:hl(t,e,n);break;case 22:n.mode&1?(Qr=(r=Qr)||n.memoizedState!==null,hl(t,e,n),Qr=r):hl(t,e,n);break;default:hl(t,e,n)}}function fE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new DR),e.forEach(function(r){var i=qR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ns(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Nr=a.stateNode,Fs=!1;break e;case 3:Nr=a.stateNode.containerInfo,Fs=!0;break e;case 4:Nr=a.stateNode.containerInfo,Fs=!0;break e}a=a.return}if(Nr===null)throw Error(Ue(160));AT(s,o,i),Nr=null,Fs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Un(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IT(e,t),e=e.sibling}function IT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ns(e,t),ho(t),r&4){try{kf(3,t,t.return),e0(3,t)}catch(_){Un(t,t.return,_)}try{kf(5,t,t.return)}catch(_){Un(t,t.return,_)}}break;case 1:Ns(e,t),ho(t),r&512&&n!==null&&yd(n,n.return);break;case 5:if(Ns(e,t),ho(t),r&512&&n!==null&&yd(n,n.return),t.flags&32){var i=t.stateNode;try{Of(i,"")}catch(_){Un(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ZL(i,s),O1(a,o);var u=O1(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?iC(i,h):c==="dangerouslySetInnerHTML"?nC(i,h):c==="children"?Of(i,h):Iw(i,c,h,u)}switch(a){case"input":I1(i,s);break;case"textarea":eC(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?_d(i,!!s.multiple,p,!1):m!==!!s.multiple&&(s.defaultValue!=null?_d(i,!!s.multiple,s.defaultValue,!0):_d(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hf]=s}catch(_){Un(t,t.return,_)}}break;case 6:if(Ns(e,t),ho(t),r&4){if(t.stateNode===null)throw Error(Ue(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Un(t,t.return,_)}}break;case 3:if(Ns(e,t),ho(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vf(e.containerInfo)}catch(_){Un(t,t.return,_)}break;case 4:Ns(e,t),ho(t);break;case 13:Ns(e,t),ho(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(c5=Kn())),r&4&&fE(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Qr=(u=Qr)||c,Ns(e,t),Qr=u):Ns(e,t),ho(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(et=t,c=t.child;c!==null;){for(h=et=c;et!==null;){switch(m=et,p=m.child,m.tag){case 0:case 11:case 14:case 15:kf(4,m,m.return);break;case 1:yd(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Un(r,n,_)}}break;case 5:yd(m,m.return);break;case 22:if(m.memoizedState!==null){mE(h);continue}}p!==null?(p.return=m,et=p):mE(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rC("display",o))}catch(_){Un(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Un(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ns(e,t),ho(t),r&4&&fE(t);break;case 21:break;default:Ns(e,t),ho(t)}}function ho(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(PT(n)){var r=n;break e}n=n.return}throw Error(Ue(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Of(i,""),r.flags&=-33);var s=hE(t);h2(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hE(t);d2(t,a,o);break;default:throw Error(Ue(161))}}catch(l){Un(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MR(t,e,n){et=t,NT(t)}function NT(t,e,n){for(var r=(t.mode&1)!==0;et!==null;){var i=et,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Sm;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qr;a=Sm;var u=Qr;if(Sm=o,(Qr=l)&&!u)for(et=i;et!==null;)o=et,l=o.child,o.tag===22&&o.memoizedState!==null?gE(i):l!==null?(l.return=o,et=l):gE(i);for(;s!==null;)et=s,NT(s),s=s.sibling;et=i,Sm=a,Qr=u}pE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,et=s):pE(t)}}function pE(t){for(;et!==null;){var e=et;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qr||e0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ms(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&X_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}X_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Vf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}Qr||e.flags&512&&c2(e)}catch(m){Un(e,e.return,m)}}if(e===t){et=null;break}if(n=e.sibling,n!==null){n.return=e.return,et=n;break}et=e.return}}function mE(t){for(;et!==null;){var e=et;if(e===t){et=null;break}var n=e.sibling;if(n!==null){n.return=e.return,et=n;break}et=e.return}}function gE(t){for(;et!==null;){var e=et;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{e0(4,e)}catch(l){Un(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Un(e,i,l)}}var s=e.return;try{c2(e)}catch(l){Un(e,s,l)}break;case 5:var o=e.return;try{c2(e)}catch(l){Un(e,o,l)}}}catch(l){Un(e,e.return,l)}if(e===t){et=null;break}var a=e.sibling;if(a!==null){a.return=e.return,et=a;break}et=e.return}}var OR=Math.ceil,Wg=Ia.ReactCurrentDispatcher,l5=Ia.ReactCurrentOwner,ms=Ia.ReactCurrentBatchConfig,Kt=0,Sr=null,ur=null,Mr=0,qi=0,wd=su(0),mr=0,Jf=null,oc=0,t0=0,u5=0,Lf=null,Ci=null,c5=0,Hd=1/0,ra=null,Yg=!1,f2=null,Rl=null,km=!1,Sl=null,Gg=0,Cf=0,p2=null,tg=-1,ng=0;function vi(){return Kt&6?Kn():tg!==-1?tg:tg=Kn()}function Ml(t){return t.mode&1?Kt&2&&Mr!==0?Mr&-Mr:wR.transition!==null?(ng===0&&(ng=gC()),ng):(t=hn,t!==0||(t=window.event,t=t===void 0?16:xC(t.type)),t):1}function zs(t,e,n,r){if(50<Cf)throw Cf=0,p2=null,Error(Ue(185));vp(t,n,r),(!(Kt&2)||t!==Sr)&&(t===Sr&&(!(Kt&2)&&(t0|=n),mr===4&&El(t,Mr)),Ii(t,r),n===1&&Kt===0&&!(e.mode&1)&&(Hd=Kn()+500,Jv&&ou()))}function Ii(t,e){var n=t.callbackNode;wD(t,e);var r=Ig(t,t===Sr?Mr:0);if(r===0)n!==null&&k_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&k_(n),e===1)t.tag===0?yR(vE.bind(null,t)):zC(vE.bind(null,t)),pR(function(){!(Kt&6)&&ou()}),n=null;else{switch(vC(r)){case 1:n=Ow;break;case 4:n=pC;break;case 16:n=Ag;break;case 536870912:n=mC;break;default:n=Ag}n=VT(n,DT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DT(t,e){if(tg=-1,ng=0,Kt&6)throw Error(Ue(327));var n=t.callbackNode;if(Ld()&&t.callbackNode!==n)return null;var r=Ig(t,t===Sr?Mr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kg(t,r);else{e=r;var i=Kt;Kt|=2;var s=MT();(Sr!==t||Mr!==e)&&(ra=null,Hd=Kn()+500,Qu(t,e));do try{BR();break}catch(a){RT(t,a)}while(!0);Kw(),Wg.current=s,Kt=i,ur!==null?e=0:(Sr=null,Mr=0,e=mr)}if(e!==0){if(e===2&&(i=U1(t),i!==0&&(r=i,e=m2(t,i))),e===1)throw n=Jf,Qu(t,0),El(t,r),Ii(t,Kn()),n;if(e===6)El(t,r);else{if(i=t.current.alternate,!(r&30)&&!FR(i)&&(e=Kg(t,r),e===2&&(s=U1(t),s!==0&&(r=s,e=m2(t,s))),e===1))throw n=Jf,Qu(t,0),El(t,r),Ii(t,Kn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ue(345));case 2:Mu(t,Ci,ra);break;case 3:if(El(t,r),(r&130023424)===r&&(e=c5+500-Kn(),10<e)){if(Ig(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=K1(Mu.bind(null,t,Ci,ra),e);break}Mu(t,Ci,ra);break;case 4:if(El(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Us(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Kn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*OR(r/1960))-r,10<r){t.timeoutHandle=K1(Mu.bind(null,t,Ci,ra),r);break}Mu(t,Ci,ra);break;case 5:Mu(t,Ci,ra);break;default:throw Error(Ue(329))}}}return Ii(t,Kn()),t.callbackNode===n?DT.bind(null,t):null}function m2(t,e){var n=Lf;return t.current.memoizedState.isDehydrated&&(Qu(t,e).flags|=256),t=Kg(t,e),t!==2&&(e=Ci,Ci=n,e!==null&&g2(e)),t}function g2(t){Ci===null?Ci=t:Ci.push.apply(Ci,t)}function FR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Hs(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function El(t,e){for(e&=~u5,e&=~t0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Us(e),r=1<<n;t[n]=-1,e&=~r}}function vE(t){if(Kt&6)throw Error(Ue(327));Ld();var e=Ig(t,0);if(!(e&1))return Ii(t,Kn()),null;var n=Kg(t,e);if(t.tag!==0&&n===2){var r=U1(t);r!==0&&(e=r,n=m2(t,r))}if(n===1)throw n=Jf,Qu(t,0),El(t,e),Ii(t,Kn()),n;if(n===6)throw Error(Ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Mu(t,Ci,ra),Ii(t,Kn()),null}function d5(t,e){var n=Kt;Kt|=1;try{return t(e)}finally{Kt=n,Kt===0&&(Hd=Kn()+500,Jv&&ou())}}function ac(t){Sl!==null&&Sl.tag===0&&!(Kt&6)&&Ld();var e=Kt;Kt|=1;var n=ms.transition,r=hn;try{if(ms.transition=null,hn=1,t)return t()}finally{hn=r,ms.transition=n,Kt=e,!(Kt&6)&&ou()}}function h5(){qi=wd.current,Tn(wd)}function Qu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fR(n)),ur!==null)for(n=ur.return;n!==null;){var r=n;switch(Ww(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Og();break;case 3:qd(),Tn(Pi),Tn(ei),t5();break;case 5:e5(r);break;case 4:qd();break;case 13:Tn(Nn);break;case 19:Tn(Nn);break;case 10:Qw(r.type._context);break;case 22:case 23:h5()}n=n.return}if(Sr=t,ur=t=Ol(t.current,null),Mr=qi=e,mr=0,Jf=null,u5=t0=oc=0,Ci=Lf=null,qu!==null){for(e=0;e<qu.length;e++)if(n=qu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}qu=null}return t}function RT(t,e){do{var n=ur;try{if(Kw(),Xm.current=Hg,$g){for(var r=Rn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$g=!1}if(sc=0,Er=fr=Rn=null,Sf=!1,Gf=0,l5.current=null,n===null||n.return===null){mr=1,Jf=e,ur=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Mr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=iE(o);if(p!==null){p.flags&=-257,sE(p,o,a,s,e),p.mode&1&&rE(s,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){rE(s,u,e),f5();break e}l=Error(Ue(426))}}else if(Pn&&a.mode&1){var k=iE(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),sE(k,o,a,s,e),Yw($d(l,a));break e}}s=l=$d(l,a),mr!==4&&(mr=2),Lf===null?Lf=[s]:Lf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=vT(s,l,e);J_(s,w);break e;case 1:a=l;var b=s.type,P=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Rl===null||!Rl.has(P)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=yT(s,a,e);J_(s,O);break e}}s=s.return}while(s!==null)}FT(n)}catch(j){e=j,ur===n&&n!==null&&(ur=n=n.return);continue}break}while(!0)}function MT(){var t=Wg.current;return Wg.current=Hg,t===null?Hg:t}function f5(){(mr===0||mr===3||mr===2)&&(mr=4),Sr===null||!(oc&268435455)&&!(t0&268435455)||El(Sr,Mr)}function Kg(t,e){var n=Kt;Kt|=2;var r=MT();(Sr!==t||Mr!==e)&&(ra=null,Qu(t,e));do try{jR();break}catch(i){RT(t,i)}while(!0);if(Kw(),Kt=n,Wg.current=r,ur!==null)throw Error(Ue(261));return Sr=null,Mr=0,mr}function jR(){for(;ur!==null;)OT(ur)}function BR(){for(;ur!==null&&!cD();)OT(ur)}function OT(t){var e=BT(t.alternate,t,qi);t.memoizedProps=t.pendingProps,e===null?FT(t):ur=e,l5.current=null}function FT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=NR(n,e),n!==null){n.flags&=32767,ur=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mr=6,ur=null;return}}else if(n=IR(n,e,qi),n!==null){ur=n;return}if(e=e.sibling,e!==null){ur=e;return}ur=e=t}while(e!==null);mr===0&&(mr=5)}function Mu(t,e,n){var r=hn,i=ms.transition;try{ms.transition=null,hn=1,VR(t,e,n,r)}finally{ms.transition=i,hn=r}return null}function VR(t,e,n,r){do Ld();while(Sl!==null);if(Kt&6)throw Error(Ue(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ue(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(bD(t,s),t===Sr&&(ur=Sr=null,Mr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||km||(km=!0,VT(Ag,function(){return Ld(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ms.transition,ms.transition=null;var o=hn;hn=1;var a=Kt;Kt|=4,l5.current=null,RR(t,n),IT(n,t),oR(Y1),Ng=!!W1,Y1=W1=null,t.current=n,MR(n),dD(),Kt=a,hn=o,ms.transition=s}else t.current=n;if(km&&(km=!1,Sl=t,Gg=i),s=t.pendingLanes,s===0&&(Rl=null),pD(n.stateNode),Ii(t,Kn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yg)throw Yg=!1,t=f2,f2=null,t;return Gg&1&&t.tag!==0&&Ld(),s=t.pendingLanes,s&1?t===p2?Cf++:(Cf=0,p2=t):Cf=0,ou(),null}function Ld(){if(Sl!==null){var t=vC(Gg),e=ms.transition,n=hn;try{if(ms.transition=null,hn=16>t?16:t,Sl===null)var r=!1;else{if(t=Sl,Sl=null,Gg=0,Kt&6)throw Error(Ue(331));var i=Kt;for(Kt|=4,et=t.current;et!==null;){var s=et,o=s.child;if(et.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(et=u;et!==null;){var c=et;switch(c.tag){case 0:case 11:case 15:kf(8,c,s)}var h=c.child;if(h!==null)h.return=c,et=h;else for(;et!==null;){c=et;var m=c.sibling,p=c.return;if(TT(c),c===u){et=null;break}if(m!==null){m.return=p,et=m;break}et=p}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var k=_.sibling;_.sibling=null,_=k}while(_!==null)}}et=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,et=o;else e:for(;et!==null;){if(s=et,s.flags&2048)switch(s.tag){case 0:case 11:case 15:kf(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,et=w;break e}et=s.return}}var b=t.current;for(et=b;et!==null;){o=et;var P=o.child;if(o.subtreeFlags&2064&&P!==null)P.return=o,et=P;else e:for(o=b;et!==null;){if(a=et,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:e0(9,a)}}catch(j){Un(a,a.return,j)}if(a===o){et=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,et=O;break e}et=a.return}}if(Kt=i,ou(),ko&&typeof ko.onPostCommitFiberRoot=="function")try{ko.onPostCommitFiberRoot(Wv,t)}catch{}r=!0}return r}finally{hn=n,ms.transition=e}}return!1}function yE(t,e,n){e=$d(n,e),e=vT(t,e,1),t=Dl(t,e,1),e=vi(),t!==null&&(vp(t,1,e),Ii(t,e))}function Un(t,e,n){if(t.tag===3)yE(t,t,n);else for(;e!==null;){if(e.tag===3){yE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Rl===null||!Rl.has(r))){t=$d(n,t),t=yT(e,t,1),e=Dl(e,t,1),t=vi(),e!==null&&(vp(e,1,t),Ii(e,t));break}}e=e.return}}function UR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vi(),t.pingedLanes|=t.suspendedLanes&n,Sr===t&&(Mr&n)===n&&(mr===4||mr===3&&(Mr&130023424)===Mr&&500>Kn()-c5?Qu(t,0):u5|=n),Ii(t,e)}function jT(t,e){e===0&&(t.mode&1?(e=mm,mm<<=1,!(mm&130023424)&&(mm=4194304)):e=1);var n=vi();t=xa(t,e),t!==null&&(vp(t,e,n),Ii(t,n))}function zR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),jT(t,n)}function qR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(e),jT(t,n)}var BT;BT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pi.current)Ti=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ti=!1,AR(t,e,n);Ti=!!(t.flags&131072)}else Ti=!1,Pn&&e.flags&1048576&&qC(e,Bg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;eg(t,e),t=e.pendingProps;var i=Vd(e,ei.current);kd(e,n),i=r5(null,e,r,t,i,n);var s=i5();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ai(r)?(s=!0,Fg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Xw(e),i.updater=Zv,e.stateNode=i,i._reactInternals=e,n2(e,r,t,n),e=s2(null,e,r,!0,s,n)):(e.tag=0,Pn&&s&&Hw(e),hi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(eg(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HR(r),t=Ms(r,t),i){case 0:e=i2(null,e,r,t,n);break e;case 1:e=lE(null,e,r,t,n);break e;case 11:e=oE(null,e,r,t,n);break e;case 14:e=aE(null,e,r,Ms(r.type,t),n);break e}throw Error(Ue(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ms(r,i),i2(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ms(r,i),lE(t,e,r,i,n);case 3:e:{if(ET(e),t===null)throw Error(Ue(387));r=e.pendingProps,s=e.memoizedState,i=s.element,KC(t,e),zg(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=$d(Error(Ue(423)),e),e=uE(t,e,r,n,i);break e}else if(r!==i){i=$d(Error(Ue(424)),e),e=uE(t,e,r,n,i);break e}else for(Wi=Nl(e.stateNode.containerInfo.firstChild),Gi=e,Pn=!0,js=null,n=YC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ud(),r===i){e=Sa(t,e,n);break e}hi(t,e,r,n)}e=e.child}return e;case 5:return QC(e),t===null&&Z1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,G1(r,i)?o=null:s!==null&&G1(r,s)&&(e.flags|=32),_T(t,e),hi(t,e,o,n),e.child;case 6:return t===null&&Z1(e),null;case 13:return xT(t,e,n);case 4:return Zw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zd(e,null,r,n):hi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ms(r,i),oE(t,e,r,i,n);case 7:return hi(t,e,e.pendingProps,n),e.child;case 8:return hi(t,e,e.pendingProps.children,n),e.child;case 12:return hi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,_n(Vg,r._currentValue),r._currentValue=o,s!==null)if(Hs(s.value,o)){if(s.children===i.children&&!Pi.current){e=Sa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ha(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),e2(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ue(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),e2(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}hi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,kd(e,n),i=vs(i),r=r(i),e.flags|=1,hi(t,e,r,n),e.child;case 14:return r=e.type,i=Ms(r,e.pendingProps),i=Ms(r.type,i),aE(t,e,r,i,n);case 15:return wT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ms(r,i),eg(t,e),e.tag=1,Ai(r)?(t=!0,Fg(e)):t=!1,kd(e,n),gT(e,r,i),n2(e,r,i,n),s2(null,e,r,!0,t,n);case 19:return ST(t,e,n);case 22:return bT(t,e,n)}throw Error(Ue(156,e.tag))};function VT(t,e){return fC(t,e)}function $R(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ps(t,e,n,r){return new $R(t,e,n,r)}function p5(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HR(t){if(typeof t=="function")return p5(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Dw)return 11;if(t===Rw)return 14}return 2}function Ol(t,e){var n=t.alternate;return n===null?(n=ps(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function rg(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")p5(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ud:return Ju(n.children,i,s,e);case Nw:o=8,i|=8;break;case L1:return t=ps(12,n,e,i|2),t.elementType=L1,t.lanes=s,t;case C1:return t=ps(13,n,e,i),t.elementType=C1,t.lanes=s,t;case T1:return t=ps(19,n,e,i),t.elementType=T1,t.lanes=s,t;case QL:return n0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GL:o=10;break e;case KL:o=9;break e;case Dw:o=11;break e;case Rw:o=14;break e;case yl:o=16,r=null;break e}throw Error(Ue(130,t==null?t:typeof t,""))}return e=ps(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ju(t,e,n,r){return t=ps(7,t,r,e),t.lanes=n,t}function n0(t,e,n,r){return t=ps(22,t,r,e),t.elementType=QL,t.lanes=n,t.stateNode={isHidden:!1},t}function Fy(t,e,n){return t=ps(6,t,null,e),t.lanes=n,t}function jy(t,e,n){return e=ps(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yy(0),this.expirationTimes=yy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function m5(t,e,n,r,i,s,o,a,l){return t=new WR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ps(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xw(s),t}function YR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ld,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function UT(t){if(!t)return Wl;t=t._reactInternals;e:{if(wc(t)!==t||t.tag!==1)throw Error(Ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ai(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ue(171))}if(t.tag===1){var n=t.type;if(Ai(n))return UC(t,n,e)}return e}function zT(t,e,n,r,i,s,o,a,l){return t=m5(n,r,!0,t,i,s,o,a,l),t.context=UT(null),n=t.current,r=vi(),i=Ml(n),s=ha(r,i),s.callback=e??null,Dl(n,s,i),t.current.lanes=i,vp(t,i,r),Ii(t,r),t}function r0(t,e,n,r){var i=e.current,s=vi(),o=Ml(i);return n=UT(n),e.context===null?e.context=n:e.pendingContext=n,e=ha(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Dl(i,e,o),t!==null&&(zs(t,i,o,s),Jm(t,i,o)),o}function Qg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function g5(t,e){wE(t,e),(t=t.alternate)&&wE(t,e)}function GR(){return null}var qT=typeof reportError=="function"?reportError:function(t){console.error(t)};function v5(t){this._internalRoot=t}i0.prototype.render=v5.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ue(409));r0(t,e,null,null)};i0.prototype.unmount=v5.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ac(function(){r0(null,t,null,null)}),e[Ea]=null}};function i0(t){this._internalRoot=t}i0.prototype.unstable_scheduleHydration=function(t){if(t){var e=bC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_l.length&&e!==0&&e<_l[n].priority;n++);_l.splice(n,0,t),n===0&&EC(t)}};function y5(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function s0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bE(){}function KR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Qg(o);s.call(u)}}var o=zT(e,r,t,0,null,!1,!1,"",bE);return t._reactRootContainer=o,t[Ea]=o.current,qf(t.nodeType===8?t.parentNode:t),ac(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Qg(l);a.call(u)}}var l=m5(t,0,!1,null,null,!1,!1,"",bE);return t._reactRootContainer=l,t[Ea]=l.current,qf(t.nodeType===8?t.parentNode:t),ac(function(){r0(e,l,n,r)}),l}function o0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Qg(o);a.call(l)}}r0(e,o,t,i)}else o=KR(n,e,t,i,r);return Qg(o)}yC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cf(e.pendingLanes);n!==0&&(Fw(e,n|1),Ii(e,Kn()),!(Kt&6)&&(Hd=Kn()+500,ou()))}break;case 13:ac(function(){var r=xa(t,1);if(r!==null){var i=vi();zs(r,t,1,i)}}),g5(t,1)}};jw=function(t){if(t.tag===13){var e=xa(t,134217728);if(e!==null){var n=vi();zs(e,t,134217728,n)}g5(t,134217728)}};wC=function(t){if(t.tag===13){var e=Ml(t),n=xa(t,e);if(n!==null){var r=vi();zs(n,t,e,r)}g5(t,e)}};bC=function(){return hn};_C=function(t,e){var n=hn;try{return hn=t,e()}finally{hn=n}};j1=function(t,e,n){switch(e){case"input":if(I1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qv(r);if(!i)throw Error(Ue(90));XL(r),I1(r,i)}}}break;case"textarea":eC(t,n);break;case"select":e=n.value,e!=null&&_d(t,!!n.multiple,e,!1)}};aC=d5;lC=ac;var QR={usingClientEntryPoint:!1,Events:[wp,fd,Qv,sC,oC,d5]},Kh={findFiberByHostInstance:zu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JR={bundleType:Kh.bundleType,version:Kh.version,rendererPackageName:Kh.rendererPackageName,rendererConfig:Kh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ia.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dC(t),t===null?null:t.stateNode},findFiberByHostInstance:Kh.findFiberByHostInstance||GR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lm.isDisabled&&Lm.supportsFiber)try{Wv=Lm.inject(JR),ko=Lm}catch{}}Ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QR;Ji.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y5(e))throw Error(Ue(200));return YR(t,e,null,n)};Ji.createRoot=function(t,e){if(!y5(t))throw Error(Ue(299));var n=!1,r="",i=qT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=m5(t,1,!1,null,null,n,!1,r,i),t[Ea]=e.current,qf(t.nodeType===8?t.parentNode:t),new v5(e)};Ji.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ue(188)):(t=Object.keys(t).join(","),Error(Ue(268,t)));return t=dC(e),t=t===null?null:t.stateNode,t};Ji.flushSync=function(t){return ac(t)};Ji.hydrate=function(t,e,n){if(!s0(e))throw Error(Ue(200));return o0(null,t,e,!0,n)};Ji.hydrateRoot=function(t,e,n){if(!y5(t))throw Error(Ue(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=qT;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zT(e,null,t,1,n??null,i,!1,s,o),t[Ea]=e.current,qf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new i0(e)};Ji.render=function(t,e,n){if(!s0(e))throw Error(Ue(200));return o0(null,t,e,!1,n)};Ji.unmountComponentAtNode=function(t){if(!s0(t))throw Error(Ue(40));return t._reactRootContainer?(ac(function(){o0(null,null,t,!1,function(){t._reactRootContainer=null,t[Ea]=null})}),!0):!1};Ji.unstable_batchedUpdates=d5;Ji.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!s0(n))throw Error(Ue(200));if(t==null||t._reactInternals===void 0)throw Error(Ue(38));return o0(t,e,n,!1,r)};Ji.version="18.3.1-next-f1338f8080-20240426";function $T(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($T)}catch(t){console.error(t)}}$T(),$L.exports=Ji;var Na=$L.exports;const XR=$v(Na);var _E=Na;S1.createRoot=_E.createRoot,S1.hydrateRoot=_E.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xf(){return Xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xf.apply(this,arguments)}var kl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(kl||(kl={}));const EE="popstate";function ZR(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return v2("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Jg(i)}return tM(e,n,null,t)}function tr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function HT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eM(){return Math.random().toString(36).substr(2,8)}function xE(t,e){return{usr:t.state,key:t.key,idx:e}}function v2(t,e,n,r){return n===void 0&&(n=null),Xf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fh(e):e,{state:n,key:e&&e.key||r||eM()})}function Jg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=kl.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Xf({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=kl.Pop;let k=c(),w=k==null?null:k-u;u=k,l&&l({action:a,location:_.location,delta:w})}function m(k,w){a=kl.Push;let b=v2(_.location,k,w);u=c()+1;let P=xE(b,u),O=_.createHref(b);try{o.pushState(P,"",O)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(O)}s&&l&&l({action:a,location:_.location,delta:1})}function p(k,w){a=kl.Replace;let b=v2(_.location,k,w);u=c();let P=xE(b,u),O=_.createHref(b);o.replaceState(P,"",O),s&&l&&l({action:a,location:_.location,delta:0})}function v(k){let w=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof k=="string"?k:Jg(k);return b=b.replace(/ $/,"%20"),tr(w,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,w)}let _={get action(){return a},get location(){return t(i,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(EE,h),l=k,()=>{i.removeEventListener(EE,h),l=null}},createHref(k){return e(i,k)},createURL:v,encodeLocation(k){let w=v(k);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:p,go(k){return o.go(k)}};return _}var SE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(SE||(SE={}));function nM(t,e,n){return n===void 0&&(n="/"),rM(t,e,n)}function rM(t,e,n,r){let i=typeof e=="string"?fh(e):e,s=w5(i.pathname||"/",n);if(s==null)return null;let o=WT(t);iM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=gM(s);a=fM(o[l],u)}return a}function WT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(tr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Fl([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(tr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),WT(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:dM(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of YT(s.path))i(s,o,l)}),e}function YT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=YT(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function iM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sM=/^:[\w-]+$/,oM=3,aM=2,lM=1,uM=10,cM=-2,kE=t=>t==="*";function dM(t,e){let n=t.split("/"),r=n.length;return n.some(kE)&&(r+=cM),e&&(r+=aM),n.filter(i=>!kE(i)).reduce((i,s)=>i+(sM.test(s)?oM:s===""?lM:uM),r)}function hM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fM(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=pM({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),m=l.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Fl([s,h.pathname]),pathnameBase:bM(Fl([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=Fl([s,h.pathnameBase]))}return o}function pM(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:m,isOptional:p}=c;if(m==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[h];return p&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function mM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),HT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return HT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function w5(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?fh(t):t;return{pathname:n?n.startsWith("/")?n:yM(n,e):e,search:_M(r),hash:EM(i)}}function yM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function By(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function b5(t,e){let n=wM(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function _5(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=fh(t):(i=Xf({},t),tr(!i.pathname||!i.pathname.includes("?"),By("?","pathname","search",i)),tr(!i.pathname||!i.pathname.includes("#"),By("#","pathname","hash",i)),tr(!i.search||!i.search.includes("#"),By("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}a=h>=0?e[h]:"/"}let l=vM(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Fl=t=>t.join("/").replace(/\/\/+/g,"/"),bM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_M=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const GT=["post","put","patch","delete"];new Set(GT);const SM=["get",...GT];new Set(SM);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zf.apply(this,arguments)}const E5=S.createContext(null),kM=S.createContext(null),au=S.createContext(null),a0=S.createContext(null),lu=S.createContext({outlet:null,matches:[],isDataRoute:!1}),KT=S.createContext(null);function LM(t,e){let{relative:n}=e===void 0?{}:e;ph()||tr(!1);let{basename:r,navigator:i}=S.useContext(au),{hash:s,pathname:o,search:a}=JT(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Fl([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ph(){return S.useContext(a0)!=null}function uu(){return ph()||tr(!1),S.useContext(a0).location}function QT(t){S.useContext(au).static||S.useLayoutEffect(t)}function Da(){let{isDataRoute:t}=S.useContext(lu);return t?BM():CM()}function CM(){ph()||tr(!1);let t=S.useContext(E5),{basename:e,future:n,navigator:r}=S.useContext(au),{matches:i}=S.useContext(lu),{pathname:s}=uu(),o=JSON.stringify(b5(i,n.v7_relativeSplatPath)),a=S.useRef(!1);return QT(()=>{a.current=!0}),S.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let h=_5(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Fl([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,o,s,t])}function JT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=S.useContext(au),{matches:i}=S.useContext(lu),{pathname:s}=uu(),o=JSON.stringify(b5(i,r.v7_relativeSplatPath));return S.useMemo(()=>_5(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function TM(t,e){return PM(t,e)}function PM(t,e,n,r){ph()||tr(!1);let{navigator:i,static:s}=S.useContext(au),{matches:o}=S.useContext(lu),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=uu(),h;if(e){var m;let w=typeof e=="string"?fh(e):e;u==="/"||(m=w.pathname)!=null&&m.startsWith(u)||tr(!1),h=w}else h=c;let p=h.pathname||"/",v=p;if(u!=="/"){let w=u.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let _=nM(t,{pathname:v}),k=RM(_&&_.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Fl([u,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?u:Fl([u,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&k?S.createElement(a0.Provider,{value:{location:Zf({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:kl.Pop}},k):k}function AM(){let t=jM(),e=xM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:i},n):null,null)}const IM=S.createElement(AM,null);class NM extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?S.createElement(lu.Provider,{value:this.props.routeContext},S.createElement(KT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function DM(t){let{routeContext:e,match:n,children:r}=t,i=S.useContext(E5);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(lu.Provider,{value:e},r)}function RM(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||tr(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:m,errors:p}=n,v=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,m)=>{let p,v=!1,_=null,k=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||IM,l&&(u<0&&m===0?(VM("route-fallback"),v=!0,k=null):u===m&&(v=!0,k=h.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,m+1)),b=()=>{let P;return p?P=_:v?P=k:h.route.Component?P=S.createElement(h.route.Component,null):h.route.element?P=h.route.element:P=c,S.createElement(DM,{match:h,routeContext:{outlet:c,matches:w,isDataRoute:n!=null},children:P})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?S.createElement(NM,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:b(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):b()},null)}var XT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(XT||{}),ZT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ZT||{});function MM(t){let e=S.useContext(E5);return e||tr(!1),e}function OM(t){let e=S.useContext(kM);return e||tr(!1),e}function FM(t){let e=S.useContext(lu);return e||tr(!1),e}function eP(t){let e=FM(),n=e.matches[e.matches.length-1];return n.route.id||tr(!1),n.route.id}function jM(){var t;let e=S.useContext(KT),n=OM(),r=eP();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function BM(){let{router:t}=MM(XT.UseNavigateStable),e=eP(ZT.UseNavigateStable),n=S.useRef(!1);return QT(()=>{n.current=!0}),S.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zf({fromRouteId:e},s)))},[t,e])}const LE={};function VM(t,e,n){LE[t]||(LE[t]=!0)}function UM(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ou(t){let{to:e,replace:n,state:r,relative:i}=t;ph()||tr(!1);let{future:s,static:o}=S.useContext(au),{matches:a}=S.useContext(lu),{pathname:l}=uu(),u=Da(),c=_5(e,b5(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(c);return S.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:i}),[u,h,i,n,r]),null}function di(t){tr(!1)}function zM(t){let{basename:e="/",children:n=null,location:r,navigationType:i=kl.Pop,navigator:s,static:o=!1,future:a}=t;ph()&&tr(!1);let l=e.replace(/^\/*/,"/"),u=S.useMemo(()=>({basename:l,navigator:s,static:o,future:Zf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=fh(r));let{pathname:c="/",search:h="",hash:m="",state:p=null,key:v="default"}=r,_=S.useMemo(()=>{let k=w5(c,l);return k==null?null:{location:{pathname:k,search:h,hash:m,state:p,key:v},navigationType:i}},[l,c,h,m,p,v,i]);return _==null?null:S.createElement(au.Provider,{value:u},S.createElement(a0.Provider,{children:n,value:_}))}function qM(t){let{children:e,location:n}=t;return TM(y2(e),n)}new Promise(()=>{});function y2(t,e){e===void 0&&(e=[]);let n=[];return S.Children.forEach(t,(r,i)=>{if(!S.isValidElement(r))return;let s=[...e,i];if(r.type===S.Fragment){n.push.apply(n,y2(r.props.children,s));return}r.type!==di&&tr(!1),!r.props.index||!r.props.children||tr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=y2(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function w2(){return w2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w2.apply(this,arguments)}function $M(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function HM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WM(t,e){return t.button===0&&(!e||e==="_self")&&!HM(t)}const YM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],GM="6";try{window.__reactRouterVersion=GM}catch{}const KM="startTransition",CE=Tw[KM];function QM(t){let{basename:e,children:n,future:r,window:i}=t,s=S.useRef();s.current==null&&(s.current=ZR({window:i,v5Compat:!0}));let o=s.current,[a,l]=S.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=S.useCallback(h=>{u&&CE?CE(()=>l(h)):l(h)},[l,u]);return S.useLayoutEffect(()=>o.listen(c),[o,c]),S.useEffect(()=>UM(r),[r]),S.createElement(zM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const JM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fu=S.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,m=$M(e,YM),{basename:p}=S.useContext(au),v,_=!1;if(typeof u=="string"&&XM.test(u)&&(v=u,JM))try{let P=new URL(window.location.href),O=u.startsWith("//")?new URL(P.protocol+u):new URL(u),j=w5(O.pathname,p);O.origin===P.origin&&j!=null?u=j+O.search+O.hash:_=!0}catch{}let k=LM(u,{relative:i}),w=ZM(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:h});function b(P){r&&r(P),P.defaultPrevented||w(P)}return S.createElement("a",w2({},m,{href:v||k,onClick:_||s?r:b,ref:n,target:l}))});var TE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(TE||(TE={}));var PE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(PE||(PE={}));function ZM(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Da(),u=uu(),c=JT(t,{relative:o});return S.useCallback(h=>{if(WM(h,n)){h.preventDefault();let m=r!==void 0?r:Jg(u)===Jg(c);l(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}const eO=()=>{};var AE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},nP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(m=64)),r.push(n[c],n[h],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new nO;const m=s<<2|a>>4;if(r.push(m),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const v=u<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rO=function(t){const e=tP(t);return nP.encodeByteArray(e,!0)},Xg=function(t){return rO(t).replace(/\./g,"")},rP=function(t){try{return nP.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=()=>iO().__FIREBASE_DEFAULTS__,oO=()=>{if(typeof process>"u"||typeof AE>"u")return;const t=AE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rP(t[1]);return e&&JSON.parse(e)},l0=()=>{try{return eO()||sO()||oO()||aO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iP=t=>{var e,n;return(n=(e=l0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lO=t=>{const e=iP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sP=()=>{var t;return(t=l0())===null||t===void 0?void 0:t.config},oP=t=>{var e;return(e=l0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xg(JSON.stringify(n)),Xg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function hO(){var t;const e=(t=l0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gO(){const t=ti();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vO(){return!hO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yO(){try{return typeof indexedDB=="object"}catch{return!1}}function wO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="FirebaseError";class Ra extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=bO,Object.setPrototypeOf(this,Ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_p.prototype.create)}}class _p{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?_O(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ra(i,a,r)}}function _O(t,e){return t.replace(EO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const EO=/\{\$([^}]+)}/g;function xO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function lc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(IE(s)&&IE(o)){if(!lc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function IE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function hf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ff(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function SO(t,e){const n=new kO(t,e);return n.subscribe.bind(n)}class kO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");LO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vy),i.error===void 0&&(i.error=Vy),i.complete===void 0&&(i.complete=Vy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t){return t.endsWith(".cloudworkstations.dev")}async function aP(t){return(await fetch(t,{credentials:"include"})).ok}class uc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CO=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PO(e))try{this.getOrInitializeService({instanceIdentifier:ju})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ju){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ju){return this.instances.has(e)}getOptions(e=ju){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ju){return this.component?this.component.multipleInstances?e:ju:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function TO(t){return t===ju?void 0:t}function PO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new CO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ut||(Ut={}));const IO={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},NO=Ut.INFO,DO={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},RO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=DO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x5{constructor(e){this.name=e,this._logLevel=NO,this._logHandler=RO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const MO=(t,e)=>e.some(n=>t instanceof n);let NE,DE;function OO(){return NE||(NE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FO(){return DE||(DE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lP=new WeakMap,b2=new WeakMap,uP=new WeakMap,Uy=new WeakMap,S5=new WeakMap;function jO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(jl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&lP.set(n,t)}).catch(()=>{}),S5.set(e,t),e}function BO(t){if(b2.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});b2.set(t,e)}let _2={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return b2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VO(t){_2=t(_2)}function UO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zy(this),e,...n);return uP.set(r,e.sort?e.sort():[e]),jl(r)}:FO().includes(t)?function(...e){return t.apply(zy(this),e),jl(lP.get(this))}:function(...e){return jl(t.apply(zy(this),e))}}function zO(t){return typeof t=="function"?UO(t):(t instanceof IDBTransaction&&BO(t),MO(t,OO())?new Proxy(t,_2):t)}function jl(t){if(t instanceof IDBRequest)return jO(t);if(Uy.has(t))return Uy.get(t);const e=zO(t);return e!==t&&(Uy.set(t,e),S5.set(e,t)),e}const zy=t=>S5.get(t);function qO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=jl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(jl(o.result),l.oldVersion,l.newVersion,jl(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const $O=["get","getKey","getAll","getAllKeys","count"],HO=["put","add","delete","clear"],qy=new Map;function RE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(qy.get(e))return qy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=HO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$O.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return qy.set(e,s),s}VO(t=>({...t,get:(e,n,r)=>RE(e,n)||t.get(e,n,r),has:(e,n)=>!!RE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const E2="@firebase/app",ME="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new x5("@firebase/app"),GO="@firebase/app-compat",KO="@firebase/analytics-compat",QO="@firebase/analytics",JO="@firebase/app-check-compat",XO="@firebase/app-check",ZO="@firebase/auth",e6="@firebase/auth-compat",t6="@firebase/database",n6="@firebase/data-connect",r6="@firebase/database-compat",i6="@firebase/functions",s6="@firebase/functions-compat",o6="@firebase/installations",a6="@firebase/installations-compat",l6="@firebase/messaging",u6="@firebase/messaging-compat",c6="@firebase/performance",d6="@firebase/performance-compat",h6="@firebase/remote-config",f6="@firebase/remote-config-compat",p6="@firebase/storage",m6="@firebase/storage-compat",g6="@firebase/firestore",v6="@firebase/vertexai",y6="@firebase/firestore-compat",w6="firebase",b6="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="[DEFAULT]",_6={[E2]:"fire-core",[GO]:"fire-core-compat",[QO]:"fire-analytics",[KO]:"fire-analytics-compat",[XO]:"fire-app-check",[JO]:"fire-app-check-compat",[ZO]:"fire-auth",[e6]:"fire-auth-compat",[t6]:"fire-rtdb",[n6]:"fire-data-connect",[r6]:"fire-rtdb-compat",[i6]:"fire-fn",[s6]:"fire-fn-compat",[o6]:"fire-iid",[a6]:"fire-iid-compat",[l6]:"fire-fcm",[u6]:"fire-fcm-compat",[c6]:"fire-perf",[d6]:"fire-perf-compat",[h6]:"fire-rc",[f6]:"fire-rc-compat",[p6]:"fire-gcs",[m6]:"fire-gcs-compat",[g6]:"fire-fst",[y6]:"fire-fst-compat",[v6]:"fire-vertex","fire-js":"fire-js",[w6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg=new Map,E6=new Map,S2=new Map;function OE(t,e){try{t.container.addComponent(e)}catch(n){ka.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wd(t){const e=t.name;if(S2.has(e))return ka.debug(`There were multiple attempts to register component ${e}.`),!1;S2.set(e,t);for(const n of Zg.values())OE(n,t);for(const n of E6.values())OE(n,t);return!0}function k5(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bl=new _p("app","Firebase",x6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=b6;function cP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:x2,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Bl.create("bad-app-name",{appName:String(i)});if(n||(n=sP()),!n)throw Bl.create("no-options");const s=Zg.get(i);if(s){if(lc(n,s.options)&&lc(r,s.config))return s;throw Bl.create("duplicate-app",{appName:i})}const o=new AO(i);for(const l of S2.values())o.addComponent(l);const a=new S6(n,r,o);return Zg.set(i,a),a}function dP(t=x2){const e=Zg.get(t);if(!e&&t===x2&&sP())return cP();if(!e)throw Bl.create("no-app",{appName:t});return e}function Vl(t,e,n){var r;let i=(r=_6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ka.warn(a.join(" "));return}Wd(new uc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6="firebase-heartbeat-database",L6=1,ep="firebase-heartbeat-store";let $y=null;function hP(){return $y||($y=qO(k6,L6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ep)}catch(n){console.warn(n)}}}}).catch(t=>{throw Bl.create("idb-open",{originalErrorMessage:t.message})})),$y}async function C6(t){try{const n=(await hP()).transaction(ep),r=await n.objectStore(ep).get(fP(t));return await n.done,r}catch(e){if(e instanceof Ra)ka.warn(e.message);else{const n=Bl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ka.warn(n.message)}}}async function FE(t,e){try{const r=(await hP()).transaction(ep,"readwrite");await r.objectStore(ep).put(e,fP(t)),await r.done}catch(n){if(n instanceof Ra)ka.warn(n.message);else{const r=Bl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ka.warn(r.message)}}}function fP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=1024,P6=30;class A6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new N6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=jE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>P6){const o=D6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ka.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jE(),{heartbeatsToSend:r,unsentEntries:i}=I6(this._heartbeatsCache.heartbeats),s=Xg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ka.warn(n),""}}}function jE(){return new Date().toISOString().substring(0,10)}function I6(t,e=T6){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),BE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),BE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class N6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yO()?wO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await C6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return FE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function BE(t){return Xg(JSON.stringify({version:2,heartbeats:t})).length}function D6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){Wd(new uc("platform-logger",e=>new WO(e),"PRIVATE")),Wd(new uc("heartbeat",e=>new A6(e),"PRIVATE")),Vl(E2,ME,t),Vl(E2,ME,"esm2017"),Vl("fire-js","")}R6("");function L5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mP=pP,gP=new _p("auth","Firebase",pP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=new x5("@firebase/auth");function M6(t,...e){ev.logLevel<=Ut.WARN&&ev.warn(`Auth (${mh}): ${t}`,...e)}function ig(t,...e){ev.logLevel<=Ut.ERROR&&ev.error(`Auth (${mh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t,...e){throw T5(t,...e)}function qs(t,...e){return T5(t,...e)}function C5(t,e,n){const r=Object.assign(Object.assign({},mP()),{[e]:n});return new _p("auth","Firebase",r).create(e,{appName:t.name})}function fa(t){return C5(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O6(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ws(t,"argument-error"),C5(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function T5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gP.create(t,...e)}function yt(t,e,...n){if(!t)throw T5(e,...n)}function ca(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ig(e),new Error(e)}function La(t,e){t||ca(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function F6(){return VE()==="http:"||VE()==="https:"}function VE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(F6()||pO()||"connection"in navigator)?navigator.onLine:!0}function B6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n){this.shortDelay=e,this.longDelay=n,La(n>e,"Short delay should be less than long delay!"),this.isMobile=dO()||mO()}get(){return j6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(t,e){La(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],z6=new xp(3e4,6e4);function cu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ma(t,e,n,r,i={}){return yP(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Ep(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return fO()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&u0(t.emulatorConfig.host)&&(u.credentials="include"),vP.fetch()(await wP(t,t.config.apiHost,n,a),u)})}async function yP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},V6),e);try{const i=new $6(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cm(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cm(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cm(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cm(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw C5(t,c,u);ws(t,c)}}catch(i){if(i instanceof Ra)throw i;ws(t,"network-request-failed",{message:String(i)})}}async function Sp(t,e,n,r,i={}){const s=await Ma(t,e,n,r,i);return"mfaPendingCredential"in s&&ws(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function wP(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?P5(t.config,i):`${t.config.apiScheme}://${i}`;return U6.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function q6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qs(this.auth,"network-request-failed")),z6.get())})}}function Cm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qs(t,e,r);return i.customData._tokenResponse=n,i}function UE(t){return t!==void 0&&t.enterprise!==void 0}class H6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return q6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function W6(t,e){return Ma(t,"GET","/v2/recaptchaConfig",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(t,e){return Ma(t,"POST","/v1/accounts:delete",e)}async function tv(t,e){return Ma(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bP(t,e=!1){const n=Ri(t),r=await n.getIdToken(e),i=A5(r);yt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Tf(Hy(i.auth_time)),issuedAtTime:Tf(Hy(i.iat)),expirationTime:Tf(Hy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Hy(t){return Number(t)*1e3}function A5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ig("JWT malformed, contained fewer than 3 sections"),null;try{const i=rP(n);return i?JSON.parse(i):(ig("Failed to decode base64 JWT payload"),null)}catch(i){return ig("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function zE(t){const e=A5(t);return yt(e,"internal-error"),yt(typeof e.exp<"u","internal-error"),yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ra&&G6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function G6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tf(this.lastLoginAt),this.creationTime=Tf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nv(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Yd(t,tv(n,{idToken:r}));yt(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?EP(s.providerUserInfo):[],a=Q6(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new L2(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function _P(t){const e=Ri(t);await nv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function EP(t){return t.map(e=>{var{providerId:n}=e,r=L5(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6(t,e){const n=await yP(t,{},async()=>{const r=Ep({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await wP(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",vP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function X6(t,e){return Ma(t,"POST","/v2/accounts:revokeToken",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yt(e.idToken,"internal-error"),yt(typeof e.idToken<"u","internal-error"),yt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){yt(e.length!==0,"internal-error");const n=zE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await J6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Cd;return r&&(yt(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(yt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(yt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cd,this.toJSON())}_performRefresh(){return ca("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t,e){yt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=L5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new K6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new L2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Yd(this,this.stsTokenManager.getToken(this.auth,e));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bP(this,e)}reload(){return _P(this)}_assign(e){this!==e&&(yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hi(this.auth.app))return Promise.reject(fa(this.auth));const e=await this.getIdToken();return await Yd(this,Y6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:P,emailVerified:O,isAnonymous:j,providerData:H,stsTokenManager:A}=n;yt(P&&A,e,"internal-error");const x=Cd.fromJSON(this.name,A);yt(typeof P=="string",e,"internal-error"),fl(h,e.name),fl(m,e.name),yt(typeof O=="boolean",e,"internal-error"),yt(typeof j=="boolean",e,"internal-error"),fl(p,e.name),fl(v,e.name),fl(_,e.name),fl(k,e.name),fl(w,e.name),fl(b,e.name);const T=new Bs({uid:P,auth:e,email:m,emailVerified:O,displayName:h,isAnonymous:j,photoURL:v,phoneNumber:p,tenantId:_,stsTokenManager:x,createdAt:w,lastLoginAt:b});return H&&Array.isArray(H)&&(T.providerData=H.map(M=>Object.assign({},M))),k&&(T._redirectEventId=k),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Cd;i.updateFromServerResponse(n);const s=new Bs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nv(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];yt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?EP(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Cd;a.updateFromIdToken(r);const l=new Bs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new L2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE=new Map;function da(t){La(t instanceof Function,"Expected a class definition");let e=qE.get(t);return e?(La(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}xP.type="NONE";const C2=xP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t,e,n){return`firebase:${t}:${e}:${n}`}class Td{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=sg(this.userKey,i.apiKey,s),this.fullPersistenceKey=sg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tv(this.auth,{idToken:e}).catch(()=>{});return n?Bs._fromGetAccountInfoResponse(this.auth,n,e):null}return Bs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Td(da(C2),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||da(C2);const o=sg(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){let h;if(typeof c=="string"){const m=await tv(e,{idToken:c}).catch(()=>{});if(!m)break;h=await Bs._fromGetAccountInfoResponse(e,m,c)}else h=Bs._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Td(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Td(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PP(e))return"Blackberry";if(AP(e))return"Webos";if(kP(e))return"Safari";if((e.includes("chrome/")||LP(e))&&!e.includes("edge/"))return"Chrome";if(TP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SP(t=ti()){return/firefox\//i.test(t)}function kP(t=ti()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LP(t=ti()){return/crios\//i.test(t)}function CP(t=ti()){return/iemobile/i.test(t)}function TP(t=ti()){return/android/i.test(t)}function PP(t=ti()){return/blackberry/i.test(t)}function AP(t=ti()){return/webos/i.test(t)}function I5(t=ti()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Z6(t=ti()){var e;return I5(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function e8(){return gO()&&document.documentMode===10}function IP(t=ti()){return I5(t)||TP(t)||AP(t)||PP(t)||/windows phone/i.test(t)||CP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t,e=[]){let n;switch(t){case"Browser":n=$E(ti());break;case"Worker":n=`${$E(ti())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(t,e={}){return Ma(t,"GET","/v2/passwordPolicy",cu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8=6;class i8{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:r8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HE(this),this.idTokenSubscription=new HE(this),this.beforeStateQueue=new t8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=da(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Td.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tv(this,{idToken:e}),r=await Bs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nv(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hi(this.app))return Promise.reject(fa(this));const n=e?Ri(e):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hi(this.app)?Promise.reject(fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hi(this.app)?Promise.reject(fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(da(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await n8(this),n=new i8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _p("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await X6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&da(e)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await Td.create(this,[da(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&M6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function du(t){return Ri(t)}class HE{constructor(e){this.auth=e,this.observer=null,this.addObserver=SO(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function o8(t){c0=t}function DP(t){return c0.loadJS(t)}function a8(){return c0.recaptchaEnterpriseScript}function l8(){return c0.gapiScript}function u8(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class c8{constructor(){this.enterprise=new d8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class d8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const h8="recaptcha-enterprise",RP="NO_RECAPTCHA";class f8{constructor(e){this.type=h8,this.auth=du(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{W6(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new H6(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;UE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(RP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new c8().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&UE(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=a8();l.length!==0&&(l+=a),DP(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function WE(t,e,n,r=!1,i=!1){const s=new f8(t);let o;if(i)o=RP;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function T2(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await WE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await WE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t,e){const n=k5(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(lc(s,e??{}))return i;ws(i,"already-initialized")}return n.initialize({options:e})}function p8(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(da);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function OP(t,e,n){const r=du(t);yt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=FP(e),{host:o,port:a}=m8(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){yt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),yt(lc(u,r.config.emulator)&&lc(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,g8(),u0(o)&&aP(`${s}//${o}${l}`)}function FP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function m8(t){const e=FP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:YE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:YE(o)}}}function YE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function g8(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ca("not implemented")}_getIdTokenResponse(e){return ca("not implemented")}_linkToIdToken(e,n){return ca("not implemented")}_getReauthenticationResolver(e){return ca("not implemented")}}async function v8(t,e){return Ma(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y8(t,e){return Sp(t,"POST","/v1/accounts:signInWithPassword",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w8(t,e){return Sp(t,"POST","/v1/accounts:signInWithEmailLink",cu(t,e))}async function b8(t,e){return Sp(t,"POST","/v1/accounts:signInWithEmailLink",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd extends d0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Gd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T2(e,n,"signInWithPassword",y8);case"emailLink":return w8(e,{email:this._email,oobCode:this._password});default:ws(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return T2(e,r,"signUpPassword",v8);case"emailLink":return b8(e,{idToken:n,email:this._email,oobCode:this._password});default:ws(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pd(t,e){return Sp(t,"POST","/v1/accounts:signInWithIdp",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8="http://localhost";class Yl extends d0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ws("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=L5(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Yl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Pd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pd(e,n)}buildRequest(){const e={requestUri:_8,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ep(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function x8(t){const e=hf(ff(t)).link,n=e?hf(ff(e)).deep_link_id:null,r=hf(ff(t)).deep_link_id;return(r?hf(ff(r)).link:null)||r||n||e||t}class h0{constructor(e){var n,r,i,s,o,a;const l=hf(ff(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=E8((i=l.mode)!==null&&i!==void 0?i:null);yt(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=x8(e);try{return new h0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.providerId=bc.PROVIDER_ID}static credential(e,n){return Gd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=h0.parseLink(n);return yt(r,"argument-error"),Gd._fromEmailAndCode(e,r.code,r.tenantId)}}bc.PROVIDER_ID="password";bc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends N5{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends kp{constructor(){super("facebook.com")}static credential(e){return Yl._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sa.credential(e.oauthAccessToken)}catch{return null}}}sa.FACEBOOK_SIGN_IN_METHOD="facebook.com";sa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends kp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yl._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bo.credential(n,r)}catch{return null}}}bo.GOOGLE_SIGN_IN_METHOD="google.com";bo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends kp{constructor(){super("github.com")}static credential(e){return Yl._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.GITHUB_SIGN_IN_METHOD="github.com";oa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends kp{constructor(){super("twitter.com")}static credential(e,n){return Yl._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return aa.credential(n,r)}catch{return null}}}aa.TWITTER_SIGN_IN_METHOD="twitter.com";aa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S8(t,e){return Sp(t,"POST","/v1/accounts:signUp",cu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Bs._fromIdTokenResponse(e,r,i),o=GE(r);return new cc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=GE(r);return new cc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function GE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv extends Ra{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rv.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rv(e,n,r,i)}}function jP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rv._fromErrorAndOperation(t,s,e,r):s})}async function k8(t,e,n=!1){const r=await Yd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return cc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L8(t,e,n=!1){const{auth:r}=t;if(Hi(r.app))return Promise.reject(fa(r));const i="reauthenticate";try{const s=await Yd(t,jP(r,i,e,t),n);yt(s.idToken,r,"internal-error");const o=A5(s.idToken);yt(o,r,"internal-error");const{sub:a}=o;return yt(t.uid===a,r,"user-mismatch"),cc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ws(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t,e,n=!1){if(Hi(t.app))return Promise.reject(fa(t));const r="signIn",i=await jP(t,r,e),s=await cc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function VP(t,e){return BP(du(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(t){const e=du(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zP(t,e,n){if(Hi(t.app))return Promise.reject(fa(t));const r=du(t),o=await T2(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",S8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&UP(t),l}),a=await cc._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function C8(t,e,n){return Hi(t.app)?Promise.reject(fa(t)):VP(Ri(t),bc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&UP(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T8(t,e){return Ma(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qP(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ri(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Yd(r,T8(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function $P(t,e,n,r){return Ri(t).onIdTokenChanged(e,n,r)}function HP(t,e,n){return Ri(t).beforeAuthStateChanged(e,n)}function WP(t,e,n,r){return Ri(t).onAuthStateChanged(e,n,r)}function D5(t){return Ri(t).signOut()}const iv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(iv,"1"),this.storage.removeItem(iv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=1e3,A8=10;class GP extends YP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);e8()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,A8):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}GP.type="LOCAL";const KP=GP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP extends YP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}QP.type="SESSION";const R5=QP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new f0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await I8(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}f0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=M5("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(){return window}function D8(t){Co().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(){return typeof Co().WorkerGlobalScope<"u"&&typeof Co().importScripts=="function"}async function R8(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M8(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function O8(){return JP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="firebaseLocalStorageDb",F8=1,sv="firebaseLocalStorage",ZP="fbase_key";class Lp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function p0(t,e){return t.transaction([sv],e?"readwrite":"readonly").objectStore(sv)}function j8(){const t=indexedDB.deleteDatabase(XP);return new Lp(t).toPromise()}function P2(){const t=indexedDB.open(XP,F8);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sv,{keyPath:ZP})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sv)?e(r):(r.close(),await j8(),e(await P2()))})})}async function KE(t,e,n){const r=p0(t,!0).put({[ZP]:e,value:n});return new Lp(r).toPromise()}async function B8(t,e){const n=p0(t,!1).get(e),r=await new Lp(n).toPromise();return r===void 0?null:r.value}function QE(t,e){const n=p0(t,!0).delete(e);return new Lp(n).toPromise()}const V8=800,U8=3;class e4{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await P2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>U8)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=f0._getInstance(O8()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await R8(),!this.activeServiceWorker)return;this.sender=new N8(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M8()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await P2();return await KE(e,iv,"1"),await QE(e,iv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>KE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B8(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=p0(i,!1).getAll();return new Lp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),V8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}e4.type="LOCAL";const t4=e4;new xp(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n4(t,e){return e?da(e):(yt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5 extends d0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function z8(t){return BP(t.auth,new O5(t),t.bypassAuthState)}function q8(t){const{auth:e,user:n}=t;return yt(n,e,"internal-error"),L8(n,new O5(t),t.bypassAuthState)}async function $8(t){const{auth:e,user:n}=t;return yt(n,e,"internal-error"),k8(n,new O5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return z8;case"linkViaPopup":case"linkViaRedirect":return $8;case"reauthViaPopup":case"reauthViaRedirect":return q8;default:ws(this.auth,"internal-error")}}resolve(e){La(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){La(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8=new xp(2e3,1e4);async function i4(t,e,n){if(Hi(t.app))return Promise.reject(qs(t,"operation-not-supported-in-this-environment"));const r=du(t);O6(t,e,N5);const i=n4(r,n);return new Hu(r,"signInViaPopup",e,i).executeNotNull()}class Hu extends r4{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Hu.currentPopupAction&&Hu.currentPopupAction.cancel(),Hu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yt(e,this.auth,"internal-error"),e}async onExecution(){La(this.filter.length===1,"Popup operations only handle one event");const e=M5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H8.get())};e()}}Hu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8="pendingRedirect",og=new Map;class Y8 extends r4{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=og.get(this.auth._key());if(!e){try{const r=await G8(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}og.set(this.auth._key(),e)}return this.bypassAuthState||og.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function G8(t,e){const n=J8(e),r=Q8(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function K8(t,e){og.set(t._key(),e)}function Q8(t){return da(t._redirectPersistence)}function J8(t){return sg(W8,t.config.apiKey,t.name)}async function X8(t,e,n=!1){if(Hi(t.app))return Promise.reject(fa(t));const r=du(t),i=n4(r,e),o=await new Y8(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=10*60*1e3;class e7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!t7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!s4(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Z8&&this.cachedEventUids.clear(),this.cachedEventUids.has(JE(e))}saveEventToCache(e){this.cachedEventUids.add(JE(e)),this.lastProcessedEventTime=Date.now()}}function JE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function s4({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function t7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return s4(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7(t,e={}){return Ma(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,i7=/^https?/;async function s7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await n7(t);for(const n of e)try{if(o7(n))return}catch{}ws(t,"unauthorized-domain")}function o7(t){const e=k2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!i7.test(n))return!1;if(r7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=new xp(3e4,6e4);function XE(){const t=Co().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function l7(t){return new Promise((e,n)=>{var r,i,s;function o(){XE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{XE(),n(qs(t,"network-request-failed"))},timeout:a7.get()})}if(!((i=(r=Co().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Co().gapi)===null||s===void 0)&&s.load)o();else{const a=u8("iframefcb");return Co()[a]=()=>{gapi.load?o():n(qs(t,"network-request-failed"))},DP(`${l8()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw ag=null,e})}let ag=null;function u7(t){return ag=ag||l7(t),ag}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7=new xp(5e3,15e3),d7="__/auth/iframe",h7="emulator/auth/iframe",f7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function m7(t){const e=t.config;yt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?P5(e,h7):`https://${t.config.authDomain}/${d7}`,r={apiKey:e.apiKey,appName:t.name,v:mh},i=p7.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ep(r).slice(1)}`}async function g7(t){const e=await u7(t),n=Co().gapi;return yt(n,t,"internal-error"),e.open({where:document.body,url:m7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f7,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=qs(t,"network-request-failed"),a=Co().setTimeout(()=>{s(o)},c7.get());function l(){Co().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y7=500,w7=600,b7="_blank",_7="http://localhost";class ZE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E7(t,e,n,r=y7,i=w7){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},v7),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ti().toLowerCase();n&&(a=LP(u)?b7:n),SP(u)&&(e=e||_7,l.scrollbars="yes");const c=Object.entries(l).reduce((m,[p,v])=>`${m}${p}=${v},`,"");if(Z6(u)&&a!=="_self")return x7(e||"",a),new ZE(null);const h=window.open(e||"",a,c);yt(h,t,"popup-blocked");try{h.focus()}catch{}return new ZE(h)}function x7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S7="__/auth/handler",k7="emulator/auth/handler",L7=encodeURIComponent("fac");async function ex(t,e,n,r,i,s){yt(t.config.authDomain,t,"auth-domain-config-required"),yt(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mh,eventId:i};if(e instanceof N5){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",xO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries({}))o[c]=h}if(e instanceof kp){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${L7}=${encodeURIComponent(l)}`:"";return`${C7(t)}?${Ep(a).slice(1)}${u}`}function C7({config:t}){return t.emulator?P5(t,k7):`https://${t.authDomain}/${S7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="webStorageSupport";class T7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R5,this._completeRedirectFn=X8,this._overrideRedirectResult=K8}async _openPopup(e,n,r,i){var s;La((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ex(e,n,r,k2(),i);return E7(e,o,M5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ex(e,n,r,k2(),i);return D8(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(La(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await g7(e),r=new e7(e);return n.register("authEvent",i=>(yt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wy,{type:Wy},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Wy];o!==void 0&&n(!!o),ws(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=s7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return IP()||kP()||I5()}}const o4=T7;var tx="@firebase/auth",nx="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I7(t){Wd(new uc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;yt(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NP(t)},u=new s8(r,i,s,l);return p8(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wd(new uc("auth-internal",e=>{const n=du(e.getProvider("auth").getImmediate());return(r=>new P7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vl(tx,nx,A7(t)),Vl(tx,nx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7=5*60,D7=oP("authIdTokenMaxAge")||N7;let rx=null;const R7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>D7)return;const i=n==null?void 0:n.token;rx!==i&&(rx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function a4(t=dP()){const e=k5(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MP(t,{popupRedirectResolver:o4,persistence:[t4,KP,R5]}),r=oP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=R7(s.toString());HP(n,o,()=>o(n.currentUser)),$P(n,a=>o(a))}}const i=iP("auth");return i&&OP(n,`http://${i}`),n}function M7(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}o8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=qs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",M7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I7("Browser");const l4=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL:h0,AuthCredential:d0,EmailAuthCredential:Gd,EmailAuthProvider:bc,FacebookAuthProvider:sa,GithubAuthProvider:oa,GoogleAuthProvider:bo,OAuthCredential:Yl,TwitterAuthProvider:aa,beforeAuthStateChanged:HP,browserLocalPersistence:KP,browserPopupRedirectResolver:o4,browserSessionPersistence:R5,connectAuthEmulator:OP,createUserWithEmailAndPassword:zP,getAuth:a4,getIdTokenResult:bP,inMemoryPersistence:C2,indexedDBLocalPersistence:t4,initializeAuth:MP,onAuthStateChanged:WP,onIdTokenChanged:$P,prodErrorMap:mP,reload:_P,signInWithCredential:VP,signInWithEmailAndPassword:C8,signInWithPopup:i4,signOut:D5,updateProfile:qP},Symbol.toStringTag,{value:"Module"}));var O7="firebase",F7="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vl(O7,F7,"app");var ix=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ul,u4;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,x){function T(){}T.prototype=x.prototype,A.D=x.prototype,A.prototype=new T,A.prototype.constructor=A,A.C=function(M,C,I){for(var R=Array(arguments.length-2),W=2;W<arguments.length;W++)R[W-2]=arguments[W];return x.prototype[C].apply(M,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,x,T){T||(T=0);var M=Array(16);if(typeof x=="string")for(var C=0;16>C;++C)M[C]=x.charCodeAt(T++)|x.charCodeAt(T++)<<8|x.charCodeAt(T++)<<16|x.charCodeAt(T++)<<24;else for(C=0;16>C;++C)M[C]=x[T++]|x[T++]<<8|x[T++]<<16|x[T++]<<24;x=A.g[0],T=A.g[1],C=A.g[2];var I=A.g[3],R=x+(I^T&(C^I))+M[0]+3614090360&4294967295;x=T+(R<<7&4294967295|R>>>25),R=I+(C^x&(T^C))+M[1]+3905402710&4294967295,I=x+(R<<12&4294967295|R>>>20),R=C+(T^I&(x^T))+M[2]+606105819&4294967295,C=I+(R<<17&4294967295|R>>>15),R=T+(x^C&(I^x))+M[3]+3250441966&4294967295,T=C+(R<<22&4294967295|R>>>10),R=x+(I^T&(C^I))+M[4]+4118548399&4294967295,x=T+(R<<7&4294967295|R>>>25),R=I+(C^x&(T^C))+M[5]+1200080426&4294967295,I=x+(R<<12&4294967295|R>>>20),R=C+(T^I&(x^T))+M[6]+2821735955&4294967295,C=I+(R<<17&4294967295|R>>>15),R=T+(x^C&(I^x))+M[7]+4249261313&4294967295,T=C+(R<<22&4294967295|R>>>10),R=x+(I^T&(C^I))+M[8]+1770035416&4294967295,x=T+(R<<7&4294967295|R>>>25),R=I+(C^x&(T^C))+M[9]+2336552879&4294967295,I=x+(R<<12&4294967295|R>>>20),R=C+(T^I&(x^T))+M[10]+4294925233&4294967295,C=I+(R<<17&4294967295|R>>>15),R=T+(x^C&(I^x))+M[11]+2304563134&4294967295,T=C+(R<<22&4294967295|R>>>10),R=x+(I^T&(C^I))+M[12]+1804603682&4294967295,x=T+(R<<7&4294967295|R>>>25),R=I+(C^x&(T^C))+M[13]+4254626195&4294967295,I=x+(R<<12&4294967295|R>>>20),R=C+(T^I&(x^T))+M[14]+2792965006&4294967295,C=I+(R<<17&4294967295|R>>>15),R=T+(x^C&(I^x))+M[15]+1236535329&4294967295,T=C+(R<<22&4294967295|R>>>10),R=x+(C^I&(T^C))+M[1]+4129170786&4294967295,x=T+(R<<5&4294967295|R>>>27),R=I+(T^C&(x^T))+M[6]+3225465664&4294967295,I=x+(R<<9&4294967295|R>>>23),R=C+(x^T&(I^x))+M[11]+643717713&4294967295,C=I+(R<<14&4294967295|R>>>18),R=T+(I^x&(C^I))+M[0]+3921069994&4294967295,T=C+(R<<20&4294967295|R>>>12),R=x+(C^I&(T^C))+M[5]+3593408605&4294967295,x=T+(R<<5&4294967295|R>>>27),R=I+(T^C&(x^T))+M[10]+38016083&4294967295,I=x+(R<<9&4294967295|R>>>23),R=C+(x^T&(I^x))+M[15]+3634488961&4294967295,C=I+(R<<14&4294967295|R>>>18),R=T+(I^x&(C^I))+M[4]+3889429448&4294967295,T=C+(R<<20&4294967295|R>>>12),R=x+(C^I&(T^C))+M[9]+568446438&4294967295,x=T+(R<<5&4294967295|R>>>27),R=I+(T^C&(x^T))+M[14]+3275163606&4294967295,I=x+(R<<9&4294967295|R>>>23),R=C+(x^T&(I^x))+M[3]+4107603335&4294967295,C=I+(R<<14&4294967295|R>>>18),R=T+(I^x&(C^I))+M[8]+1163531501&4294967295,T=C+(R<<20&4294967295|R>>>12),R=x+(C^I&(T^C))+M[13]+2850285829&4294967295,x=T+(R<<5&4294967295|R>>>27),R=I+(T^C&(x^T))+M[2]+4243563512&4294967295,I=x+(R<<9&4294967295|R>>>23),R=C+(x^T&(I^x))+M[7]+1735328473&4294967295,C=I+(R<<14&4294967295|R>>>18),R=T+(I^x&(C^I))+M[12]+2368359562&4294967295,T=C+(R<<20&4294967295|R>>>12),R=x+(T^C^I)+M[5]+4294588738&4294967295,x=T+(R<<4&4294967295|R>>>28),R=I+(x^T^C)+M[8]+2272392833&4294967295,I=x+(R<<11&4294967295|R>>>21),R=C+(I^x^T)+M[11]+1839030562&4294967295,C=I+(R<<16&4294967295|R>>>16),R=T+(C^I^x)+M[14]+4259657740&4294967295,T=C+(R<<23&4294967295|R>>>9),R=x+(T^C^I)+M[1]+2763975236&4294967295,x=T+(R<<4&4294967295|R>>>28),R=I+(x^T^C)+M[4]+1272893353&4294967295,I=x+(R<<11&4294967295|R>>>21),R=C+(I^x^T)+M[7]+4139469664&4294967295,C=I+(R<<16&4294967295|R>>>16),R=T+(C^I^x)+M[10]+3200236656&4294967295,T=C+(R<<23&4294967295|R>>>9),R=x+(T^C^I)+M[13]+681279174&4294967295,x=T+(R<<4&4294967295|R>>>28),R=I+(x^T^C)+M[0]+3936430074&4294967295,I=x+(R<<11&4294967295|R>>>21),R=C+(I^x^T)+M[3]+3572445317&4294967295,C=I+(R<<16&4294967295|R>>>16),R=T+(C^I^x)+M[6]+76029189&4294967295,T=C+(R<<23&4294967295|R>>>9),R=x+(T^C^I)+M[9]+3654602809&4294967295,x=T+(R<<4&4294967295|R>>>28),R=I+(x^T^C)+M[12]+3873151461&4294967295,I=x+(R<<11&4294967295|R>>>21),R=C+(I^x^T)+M[15]+530742520&4294967295,C=I+(R<<16&4294967295|R>>>16),R=T+(C^I^x)+M[2]+3299628645&4294967295,T=C+(R<<23&4294967295|R>>>9),R=x+(C^(T|~I))+M[0]+4096336452&4294967295,x=T+(R<<6&4294967295|R>>>26),R=I+(T^(x|~C))+M[7]+1126891415&4294967295,I=x+(R<<10&4294967295|R>>>22),R=C+(x^(I|~T))+M[14]+2878612391&4294967295,C=I+(R<<15&4294967295|R>>>17),R=T+(I^(C|~x))+M[5]+4237533241&4294967295,T=C+(R<<21&4294967295|R>>>11),R=x+(C^(T|~I))+M[12]+1700485571&4294967295,x=T+(R<<6&4294967295|R>>>26),R=I+(T^(x|~C))+M[3]+2399980690&4294967295,I=x+(R<<10&4294967295|R>>>22),R=C+(x^(I|~T))+M[10]+4293915773&4294967295,C=I+(R<<15&4294967295|R>>>17),R=T+(I^(C|~x))+M[1]+2240044497&4294967295,T=C+(R<<21&4294967295|R>>>11),R=x+(C^(T|~I))+M[8]+1873313359&4294967295,x=T+(R<<6&4294967295|R>>>26),R=I+(T^(x|~C))+M[15]+4264355552&4294967295,I=x+(R<<10&4294967295|R>>>22),R=C+(x^(I|~T))+M[6]+2734768916&4294967295,C=I+(R<<15&4294967295|R>>>17),R=T+(I^(C|~x))+M[13]+1309151649&4294967295,T=C+(R<<21&4294967295|R>>>11),R=x+(C^(T|~I))+M[4]+4149444226&4294967295,x=T+(R<<6&4294967295|R>>>26),R=I+(T^(x|~C))+M[11]+3174756917&4294967295,I=x+(R<<10&4294967295|R>>>22),R=C+(x^(I|~T))+M[2]+718787259&4294967295,C=I+(R<<15&4294967295|R>>>17),R=T+(I^(C|~x))+M[9]+3951481745&4294967295,A.g[0]=A.g[0]+x&4294967295,A.g[1]=A.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+C&4294967295,A.g[3]=A.g[3]+I&4294967295}r.prototype.u=function(A,x){x===void 0&&(x=A.length);for(var T=x-this.blockSize,M=this.B,C=this.h,I=0;I<x;){if(C==0)for(;I<=T;)i(this,A,I),I+=this.blockSize;if(typeof A=="string"){for(;I<x;)if(M[C++]=A.charCodeAt(I++),C==this.blockSize){i(this,M),C=0;break}}else for(;I<x;)if(M[C++]=A[I++],C==this.blockSize){i(this,M),C=0;break}}this.h=C,this.o+=x},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var x=1;x<A.length-8;++x)A[x]=0;var T=8*this.o;for(x=A.length-8;x<A.length;++x)A[x]=T&255,T/=256;for(this.u(A),A=Array(16),x=T=0;4>x;++x)for(var M=0;32>M;M+=8)A[T++]=this.g[x]>>>M&255;return A};function s(A,x){var T=a;return Object.prototype.hasOwnProperty.call(T,A)?T[A]:T[A]=x(A)}function o(A,x){this.h=x;for(var T=[],M=!0,C=A.length-1;0<=C;C--){var I=A[C]|0;M&&I==x||(T[C]=I,M=!1)}this.g=T}var a={};function l(A){return-128<=A&&128>A?s(A,function(x){return new o([x|0],0>x?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return h;if(0>A)return k(u(-A));for(var x=[],T=1,M=0;A>=T;M++)x[M]=A/T|0,T*=4294967296;return new o(x,0)}function c(A,x){if(A.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(A.charAt(0)=="-")return k(c(A.substring(1),x));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(x,8)),M=h,C=0;C<A.length;C+=8){var I=Math.min(8,A.length-C),R=parseInt(A.substring(C,C+I),x);8>I?(I=u(Math.pow(x,I)),M=M.j(I).add(u(R))):(M=M.j(T),M=M.add(u(R)))}return M}var h=l(0),m=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-k(this).m();for(var A=0,x=1,T=0;T<this.g.length;T++){var M=this.i(T);A+=(0<=M?M:4294967296+M)*x,x*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(v(this))return"0";if(_(this))return"-"+k(this).toString(A);for(var x=u(Math.pow(A,6)),T=this,M="";;){var C=O(T,x).g;T=w(T,C.j(x));var I=((0<T.g.length?T.g[0]:T.h)>>>0).toString(A);if(T=C,v(T))return I+M;for(;6>I.length;)I="0"+I;M=I+M}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function v(A){if(A.h!=0)return!1;for(var x=0;x<A.g.length;x++)if(A.g[x]!=0)return!1;return!0}function _(A){return A.h==-1}t.l=function(A){return A=w(this,A),_(A)?-1:v(A)?0:1};function k(A){for(var x=A.g.length,T=[],M=0;M<x;M++)T[M]=~A.g[M];return new o(T,~A.h).add(m)}t.abs=function(){return _(this)?k(this):this},t.add=function(A){for(var x=Math.max(this.g.length,A.g.length),T=[],M=0,C=0;C<=x;C++){var I=M+(this.i(C)&65535)+(A.i(C)&65535),R=(I>>>16)+(this.i(C)>>>16)+(A.i(C)>>>16);M=R>>>16,I&=65535,R&=65535,T[C]=R<<16|I}return new o(T,T[T.length-1]&-2147483648?-1:0)};function w(A,x){return A.add(k(x))}t.j=function(A){if(v(this)||v(A))return h;if(_(this))return _(A)?k(this).j(k(A)):k(k(this).j(A));if(_(A))return k(this.j(k(A)));if(0>this.l(p)&&0>A.l(p))return u(this.m()*A.m());for(var x=this.g.length+A.g.length,T=[],M=0;M<2*x;M++)T[M]=0;for(M=0;M<this.g.length;M++)for(var C=0;C<A.g.length;C++){var I=this.i(M)>>>16,R=this.i(M)&65535,W=A.i(C)>>>16,Z=A.i(C)&65535;T[2*M+2*C]+=R*Z,b(T,2*M+2*C),T[2*M+2*C+1]+=I*Z,b(T,2*M+2*C+1),T[2*M+2*C+1]+=R*W,b(T,2*M+2*C+1),T[2*M+2*C+2]+=I*W,b(T,2*M+2*C+2)}for(M=0;M<x;M++)T[M]=T[2*M+1]<<16|T[2*M];for(M=x;M<2*x;M++)T[M]=0;return new o(T,0)};function b(A,x){for(;(A[x]&65535)!=A[x];)A[x+1]+=A[x]>>>16,A[x]&=65535,x++}function P(A,x){this.g=A,this.h=x}function O(A,x){if(v(x))throw Error("division by zero");if(v(A))return new P(h,h);if(_(A))return x=O(k(A),x),new P(k(x.g),k(x.h));if(_(x))return x=O(A,k(x)),new P(k(x.g),x.h);if(30<A.g.length){if(_(A)||_(x))throw Error("slowDivide_ only works with positive integers.");for(var T=m,M=x;0>=M.l(A);)T=j(T),M=j(M);var C=H(T,1),I=H(M,1);for(M=H(M,2),T=H(T,2);!v(M);){var R=I.add(M);0>=R.l(A)&&(C=C.add(T),I=R),M=H(M,1),T=H(T,1)}return x=w(A,C.j(x)),new P(C,x)}for(C=h;0<=A.l(x);){for(T=Math.max(1,Math.floor(A.m()/x.m())),M=Math.ceil(Math.log(T)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),I=u(T),R=I.j(x);_(R)||0<R.l(A);)T-=M,I=u(T),R=I.j(x);v(I)&&(I=m),C=C.add(I),A=w(A,R)}return new P(C,A)}t.A=function(A){return O(this,A).h},t.and=function(A){for(var x=Math.max(this.g.length,A.g.length),T=[],M=0;M<x;M++)T[M]=this.i(M)&A.i(M);return new o(T,this.h&A.h)},t.or=function(A){for(var x=Math.max(this.g.length,A.g.length),T=[],M=0;M<x;M++)T[M]=this.i(M)|A.i(M);return new o(T,this.h|A.h)},t.xor=function(A){for(var x=Math.max(this.g.length,A.g.length),T=[],M=0;M<x;M++)T[M]=this.i(M)^A.i(M);return new o(T,this.h^A.h)};function j(A){for(var x=A.g.length+1,T=[],M=0;M<x;M++)T[M]=A.i(M)<<1|A.i(M-1)>>>31;return new o(T,A.h)}function H(A,x){var T=x>>5;x%=32;for(var M=A.g.length-T,C=[],I=0;I<M;I++)C[I]=0<x?A.i(I+T)>>>x|A.i(I+T+1)<<32-x:A.i(I+T);return new o(C,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u4=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Ul=o}).apply(typeof ix<"u"?ix:typeof self<"u"?self:typeof window<"u"?window:{});var Tm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var c4,pf,d4,lg,A2,h4,f4,p4;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,L,D){return f==Array.prototype||f==Object.prototype||(f[L]=D.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tm=="object"&&Tm];for(var L=0;L<f.length;++L){var D=f[L];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(f,L){if(L)e:{var D=r;f=f.split(".");for(var G=0;G<f.length-1;G++){var pe=f[G];if(!(pe in D))break e;D=D[pe]}f=f[f.length-1],G=D[f],L=L(G),L!=G&&L!=null&&e(D,f,{configurable:!0,writable:!0,value:L})}}function s(f,L){f instanceof String&&(f+="");var D=0,G=!1,pe={next:function(){if(!G&&D<f.length){var Ee=D++;return{value:L(Ee,f[Ee]),done:!1}}return G=!0,{done:!0,value:void 0}}};return pe[Symbol.iterator]=function(){return pe},pe}i("Array.prototype.values",function(f){return f||function(){return s(this,function(L,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var L=typeof f;return L=L!="object"?L:f?Array.isArray(f)?"array":L:"null",L=="array"||L=="object"&&typeof f.length=="number"}function u(f){var L=typeof f;return L=="object"&&f!=null||L=="function"}function c(f,L,D){return f.call.apply(f.bind,arguments)}function h(f,L,D){if(!f)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var pe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(pe,G),f.apply(L,pe)}}return function(){return f.apply(L,arguments)}}function m(f,L,D){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:h,m.apply(null,arguments)}function p(f,L){var D=Array.prototype.slice.call(arguments,1);return function(){var G=D.slice();return G.push.apply(G,arguments),f.apply(this,G)}}function v(f,L){function D(){}D.prototype=L.prototype,f.aa=L.prototype,f.prototype=new D,f.prototype.constructor=f,f.Qb=function(G,pe,Ee){for(var Oe=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)Oe[xt-2]=arguments[xt];return L.prototype[pe].apply(G,Oe)}}function _(f){const L=f.length;if(0<L){const D=Array(L);for(let G=0;G<L;G++)D[G]=f[G];return D}return[]}function k(f,L){for(let D=1;D<arguments.length;D++){const G=arguments[D];if(l(G)){const pe=f.length||0,Ee=G.length||0;f.length=pe+Ee;for(let Oe=0;Oe<Ee;Oe++)f[pe+Oe]=G[Oe]}else f.push(G)}}class w{constructor(L,D){this.i=L,this.j=D,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function b(f){return/^[\s\xa0]*$/.test(f)}function P(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function O(f){return O[" "](f),f}O[" "]=function(){};var j=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function H(f,L,D){for(const G in f)L.call(D,f[G],G,f)}function A(f,L){for(const D in f)L.call(void 0,f[D],D,f)}function x(f){const L={};for(const D in f)L[D]=f[D];return L}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,L){let D,G;for(let pe=1;pe<arguments.length;pe++){G=arguments[pe];for(D in G)f[D]=G[D];for(let Ee=0;Ee<T.length;Ee++)D=T[Ee],Object.prototype.hasOwnProperty.call(G,D)&&(f[D]=G[D])}}function C(f){var L=1;f=f.split(":");const D=[];for(;0<L&&f.length;)D.push(f.shift()),L--;return f.length&&D.push(f.join(":")),D}function I(f){a.setTimeout(()=>{throw f},0)}function R(){var f=ne;let L=null;return f.g&&(L=f.g,f.g=f.g.next,f.g||(f.h=null),L.next=null),L}class W{constructor(){this.h=this.g=null}add(L,D){const G=Z.get();G.set(L,D),this.h?this.h.next=G:this.g=G,this.h=G}}var Z=new w(()=>new X,f=>f.reset());class X{constructor(){this.next=this.g=this.h=null}set(L,D){this.h=L,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let re,z=!1,ne=new W,ie=()=>{const f=a.Promise.resolve(void 0);re=()=>{f.then(ye)}};var ye=()=>{for(var f;f=R();){try{f.h.call(f.g)}catch(D){I(D)}var L=Z;L.j(f),100>L.h&&(L.h++,f.next=L.g,L.g=f)}z=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(f,L){this.type=f,this.g=this.target=L,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,L=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const D=()=>{};a.addEventListener("test",D,L),a.removeEventListener("test",D,L)}catch{}return f}();function Q(f,L){if(Y.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var D=this.type=f.type,G=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=L,L=f.relatedTarget){if(j){e:{try{O(L.nodeName);var pe=!0;break e}catch{}pe=!1}pe||(L=null)}}else D=="mouseover"?L=f.fromElement:D=="mouseout"&&(L=f.toElement);this.relatedTarget=L,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ae[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Q.aa.h.call(this)}}v(Q,Y);var ae={2:"touch",3:"pen",4:"mouse"};Q.prototype.h=function(){Q.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),he=0;function ve(f,L,D,G,pe){this.listener=f,this.proxy=null,this.src=L,this.type=D,this.capture=!!G,this.ha=pe,this.key=++he,this.da=this.fa=!1}function Se(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ke(f){this.src=f,this.g={},this.h=0}ke.prototype.add=function(f,L,D,G,pe){var Ee=f.toString();f=this.g[Ee],f||(f=this.g[Ee]=[],this.h++);var Oe=Be(f,L,G,pe);return-1<Oe?(L=f[Oe],D||(L.fa=!1)):(L=new ve(L,this.src,Ee,!!G,pe),L.fa=D,f.push(L)),L};function je(f,L){var D=L.type;if(D in f.g){var G=f.g[D],pe=Array.prototype.indexOf.call(G,L,void 0),Ee;(Ee=0<=pe)&&Array.prototype.splice.call(G,pe,1),Ee&&(Se(L),f.g[D].length==0&&(delete f.g[D],f.h--))}}function Be(f,L,D,G){for(var pe=0;pe<f.length;++pe){var Ee=f[pe];if(!Ee.da&&Ee.listener==L&&Ee.capture==!!D&&Ee.ha==G)return pe}return-1}var st="closure_lm_"+(1e6*Math.random()|0),_e={};function oe(f,L,D,G,pe){if(Array.isArray(L)){for(var Ee=0;Ee<L.length;Ee++)oe(f,L[Ee],D,G,pe);return null}return D=_t(D),f&&f[de]?f.K(L,D,u(G)?!!G.capture:!1,pe):gt(f,L,D,!1,G,pe)}function gt(f,L,D,G,pe,Ee){if(!L)throw Error("Invalid event type");var Oe=u(pe)?!!pe.capture:!!pe,xt=nt(f);if(xt||(f[st]=xt=new ke(f)),D=xt.add(L,D,G,Oe,Ee),D.proxy)return D;if(G=tt(),D.proxy=G,G.src=f,G.listener=D,f.addEventListener)ee||(pe=Oe),pe===void 0&&(pe=!1),f.addEventListener(L.toString(),G,pe);else if(f.attachEvent)f.attachEvent(qe(L.toString()),G);else if(f.addListener&&f.removeListener)f.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return D}function tt(){function f(D){return L.call(f.src,f.listener,D)}const L=$e;return f}function Fe(f,L,D,G,pe){if(Array.isArray(L))for(var Ee=0;Ee<L.length;Ee++)Fe(f,L[Ee],D,G,pe);else G=u(G)?!!G.capture:!!G,D=_t(D),f&&f[de]?(f=f.i,L=String(L).toString(),L in f.g&&(Ee=f.g[L],D=Be(Ee,D,G,pe),-1<D&&(Se(Ee[D]),Array.prototype.splice.call(Ee,D,1),Ee.length==0&&(delete f.g[L],f.h--)))):f&&(f=nt(f))&&(L=f.g[L.toString()],f=-1,L&&(f=Be(L,D,G,pe)),(D=-1<f?L[f]:null)&&ze(D))}function ze(f){if(typeof f!="number"&&f&&!f.da){var L=f.src;if(L&&L[de])je(L.i,f);else{var D=f.type,G=f.proxy;L.removeEventListener?L.removeEventListener(D,G,f.capture):L.detachEvent?L.detachEvent(qe(D),G):L.addListener&&L.removeListener&&L.removeListener(G),(D=nt(L))?(je(D,f),D.h==0&&(D.src=null,L[st]=null)):Se(f)}}}function qe(f){return f in _e?_e[f]:_e[f]="on"+f}function $e(f,L){if(f.da)f=!0;else{L=new Q(L,this);var D=f.listener,G=f.ha||f.src;f.fa&&ze(f),f=D.call(G,L)}return f}function nt(f){return f=f[st],f instanceof ke?f:null}var ht="__closure_events_fn_"+(1e9*Math.random()>>>0);function _t(f){return typeof f=="function"?f:(f[ht]||(f[ht]=function(L){return f.handleEvent(L)}),f[ht])}function ot(){F.call(this),this.i=new ke(this),this.M=this,this.F=null}v(ot,F),ot.prototype[de]=!0,ot.prototype.removeEventListener=function(f,L,D,G){Fe(this,f,L,D,G)};function ct(f,L){var D,G=f.F;if(G)for(D=[];G;G=G.F)D.push(G);if(f=f.M,G=L.type||L,typeof L=="string")L=new Y(L,f);else if(L instanceof Y)L.target=L.target||f;else{var pe=L;L=new Y(G,f),M(L,pe)}if(pe=!0,D)for(var Ee=D.length-1;0<=Ee;Ee--){var Oe=L.g=D[Ee];pe=Ft(Oe,G,!0,L)&&pe}if(Oe=L.g=f,pe=Ft(Oe,G,!0,L)&&pe,pe=Ft(Oe,G,!1,L)&&pe,D)for(Ee=0;Ee<D.length;Ee++)Oe=L.g=D[Ee],pe=Ft(Oe,G,!1,L)&&pe}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var f=this.i,L;for(L in f.g){for(var D=f.g[L],G=0;G<D.length;G++)Se(D[G]);delete f.g[L],f.h--}}this.F=null},ot.prototype.K=function(f,L,D,G){return this.i.add(String(f),L,!1,D,G)},ot.prototype.L=function(f,L,D,G){return this.i.add(String(f),L,!0,D,G)};function Ft(f,L,D,G){if(L=f.i.g[String(L)],!L)return!0;L=L.concat();for(var pe=!0,Ee=0;Ee<L.length;++Ee){var Oe=L[Ee];if(Oe&&!Oe.da&&Oe.capture==D){var xt=Oe.listener,Bt=Oe.ha||Oe.src;Oe.fa&&je(f.i,Oe),pe=xt.call(Bt,G)!==!1&&pe}}return pe&&!G.defaultPrevented}function lt(f,L,D){if(typeof f=="function")D&&(f=m(f,D));else if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:a.setTimeout(f,L||0)}function Ct(f){f.g=lt(()=>{f.g=null,f.i&&(f.i=!1,Ct(f))},f.l);const L=f.h;f.h=null,f.m.apply(null,L)}class He extends F{constructor(L,D){super(),this.m=L,this.l=D,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:Ct(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function En(f){F.call(this),this.h=f,this.g={}}v(En,F);var At=[];function Lr(f){H(f.g,function(L,D){this.g.hasOwnProperty(D)&&ze(L)},f),f.g={}}En.prototype.N=function(){En.aa.N.call(this),Lr(this)},En.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jt=a.JSON.stringify,on=a.JSON.parse,Cr=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Mt(){}Mt.prototype.h=null;function ni(f){return f.h||(f.h=f.i())}function pn(){}var rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jr(){Y.call(this,"d")}v(jr,Y);function Jt(){Y.call(this,"c")}v(Jt,Y);var ut={},Rt=null;function ri(){return Rt=Rt||new ot}ut.La="serverreachability";function xn(f){Y.call(this,ut.La,f)}v(xn,Y);function cr(f){const L=ri();ct(L,new xn(L))}ut.STAT_EVENT="statevent";function ii(f,L){Y.call(this,ut.STAT_EVENT,f),this.stat=L}v(ii,Y);function Qe(f){const L=ri();ct(L,new ii(L,f))}ut.Ma="timingevent";function at(f,L){Y.call(this,ut.Ma,f),this.size=L}v(at,Y);function Br(f,L){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},L)}function ir(){this.g=!0}ir.prototype.xa=function(){this.g=!1};function $n(f,L,D,G,pe,Ee){f.info(function(){if(f.g)if(Ee)for(var Oe="",xt=Ee.split("&"),Bt=0;Bt<xt.length;Bt++){var St=xt[Bt].split("=");if(1<St.length){var tn=St[0];St=St[1];var gn=tn.split("_");Oe=2<=gn.length&&gn[1]=="type"?Oe+(tn+"="+St+"&"):Oe+(tn+"=redacted&")}}else Oe=null;else Oe=Ee;return"XMLHTTP REQ ("+G+") [attempt "+pe+"]: "+L+`
`+D+`
`+Oe})}function Fn(f,L,D,G,pe,Ee,Oe){f.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+pe+"]: "+L+`
`+D+`
`+Ee+" "+Oe})}function sr(f,L,D,G){f.info(function(){return"XMLHTTP TEXT ("+L+"): "+_s(f,D)+(G?" "+G:"")})}function Fa(f,L){f.info(function(){return"TIMEOUT: "+L})}ir.prototype.info=function(){};function _s(f,L){if(!f.g)return L;if(!L)return null;try{var D=JSON.parse(L);if(D){for(f=0;f<D.length;f++)if(Array.isArray(D[f])){var G=D[f];if(!(2>G.length)){var pe=G[1];if(Array.isArray(pe)&&!(1>pe.length)){var Ee=pe[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(var Oe=1;Oe<pe.length;Oe++)pe[Oe]=""}}}}return jt(D)}catch{return L}}var Vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},si;function oi(){}v(oi,Mt),oi.prototype.g=function(){return new XMLHttpRequest},oi.prototype.i=function(){return{}},si=new oi;function Hn(f,L,D,G){this.j=f,this.i=L,this.l=D,this.R=G||1,this.U=new En(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oi}function Oi(){this.i=null,this.g="",this.h=!1}var Xs={},Zs={};function eo(f,L,D){f.L=1,f.v=qo(ai(L)),f.m=D,f.P=!0,jo(f,null)}function jo(f,L){f.F=Date.now(),ja(f),f.A=ai(f.v);var D=f.A,G=f.R;Array.isArray(G)||(G=[String(G)]),wt(D.i,"t",G),f.C=0,D=f.j.J,f.h=new Oi,f.g=V(f.j,D?L:null,!f.m),0<f.O&&(f.M=new He(m(f.Y,f,f.g),f.O)),L=f.U,D=f.g,G=f.ca;var pe="readystatechange";Array.isArray(pe)||(pe&&(At[0]=pe.toString()),pe=At);for(var Ee=0;Ee<pe.length;Ee++){var Oe=oe(D,pe[Ee],G||L.handleEvent,!1,L.h||L);if(!Oe)break;L.g[Oe.key]=Oe}L=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,L)):(f.u="GET",f.g.ea(f.A,f.u,null,L)),cr(),$n(f.i,f.u,f.A,f.l,f.R,f.m)}Hn.prototype.ca=function(f){f=f.target;const L=this.M;L&&dr(f)==3?L.j():this.Y(f)},Hn.prototype.Y=function(f){try{if(f==this.g)e:{const gn=dr(this.g);var L=this.g.Ba();const Ps=this.g.Z();if(!(3>gn)&&(gn!=3||this.g&&(this.h.h||this.g.oa()||Oc(this.g)))){this.J||gn!=4||L==7||(L==8||0>=Ps?cr(3):cr(2)),to(this);var D=this.g.Z();this.X=D;t:if(Bo(this)){var G=Oc(this.g);f="";var pe=G.length,Ee=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Es(this),no(this);var Oe="";break t}this.h.i=new a.TextDecoder}for(L=0;L<pe;L++)this.h.h=!0,f+=this.h.i.decode(G[L],{stream:!(Ee&&L==pe-1)});G.length=0,this.h.g+=f,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=D==200,Fn(this.i,this.u,this.A,this.l,this.R,gn,D),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,Bt=this.g;if((xt=Bt.g?Bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(xt)){var St=xt;break t}}St=null}if(D=St)sr(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vo(this,D);else{this.o=!1,this.s=3,Qe(12),Es(this),no(this);break e}}if(this.P){D=!0;let Pr;for(;!this.J&&this.C<Oe.length;)if(Pr=Cc(this,Oe),Pr==Zs){gn==4&&(this.s=4,Qe(14),D=!1),sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pr==Xs){this.s=4,Qe(15),sr(this.i,this.l,Oe,"[Invalid Chunk]"),D=!1;break}else sr(this.i,this.l,Pr,null),Vo(this,Pr);if(Bo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gn!=4||Oe.length!=0||this.h.h||(this.s=1,Qe(16),D=!1),this.o=this.o&&D,!D)sr(this.i,this.l,Oe,"[Invalid Chunked Response]"),Es(this),no(this);else if(0<Oe.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),Xa(tn),tn.M=!0,Qe(11))}}else sr(this.i,this.l,Oe,null),Vo(this,Oe);gn==4&&Es(this),this.o&&!this.J&&(gn==4?ao(this.j,this):(this.o=!1,ja(this)))}else so(this.g),D==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),Es(this),no(this)}}}catch{}finally{}};function Bo(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Cc(f,L){var D=f.C,G=L.indexOf(`
`,D);return G==-1?Zs:(D=Number(L.substring(D,G)),isNaN(D)?Xs:(G+=1,G+D>L.length?Zs:(L=L.slice(G,G+D),f.C=G+D,L)))}Hn.prototype.cancel=function(){this.J=!0,Es(this)};function ja(f){f.S=Date.now()+f.I,Tc(f,f.I)}function Tc(f,L){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Br(m(f.ba,f),L)}function to(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Hn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Fa(this.i,this.A),this.L!=2&&(cr(),Qe(17)),Es(this),this.s=2,no(this)):Tc(this,this.S-f)};function no(f){f.j.G==0||f.J||ao(f.j,f)}function Es(f){to(f);var L=f.M;L&&typeof L.ma=="function"&&L.ma(),f.M=null,Lr(f.U),f.g&&(L=f.g,f.g=null,L.abort(),L.ma())}function Vo(f,L){try{var D=f.j;if(D.G!=0&&(D.g==f||fu(D.h,f))){if(!f.K&&fu(D.h,f)&&D.G==3){try{var G=D.Da.g.parse(L)}catch{G=null}if(Array.isArray(G)&&G.length==3){var pe=G;if(pe[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<f.F)Ts(D),Ga(D);else break e;Go(D),Qe(18)}}else D.za=pe[1],0<D.za-D.T&&37500>pe[2]&&D.F&&D.v==0&&!D.C&&(D.C=Br(m(D.Za,D),6e3));if(1>=Uo(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else Ur(D,11)}else if((f.K||D.g==f)&&Ts(D),!b(L))for(pe=D.Da.g.parse(L),L=0;L<pe.length;L++){let St=pe[L];if(D.T=St[0],St=St[1],D.G==2)if(St[0]=="c"){D.K=St[1],D.ia=St[2];const tn=St[3];tn!=null&&(D.la=tn,D.j.info("VER="+D.la));const gn=St[4];gn!=null&&(D.Aa=gn,D.j.info("SVER="+D.Aa));const Ps=St[5];Ps!=null&&typeof Ps=="number"&&0<Ps&&(G=1.5*Ps,D.L=G,D.j.info("backChannelRequestTimeoutMs_="+G)),G=D;const Pr=f.g;if(Pr){const lo=Pr.g?Pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lo){var Ee=G.h;Ee.g||lo.indexOf("spdy")==-1&&lo.indexOf("quic")==-1&&lo.indexOf("h2")==-1||(Ee.j=Ee.l,Ee.g=new Set,Ee.h&&(Sn(Ee,Ee.h),Ee.h=null))}if(G.D){const uo=Pr.g?Pr.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(G.ya=uo,an(G.I,G.D,uo))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-f.F,D.j.info("Handshake RTT: "+D.R+"ms")),G=D;var Oe=f;if(G.qa=y(G,G.J?G.ia:null,G.W),Oe.K){pu(G.h,Oe);var xt=Oe,Bt=G.L;Bt&&(xt.I=Bt),xt.B&&(to(xt),ja(xt)),G.g=Oe}else Ja(G);0<D.i.length&&Ka(D)}else St[0]!="stop"&&St[0]!="close"||Ur(D,7);else D.G==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?Ur(D,7):Cs(D):St[0]!="noop"&&D.l&&D.l.ta(St),D.v=0)}}cr(4)}catch{}}var Sh=class{constructor(f,L){this.g=f,this.map=L}};function hu(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Pc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Uo(f){return f.h?1:f.g?f.g.size:0}function fu(f,L){return f.h?f.h==L:f.g?f.g.has(L):!1}function Sn(f,L){f.g?f.g.add(L):f.h=L}function pu(f,L){f.h&&f.h==L?f.h=null:f.g&&f.g.has(L)&&f.g.delete(L)}hu.prototype.cancel=function(){if(this.i=mu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function mu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let L=f.i;for(const D of f.g.values())L=L.concat(D.D);return L}return _(f.i)}function Ac(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var L=[],D=f.length,G=0;G<D;G++)L.push(f[G]);return L}L=[],D=0;for(G in f)L[D++]=f[G];return L}function gu(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var L=[];f=f.length;for(var D=0;D<f;D++)L.push(D);return L}L=[],D=0;for(const G in f)L[D++]=G;return L}}}function Ic(f,L){if(f.forEach&&typeof f.forEach=="function")f.forEach(L,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,L,void 0);else for(var D=gu(f),G=Ac(f),pe=G.length,Ee=0;Ee<pe;Ee++)L.call(void 0,G[Ee],D&&D[Ee],f)}var _i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(f,L){if(f){f=f.split("&");for(var D=0;D<f.length;D++){var G=f[D].indexOf("="),pe=null;if(0<=G){var Ee=f[D].substring(0,G);pe=f[D].substring(G+1)}else Ee=f[D];L(Ee,pe?decodeURIComponent(pe.replace(/\+/g," ")):"")}}}function jn(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof jn){this.h=f.h,zo(this,f.j),this.o=f.o,this.g=f.g,Va(this,f.s),this.l=f.l;var L=f.i,D=new ro;D.i=L.i,L.g&&(D.g=new Map(L.g),D.h=L.h),vu(this,D),this.m=f.m}else f&&(L=String(f).match(_i))?(this.h=!1,zo(this,L[1]||"",!0),this.o=$o(L[2]||""),this.g=$o(L[3]||"",!0),Va(this,L[4]),this.l=$o(L[5]||"",!0),vu(this,L[6]||"",!0),this.m=$o(L[7]||"")):(this.h=!1,this.i=new ro(null,this.h))}jn.prototype.toString=function(){var f=[],L=this.j;L&&f.push(xs(L,Nc,!0),":");var D=this.g;return(D||L=="file")&&(f.push("//"),(L=this.o)&&f.push(xs(L,Nc,!0),"@"),f.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&f.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&f.push("/"),f.push(xs(D,D.charAt(0)=="/"?Ss:Lh,!0))),(D=this.i.toString())&&f.push("?",D),(D=this.m)&&f.push("#",xs(D,za)),f.join("")};function ai(f){return new jn(f)}function zo(f,L,D){f.j=D?$o(L,!0):L,f.j&&(f.j=f.j.replace(/:$/,""))}function Va(f,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);f.s=L}else f.s=null}function vu(f,L,D){L instanceof ro?(f.i=L,Ch(f.i,f.h)):(D||(L=xs(L,Ua)),f.i=new ro(L,f.h))}function an(f,L,D){f.i.set(L,D)}function qo(f){return an(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function $o(f,L){return f?L?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xs(f,L,D){return typeof f=="string"?(f=encodeURI(f).replace(L,kh),D&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function kh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Nc=/[#\/\?@]/g,Lh=/[#\?:]/g,Ss=/[#\?]/g,Ua=/[#\?@]/g,za=/#/g;function ro(f,L){this.h=this.g=null,this.i=f||null,this.j=!!L}function kn(f){f.g||(f.g=new Map,f.h=0,f.i&&Ba(f.i,function(L,D){f.add(decodeURIComponent(L.replace(/\+/g," ")),D)}))}t=ro.prototype,t.add=function(f,L){kn(this),this.i=null,f=io(this,f);var D=this.g.get(f);return D||this.g.set(f,D=[]),D.push(L),this.h+=1,this};function Dc(f,L){kn(f),L=io(f,L),f.g.has(L)&&(f.i=null,f.h-=f.g.get(L).length,f.g.delete(L))}function yu(f,L){return kn(f),L=io(f,L),f.g.has(L)}t.forEach=function(f,L){kn(this),this.g.forEach(function(D,G){D.forEach(function(pe){f.call(L,pe,G,this)},this)},this)},t.na=function(){kn(this);const f=Array.from(this.g.values()),L=Array.from(this.g.keys()),D=[];for(let G=0;G<L.length;G++){const pe=f[G];for(let Ee=0;Ee<pe.length;Ee++)D.push(L[G])}return D},t.V=function(f){kn(this);let L=[];if(typeof f=="string")yu(this,f)&&(L=L.concat(this.g.get(io(this,f))));else{f=Array.from(this.g.values());for(let D=0;D<f.length;D++)L=L.concat(f[D])}return L},t.set=function(f,L){return kn(this),this.i=null,f=io(this,f),yu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[L]),this.h+=1,this},t.get=function(f,L){return f?(f=this.V(f),0<f.length?String(f[0]):L):L};function wt(f,L,D){Dc(f,L),0<D.length&&(f.i=null,f.g.set(io(f,L),_(D)),f.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],L=Array.from(this.g.keys());for(var D=0;D<L.length;D++){var G=L[D];const Ee=encodeURIComponent(String(G)),Oe=this.V(G);for(G=0;G<Oe.length;G++){var pe=Ee;Oe[G]!==""&&(pe+="="+encodeURIComponent(String(Oe[G]))),f.push(pe)}}return this.i=f.join("&")};function io(f,L){return L=String(L),f.j&&(L=L.toLowerCase()),L}function Ch(f,L){L&&!f.j&&(kn(f),f.i=null,f.g.forEach(function(D,G){var pe=G.toLowerCase();G!=pe&&(Dc(this,G),wt(this,pe,D))},f)),f.j=L}function Zi(f,L){const D=new ir;if(a.Image){const G=new Image;G.onload=p(Fi,D,"TestLoadImage: loaded",!0,L,G),G.onerror=p(Fi,D,"TestLoadImage: error",!1,L,G),G.onabort=p(Fi,D,"TestLoadImage: abort",!1,L,G),G.ontimeout=p(Fi,D,"TestLoadImage: timeout",!1,L,G),a.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=f}else L(!1)}function Rc(f,L){const D=new ir,G=new AbortController,pe=setTimeout(()=>{G.abort(),Fi(D,"TestPingServer: timeout",!1,L)},1e4);fetch(f,{signal:G.signal}).then(Ee=>{clearTimeout(pe),Ee.ok?Fi(D,"TestPingServer: ok",!0,L):Fi(D,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(pe),Fi(D,"TestPingServer: error",!1,L)})}function Fi(f,L,D,G,pe){try{pe&&(pe.onload=null,pe.onerror=null,pe.onabort=null,pe.ontimeout=null),G(D)}catch{}}function qa(){this.g=new Cr}function wu(f,L,D){const G=D||"";try{Ic(f,function(pe,Ee){let Oe=pe;u(pe)&&(Oe=jt(pe)),L.push(G+Ee+"="+encodeURIComponent(Oe))})}catch(pe){throw L.push(G+"type="+encodeURIComponent("_badmap")),pe}}function $a(f){this.l=f.Ub||null,this.j=f.eb||!1}v($a,Mt),$a.prototype.g=function(){return new Ha(this.l,this.j)},$a.prototype.i=function(f){return function(){return f}}({});function Ha(f,L){ot.call(this),this.D=f,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Ha,ot),t=Ha.prototype,t.open=function(f,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=L,this.readyState=1,ji(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(L.body=f),(this.D||a).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ji(this)),this.g&&(this.readyState=3,ji(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var L=f.value?f.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!f.done}))&&(this.response=this.responseText+=L)}f.done?ks(this):ji(this),this.readyState==3&&Mc(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,ks(this))},t.Qa=function(f){this.g&&(this.response=f,ks(this))},t.ga=function(){this.g&&ks(this)};function ks(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ji(f)}t.setRequestHeader=function(f,L){this.u.append(f,L)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],L=this.h.entries();for(var D=L.next();!D.done;)D=D.value,f.push(D[0]+": "+D[1]),D=L.next();return f.join(`\r
`)};function ji(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ls(f){let L="";return H(f,function(D,G){L+=G,L+=":",L+=D,L+=`\r
`}),L}function bu(f,L,D){e:{for(G in D){var G=!1;break e}G=!0}G||(D=Ls(D),typeof f=="string"?D!=null&&encodeURIComponent(String(D)):an(f,L,D))}function en(f){ot.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(en,ot);var _u=/^https?$/i,Wa=["POST","PUT"];t=en.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,L,D,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);L=L?L.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():si.g(),this.v=this.o?ni(this.o):ni(si),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(L,String(f),!0),this.B=!1}catch(Ee){Eu(this,Ee);return}if(f=D||"",D=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var pe in G)D.set(pe,G[pe]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const Ee of G.keys())D.set(Ee,G.get(Ee));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(D.keys()).find(Ee=>Ee.toLowerCase()=="content-type"),pe=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Wa,L,void 0))||G||pe||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ee,Oe]of D)this.g.setRequestHeader(Ee,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bi(this),this.u=!0,this.g.send(f),this.u=!1}catch(Ee){Eu(this,Ee)}};function Eu(f,L){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=L,f.m=5,xu(f),Ho(f)}function xu(f){f.A||(f.A=!0,ct(f,"complete"),ct(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ct(this,"complete"),ct(this,"abort"),Ho(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ho(this,!0)),en.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Su(this):this.bb())},t.bb=function(){Su(this)};function Su(f){if(f.h&&typeof o<"u"&&(!f.v[1]||dr(f)!=4||f.Z()!=2)){if(f.u&&dr(f)==4)lt(f.Ea,0,f);else if(ct(f,"readystatechange"),dr(f)==4){f.h=!1;try{const Oe=f.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var D;if(!(D=L)){var G;if(G=Oe===0){var pe=String(f.D).match(_i)[1]||null;!pe&&a.self&&a.self.location&&(pe=a.self.location.protocol.slice(0,-1)),G=!_u.test(pe?pe.toLowerCase():"")}D=G}if(D)ct(f,"complete"),ct(f,"success");else{f.m=6;try{var Ee=2<dr(f)?f.g.statusText:""}catch{Ee=""}f.l=Ee+" ["+f.Z()+"]",xu(f)}}finally{Ho(f)}}}}function Ho(f,L){if(f.g){Bi(f);const D=f.g,G=f.v[0]?()=>{}:null;f.g=null,f.v=null,L||ct(f,"ready");try{D.onreadystatechange=G}catch{}}}function Bi(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function dr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var L=this.g.responseText;return f&&L.indexOf(f)==0&&(L=L.substring(f.length)),on(L)}};function Oc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function so(f){const L={};f=(f.g&&2<=dr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<f.length;G++){if(b(f[G]))continue;var D=C(f[G]);const pe=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const Ee=L[pe]||[];L[pe]=Ee,Ee.push(D)}A(L,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(f,L,D){return D&&D.internalChannelParams&&D.internalChannelParams[f]||L}function Ya(f){this.Aa=0,this.i=[],this.j=new ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tr("baseRetryDelayMs",5e3,f),this.cb=Tr("retryDelaySeedMs",1e4,f),this.Wa=Tr("forwardChannelMaxRetries",2,f),this.wa=Tr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new hu(f&&f.concurrentRequestLimit),this.Da=new qa,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ya.prototype,t.la=8,t.G=1,t.connect=function(f,L,D,G){Qe(0),this.W=f,this.H=L||{},D&&G!==void 0&&(this.H.OSID=D,this.H.OAID=G),this.F=this.X,this.I=y(this,null,this.W),Ka(this)};function Cs(f){if(Wo(f),f.G==3){var L=f.U++,D=ai(f.I);if(an(D,"SID",f.K),an(D,"RID",L),an(D,"TYPE","terminate"),oo(f,D),L=new Hn(f,f.j,L),L.L=2,L.v=qo(ai(D)),D=!1,a.navigator&&a.navigator.sendBeacon)try{D=a.navigator.sendBeacon(L.v.toString(),"")}catch{}!D&&a.Image&&(new Image().src=L.v,D=!0),D||(L.g=V(L.j,null),L.g.ea(L.v)),L.F=Date.now(),ja(L)}el(f)}function Ga(f){f.g&&(Xa(f),f.g.cancel(),f.g=null)}function Wo(f){Ga(f),f.u&&(a.clearTimeout(f.u),f.u=null),Ts(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function Ka(f){if(!Pc(f.h)&&!f.s){f.s=!0;var L=f.Ga;re||ie(),z||(re(),z=!0),ne.add(L,f),f.B=0}}function ku(f,L){return Uo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=L.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Br(m(f.Ga,f,L),Za(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const pe=new Hn(this,this.j,f);let Ee=this.o;if(this.S&&(Ee?(Ee=x(Ee),M(Ee,this.S)):Ee=this.S),this.m!==null||this.O||(pe.H=Ee,Ee=null),this.P)e:{for(var L=0,D=0;D<this.i.length;D++){t:{var G=this.i[D];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(L+=G,4096<L){L=D;break e}if(L===4096||D===this.i.length-1){L=D+1;break e}}L=1e3}else L=1e3;L=Yo(this,pe,L),D=ai(this.I),an(D,"RID",f),an(D,"CVER",22),this.D&&an(D,"X-HTTP-Session-Id",this.D),oo(this,D),Ee&&(this.O?L="headers="+encodeURIComponent(String(Ls(Ee)))+"&"+L:this.m&&bu(D,this.m,Ee)),Sn(this.h,pe),this.Ua&&an(D,"TYPE","init"),this.P?(an(D,"$req",L),an(D,"SID","null"),pe.T=!0,eo(pe,D,null)):eo(pe,D,L),this.G=2}}else this.G==3&&(f?Qa(this,f):this.i.length==0||Pc(this.h)||Qa(this))};function Qa(f,L){var D;L?D=L.l:D=f.U++;const G=ai(f.I);an(G,"SID",f.K),an(G,"RID",D),an(G,"AID",f.T),oo(f,G),f.m&&f.o&&bu(G,f.m,f.o),D=new Hn(f,f.j,D,f.B+1),f.m===null&&(D.H=f.o),L&&(f.i=L.D.concat(f.i)),L=Yo(f,D,1e3),D.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Sn(f.h,D),eo(D,G,L)}function oo(f,L){f.H&&H(f.H,function(D,G){an(L,G,D)}),f.l&&Ic({},function(D,G){an(L,G,D)})}function Yo(f,L,D){D=Math.min(f.i.length,D);var G=f.l?m(f.l.Na,f.l,f):null;e:{var pe=f.i;let Ee=-1;for(;;){const Oe=["count="+D];Ee==-1?0<D?(Ee=pe[0].g,Oe.push("ofs="+Ee)):Ee=0:Oe.push("ofs="+Ee);let xt=!0;for(let Bt=0;Bt<D;Bt++){let St=pe[Bt].g;const tn=pe[Bt].map;if(St-=Ee,0>St)Ee=Math.max(0,pe[Bt].g-100),xt=!1;else try{wu(tn,Oe,"req"+St+"_")}catch{G&&G(tn)}}if(xt){G=Oe.join("&");break e}}}return f=f.i.splice(0,D),L.D=f,G}function Ja(f){if(!f.g&&!f.u){f.Y=1;var L=f.Fa;re||ie(),z||(re(),z=!0),ne.add(L,f),f.v=0}}function Go(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Br(m(f.Fa,f),Za(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Br(m(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qe(10),Ga(this),Fc(this))};function Xa(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function Fc(f){f.g=new Hn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var L=ai(f.qa);an(L,"RID","rpc"),an(L,"SID",f.K),an(L,"AID",f.T),an(L,"CI",f.F?"0":"1"),!f.F&&f.ja&&an(L,"TO",f.ja),an(L,"TYPE","xmlhttp"),oo(f,L),f.m&&f.o&&bu(L,f.m,f.o),f.L&&(f.g.I=f.L);var D=f.g;f=f.ia,D.L=1,D.v=qo(ai(L)),D.m=null,D.P=!0,jo(D,f)}t.Za=function(){this.C!=null&&(this.C=null,Ga(this),Go(this),Qe(19))};function Ts(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function ao(f,L){var D=null;if(f.g==L){Ts(f),Xa(f),f.g=null;var G=2}else if(fu(f.h,L))D=L.D,pu(f.h,L),G=1;else return;if(f.G!=0){if(L.o)if(G==1){D=L.m?L.m.length:0,L=Date.now()-L.F;var pe=f.B;G=ri(),ct(G,new at(G,D)),Ka(f)}else Ja(f);else if(pe=L.s,pe==3||pe==0&&0<L.X||!(G==1&&ku(f,L)||G==2&&Go(f)))switch(D&&0<D.length&&(L=f.h,L.i=L.i.concat(D)),pe){case 1:Ur(f,5);break;case 4:Ur(f,10);break;case 3:Ur(f,6);break;default:Ur(f,2)}}}function Za(f,L){let D=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(D*=2),D*L}function Ur(f,L){if(f.j.info("Error code "+L),L==2){var D=m(f.fb,f),G=f.Xa;const pe=!G;G=new jn(G||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||zo(G,"https"),qo(G),pe?Zi(G.toString(),D):Rc(G.toString(),D)}else Qe(2);f.G=0,f.l&&f.l.sa(L),el(f),Wo(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function el(f){if(f.G=0,f.ka=[],f.l){const L=mu(f.h);(L.length!=0||f.i.length!=0)&&(k(f.ka,L),k(f.ka,f.i),f.h.i.length=0,_(f.i),f.i.length=0),f.l.ra()}}function y(f,L,D){var G=D instanceof jn?ai(D):new jn(D);if(G.g!="")L&&(G.g=L+"."+G.g),Va(G,G.s);else{var pe=a.location;G=pe.protocol,L=L?L+"."+pe.hostname:pe.hostname,pe=+pe.port;var Ee=new jn(null);G&&zo(Ee,G),L&&(Ee.g=L),pe&&Va(Ee,pe),D&&(Ee.l=D),G=Ee}return D=f.D,L=f.ya,D&&L&&an(G,D,L),an(G,"VER",f.la),oo(f,G),G}function V(f,L,D){if(L&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=f.Ca&&!f.pa?new en(new $a({eb:D})):new en(f.pa),L.Ha(f.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function se(){}t=se.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function le(){}le.prototype.g=function(f,L){return new me(f,L)};function me(f,L){ot.call(this),this.g=new Ya(L),this.l=f,this.h=L&&L.messageUrlParams||null,f=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(f?f["X-WebChannel-Content-Type"]=L.messageContentType:f={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(f?f["X-WebChannel-Client-Profile"]=L.va:f={"X-WebChannel-Client-Profile":L.va}),this.g.S=f,(f=L&&L.Sb)&&!b(f)&&(this.g.m=f),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!b(L)&&(this.g.D=L,f=this.h,f!==null&&L in f&&(f=this.h,L in f&&delete f[L])),this.j=new Ye(this)}v(me,ot),me.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},me.prototype.close=function(){Cs(this.g)},me.prototype.o=function(f){var L=this.g;if(typeof f=="string"){var D={};D.__data__=f,f=D}else this.u&&(D={},D.__data__=jt(f),f=D);L.i.push(new Sh(L.Ya++,f)),L.G==3&&Ka(L)},me.prototype.N=function(){this.g.l=null,delete this.j,Cs(this.g),delete this.g,me.aa.N.call(this)};function Te(f){jr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var L=f.__sm__;if(L){e:{for(const D in L){f=D;break e}f=void 0}(this.i=f)&&(f=this.i,L=L!==null&&f in L?L[f]:void 0),this.data=L}else this.data=f}v(Te,jr);function Me(){Jt.call(this),this.status=1}v(Me,Jt);function Ye(f){this.g=f}v(Ye,se),Ye.prototype.ua=function(){ct(this.g,"a")},Ye.prototype.ta=function(f){ct(this.g,new Te(f))},Ye.prototype.sa=function(f){ct(this.g,new Me)},Ye.prototype.ra=function(){ct(this.g,"b")},le.prototype.createWebChannel=le.prototype.g,me.prototype.send=me.prototype.o,me.prototype.open=me.prototype.m,me.prototype.close=me.prototype.close,p4=function(){return new le},f4=function(){return ri()},h4=ut,A2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,lg=Vr,bi.COMPLETE="complete",d4=bi,pn.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",ot.prototype.listen=ot.prototype.K,pf=pn,en.prototype.listenOnce=en.prototype.L,en.prototype.getLastError=en.prototype.Ka,en.prototype.getLastErrorCode=en.prototype.Ba,en.prototype.getStatus=en.prototype.Z,en.prototype.getResponseJson=en.prototype.Oa,en.prototype.getResponseText=en.prototype.oa,en.prototype.send=en.prototype.ea,en.prototype.setWithCredentials=en.prototype.Ha,c4=en}).apply(typeof Tm<"u"?Tm:typeof self<"u"?self:typeof window<"u"?window:{});const sx="@firebase/firestore",ox="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new x5("@firebase/firestore");function td(){return dc.logLevel}function Ze(t,...e){if(dc.logLevel<=Ut.DEBUG){const n=e.map(F5);dc.debug(`Firestore (${gh}): ${t}`,...n)}}function Ca(t,...e){if(dc.logLevel<=Ut.ERROR){const n=e.map(F5);dc.error(`Firestore (${gh}): ${t}`,...n)}}function Kd(t,...e){if(dc.logLevel<=Ut.WARN){const n=e.map(F5);dc.warn(`Firestore (${gh}): ${t}`,...n)}}function F5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,m4(t,r,n)}function m4(t,e,n){let r=`FIRESTORE (${gh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ca(r),new Error(r)}function sn(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||m4(e,i,r)}function Lt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Ra{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kr.UNAUTHENTICATED))}shutdown(){}}class B7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class V7{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){sn(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new zl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zl)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(sn(typeof r.accessToken=="string",31837,{l:r}),new g4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return sn(e===null||typeof e=="string",2055,{h:e}),new Kr(e)}}class U7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class z7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new U7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ax{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){sn(this.o===void 0,3512);const r=s=>{s.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Ze("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ax(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(sn(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ax(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=$7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Nt(t,e){return t<e?-1:t>e?1:0}function I2(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Nt(r,i);{const s=v4(),o=H7(s.encode(lx(t,n)),s.encode(lx(e,n)));return o!==0?o:Nt(r,i)}}n+=r>65535?2:1}return Nt(t.length,e.length)}function lx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function H7(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Nt(t[n],e[n]);return Nt(t.length,e.length)}function Qd(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=-62135596800,cx=1e6;class gr{static now(){return gr.fromMillis(Date.now())}static fromDate(e){return gr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cx);return new gr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pt(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pt(Ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ux)throw new pt(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pt(Ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cx}_compareTo(e){return this.seconds===e.seconds?Nt(this.nanoseconds,e.nanoseconds):Nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ux;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new gr(0,0))}static max(){return new Et(new gr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="__name__";class go{constructor(e,n,r){n===void 0?n=0:n>e.length&&bt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&bt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return go.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof go?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=go.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Nt(e.length,n.length)}static compareSegments(e,n){const r=go.isNumericId(e),i=go.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?go.extractNumericId(e).compare(go.extractNumericId(n)):I2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ul.fromString(e.substring(4,e.length-2))}}class zn extends go{construct(e,n,r){return new zn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new pt(Ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new zn(n)}static emptyPath(){return new zn([])}}const W7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rr extends go{construct(e,n,r){return new Rr(e,n,r)}static isValidIdentifier(e){return W7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dx}static keyField(){return new Rr([dx])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new pt(Ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new pt(Ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new pt(Ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new pt(Ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rr(n)}static emptyPath(){return new Rr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(zn.fromString(e))}static fromName(e){return new mt(zn.fromString(e).popFirst(5))}static empty(){return new mt(zn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&zn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return zn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new zn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=-1;function Y7(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Et.fromTimestamp(r===1e9?new gr(n+1,0):new gr(n,r));return new Gl(i,mt.empty(),e)}function G7(t){return new Gl(t.readTime,t.key,tp)}class Gl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gl(Et.min(),mt.empty(),tp)}static max(){return new Gl(Et.max(),mt.empty(),tp)}}function K7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=mt.comparator(t.documentKey,e.documentKey),n!==0?n:Nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t){if(t.code!==Ve.FAILED_PRECONDITION||t.message!==Q7)throw t;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new De((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof De?n:De.resolve(n)}catch(n){return De.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):De.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):De.reject(n)}static resolve(e){return new De((n,r)=>{n(e)})}static reject(e){return new De((n,r)=>{r(e)})}static waitFor(e){return new De((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=De.resolve(!1);for(const r of e)n=n.next(i=>i?De.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new De((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new De((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function X7(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}m0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=-1;function g0(t){return t==null}function ov(t){return t===0&&1/t==-1/0}function Z7(t){return typeof t=="number"&&Number.isInteger(t)&&!ov(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="";function eF(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=hx(e)),e=tF(t.get(n),e);return hx(e)}function tF(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case w4:n+="";break;default:n+=s}}return n}function hx(t){return t+w4+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _c(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function b4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n){this.comparator=e,this.root=n||Dr.EMPTY}insert(e,n){return new On(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dr.BLACK,null,null))}remove(e){return new On(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pm(this.root,e,this.comparator,!0)}}class Pm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dr.RED,this.left=i??Dr.EMPTY,this.right=s??Dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Dr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw bt(27949);return e+(this.isRed()?0:1)}}Dr.EMPTY=null,Dr.RED=!0,Dr.BLACK=!1;Dr.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Dr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new px(this.data.getIterator())}getIteratorFrom(e){return new px(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vr(this.comparator);return n.data=e,n}}class px{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.fields=e,e.sort(Rr.comparator)}static empty(){return new Vs([])}unionWith(e){let n=new vr(Rr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Qd(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _4("Invalid base64 string: "+s):s}}(e);return new Fr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Fr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fr.EMPTY_BYTE_STRING=new Fr("");const nF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kl(t){if(sn(!!t,39018),typeof t=="string"){let e=0;const n=nF.exec(t);if(sn(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gn(t.seconds),nanos:Gn(t.nanos)}}function Gn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ql(t){return typeof t=="string"?Fr.fromBase64String(t):Fr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="server_timestamp",x4="__type__",S4="__previous_value__",k4="__local_write_time__";function B5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[x4])===null||n===void 0?void 0:n.stringValue)===E4}function v0(t){const e=t.mapValue.fields[S4];return B5(e)?v0(e):e}function np(t){const e=Kl(t.mapValue.fields[k4].timestampValue);return new gr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(e,n,r,i,s,o,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const av="(default)";class rp{constructor(e,n){this.projectId=e,this.database=n||av}static empty(){return new rp("","")}get isDefaultDatabase(){return this.database===av}isEqual(e){return e instanceof rp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="__type__",iF="__max__",Am={mapValue:{}},C4="__vector__",lv="value";function Jl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?B5(t)?4:oF(t)?9007199254740991:sF(t)?10:11:bt(28295,{value:t})}function No(t,e){if(t===e)return!0;const n=Jl(t);if(n!==Jl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return np(t).isEqual(np(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Kl(i.timestampValue),a=Kl(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ql(i.bytesValue).isEqual(Ql(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Gn(i.geoPointValue.latitude)===Gn(s.geoPointValue.latitude)&&Gn(i.geoPointValue.longitude)===Gn(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Gn(i.integerValue)===Gn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Gn(i.doubleValue),a=Gn(s.doubleValue);return o===a?ov(o)===ov(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Qd(t.arrayValue.values||[],e.arrayValue.values||[],No);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(fx(o)!==fx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!No(o[l],a[l])))return!1;return!0}(t,e);default:return bt(52216,{left:t})}}function ip(t,e){return(t.values||[]).find(n=>No(n,e))!==void 0}function Jd(t,e){if(t===e)return 0;const n=Jl(t),r=Jl(e);if(n!==r)return Nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Nt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Gn(s.integerValue||s.doubleValue),l=Gn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return mx(t.timestampValue,e.timestampValue);case 4:return mx(np(t),np(e));case 5:return I2(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ql(s),l=Ql(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Nt(a[u],l[u]);if(c!==0)return c}return Nt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Nt(Gn(s.latitude),Gn(o.latitude));return a!==0?a:Nt(Gn(s.longitude),Gn(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const h=s.fields||{},m=o.fields||{},p=(a=h[lv])===null||a===void 0?void 0:a.arrayValue,v=(l=m[lv])===null||l===void 0?void 0:l.arrayValue,_=Nt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return _!==0?_:gx(p,v)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Am.mapValue&&o===Am.mapValue)return 0;if(s===Am.mapValue)return 1;if(o===Am.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const m=I2(l[h],c[h]);if(m!==0)return m;const p=Jd(a[l[h]],u[c[h]]);if(p!==0)return p}return Nt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw bt(23264,{Pe:n})}}function mx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Nt(t,e);const n=Kl(t),r=Kl(e),i=Nt(n.seconds,r.seconds);return i!==0?i:Nt(n.nanos,r.nanos)}function gx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Jd(n[i],r[i]);if(s)return s}return Nt(n.length,r.length)}function Xd(t){return N2(t)}function N2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Kl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ql(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return mt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=N2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${N2(n.fields[o])}`;return i+"}"}(t.mapValue):bt(61005,{value:t})}function ug(t){switch(Jl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=v0(t);return e?16+ug(e):16;case 5:return 2*t.stringValue.length;case 6:return Ql(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ug(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return _c(r.fields,(s,o)=>{i+=s.length+ug(o)}),i}(t.mapValue);default:throw bt(13486,{value:t})}}function D2(t){return!!t&&"integerValue"in t}function V5(t){return!!t&&"arrayValue"in t}function vx(t){return!!t&&"nullValue"in t}function yx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cg(t){return!!t&&"mapValue"in t}function sF(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[L4])===null||n===void 0?void 0:n.stringValue)===C4}function Pf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _c(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iF}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.value=e}static empty(){return new fs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pf(n)}setAll(e){let n=Rr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Pf(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());cg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return No(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_c(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new fs(Pf(this.value))}}function T4(t){const e=[];return _c(t.fields,(n,r)=>{const i=new Rr([n]);if(cg(r)){const s=T4(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Vs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Jr(e,0,Et.min(),Et.min(),Et.min(),fs.empty(),0)}static newFoundDocument(e,n,r,i){return new Jr(e,1,n,Et.min(),r,i,0)}static newNoDocument(e,n){return new Jr(e,2,n,Et.min(),Et.min(),fs.empty(),0)}static newUnknownDocument(e,n){return new Jr(e,3,n,Et.min(),Et.min(),fs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){this.position=e,this.inclusive=n}}function wx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=mt.comparator(mt.fromName(o.referenceValue),n.key):r=Jd(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!No(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n="asc"){this.field=e,this.dir=n}}function aF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{}class pr extends P4{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uF(e,n,r):n==="array-contains"?new hF(e,r):n==="in"?new fF(e,r):n==="not-in"?new pF(e,r):n==="array-contains-any"?new mF(e,r):new pr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cF(e,r):new dF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jd(n,this.value)):n!==null&&Jl(this.value)===Jl(n)&&this.matchesComparison(Jd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Do extends P4{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Do(e,n)}matches(e){return A4(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function A4(t){return t.op==="and"}function I4(t){return lF(t)&&A4(t)}function lF(t){for(const e of t.filters)if(e instanceof Do)return!1;return!0}function R2(t){if(t instanceof pr)return t.field.canonicalString()+t.op.toString()+Xd(t.value);if(I4(t))return t.filters.map(e=>R2(e)).join(",");{const e=t.filters.map(n=>R2(n)).join(",");return`${t.op}(${e})`}}function N4(t,e){return t instanceof pr?function(r,i){return i instanceof pr&&r.op===i.op&&r.field.isEqual(i.field)&&No(r.value,i.value)}(t,e):t instanceof Do?function(r,i){return i instanceof Do&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&N4(o,i.filters[a]),!0):!1}(t,e):void bt(19439)}function D4(t){return t instanceof pr?function(n){return`${n.field.canonicalString()} ${n.op} ${Xd(n.value)}`}(t):t instanceof Do?function(n){return n.op.toString()+" {"+n.getFilters().map(D4).join(" ,")+"}"}(t):"Filter"}class uF extends pr{constructor(e,n,r){super(e,n,r),this.key=mt.fromName(r.referenceValue)}matches(e){const n=mt.comparator(e.key,this.key);return this.matchesComparison(n)}}class cF extends pr{constructor(e,n){super(e,"in",n),this.keys=R4("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dF extends pr{constructor(e,n){super(e,"not-in",n),this.keys=R4("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function R4(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>mt.fromName(r.referenceValue))}class hF extends pr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return V5(n)&&ip(n.arrayValue,this.value)}}class fF extends pr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ip(this.value.arrayValue,n)}}class pF extends pr{constructor(e,n){super(e,"not-in",n)}matches(e){if(ip(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ip(this.value.arrayValue,n)}}class mF extends pr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!V5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ip(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function _x(t,e=null,n=[],r=[],i=null,s=null,o=null){return new gF(t,e,n,r,i,s,o)}function U5(t){const e=Lt(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>R2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),g0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xd(r)).join(",")),e.Ie=n}return e.Ie}function z5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!N4(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bx(t.startAt,e.startAt)&&bx(t.endAt,e.endAt)}function M2(t){return mt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function vF(t,e,n,r,i,s,o,a){return new y0(t,e,n,r,i,s,o,a)}function q5(t){return new y0(t)}function Ex(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yF(t){return t.collectionGroup!==null}function Af(t){const e=Lt(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new vr(Rr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new cv(s,r))}),n.has(Rr.keyField().canonicalString())||e.Ee.push(new cv(Rr.keyField(),r))}return e.Ee}function To(t){const e=Lt(t);return e.de||(e.de=wF(e,Af(t))),e.de}function wF(t,e){if(t.limitType==="F")return _x(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new cv(i.field,s)});const n=t.endAt?new uv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uv(t.startAt.position,t.startAt.inclusive):null;return _x(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function O2(t,e,n){return new y0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function w0(t,e){return z5(To(t),To(e))&&t.limitType===e.limitType}function M4(t){return`${U5(To(t))}|lt:${t.limitType}`}function nd(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>D4(i)).join(", ")}]`),g0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xd(i)).join(",")),`Target(${r})`}(To(t))}; limitType=${t.limitType})`}function b0(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):mt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Af(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=wx(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Af(r),i)||r.endAt&&!function(o,a,l){const u=wx(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Af(r),i))}(t,e)}function bF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function O4(t){return(e,n)=>{let r=!1;for(const i of Af(t)){const s=_F(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function _F(t,e,n){const r=t.field.isKeyField()?mt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Jd(l,u):bt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return bt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_c(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return b4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=new On(mt.comparator);function Ta(){return EF}const F4=new On(mt.comparator);function mf(...t){let e=F4;for(const n of t)e=e.insert(n.key,n);return e}function j4(t){let e=F4;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wu(){return If()}function B4(){return If()}function If(){return new Ec(t=>t.toString(),(t,e)=>t.isEqual(e))}const xF=new On(mt.comparator),SF=new vr(mt.comparator);function zt(...t){let e=SF;for(const n of t)e=e.add(n);return e}const kF=new vr(Nt);function LF(){return kF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ov(e)?"-0":e}}function V4(t){return{integerValue:""+t}}function CF(t,e){return Z7(e)?V4(e):$5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this._=void 0}}function TF(t,e,n){return t instanceof dv?function(i,s){const o={fields:{[x4]:{stringValue:E4},[k4]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&B5(s)&&(s=v0(s)),s&&(o.fields[S4]=s),{mapValue:o}}(n,e):t instanceof sp?z4(t,e):t instanceof op?q4(t,e):function(i,s){const o=U4(i,s),a=xx(o)+xx(i.Re);return D2(o)&&D2(i.Re)?V4(a):$5(i.serializer,a)}(t,e)}function PF(t,e,n){return t instanceof sp?z4(t,e):t instanceof op?q4(t,e):n}function U4(t,e){return t instanceof hv?function(r){return D2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class dv extends _0{}class sp extends _0{constructor(e){super(),this.elements=e}}function z4(t,e){const n=$4(e);for(const r of t.elements)n.some(i=>No(i,r))||n.push(r);return{arrayValue:{values:n}}}class op extends _0{constructor(e){super(),this.elements=e}}function q4(t,e){let n=$4(e);for(const r of t.elements)n=n.filter(i=>!No(i,r));return{arrayValue:{values:n}}}class hv extends _0{constructor(e,n){super(),this.serializer=e,this.Re=n}}function xx(t){return Gn(t.integerValue||t.doubleValue)}function $4(t){return V5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function AF(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof sp&&i instanceof sp||r instanceof op&&i instanceof op?Qd(r.elements,i.elements,No):r instanceof hv&&i instanceof hv?No(r.Re,i.Re):r instanceof dv&&i instanceof dv}(t.transform,e.transform)}class IF{constructor(e,n){this.version=e,this.transformResults=n}}class pa{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pa}static exists(e){return new pa(void 0,e)}static updateTime(e){return new pa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class E0{}function H4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Y4(t.key,pa.none()):new Cp(t.key,t.data,pa.none());{const n=t.data,r=fs.empty();let i=new vr(Rr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new xc(t.key,r,new Vs(i.toArray()),pa.none())}}function NF(t,e,n){t instanceof Cp?function(i,s,o){const a=i.value.clone(),l=kx(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof xc?function(i,s,o){if(!dg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=kx(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(W4(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Nf(t,e,n,r){return t instanceof Cp?function(s,o,a,l){if(!dg(s.precondition,o))return a;const u=s.value.clone(),c=Lx(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof xc?function(s,o,a,l){if(!dg(s.precondition,o))return a;const u=Lx(s.fieldTransforms,l,o),c=o.data;return c.setAll(W4(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return dg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function DF(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=U4(r.transform,i||null);s!=null&&(n===null&&(n=fs.empty()),n.set(r.field,s))}return n||null}function Sx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Qd(r,i,(s,o)=>AF(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cp extends E0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xc extends E0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function W4(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kx(t,e,n){const r=new Map;sn(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,PF(o,a,n[i]))}return r}function Lx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,TF(s,o,e))}return r}class Y4 extends E0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RF extends E0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&NF(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=B4();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=H4(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Et.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),zt())}isEqual(e){return this.batchId===e.batchId&&Qd(this.mutations,e.mutations,(n,r)=>Sx(n,r))&&Qd(this.baseMutations,e.baseMutations,(n,r)=>Sx(n,r))}}class H5{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){sn(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return xF}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new H5(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr,Ht;function jF(t){switch(t){case Ve.OK:return bt(64938);case Ve.CANCELLED:case Ve.UNKNOWN:case Ve.DEADLINE_EXCEEDED:case Ve.RESOURCE_EXHAUSTED:case Ve.INTERNAL:case Ve.UNAVAILABLE:case Ve.UNAUTHENTICATED:return!1;case Ve.INVALID_ARGUMENT:case Ve.NOT_FOUND:case Ve.ALREADY_EXISTS:case Ve.PERMISSION_DENIED:case Ve.FAILED_PRECONDITION:case Ve.ABORTED:case Ve.OUT_OF_RANGE:case Ve.UNIMPLEMENTED:case Ve.DATA_LOSS:return!0;default:return bt(15467,{code:t})}}function G4(t){if(t===void 0)return Ca("GRPC error has no .code"),Ve.UNKNOWN;switch(t){case lr.OK:return Ve.OK;case lr.CANCELLED:return Ve.CANCELLED;case lr.UNKNOWN:return Ve.UNKNOWN;case lr.DEADLINE_EXCEEDED:return Ve.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return Ve.RESOURCE_EXHAUSTED;case lr.INTERNAL:return Ve.INTERNAL;case lr.UNAVAILABLE:return Ve.UNAVAILABLE;case lr.UNAUTHENTICATED:return Ve.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return Ve.INVALID_ARGUMENT;case lr.NOT_FOUND:return Ve.NOT_FOUND;case lr.ALREADY_EXISTS:return Ve.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return Ve.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return Ve.FAILED_PRECONDITION;case lr.ABORTED:return Ve.ABORTED;case lr.OUT_OF_RANGE:return Ve.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return Ve.UNIMPLEMENTED;case lr.DATA_LOSS:return Ve.DATA_LOSS;default:return bt(39323,{code:t})}}(Ht=lr||(lr={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=new Ul([4294967295,4294967295],0);function Cx(t){const e=v4().encode(t),n=new u4;return n.update(e),new Uint8Array(n.digest())}function Tx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ul([n,r],0),new Ul([i,s],0)]}class W5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gf(`Invalid padding: ${n}`);if(r<0)throw new gf(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gf(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gf(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ul.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Ul.fromNumber(r)));return i.compare(BF)===1&&(i=new Ul([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Cx(e),[r,i]=Tx(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new W5(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=Cx(e),[r,i]=Tx(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Tp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new x0(Et.min(),i,new On(Nt),Ta(),zt())}}class Tp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tp(r,n,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class K4{constructor(e,n){this.targetId=e,this.Ce=n}}class Q4{constructor(e,n,r=Fr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Px{constructor(){this.Fe=0,this.Me=Ax(),this.xe=Fr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=zt(),n=zt(),r=zt();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:bt(38017,{changeType:s})}}),new Tp(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Ax()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,sn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class VF{constructor(e){this.ze=e,this.je=new Map,this.He=Ta(),this.Je=Im(),this.Ye=Im(),this.Ze=new On(Nt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:bt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(M2(s))if(r===0){const o=new mt(s.path);this.tt(n,o,Jr.newNoDocument(o,Et.min()))}else sn(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ql(r).toUint8Array()}catch(l){if(l instanceof _4)return Kd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new W5(o,i,s)}catch(l){return Kd(l instanceof gf?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&M2(a.target)){const l=new mt(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,Jr.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=zt();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new x0(e,n,this.Ze,this.He,r);return this.He=Ta(),this.Je=Im(),this.Ye=Im(),this.Ze=new On(Nt),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Px,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new vr(Nt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new vr(Nt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ze("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Px),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Im(){return new On(mt.comparator)}function Ax(){return new On(mt.comparator)}const UF={asc:"ASCENDING",desc:"DESCENDING"},zF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qF={and:"AND",or:"OR"};class $F{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function F2(t,e){return t.useProto3Json||g0(e)?e:{value:e}}function fv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function J4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HF(t,e){return fv(t,e.toTimestamp())}function Po(t){return sn(!!t,49232),Et.fromTimestamp(function(n){const r=Kl(n);return new gr(r.seconds,r.nanos)}(t))}function Y5(t,e){return j2(t,e).canonicalString()}function j2(t,e){const n=function(i){return new zn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function X4(t){const e=zn.fromString(t);return sn(rA(e),10190,{key:e.toString()}),e}function B2(t,e){return Y5(t.databaseId,e.path)}function Yy(t,e){const n=X4(e);if(n.get(1)!==t.databaseId.projectId)throw new pt(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pt(Ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new mt(eA(n))}function Z4(t,e){return Y5(t.databaseId,e)}function WF(t){const e=X4(t);return e.length===4?zn.emptyPath():eA(e)}function V2(t){return new zn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eA(t){return sn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Ix(t,e,n){return{name:B2(t,e),fields:n.value.mapValue.fields}}function YF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:bt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(sn(c===void 0||typeof c=="string",58123),Fr.fromBase64String(c||"")):(sn(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Fr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Ve.UNKNOWN:G4(u.code);return new pt(c,u.message||"")}(o);n=new Q4(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yy(t,r.document.name),s=Po(r.document.updateTime),o=r.document.createTime?Po(r.document.createTime):Et.min(),a=new fs({mapValue:{fields:r.document.fields}}),l=Jr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new hg(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Yy(t,r.document),s=r.readTime?Po(r.readTime):Et.min(),o=Jr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new hg([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Yy(t,r.document),s=r.removedTargetIds||[];n=new hg([],s,i,null)}else{if(!("filter"in e))return bt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new FF(i,s),a=r.targetId;n=new K4(a,o)}}return n}function GF(t,e){let n;if(e instanceof Cp)n={update:Ix(t,e.key,e.value)};else if(e instanceof Y4)n={delete:B2(t,e.key)};else if(e instanceof xc)n={update:Ix(t,e.key,e.data),updateMask:rj(e.fieldMask)};else{if(!(e instanceof RF))return bt(16599,{ft:e.type});n={verify:B2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof dv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof op)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hv)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw bt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:HF(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:bt(27497)}(t,e.precondition)),n}function KF(t,e){return t&&t.length>0?(sn(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Po(i.updateTime):Po(s);return o.isEqual(Et.min())&&(o=Po(s)),new IF(o,i.transformResults||[])}(n,e))):[]}function QF(t,e){return{documents:[Z4(t,e.path)]}}function JF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Z4(t,i);const s=function(u){if(u.length!==0)return nA(Do.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(m){return{field:rd(m.field),direction:ej(m.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=F2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function XF(t){let e=WF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){sn(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const m=tA(h);return m instanceof Do&&I4(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(v){return new cv(id(v.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,g0(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){const m=!!h.before,p=h.values||[];return new uv(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,p=h.values||[];return new uv(p,m)}(n.endAt)),vF(e,i,o,s,a,"F",l,u)}function ZF(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=id(n.unaryFilter.field);return pr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=id(n.unaryFilter.field);return pr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=id(n.unaryFilter.field);return pr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=id(n.unaryFilter.field);return pr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}}(t):t.fieldFilter!==void 0?function(n){return pr.create(id(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Do.create(n.compositeFilter.filters.map(r=>tA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return bt(1026)}}(n.compositeFilter.op))}(t):bt(30097,{filter:t})}function ej(t){return UF[t]}function tj(t){return zF[t]}function nj(t){return qF[t]}function rd(t){return{fieldPath:t.canonicalString()}}function id(t){return Rr.fromServerFormat(t.fieldPath)}function nA(t){return t instanceof pr?function(n){if(n.op==="=="){if(yx(n.value))return{unaryFilter:{field:rd(n.field),op:"IS_NAN"}};if(vx(n.value))return{unaryFilter:{field:rd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yx(n.value))return{unaryFilter:{field:rd(n.field),op:"IS_NOT_NAN"}};if(vx(n.value))return{unaryFilter:{field:rd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rd(n.field),op:tj(n.op),value:n.value}}}(t):t instanceof Do?function(n){const r=n.getFilters().map(i=>nA(i));return r.length===1?r[0]:{compositeFilter:{op:nj(n.op),filters:r}}}(t):bt(54877,{filter:t})}function rj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n,r,i,s=Et.min(),o=Et.min(),a=Fr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ll(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ll(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.wt=e}}function sj(t){const e=XF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?O2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.yn=new aj}addToCollectionParentIndex(e,n){return this.yn.add(n),De.resolve()}getCollectionParents(e,n){return De.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return De.resolve()}deleteFieldIndex(e,n){return De.resolve()}deleteAllFieldIndexes(e){return De.resolve()}createTargetIndexes(e,n){return De.resolve()}getDocumentsMatchingTarget(e,n){return De.resolve(null)}getIndexType(e,n){return De.resolve(0)}getFieldIndexes(e,n){return De.resolve([])}getNextCollectionGroupToUpdate(e){return De.resolve(null)}getMinOffset(e,n){return De.resolve(Gl.min())}getMinOffsetFromCollectionGroup(e,n){return De.resolve(Gl.min())}updateCollectionGroup(e,n,r){return De.resolve()}updateIndexEntries(e,n){return De.resolve()}}class aj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vr(zn.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vr(zn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},iA=41943040;class Li{static withCacheSize(e){return new Li(e,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(iA,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Zd(0)}static ir(){return new Zd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="LruGarbageCollector",lj=1048576;function Rx([t,e],[n,r]){const i=Nt(t,n);return i===0?Nt(e,r):i}class uj{constructor(e){this.cr=e,this.buffer=new vr(Rx),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Rx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ze(Dx,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yh(n)?Ze(Dx,"Ignoring IndexedDB error during garbage collection: ",n):await vh(n)}await this.Ir(3e5)})}}class dj{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return De.resolve(m0.le);const r=new uj(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),De.resolve(Nx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nx):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),td()<=Ut.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),De.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function hj(t,e){return new dj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this.changes=new Ec(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?De.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Nf(r.mutation,i,Vs.empty(),gr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,zt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=zt()){const i=Wu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=mf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,zt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ta();const o=If(),a=function(){return If()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof xc)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Nf(c.mutation,u,c.mutation.getFieldMask(),gr.now())):o.set(u.key,Vs.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new pj(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=If();let i=new On((o,a)=>o-a),s=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Vs.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||zt()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=B4();c.forEach(m=>{if(!s.has(m)){const p=H4(n.get(m),r.get(m));p!==null&&h.set(m,p),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return De.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return mt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):De.resolve(Wu());let a=tp,l=s;return o.next(u=>De.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?De.resolve():this.remoteDocumentCache.getEntry(e,c).next(m=>{l=l.insert(c,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,zt())).next(c=>({batchId:a,changes:j4(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new mt(n)).next(r=>{let i=mf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=mf();return this.indexManager.getCollectionParents(e,s).next(a=>De.forEach(a,l=>{const u=function(h,m){return new y0(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Jr.newInvalidDocument(c)))});let a=mf();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Nf(c.mutation,u,Vs.empty(),gr.now()),b0(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return De.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Po(i.createTime)}}(n)),De.resolve()}getNamedQuery(e,n){return De.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:sj(i.bundledQuery),readTime:Po(i.readTime)}}(n)),De.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(){this.overlays=new On(mt.comparator),this.Or=new Map}getOverlay(e,n){return De.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wu();return De.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),De.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),De.resolve()}getOverlaysForCollection(e,n,r){const i=Wu(),s=n.length+1,o=new mt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return De.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new On((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Wu(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Wu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return De.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new OF(n,r));let s=this.Or.get(n);s===void 0&&(s=zt(),this.Or.set(n,s)),this.Or.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(){this.sessionToken=Fr.EMPTY_BYTE_STRING}getSessionToken(e){return De.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,De.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(){this.Nr=new vr(_r.Br),this.Lr=new vr(_r.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new _r(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new _r(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new mt(new zn([])),r=new _r(n,e),i=new _r(n,e+1),s=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new mt(new zn([])),r=new _r(n,e),i=new _r(n,e+1);let s=zt();return this.Lr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new _r(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _r{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return mt.comparator(e.key,n.key)||Nt(e.Gr,n.Gr)}static kr(e,n){return Nt(e.Gr,n.Gr)||mt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new vr(_r.Br)}checkEmpty(e){return De.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new MF(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.zr=this.zr.add(new _r(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return De.resolve(o)}lookupMutationBatch(e,n){return De.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),s=i<0?0:i;return De.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return De.resolve(this.mutationQueue.length===0?j5:this.Jn-1)}getAllMutationBatches(e){return De.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _r(n,0),i=new _r(n,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],o=>{const a=this.jr(o.Gr);s.push(a)}),De.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vr(Nt);return n.forEach(i=>{const s=new _r(i,0),o=new _r(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],a=>{r=r.add(a.Gr)})}),De.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;mt.isDocumentKey(s)||(s=s.child(""));const o=new _r(new mt(s),0);let a=new vr(Nt);return this.zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Gr)),!0)},o),De.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){sn(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return De.forEach(n.mutations,i=>{const s=new _r(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new _r(n,0),i=this.zr.firstAfterOrEqual(r);return De.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,De.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e){this.Zr=e,this.docs=function(){return new On(mt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return De.resolve(r?r.document.mutableCopy():Jr.newInvalidDocument(n))}getEntries(e,n){let r=Ta();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jr.newInvalidDocument(i))}),De.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ta();const o=n.path,a=new mt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||K7(G7(c),r)<=0||(i.has(c.key)||b0(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return De.resolve(s)}getAllFromCollectionGroup(e,n,r,i){bt(9500)}Xr(e,n){return De.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new _j(this)}getSize(e){return De.resolve(this.size)}}class _j extends fj{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),De.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.persistence=e,this.ei=new Ec(n=>U5(n),z5),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ti=0,this.ni=new G5,this.targetCount=0,this.ri=Zd.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),De.resolve()}getLastRemoteSnapshotVersion(e){return De.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return De.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),De.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),De.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Zd(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,De.resolve()}updateTargetData(e,n){return this.ar(n),De.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,De.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),De.waitFor(s).next(()=>i)}getTargetCount(e){return De.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return De.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),De.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),De.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),De.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return De.resolve(r)}containsKey(e,n){return De.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n){this.ii={},this.overlays={},this.si=new m0(0),this.oi=!1,this.oi=!0,this._i=new yj,this.referenceDelegate=e(this),this.ai=new Ej(this),this.indexManager=new oj,this.remoteDocumentCache=function(i){return new bj(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new ij(n),this.ci=new gj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new wj(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){Ze("MemoryPersistence","Starting transaction:",e);const i=new xj(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,n){return De.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class xj extends J7{constructor(e){super(),this.currentSequenceNumber=e}}class K5{constructor(e){this.persistence=e,this.Ti=new G5,this.Ii=null}static Ei(e){return new K5(e)}get di(){if(this.Ii)return this.Ii;throw bt(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),De.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),De.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),De.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return De.forEach(this.di,r=>{const i=mt.fromPath(r);return this.Ai(e,i).next(s=>{s||n.removeEntry(i,Et.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return De.or([()=>De.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class pv{constructor(e,n){this.persistence=e,this.Ri=new Ec(r=>eF(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=hj(this,n)}static Ei(e,n){return new pv(e,n)}li(){}hi(e){return De.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return De.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?De.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,Et.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),De.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),De.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),De.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),De.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ug(e.data.value)),n}gr(e,n,r){return De.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return De.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=zt(),i=zt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Q5(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return vO()?8:X7(ti())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Sj;return this.fs(e,n,o).next(a=>{if(s.result=a,this.Is)return this.gs(e,n,o,a.size)})}).next(()=>s.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(td()<=Ut.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",nd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),De.resolve()):(td()<=Ut.DEBUG&&Ze("QueryEngine","Query:",nd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(td()<=Ut.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",nd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,To(n))):De.resolve())}Rs(e,n){if(Ex(n))return De.resolve(null);let r=To(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=O2(n,null,"F"),r=To(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=zt(...s);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ps(n,a);return this.ys(n,u,o,l.readTime)?this.Rs(e,O2(n,null,"F")):this.ws(e,u,n,l)}))})))}Vs(e,n,r,i){return Ex(n)||i.isEqual(Et.min())?De.resolve(null):this.As.getDocuments(e,r).next(s=>{const o=this.ps(n,s);return this.ys(n,o,r,i)?De.resolve(null):(td()<=Ut.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nd(n)),this.ws(e,o,n,Y7(i,tp)).next(a=>a))})}ps(e,n){let r=new vr(O4(e));return n.forEach((i,s)=>{b0(e,s)&&(r=r.add(s))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,n,r){return td()<=Ut.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",nd(n)),this.As.getDocumentsMatchingQuery(e,n,Gl.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5="LocalStore",Lj=3e8;class Cj{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new On(Nt),this.Ds=new Ec(s=>U5(s),z5),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mj(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function Tj(t,e,n,r){return new Cj(t,e,n,r)}async function oA(t,e){const n=Lt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=zt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ms:u,removedBatchIds:o,addedBatchIds:a}))})})}function Pj(t,e){const n=Lt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,m=h.keys();let p=De.resolve();return m.forEach(v=>{p=p.next(()=>c.getEntry(l,v)).next(_=>{const k=u.docVersions.get(v);sn(k!==null,48541),_.version.compareTo(k)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=zt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function aA(t){const e=Lt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function Aj(t,e){const n=Lt(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const a=[];e.targetChanges.forEach((c,h)=>{const m=i.get(h);if(!m)return;a.push(n.ai.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.ai.addMatchingKeys(s,c.addedDocuments,h)));let p=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Fr.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(_,k,w){return _.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=Lj?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,p,c)&&a.push(n.ai.updateTargetData(s,p))});let l=Ta(),u=zt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Ij(s,o,e.documentUpdates).next(c=>{l=c.xs,u=c.Os})),!r.isEqual(Et.min())){const c=n.ai.getLastRemoteSnapshotVersion(s).next(h=>n.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return De.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ss=i,s))}function Ij(t,e,n){let r=zt(),i=zt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ta();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Et.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ze(J5,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{xs:o,Os:i}})}function Nj(t,e){const n=Lt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=j5),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Dj(t,e){const n=Lt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(s=>s?(i=s,De.resolve(i)):n.ai.allocateTargetId(r).next(o=>(i=new Ll(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function U2(t,e,n){const r=Lt(t),i=r.Ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!yh(o))throw o;Ze(J5,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function Mx(t,e,n){const r=Lt(t);let i=Et.min(),s=zt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=Lt(l),m=h.Ds.get(c);return m!==void 0?De.resolve(h.Ss.get(m)):h.ai.getTargetData(u,c)}(r,o,To(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?i:Et.min(),n?s:zt())).next(a=>(Rj(r,bF(e),a),{documents:a,Ns:s})))}function Rj(t,e,n){let r=t.vs.get(e)||Et.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.vs.set(e,r)}class Ox{constructor(){this.activeTargetIds=LF()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mj{constructor(){this.So=new Ox,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Ox,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="ConnectivityMonitor";class jx{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ze(Fx,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ze(Fx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nm=null;function z2(){return Nm===null?Nm=function(){return 268435456+Math.round(2147483648*Math.random())}():Nm++,"0x"+Nm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="RestConnection",Fj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jj{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===av?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,s){const o=z2(),a=this.$o(e,n.toUriEncodedString());Ze(Gy,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,i,s);const{host:u}=new URL(a),c=u0(u);return this.Ko(e,a,l,r,c).then(h=>(Ze(Gy,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Kd(Gy,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Wo(e,n,r,i,s,o){return this.Qo(e,n,r,i,s)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gh}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,n){const r=Fj[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="WebChannelConnection";class Vj extends jj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i,s){const o=z2();return new Promise((a,l)=>{const u=new c4;u.setWithCredentials(!0),u.listenOnce(d4.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case lg.NO_ERROR:const h=u.getResponseJson();Ze($r,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case lg.TIMEOUT:Ze($r,`RPC '${e}' ${o} timed out`),l(new pt(Ve.DEADLINE_EXCEEDED,"Request time out"));break;case lg.HTTP_ERROR:const m=u.getStatus();if(Ze($r,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const _=function(w){const b=w.toLowerCase().replace(/_/g,"-");return Object.values(Ve).indexOf(b)>=0?b:Ve.UNKNOWN}(v.status);l(new pt(_,v.message))}else l(new pt(Ve.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new pt(Ve.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{s_:e,streamId:o,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{Ze($r,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Ze($r,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}a_(e,n,r){const i=z2(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=p4(),a=f4(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Ze($r,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let m=!1,p=!1;const v=new Bj({Go:k=>{p?Ze($r,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(m||(Ze($r,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),Ze($r,`RPC '${e}' stream ${i} sending:`,k),h.send(k))},zo:()=>h.close()}),_=(k,w,b)=>{k.listen(w,P=>{try{b(P)}catch(O){setTimeout(()=>{throw O},0)}})};return _(h,pf.EventType.OPEN,()=>{p||(Ze($r,`RPC '${e}' stream ${i} transport opened.`),v.t_())}),_(h,pf.EventType.CLOSE,()=>{p||(p=!0,Ze($r,`RPC '${e}' stream ${i} transport closed`),v.r_())}),_(h,pf.EventType.ERROR,k=>{p||(p=!0,Kd($r,`RPC '${e}' stream ${i} transport errored. Name:`,k.name,"Message:",k.message),v.r_(new pt(Ve.UNAVAILABLE,"The operation could not be completed")))}),_(h,pf.EventType.MESSAGE,k=>{var w;if(!p){const b=k.data[0];sn(!!b,16349);const P=b,O=(P==null?void 0:P.error)||((w=P[0])===null||w===void 0?void 0:w.error);if(O){Ze($r,`RPC '${e}' stream ${i} received error:`,O);const j=O.status;let H=function(T){const M=lr[T];if(M!==void 0)return G4(M)}(j),A=O.message;H===void 0&&(H=Ve.INTERNAL,A="Unknown error status: "+j+" with message "+O.message),p=!0,v.r_(new pt(H,A)),h.close()}else Ze($r,`RPC '${e}' stream ${i} received:`,b),v.i_(b)}}),_(a,h4.STAT_EVENT,k=>{k.stat===A2.PROXY?Ze($r,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===A2.NOPROXY&&Ze($r,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.n_()},0),v}}function Ky(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(t){return new $F(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="PersistentStream";class uA{constructor(e,n,r,i,s,o,a,l){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new lA(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===Ve.RESOURCE_EXHAUSTED?(Ca(n.toString()),Ca("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===Ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new pt(Ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ze(Bx,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(Ze(Bx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uj extends uA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=YF(this.serializer,e),r=function(s){if(!("targetChange"in s))return Et.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Et.min():o.readTime?Po(o.readTime):Et.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=V2(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=M2(l)?{documents:QF(s,l)}:{query:JF(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=J4(s,o.resumeToken);const u=F2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Et.min())>0){a.readTime=fv(s,o.snapshotVersion.toTimestamp());const u=F2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=ZF(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=V2(this.serializer),n.removeTarget=e,this.F_(n)}}class zj extends uA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return sn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,sn(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){sn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=KF(e.writeResults,e.commitTime),r=Po(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=V2(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>GF(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{}class $j extends qj{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new pt(Ve.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(e,j2(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new pt(Ve.UNKNOWN,s.toString())})}Wo(e,n,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,j2(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new pt(Ve.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class Hj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ca(n),this.ea=!1):Ze("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc="RemoteStore";class Wj{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{r.enqueueAndForget(async()=>{Sc(this)&&(Ze(hc,"Restarting streams for network reachability change."),await async function(l){const u=Lt(l);u.aa.add(4),await Pp(u),u.la.set("Unknown"),u.aa.delete(4),await k0(u)}(this))})}),this.la=new Hj(r,i)}}async function k0(t){if(Sc(t))for(const e of t.ua)await e(!0)}async function Pp(t){for(const e of t.ua)await e(!1)}function cA(t,e){const n=Lt(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),tb(n)?eb(n):wh(n).b_()&&Z5(n,e))}function X5(t,e){const n=Lt(t),r=wh(n);n._a.delete(e),r.b_()&&dA(n,e),n._a.size===0&&(r.b_()?r.v_():Sc(n)&&n.la.set("Unknown"))}function Z5(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wh(t).U_(e)}function dA(t,e){t.ha.Ke(e),wh(t).K_(e)}function eb(t){t.ha=new VF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),wh(t).start(),t.la.ta()}function tb(t){return Sc(t)&&!wh(t).w_()&&t._a.size>0}function Sc(t){return Lt(t).aa.size===0}function hA(t){t.ha=void 0}async function Yj(t){t.la.set("Online")}async function Gj(t){t._a.forEach((e,n)=>{Z5(t,e)})}async function Kj(t,e){hA(t),tb(t)?(t.la.ia(e),eb(t)):t.la.set("Unknown")}async function Qj(t,e,n){if(t.la.set("Online"),e instanceof Q4&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i._a.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i._a.delete(a),i.ha.removeTarget(a))}(t,e)}catch(r){Ze(hc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await mv(t,r)}else if(e instanceof hg?t.ha.Xe(e):e instanceof K4?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Et.min()))try{const r=await aA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ha.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s._a.get(u);c&&s._a.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s._a.get(l);if(!c)return;s._a.set(l,c.withResumeToken(Fr.EMPTY_BYTE_STRING,c.snapshotVersion)),dA(s,l);const h=new Ll(c.target,l,u,c.sequenceNumber);Z5(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Ze(hc,"Failed to raise snapshot:",r),await mv(t,r)}}async function mv(t,e,n){if(!yh(e))throw e;t.aa.add(1),await Pp(t),t.la.set("Offline"),n||(n=()=>aA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ze(hc,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await k0(t)})}function fA(t,e){return e().catch(n=>mv(t,n,e))}async function L0(t){const e=Lt(t),n=Xl(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:j5;for(;Jj(e);)try{const i=await Nj(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,Xj(e,i)}catch(i){await mv(e,i)}pA(e)&&mA(e)}function Jj(t){return Sc(t)&&t.oa.length<10}function Xj(t,e){t.oa.push(e);const n=Xl(t);n.b_()&&n.W_&&n.G_(e.mutations)}function pA(t){return Sc(t)&&!Xl(t).w_()&&t.oa.length>0}function mA(t){Xl(t).start()}async function Zj(t){Xl(t).H_()}async function e9(t){const e=Xl(t);for(const n of t.oa)e.G_(n.mutations)}async function t9(t,e,n){const r=t.oa.shift(),i=H5.from(r,e,n);await fA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await L0(t)}async function n9(t,e){e&&Xl(t).W_&&await async function(r,i){if(function(o){return jF(o)&&o!==Ve.ABORTED}(i.code)){const s=r.oa.shift();Xl(r).D_(),await fA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await L0(r)}}(t,e),pA(t)&&mA(t)}async function Vx(t,e){const n=Lt(t);n.asyncQueue.verifyOperationInProgress(),Ze(hc,"RemoteStore received new credentials");const r=Sc(n);n.aa.add(3),await Pp(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await k0(n)}async function r9(t,e){const n=Lt(t);e?(n.aa.delete(2),await k0(n)):e||(n.aa.add(2),await Pp(n),n.la.set("Unknown"))}function wh(t){return t.Pa||(t.Pa=function(n,r,i){const s=Lt(n);return s.Y_(),new Uj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:Yj.bind(null,t),Jo:Gj.bind(null,t),Zo:Kj.bind(null,t),Q_:Qj.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),tb(t)?eb(t):t.la.set("Unknown")):(await t.Pa.stop(),hA(t))})),t.Pa}function Xl(t){return t.Ta||(t.Ta=function(n,r,i){const s=Lt(n);return s.Y_(),new zj(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:Zj.bind(null,t),Zo:n9.bind(null,t),z_:e9.bind(null,t),j_:t9.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await L0(t)):(await t.Ta.stop(),t.oa.length>0&&(Ze(hc,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new nb(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pt(Ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rb(t,e){if(Ca("AsyncQueue",`${e}: ${t}`),yh(t))return new pt(Ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{static emptySet(e){return new Ad(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||mt.comparator(n.key,r.key):(n,r)=>mt.comparator(n.key,r.key),this.keyedMap=mf(),this.sortedSet=new On(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ad)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ad;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.Ia=new On(mt.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):bt(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class eh{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new eh(e,n,Ad.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&w0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class s9{constructor(){this.queries=zx(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=Lt(n),s=i.queries;i.queries=zx(),s.forEach((o,a)=>{for(const l of a.Ra)l.onError(r)})})(this,new pt(Ve.ABORTED,"Firestore shutting down"))}}function zx(){return new Ec(t=>M4(t),w0)}async function o9(t,e){const n=Lt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new i9,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=rb(o,`Initialization of query '${nd(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Ra.push(e),e.ga(n.onlineState),s.Aa&&e.pa(s.Aa)&&ib(n)}async function a9(t,e){const n=Lt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Ra.indexOf(e);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function l9(t,e){const n=Lt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Ra)a.pa(i)&&(r=!0);o.Aa=i}}r&&ib(n)}function u9(t,e,n){const r=Lt(t),i=r.queries.get(e);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(e)}function ib(t){t.fa.forEach(e=>{e.next()})}var q2,qx;(qx=q2||(q2={})).ya="default",qx.Cache="cache";class c9{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new eh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=eh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==q2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e){this.key=e}}class vA{constructor(e){this.key=e}}class d9{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=zt(),this.mutatedKeys=zt(),this.Ua=O4(e),this.Ka=new Ad(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new Ux,i=n?n.Ka:this.Ka;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const m=i.get(c),p=b0(this.query,h)?h:null,v=!!m&&this.mutatedKeys.has(m.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let k=!1;m&&p?m.data.isEqual(p.data)?v!==_&&(r.track({type:3,doc:p}),k=!0):this.ja(m,p)||(r.track({type:2,doc:p}),k=!0,(l&&this.Ua(p,l)>0||u&&this.Ua(p,u)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),k=!0):m&&!p&&(r.track({type:1,doc:m}),k=!0,(l||u)&&(a=!0)),k&&(p?(o=o.add(p),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ka:o,za:r,ys:a,mutatedKeys:s}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((c,h)=>function(p,v){const _=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Vt:k})}};return _(p)-_(v)}(c.type,h.type)||this.Ua(c.doc,h.doc)),this.Ha(r),i=i!=null&&i;const a=n&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,u=l!==this.Qa;return this.Qa=l,o.length!==0||u?{snapshot:new eh(this.query,e.Ka,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Ux,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=zt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new vA(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new gA(r))}),n}Xa(e){this.qa=e.Ns,this.$a=zt();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return eh.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const sb="SyncEngine";class h9{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class f9{constructor(e){this.key=e,this.tu=!1}}class p9{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new Ec(a=>M4(a),w0),this.iu=new Map,this.su=new Set,this.ou=new On(mt.comparator),this._u=new Map,this.au=new G5,this.uu={},this.cu=new Map,this.lu=Zd.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function m9(t,e,n=!0){const r=xA(t);let i;const s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await yA(r,e,n,!0),i}async function g9(t,e){const n=xA(t);await yA(n,e,!0,!1)}async function yA(t,e,n,r){const i=await Dj(t.localStore,To(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await v9(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&cA(t.remoteStore,i),a}async function v9(t,e,n,r,i){t.Pu=(h,m,p)=>async function(_,k,w,b){let P=k.view.Ga(w);P.ys&&(P=await Mx(_.localStore,k.query,!1).then(({documents:A})=>k.view.Ga(A,P)));const O=b&&b.targetChanges.get(k.targetId),j=b&&b.targetMismatches.get(k.targetId)!=null,H=k.view.applyChanges(P,_.isPrimaryClient,O,j);return Hx(_,k.targetId,H.Ya),H.snapshot}(t,h,m,p);const s=await Mx(t.localStore,e,!0),o=new d9(e,s.Ns),a=o.Ga(s.documents),l=Tp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);Hx(t,n,u.Ya);const c=new h9(e,n,o);return t.ru.set(e,c),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),u.snapshot}async function y9(t,e,n){const r=Lt(t),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(o=>!w0(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await U2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&X5(r.remoteStore,i.targetId),$2(r,i.targetId)}).catch(vh)):($2(r,i.targetId),await U2(r.localStore,i.targetId,!0))}async function w9(t,e){const n=Lt(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),X5(n.remoteStore,r.targetId))}async function b9(t,e,n){const r=C9(t);try{const i=await function(o,a){const l=Lt(o),u=gr.now(),c=a.reduce((p,v)=>p.add(v.key),zt());let h,m;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=Ta(),_=zt();return l.Cs.getEntries(p,c).next(k=>{v=k,v.forEach((w,b)=>{b.isValidDocument()||(_=_.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,v)).next(k=>{h=k;const w=[];for(const b of a){const P=DF(b,h.get(b.key).overlayedDocument);P!=null&&w.push(new xc(b.key,P,T4(P.value.mapValue),pa.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,w,a)}).next(k=>{m=k;const w=k.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(p,k.batchId,w)})}).then(()=>({batchId:m.batchId,changes:j4(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.uu[o.currentUser.toKey()];u||(u=new On(Nt)),u=u.insert(a,l),o.uu[o.currentUser.toKey()]=u}(r,i.batchId,n),await Ap(r,i.changes),await L0(r.remoteStore)}catch(i){const s=rb(i,"Failed to persist write");n.reject(s)}}async function wA(t,e){const n=Lt(t);try{const r=await Aj(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n._u.get(s);o&&(sn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?sn(o.tu,14607):i.removedDocuments.size>0&&(sn(o.tu,42227),o.tu=!1))}),await Ap(n,r,e)}catch(r){await vh(r)}}function $x(t,e,n){const r=Lt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((s,o)=>{const a=o.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Lt(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const m of h.Ra)m.ga(a)&&(u=!0)}),u&&ib(l)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _9(t,e,n){const r=Lt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),s=i&&i.key;if(s){let o=new On(mt.comparator);o=o.insert(s,Jr.newNoDocument(s,Et.min()));const a=zt().add(s),l=new x0(Et.min(),new Map,new On(Nt),o,a);await wA(r,l),r.ou=r.ou.remove(s),r._u.delete(e),ob(r)}else await U2(r.localStore,e,!1).then(()=>$2(r,e,n)).catch(vh)}async function E9(t,e){const n=Lt(t),r=e.batch.batchId;try{const i=await Pj(n.localStore,e);_A(n,r,null),bA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ap(n,i)}catch(i){await vh(i)}}async function x9(t,e,n){const r=Lt(t);try{const i=await function(o,a){const l=Lt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(sn(h!==null,37113),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);_A(r,e,n),bA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ap(r,i)}catch(i){await vh(i)}}function bA(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function _A(t,e,n){const r=Lt(t);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function $2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||EA(t,r)})}function EA(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(X5(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),ob(t))}function Hx(t,e,n){for(const r of n)r instanceof gA?(t.au.addReference(r.key,e),S9(t,r)):r instanceof vA?(Ze(sb,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||EA(t,r.key)):bt(19791,{Iu:r})}function S9(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(Ze(sb,"New document in limbo: "+n),t.su.add(r),ob(t))}function ob(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new mt(zn.fromString(e)),r=t.lu.next();t._u.set(r,new f9(n)),t.ou=t.ou.insert(n,r),cA(t.remoteStore,new Ll(To(q5(n.path)),r,"TargetPurposeLimboResolution",m0.le))}}async function Ap(t,e,n){const r=Lt(t),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,l)=>{o.push(r.Pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=Q5.Ps(l.targetId,u);s.push(h)}}))}),await Promise.all(o),r.nu.Q_(i),await async function(l,u){const c=Lt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>De.forEach(u,m=>De.forEach(m.ls,p=>c.persistence.referenceDelegate.addReference(h,m.targetId,p)).next(()=>De.forEach(m.hs,p=>c.persistence.referenceDelegate.removeReference(h,m.targetId,p)))))}catch(h){if(!yh(h))throw h;Ze(J5,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const p=c.Ss.get(m),v=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(v);c.Ss=c.Ss.insert(m,_)}}}(r.localStore,s))}async function k9(t,e){const n=Lt(t);if(!n.currentUser.isEqual(e)){Ze(sb,"User change. New user:",e.toKey());const r=await oA(n.localStore,e);n.currentUser=e,function(s,o){s.cu.forEach(a=>{a.forEach(l=>{l.reject(new pt(Ve.CANCELLED,o))})}),s.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ap(n,r.Ms)}}function L9(t,e){const n=Lt(t),r=n._u.get(e);if(r&&r.tu)return zt().add(r.key);{let i=zt();const s=n.iu.get(e);if(!s)return i;for(const o of s){const a=n.ru.get(o);i=i.unionWith(a.view.Wa)}return i}}function xA(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=L9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_9.bind(null,e),e.nu.Q_=l9.bind(null,e.eventManager),e.nu.Tu=u9.bind(null,e.eventManager),e}function C9(t){const e=Lt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=E9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x9.bind(null,e),e}class gv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=S0(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return Tj(this.persistence,new kj,e.initialUser,this.serializer)}Ru(e){return new sA(K5.Ei,this.serializer)}Au(e){return new Mj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gv.provider={build:()=>new gv};class T9 extends gv{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){sn(this.persistence.referenceDelegate instanceof pv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cj(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Li.withCacheSize(this.cacheSizeBytes):Li.DEFAULT;return new sA(r=>pv.Ei(r,n),this.serializer)}}class H2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$x(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=k9.bind(null,this.syncEngine),await r9(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new s9}()}createDatastore(e){const n=S0(e.databaseInfo.databaseId),r=function(s){return new Vj(s)}(e.databaseInfo);return function(s,o,a,l){return new $j(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Wj(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>$x(this.syncEngine,n,0),function(){return jx.C()?new jx:new Oj}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new p9(i,s,o,a,l,u);return c&&(h.hu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Lt(i);Ze(hc,"RemoteStore shutting down."),s.aa.add(5),await Pp(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}H2.provider={build:()=>new H2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ca("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="FirestoreClient";class A9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kr.UNAUTHENTICATED,this.clientId=y4.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Ze(Zl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Ze(Zl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rb(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qy(t,e){t.asyncQueue.verifyOperationInProgress(),Ze(Zl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Wx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await I9(t);Ze(Zl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Vx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Vx(e.remoteStore,i)),t._onlineComponents=e}async function I9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ze(Zl,"Using user provided OfflineComponentProvider");try{await Qy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ve.FAILED_PRECONDITION||i.code===Ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Kd("Error using user provided cache. Falling back to memory cache: "+n),await Qy(t,new gv)}}else Ze(Zl,"Using default OfflineComponentProvider"),await Qy(t,new T9(void 0));return t._offlineComponents}async function SA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ze(Zl,"Using user provided OnlineComponentProvider"),await Wx(t,t._uninitializedComponentsProvider._online)):(Ze(Zl,"Using default OnlineComponentProvider"),await Wx(t,new H2))),t._onlineComponents}function N9(t){return SA(t).then(e=>e.syncEngine)}async function D9(t){const e=await SA(t),n=e.eventManager;return n.onListen=m9.bind(null,e.syncEngine),n.onUnlisten=y9.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g9.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=w9.bind(null,e.syncEngine),n}function R9(t,e,n={}){const r=new zl;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new P9({next:m=>{c.yu(),o.enqueueAndForget(()=>a9(s,h));const p=m.docs.has(a);!p&&m.fromCache?u.reject(new pt(Ve.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?u.reject(new pt(Ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new c9(q5(a.path),c,{includeMetadataChanges:!0,Fa:!0});return o9(s,h)}(await D9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t,e,n){if(!n)throw new pt(Ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O9(t,e,n,r){if(e===!0&&r===!0)throw new pt(Ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Gx(t){if(!mt.isDocumentKey(t))throw new pt(Ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ab(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":bt(12329,{type:typeof t})}function ap(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pt(Ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ab(t);throw new pt(Ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="firestore.googleapis.com",Kx=!0;class Qx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new pt(Ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LA,this.ssl=Kx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Kx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=iA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lj)throw new pt(Ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pt(Ve.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pt(Ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pt(Ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new j7;switch(r.type){case"firstParty":return new z7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pt(Ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Yx.get(n);r&&(Ze("ComponentProvider","Removing Datastore"),Yx.delete(n),r.terminate())}(this),Promise.resolve()}}function F9(t,e,n,r={}){var i;t=ap(t,lb);const s=u0(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&aP(`https://${l}`),o.host!==LA&&o.host!==l&&Kd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!lc(u,a)&&(t._setSettings(u),r.mockUserToken)){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=Kr.MOCK_USER;else{c=cO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new pt(Ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Kr(m)}t._authCredentials=new B7(new g4(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ub(this.firestore,e,this._query)}}class gs{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gs(this.firestore,e,this._key)}}class lp extends ub{constructor(e,n,r){super(e,n,q5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gs(this.firestore,null,new mt(e))}withConverter(e){return new lp(this.firestore,e,this._path)}}function Ws(t,e,...n){if(t=Ri(t),arguments.length===1&&(e=y4.newId()),M9("doc","path",e),t instanceof lb){const r=zn.fromString(e,...n);return Gx(r),new gs(t,null,new mt(r))}{if(!(t instanceof gs||t instanceof lp))throw new pt(Ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(zn.fromString(e,...n));return Gx(r),new gs(t.firestore,t instanceof lp?t.converter:null,new mt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="AsyncQueue";class Xx{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new lA(this,"async_queue_retry"),this.ju=()=>{const r=Ky();r&&Ze(Jx,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Ky();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Ky();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new zl;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!yh(e))throw e;Ze(Jx,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ca("INTERNAL UNHANDLED ERROR: ",Zx(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=nb.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&bt(47125,{ec:Zx(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function Zx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class cb extends lb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Xx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xx(e),this._firestoreClient=void 0,await e}}}function j9(t,e){const n=typeof t=="object"?t:dP(),r=typeof t=="string"?t:av,i=k5(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=lO("firestore");s&&F9(i,...s)}return i}function CA(t){if(t._terminated)throw new pt(Ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||B9(t),t._firestoreClient}function B9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new rF(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,kA(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new A9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this._byteString=e}static fromBase64String(e){try{return new th(Fr.fromBase64String(e))}catch(n){throw new pt(Ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new th(Fr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pt(Ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pt(Ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pt(Ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Nt(this._lat,e._lat)||Nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=/^__.*__$/;class U9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cp(e,this.data,n,this.fieldTransforms)}}function PA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{oc:t})}}class pb{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new pb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return vv(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(PA(this.oc)&&V9.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class z9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||S0(e)}dc(e,n,r,i=!1){return new pb({oc:e,methodName:n,Ec:r,path:Rr.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function q9(t){const e=t._freezeSettings(),n=S0(t._databaseId);return new z9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $9(t,e,n,r,i,s={}){const o=t.dc(s.merge||s.mergeFields?2:0,e,n,i);DA("Data must be an object, but it was:",o,r);const a=IA(r,o);let l,u;if(s.merge)l=new Vs(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const m=H9(e,h,n);if(!o.contains(m))throw new pt(Ve.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Y9(c,m)||c.push(m)}l=new Vs(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new U9(new fs(a),l,u)}function AA(t,e){if(NA(t=Ri(t)))return DA("Unsupported field value:",e,t),IA(t,e);if(t instanceof TA)return function(r,i){if(!PA(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=AA(a,i.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ri(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=gr.fromDate(r);return{timestampValue:fv(i.serializer,s)}}if(r instanceof gr){const s=new gr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fv(i.serializer,s)}}if(r instanceof hb)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof th)return{bytesValue:J4(i.serializer,r._byteString)};if(r instanceof gs){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Y5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fb)return function(o,a){return{mapValue:{fields:{[L4]:{stringValue:C4},[lv]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Tc("VectorValues must only contain numeric values.");return $5(a.serializer,u)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${ab(r)}`)}(t,e)}function IA(t,e){const n={};return b4(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_c(t,(r,i)=>{const s=AA(i,e.uc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function NA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gr||t instanceof hb||t instanceof th||t instanceof gs||t instanceof TA||t instanceof fb)}function DA(t,e,n){if(!NA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ab(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function H9(t,e,n){if((e=Ri(e))instanceof db)return e._internalPath;if(typeof e=="string")return RA(t,e);throw vv("Field path arguments must be of type string or ",t,!1,void 0,n)}const W9=new RegExp("[~\\*/\\[\\]]");function RA(t,e,n){if(e.search(W9)>=0)throw vv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new db(...e.split("."))._internalPath}catch{throw vv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vv(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new pt(Ve.INVALID_ARGUMENT,a+t+l)}function Y9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new G9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(OA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class G9 extends MA{data(){return super.data()}}function OA(t,e){return typeof e=="string"?RA(t,e):e instanceof db?e._internalPath:e._delegate._internalPath}class K9{convertValue(e,n="none"){switch(Jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ql(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw bt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _c(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[lv].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Gn(o.doubleValue));return new fb(s)}convertGeoPoint(e){return new hb(Gn(e.latitude),Gn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=v0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(np(e));default:return null}}convertTimestamp(e){const n=Kl(e);return new gr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=zn.fromString(e);sn(rA(r),9688,{name:e});const i=new rp(r.get(1),r.get(3)),s=new mt(r.popFirst(5));return i.isEqual(n)||Ca(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FA extends MA{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new X9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(OA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class X9 extends FA{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t){t=ap(t,gs);const e=ap(t.firestore,cb);return R9(CA(e),t._key).then(n=>tB(e,t,n))}class Z9 extends K9{constructor(e){super(),this.firestore=e}convertBytes(e){return new th(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gs(this.firestore,null,n)}}function nh(t,e,n){t=ap(t,gs);const r=ap(t.firestore,cb),i=Q9(t.converter,e,n);return eB(r,[$9(q9(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,pa.none())])}function eB(t,e){return function(r,i){const s=new zl;return r.asyncQueue.enqueueAndForget(async()=>b9(await N9(r),i,s)),s.promise}(CA(t),e)}function tB(t,e,n){const r=n.docs.get(e._key),i=new Z9(t);return new FA(t,i,e._key,r,new J9(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){gh=i})(mh),Wd(new uc("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new cb(new V7(r.getProvider("auth-internal")),new q7(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new pt(Ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rp(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Vl(sx,ox,e),Vl(sx,ox,"esm2017")})();const nB={apiKey:"AIzaSyCM33icc6FOyDmhDwZXeW6CeWWeoNyWGqE",authDomain:"astrobalendar-2025-7505d.firebaseapp.com",projectId:"astrobalendar-2025-7505d",storageBucket:"astrobalendar-2025-7505d.appspot.com",messagingSenderId:"213330379553",appId:"1:213330379553:web:659c209c1c35fe0849f460"},jA=cP(nB),ma=a4(jA),Ys=j9(jA),BA=S.createContext({user:null,userRole:null,loading:!0}),rB=({children:t})=>{const[e,n]=S.useState(null),[r,i]=S.useState(localStorage.getItem("userRole")),[s,o]=S.useState(!0);return S.useEffect(()=>{const a=WP(ma,async l=>{if(n(l),l){const u=await Ip(Ws(Ys,"users",l.uid)),h=(u.exists()?u.data():{}).role||null;i(h),h&&localStorage.setItem("userRole",h)}else i(null),localStorage.removeItem("userRole");o(!1)});return()=>a()},[]),B.jsx(BA.Provider,{value:{user:e,userRole:r,loading:s},children:t})},Mo=()=>{const t=S.useContext(BA);if(t===void 0)throw console.error("AuthContext is undefined. This may be due to a circular import or improper provider setup."),new Error("AuthContext is undefined. Check for circular imports or missing AuthProvider.");return t},Qh=({children:t})=>{const{user:e,userRole:n,loading:r}=Mo(),[i,s]=S.useState(!0),[o,a]=S.useState(null),l=uu();return S.useEffect(()=>{e?(async()=>{if(!e)return a(!1);const c=await Ip(Ws(Ys,"users",e.uid)),h=c.exists()?c.data().verified:!1;a(!!h&&e.emailVerified),s(!1)})():s(!1)},[e]),r||i?B.jsx("div",{children:"Loading..."}):e?n?!o&&l.pathname!=="/birthdata"?B.jsx(Ou,{to:"/birthdata"}):o&&l.pathname==="/birthdata"?n==="astrologer"?B.jsx(Ou,{to:"/dashboard/astrologer"}):n==="student"?B.jsx(Ou,{to:"/dashboard/student"}):B.jsx(Ou,{to:"/dashboard/client"}):B.jsx(B.Fragment,{children:t}):B.jsx(Ou,{to:"/role-selection"}):B.jsx(Ou,{to:"/login"})},Jy=({role:t,children:e})=>{const{user:n,userRole:r,loading:i}=Mo();return i?B.jsx("div",{children:"Loading..."}):!n||r!==t?B.jsx(Ou,{to:"/login"}):B.jsx(B.Fragment,{children:e})},VA=({data:t})=>t.length?B.jsx("div",{className:"overflow-x-auto",children:B.jsxs("table",{className:"min-w-full bg-white border text-black text-sm rounded shadow",children:[B.jsx("thead",{children:B.jsxs("tr",{children:[B.jsx("th",{className:"py-2 px-4 border-b",children:"Prediction ID"}),B.jsx("th",{className:"py-2 px-4 border-b",children:"Name"}),B.jsx("th",{className:"py-2 px-4 border-b",children:"Role"}),B.jsx("th",{className:"py-2 px-4 border-b",children:"Status"}),B.jsx("th",{className:"py-2 px-4 border-b",children:"Timestamp"})]})}),B.jsx("tbody",{children:t.map(e=>B.jsxs("tr",{className:"hover:bg-gray-100",children:[B.jsx("td",{className:"py-2 px-4 border-b",children:e.prediction_id}),B.jsx("td",{className:"py-2 px-4 border-b",children:e.fullName||"N/A"}),B.jsx("td",{className:"py-2 px-4 border-b",children:e.role}),B.jsx("td",{className:"py-2 px-4 border-b",children:e.match_status}),B.jsx("td",{className:"py-2 px-4 border-b",children:new Date(e.timestamp).toLocaleString()})]},e.prediction_id))})]})}):B.jsx("div",{className:"text-gray-500",children:"No predictions found."});function mb(){const{user:t,loading:e}=Mo(),n=Da(),[r,i]=S.useState(!0);return S.useEffect(()=>{(async()=>{if(e)return;if(!t){n("/login");return}const o=Ws(Ys,"users",t.uid),a=await Ip(o),l=a.exists()?a.data():{};(!l.fullName||!l.dateOfBirth||!l.timeOfBirth||!l.state||!l.city||!l.timeZone)&&n("/birth-data"),i(!1)})()},[t,e,n]),{checking:r}}const iB=()=>{const{checking:t}=mb(),{user:e}=Mo(),[n,r]=S.useState([]);return t?null:(S.useEffect(()=>{(async()=>{if(!e)return;const o=await(await fetch(`/api/predictions/${e.uid}`)).json();r(o)})()},[e]),B.jsxs("div",{children:[B.jsx("h2",{children:"Astrologer Dashboard"}),B.jsxs("ul",{children:[B.jsx("li",{children:"View assigned clients"}),B.jsx("li",{children:"Generate Horoscope"}),B.jsx("li",{children:"Send predictions to clients"})]}),B.jsx("div",{className:"my-6",children:B.jsx("a",{href:"/new-horoscope",className:"inline-block px-6 py-3 bg-purple-600 text-white rounded-lg shadow hover:bg-purple-700 text-lg font-semibold transition",children:"+ New Horoscope"})}),B.jsx("h3",{className:"mt-8 mb-2 text-lg font-semibold",children:"Prediction History"}),B.jsx(VA,{data:n})]}))},sB=()=>{const{checking:t}=mb(),{user:e}=Mo(),[n,r]=S.useState([]);return t?null:(S.useEffect(()=>{(async()=>{if(!e)return;const o=await(await fetch(`/api/predictions/${e.uid}`)).json();r(o)})()},[e]),B.jsxs("div",{children:[B.jsx("h2",{children:"Client Dashboard"}),B.jsxs("ul",{children:[B.jsx("li",{children:"View up to 6 personal horoscopes"}),B.jsx("li",{children:"Request Horoscope Update"}),B.jsx("li",{children:"Share horoscope with astrologer"})]}),B.jsx("h3",{className:"mt-8 mb-2 text-lg font-semibold",children:"Prediction History"}),B.jsx(VA,{data:n})]}))},oB=()=>{const{checking:t}=mb();return t?null:B.jsxs("div",{children:[B.jsx("h2",{children:"Student Dashboard"}),B.jsxs("ul",{children:[B.jsx("li",{children:"Astro Learning: curated video lessons"}),B.jsx("li",{children:"Certification progress"}),B.jsx("li",{children:"Ask-Astrologer Q&A section"})]})]})},aB=()=>{const{user:t,loading:e}=Mo(),n=Da(),r=(t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"User",i=async()=>{await D5(ma),n("/")};return B.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-100 via-yellow-50 to-yellow-200 text-yellow-900",children:[B.jsxs("header",{className:"w-full bg-yellow-500 shadow-lg py-4 px-0 flex items-center justify-between fixed top-0 left-0 z-50",children:[B.jsx("div",{className:"pl-8 text-2xl font-bold text-yellow-900 tracking-wide",children:"AstroBalendar"}),B.jsxs("nav",{className:"flex flex-wrap gap-2 pr-8",children:[B.jsx("a",{href:"/",className:"px-4 py-2 rounded-lg font-semibold text-yellow-900 hover:bg-yellow-200 transition",children:"Home"}),B.jsx("a",{href:"/calendar",className:"px-4 py-2 rounded-lg font-semibold text-yellow-900 hover:bg-yellow-200 transition",children:"Calendar"}),B.jsx("a",{href:"/chat",className:"px-4 py-2 rounded-lg font-semibold text-yellow-900 hover:bg-yellow-200 transition",children:"Chat"}),B.jsx("a",{href:"/new-horoscope",className:"px-4 py-2 rounded-lg font-semibold text-yellow-900 hover:bg-yellow-200 transition",children:"New Horoscope"}),B.jsx("a",{href:"/birth-data",className:"px-4 py-2 rounded-lg font-semibold text-yellow-900 hover:bg-yellow-200 transition",children:"Birth Data"}),t?B.jsxs(B.Fragment,{children:[B.jsx("span",{className:"ml-4 font-semibold text-white bg-yellow-700 px-3 py-1 rounded-lg",children:r}),B.jsx("button",{onClick:i,className:"ml-4 bg-white text-yellow-700 px-4 py-2 rounded font-semibold shadow hover:bg-yellow-100 transition",children:"Logout"})]}):B.jsxs(B.Fragment,{children:[B.jsx("a",{href:"/login",className:"ml-4 bg-white text-yellow-700 px-4 py-2 rounded font-semibold shadow hover:bg-yellow-100 transition",children:"Login"}),B.jsx("a",{href:"/signup",className:"ml-2 bg-yellow-700 text-white px-4 py-2 rounded font-semibold shadow hover:bg-yellow-800 transition",children:"Sign Up"})]})]})]}),B.jsxs("main",{className:"mt-20 w-full",children:[B.jsxs("section",{className:"w-full flex flex-col items-center mb-8",children:[B.jsx("h1",{className:"text-5xl font-extrabold tracking-wide text-yellow-900 drop-shadow-sm mb-2",children:"AstroBalendar"}),B.jsxs("p",{className:"text-lg font-medium text-yellow-800 mb-4 text-center",children:["Welcome to your multilingual astrology platform.",B.jsx("br",{}),"Explore Panchangam, Festivals, Horoscope, Auspicious Timings, Moon Phase, News, and more!"]})]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 w-full mb-8",children:[B.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-yellow-100 h-full",children:[B.jsx("h2",{className:"text-lg font-bold text-yellow-800 mb-2",children:"Moon Phase"}),B.jsxs("p",{className:"text-sm text-yellow-900",children:["Waxing Gibbous",B.jsx("br",{}),"Illumination: 78%",B.jsx("br",{}),"Next Full Moon: 2025-05-12"]})]}),B.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-yellow-100 h-full",children:[B.jsx("h2",{className:"text-lg font-bold text-yellow-800 mb-2",children:"Festival Spotlight"}),B.jsxs("p",{className:"text-sm text-yellow-900",children:[B.jsx("b",{children:"Akshaya Tritiya"})," (2025-05-07)",B.jsx("br",{}),"A highly auspicious day for new beginnings, wealth, and spiritual growth."]})]})]}),B.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-yellow-100 p-6 w-full mb-8",children:[B.jsx("h2",{className:"text-lg font-bold text-yellow-800 mb-4 text-center",children:"Daily Horoscope"}),B.jsx("div",{className:"w-full",children:B.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8 w-full",children:[["Aries","Taurus","Gemini","Cancer"].map(s=>B.jsxs("div",{className:"bg-gradient-to-br from-orange-100 via-orange-200 to-yellow-100 border border-yellow-100 rounded-2xl p-6 text-center shadow flex flex-col justify-center items-center min-h-[120px] h-full transition-transform duration-200 hover:scale-105 hover:shadow-2xl cursor-pointer",children:[B.jsx("div",{className:"font-semibold text-orange-700 text-lg",children:s}),B.jsx("div",{className:"text-xs text-orange-800 mt-1",children:"Today: Good prospects!"})]},s)),["Leo","Virgo","Libra","Scorpio"].map(s=>B.jsxs("div",{className:"bg-gradient-to-br from-green-100 via-lime-100 to-yellow-50 border border-yellow-100 rounded-2xl p-6 text-center shadow flex flex-col justify-center items-center min-h-[120px] h-full transition-transform duration-200 hover:scale-105 hover:shadow-2xl cursor-pointer",children:[B.jsx("div",{className:"font-semibold text-green-700 text-lg",children:s}),B.jsx("div",{className:"text-xs text-green-800 mt-1",children:"Today: Good prospects!"})]},s)),["Sagittarius","Capricorn","Aquarius","Pisces"].map(s=>B.jsxs("div",{className:"bg-gradient-to-br from-sky-100 via-blue-50 to-cyan-100 border border-yellow-100 rounded-2xl p-6 text-center shadow flex flex-col justify-center items-center min-h-[120px] h-full transition-transform duration-200 hover:scale-105 hover:shadow-2xl cursor-pointer",children:[B.jsx("div",{className:"font-semibold text-sky-700 text-lg",children:s}),B.jsx("div",{className:"text-xs text-sky-800 mt-1",children:"Today: Good prospects!"})]},s))]})})]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 w-full mb-8",children:[B.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-yellow-100 h-full",children:[B.jsx("h2",{className:"text-lg font-bold text-yellow-800 mb-2",children:"Astrology News"}),B.jsxs("ul",{className:"text-sm text-yellow-900",children:[B.jsxs("li",{children:[B.jsx("b",{children:"Venus enters Gemini"})," (2025-04-30) — This transit brings communication and charm to relationships."]}),B.jsxs("li",{children:[B.jsx("b",{children:"Lunar Eclipse Next Week"})," (2025-05-06) — A penumbral lunar eclipse will be visible in India."]})]})]}),B.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 border border-yellow-100 h-full",children:[B.jsx("h2",{className:"text-lg font-bold text-yellow-800 mb-2",children:"Significance of Temple Festivals"}),B.jsxs("p",{className:"text-sm text-yellow-900",children:["Why festivals matter in astrological tradition.",B.jsx("br",{}),"How to read your horoscope.",B.jsx("br",{}),"Understanding the flow of time in the Hindu calendar."]})]})]}),B.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mt-8 w-full",children:[B.jsx("button",{className:"bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-bold py-4 px-6 rounded-2xl shadow transition",children:"Prasannam"}),B.jsx("button",{className:"bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-bold py-4 px-6 rounded-2xl shadow transition",children:"Get Prediction"}),B.jsx("button",{className:"bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-bold py-4 px-6 rounded-2xl shadow transition",children:"Matchmaking"}),B.jsx("button",{className:"bg-yellow-400 hover:bg-yellow-500 text-yellow-900 font-bold py-4 px-6 rounded-2xl shadow transition",children:"Contact Astrologer"})]})]})]})},lB=()=>B.jsxs("div",{className:"p-6 max-w-5xl mx-auto mt-8",children:[B.jsx("h2",{className:"text-3xl font-semibold mb-4",children:"Calendar"}),B.jsx("p",{children:"Calendar and events will be displayed here."})]}),uB="modulepreload",cB=function(t,e){return new URL(t,e).href},eS={},up=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=cB(u,r),u in eS)return;eS[u]=!0;const c=u.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(!!r)for(let v=o.length-1;v>=0;v--){const _=o[v];if(_.href===u&&(!c||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":uB,c||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((v,_)=>{p.addEventListener("load",v),p.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},Nu={},dB=()=>{const t=Da(),{user:e,loading:n}=Mo(),[r,i]=xe.useState(""),[s,o]=xe.useState(""),[a,l]=xe.useState(null),[u,c]=xe.useState(!1),[h,m]=xe.useState(!1),[p,v]=xe.useState(null);if(xe.useEffect(()=>{!n&&e&&t("/dashboard/client")},[e,n,t]),n)return B.jsx("div",{children:"Loading..."});if(e)return null;const _=async()=>{const w=new bo;try{const P=(await i4(ma,w)).user,O=Ws(Ys,"users",P.uid),j=await Ip(O);let H=null;if(j.exists())H=j.data().role;else{t("/signup",{state:{email:P.email,displayName:P.displayName,photoURL:P.photoURL}});return}t(H==="astrologer"?"/dashboard/astrologer":H==="student"?"/dashboard/student":"/dashboard/client")}catch(b){v("Google sign-in failed. Please try again."),console.error(b)}},k=async w=>{w.preventDefault(),l(null),c(!0);try{const{signInWithEmailAndPassword:b}=await up(async()=>{const{signInWithEmailAndPassword:P}=await Promise.resolve().then(()=>l4);return{signInWithEmailAndPassword:P}},void 0,import.meta.url);await b(ma,r,s)}catch(b){l(b.message||"Login failed")}finally{c(!1)}};return B.jsx("div",{className:"login-container",children:B.jsxs("div",{className:"login-card",children:[B.jsx("h2",{className:"login-title",children:"Sign in to AstroBalendar"}),B.jsxs("form",{onSubmit:k,className:"space-y-4",children:[B.jsxs("div",{children:[B.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),B.jsx("input",{id:"email",type:"email",value:r,onChange:w=>{i(w.target.value),a&&l(null),p&&v(null)},className:"w-full p-2 border rounded",required:!0})]}),B.jsxs("div",{children:[B.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),B.jsx("input",{id:"password",type:"password",value:s,onChange:w=>{o(w.target.value),a&&l(null),p&&v(null)},className:"w-full p-2 border rounded",required:!0})]}),a&&B.jsx("div",{className:"text-red-500 text-sm",children:a}),B.jsx("button",{type:"submit",className:"w-full bg-yellow-700 text-white py-2 rounded font-semibold hover:bg-yellow-800 transition",disabled:u,children:u?"Logging in...":"Login"})]}),B.jsx("div",{className:"my-4 text-center text-gray-500",children:"or"}),B.jsx("button",{onClick:async()=>{m(!0),v(null);try{await _()}catch{v("Google sign-in failed. Please try again.")}finally{m(!1)}},className:Nu.googleSignInButton,disabled:h,children:B.jsxs("span",{className:Nu.googleSignInFlex,children:[B.jsx("img",{src:"/google-icon.svg",alt:"Google",className:Nu.googleIcon}),B.jsx("span",{className:Nu.googleSignInText,children:h?"Signing in with Google...":"Sign in with Google"})]})}),p&&B.jsx("div",{className:Nu.signInErrorMsg,children:p}),B.jsxs("div",{className:Nu.signUpLink,children:[B.jsx("span",{children:"Don't have an account?"}),B.jsx("button",{onClick:()=>t("/signup"),className:Nu.signUpButton,type:"button",children:"Sign up"})]})]})})},hB=[{value:"astrologer",label:"Astrologer"},{value:"student",label:"Student"},{value:"client",label:"Client"}],fB=()=>{var O,j,H,A,x;const t=uu(),[e,n]=S.useState(((O=t.state)==null?void 0:O.displayName)??""),[r,i]=S.useState(((j=t.state)==null?void 0:j.email)??""),[s,o]=S.useState(((H=t.state)==null?void 0:H.photoURL)??""),[a,l]=S.useState("astrologer"),[u,c]=S.useState(""),[h,m]=S.useState(""),[p,v]=S.useState(null),[_,k]=S.useState(!1),w=Da(),b=!!t.state,P=async T=>{T.preventDefault(),v(null);try{let M=function(W,Z){const X=W==="astrologer"?"AS":W==="student"?"ST":"CL",re=(Z||"").replace(/[^a-zA-Z]/g,"").substring(0,3).toUpperCase(),z=Math.floor(1e3+Math.random()*9e3);return`${X}${re}${z}`};if(b){let W=function(re,z){const ne=re==="astrologer"?"AS":re==="student"?"ST":"CL",ie=(z||Z.displayName||"").replace(/[^a-zA-Z]/g,"").substring(0,3).toUpperCase(),ye=Math.floor(1e3+Math.random()*9e3);return`${ne}${ie}${ye}`};const Z=ma.currentUser;if(!Z){v("No signed-in user found.");return}const X=W(a,Z.displayName);await nh(Ws(Ys,"users",Z.uid),{displayName:Z.displayName,fullName:Z.displayName,email:Z.email,role:a,phone:u,photoURL:Z.photoURL,createdAt:new Date().toISOString(),uniqueId:X,multipleHoroscopeAccess:a==="astrologer",verified:!1},{merge:!0}),alert(`Welcome ${Z.displayName}! Your AstroBalendar ID is ${X}`),w("/birth-data");return}const I=(await zP(ma,r,h)).user;await qP(I,{displayName:e,photoURL:s});const R=M(a,e);await nh(Ws(Ys,"users",I.uid),{displayName:e,fullName:e,display_name:e,email:r,role:a,phone:u,photoURL:s,createdAt:new Date().toISOString(),uniqueId:R,multipleHoroscopeAccess:a==="astrologer",verified:!1}),w("/birth-data")}catch(M){v(M.message)}};return B.jsx("div",{className:"signup-bg",children:B.jsxs("div",{className:"signup-card",children:[B.jsx("h2",{className:"signup-title",children:"Create Your AstroBalendar Account"}),!t.state&&B.jsxs(B.Fragment,{children:[B.jsxs("button",{type:"button",className:"signup-google-btn",onClick:async()=>{v(""),k(!0);try{const{GoogleAuthProvider:T,signInWithPopup:M}=await up(async()=>{const{GoogleAuthProvider:W,signInWithPopup:Z}=await Promise.resolve().then(()=>l4);return{GoogleAuthProvider:W,signInWithPopup:Z}},void 0,import.meta.url),C=new T,R=(await M(ma,C)).user;w("/signup",{state:{email:R.email,displayName:R.displayName,photoURL:R.photoURL}})}catch{v("Google sign-up failed. Please try again.")}finally{k(!1)}},disabled:_,children:[B.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",className:"signup-google-logo"}),_?"Signing up...":"Sign up with Google"]}),B.jsx("div",{style:{textAlign:"center",margin:"18px 0",color:"#aaa"},children:"or"})]}),((A=t.state)==null?void 0:A.photoURL)&&B.jsx("div",{className:"signup-photo-container",children:B.jsx("img",{src:t.state.photoURL,alt:"Google profile",className:"signup-photo"})}),((x=t.state)==null?void 0:x.displayName)&&B.jsx("div",{className:"signup-displayname",children:t.state.displayName}),B.jsxs("form",{onSubmit:P,className:"signup-form",children:[B.jsxs("label",{className:"signup-label",children:["Full Name",B.jsx("input",{type:"text",value:e,onChange:T=>n(T.target.value),required:!0,placeholder:"Enter your full name",className:"signup-input"})]}),B.jsx("label",{htmlFor:"role-select",className:"signup-label",children:"Role"}),B.jsx("select",{id:"role-select",value:a,onChange:T=>l(T.target.value),required:!0,className:"signup-select",children:hB.map(T=>B.jsx("option",{value:T.value,children:T.label},T.value))}),B.jsxs("label",{className:"signup-label",children:["Email",B.jsx("input",{type:"email",value:r,onChange:T=>i(T.target.value),required:!0,placeholder:"Enter your email",className:"signup-input",autoComplete:"email"})]}),!b&&B.jsxs("label",{className:"signup-label",children:["Password",B.jsx("input",{type:"password",value:h,onChange:T=>m(T.target.value),required:!0,placeholder:"Create a password",className:"signup-input",autoComplete:"new-password"})]}),B.jsxs("label",{className:"signup-label",children:["Phone (optional)",B.jsx("input",{type:"tel",value:u,onChange:T=>c(T.target.value),placeholder:"Enter your phone number",className:"signup-input",autoComplete:"tel"})]}),B.jsxs("label",{className:"signup-label",children:["Profile Photo URL (optional)",B.jsx("input",{type:"url",value:s,onChange:T=>o(T.target.value),placeholder:"Paste a photo URL (optional)",className:"signup-input",autoComplete:"photo"})]}),B.jsx("button",{type:"submit",className:"signup-submit-btn",children:"Sign Up"}),p&&B.jsx("div",{className:"signup-error-msg",children:p})]})]})})},pB=[{value:"astrologer",label:"Astrologer"},{value:"student",label:"Student"},{value:"client",label:"Client"}],mB=()=>{const[t,e]=S.useState("astrologer"),[n,r]=S.useState(!1),[i,s]=S.useState(null);uu();const o=Da(),a=async l=>{l.preventDefault(),r(!0),s(null);try{const u=ma.currentUser;if(!u){s("You must be signed in to select a role."),r(!1);return}await nh(Ws(Ys,"users",u.uid),{displayName:u.displayName,email:u.email,role:t,photoURL:u.photoURL,createdAt:new Date().toISOString()},{merge:!0}),o(t==="astrologer"?"/dashboard/astrologer":t==="student"?"/dashboard/student":"/dashboard/client")}catch(u){s(u.message||"Failed to save role.")}finally{r(!1)}};return B.jsxs("div",{className:"role-selection-container",children:[B.jsx("h2",{children:"Select Your Role"}),B.jsxs("form",{onSubmit:a,children:[B.jsx("label",{htmlFor:"role-select",children:"Role:"}),B.jsx("select",{id:"role-select",value:t,onChange:l=>e(l.target.value),required:!0,children:pB.map(l=>B.jsx("option",{value:l.value,children:l.label},l.value))}),B.jsx("br",{}),B.jsx("button",{type:"submit",disabled:n,className:"role-select-btn",children:n?"Saving...":"Continue"}),i&&B.jsx("div",{className:"error-message",children:i})]})]})},W2=({prediction:t,showExport:e,onBack:n,onError:r})=>{xe.useRef(null);const[i,s]=xe.useState(!1),o=async()=>{s(!0);try{const a=await fetch("https://astrobalendar-backend.onrender.com/api/pdf-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to generate PDF");const l=await a.blob(),u=window.URL.createObjectURL(l),c=document.createElement("a");c.href=u,c.download="astrobalendar_prediction.pdf",document.body.appendChild(c),c.click(),document.body.removeChild(c),window.URL.revokeObjectURL(u)}catch{r("PDF download failed.")}finally{s(!1)}};return B.jsxs("div",{className:"prediction-result",children:[B.jsx("h2",{children:"Prediction Result"}),B.jsxs("div",{className:"mb-3",children:[B.jsx("strong",{children:"Summary:"}),B.jsx("div",{children:t.summary})]}),B.jsxs("div",{className:"mb-3",children:[B.jsx("strong",{children:"Details:"}),B.jsx("ul",{children:t.details&&typeof t.details=="object"&&Object.entries(t.details).map(([a,l])=>B.jsxs("li",{children:[B.jsxs("strong",{children:[a,":"]})," ",String(l)]},a))})]}),e&&B.jsx("div",{className:"export-section",children:B.jsx("button",{onClick:o,disabled:i,className:"btn btn-primary",children:i?"Downloading...":"Download PDF"})})]})},gB=({prediction:t})=>{const e=()=>{window.history.back()},n=r=>{console.error("Prediction error:",r)};return t?t.error?B.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-r from-purple-700 via-purple-500 to-blue-500 p-4",children:B.jsxs("div",{className:"text-center text-red-500",children:[B.jsx("h2",{className:"text-2xl mb-4",children:"Error"}),B.jsx("p",{children:t.error})]})}):B.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-r from-purple-700 via-purple-500 to-blue-500 p-4",children:B.jsx(W2,{prediction:t.data,showExport:!0,onBack:e,onError:n})}):B.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-r from-purple-700 via-purple-500 to-blue-500 p-4",children:B.jsxs("div",{className:"text-center",children:[B.jsx("h2",{className:"text-2xl mb-4",children:"Loading..."}),B.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"})]})})};function UA(t,e){return function(){return t.apply(e,arguments)}}const{toString:vB}=Object.prototype,{getPrototypeOf:gb}=Object,{iterator:C0,toStringTag:zA}=Symbol,T0=(t=>e=>{const n=vB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ks=t=>(t=t.toLowerCase(),e=>T0(e)===t),P0=t=>e=>typeof e===t,{isArray:bh}=Array,cp=P0("undefined");function yB(t){return t!==null&&!cp(t)&&t.constructor!==null&&!cp(t.constructor)&&Ni(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const qA=Ks("ArrayBuffer");function wB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&qA(t.buffer),e}const bB=P0("string"),Ni=P0("function"),$A=P0("number"),A0=t=>t!==null&&typeof t=="object",_B=t=>t===!0||t===!1,fg=t=>{if(T0(t)!=="object")return!1;const e=gb(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(zA in t)&&!(C0 in t)},EB=Ks("Date"),xB=Ks("File"),SB=Ks("Blob"),kB=Ks("FileList"),LB=t=>A0(t)&&Ni(t.pipe),CB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ni(t.append)&&((e=T0(t))==="formdata"||e==="object"&&Ni(t.toString)&&t.toString()==="[object FormData]"))},TB=Ks("URLSearchParams"),[PB,AB,IB,NB]=["ReadableStream","Request","Response","Headers"].map(Ks),DB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Np(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),bh(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function HA(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Yu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,WA=t=>!cp(t)&&t!==Yu;function Y2(){const{caseless:t}=WA(this)&&this||{},e={},n=(r,i)=>{const s=t&&HA(e,i)||i;fg(e[s])&&fg(r)?e[s]=Y2(e[s],r):fg(r)?e[s]=Y2({},r):bh(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Np(arguments[r],n);return e}const RB=(t,e,n,{allOwnKeys:r}={})=>(Np(e,(i,s)=>{n&&Ni(i)?t[s]=UA(i,n):t[s]=i},{allOwnKeys:r}),t),MB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),OB=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},FB=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&gb(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},jB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},BB=t=>{if(!t)return null;if(bh(t))return t;let e=t.length;if(!$A(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},VB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&gb(Uint8Array)),UB=(t,e)=>{const r=(t&&t[C0]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},zB=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},qB=Ks("HTMLFormElement"),$B=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),tS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),HB=Ks("RegExp"),YA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Np(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},WB=t=>{YA(t,(e,n)=>{if(Ni(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ni(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},YB=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return bh(t)?r(t):r(String(t).split(e)),n},GB=()=>{},KB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function QB(t){return!!(t&&Ni(t.append)&&t[zA]==="FormData"&&t[C0])}const JB=t=>{const e=new Array(10),n=(r,i)=>{if(A0(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=bh(r)?[]:{};return Np(r,(o,a)=>{const l=n(o,i+1);!cp(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},XB=Ks("AsyncFunction"),ZB=t=>t&&(A0(t)||Ni(t))&&Ni(t.then)&&Ni(t.catch),GA=((t,e)=>t?setImmediate:e?((n,r)=>(Yu.addEventListener("message",({source:i,data:s})=>{i===Yu&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Yu.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ni(Yu.postMessage)),eV=typeof queueMicrotask<"u"?queueMicrotask.bind(Yu):typeof process<"u"&&process.nextTick||GA,tV=t=>t!=null&&Ni(t[C0]),Le={isArray:bh,isArrayBuffer:qA,isBuffer:yB,isFormData:CB,isArrayBufferView:wB,isString:bB,isNumber:$A,isBoolean:_B,isObject:A0,isPlainObject:fg,isReadableStream:PB,isRequest:AB,isResponse:IB,isHeaders:NB,isUndefined:cp,isDate:EB,isFile:xB,isBlob:SB,isRegExp:HB,isFunction:Ni,isStream:LB,isURLSearchParams:TB,isTypedArray:VB,isFileList:kB,forEach:Np,merge:Y2,extend:RB,trim:DB,stripBOM:MB,inherits:OB,toFlatObject:FB,kindOf:T0,kindOfTest:Ks,endsWith:jB,toArray:BB,forEachEntry:UB,matchAll:zB,isHTMLForm:qB,hasOwnProperty:tS,hasOwnProp:tS,reduceDescriptors:YA,freezeMethods:WB,toObjectSet:YB,toCamelCase:$B,noop:GB,toFiniteNumber:KB,findKey:HA,global:Yu,isContextDefined:WA,isSpecCompliantForm:QB,toJSONObject:JB,isAsyncFn:XB,isThenable:ZB,setImmediate:GA,asap:eV,isIterable:tV};function Pt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Le.inherits(Pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Le.toJSONObject(this.config),code:this.code,status:this.status}}});const KA=Pt.prototype,QA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{QA[t]={value:t}});Object.defineProperties(Pt,QA);Object.defineProperty(KA,"isAxiosError",{value:!0});Pt.from=(t,e,n,r,i,s)=>{const o=Object.create(KA);return Le.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Pt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const nV=null;function G2(t){return Le.isPlainObject(t)||Le.isArray(t)}function JA(t){return Le.endsWith(t,"[]")?t.slice(0,-2):t}function nS(t,e,n){return t?t.concat(e).map(function(i,s){return i=JA(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function rV(t){return Le.isArray(t)&&!t.some(G2)}const iV=Le.toFlatObject(Le,{},null,function(e){return/^is[A-Z]/.test(e)});function I0(t,e,n){if(!Le.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Le.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,k){return!Le.isUndefined(k[_])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Le.isSpecCompliantForm(e);if(!Le.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(Le.isDate(v))return v.toISOString();if(!l&&Le.isBlob(v))throw new Pt("Blob is not supported. Use a Buffer instead.");return Le.isArrayBuffer(v)||Le.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,_,k){let w=v;if(v&&!k&&typeof v=="object"){if(Le.endsWith(_,"{}"))_=r?_:_.slice(0,-2),v=JSON.stringify(v);else if(Le.isArray(v)&&rV(v)||(Le.isFileList(v)||Le.endsWith(_,"[]"))&&(w=Le.toArray(v)))return _=JA(_),w.forEach(function(P,O){!(Le.isUndefined(P)||P===null)&&e.append(o===!0?nS([_],O,s):o===null?_:_+"[]",u(P))}),!1}return G2(v)?!0:(e.append(nS(k,_,s),u(v)),!1)}const h=[],m=Object.assign(iV,{defaultVisitor:c,convertValue:u,isVisitable:G2});function p(v,_){if(!Le.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+_.join("."));h.push(v),Le.forEach(v,function(w,b){(!(Le.isUndefined(w)||w===null)&&i.call(e,w,Le.isString(b)?b.trim():b,_,m))===!0&&p(w,_?_.concat(b):[b])}),h.pop()}}if(!Le.isObject(t))throw new TypeError("data must be an object");return p(t),e}function rS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function vb(t,e){this._pairs=[],t&&I0(t,this,e)}const XA=vb.prototype;XA.append=function(e,n){this._pairs.push([e,n])};XA.toString=function(e){const n=e?function(r){return e.call(this,r,rS)}:rS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function sV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ZA(t,e,n){if(!e)return t;const r=n&&n.encode||sV;Le.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Le.isURLSearchParams(e)?e.toString():new vb(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class iS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Le.forEach(this.handlers,function(r){r!==null&&e(r)})}}const e3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oV=typeof URLSearchParams<"u"?URLSearchParams:vb,aV=typeof FormData<"u"?FormData:null,lV=typeof Blob<"u"?Blob:null,uV={isBrowser:!0,classes:{URLSearchParams:oV,FormData:aV,Blob:lV},protocols:["http","https","file","blob","url","data"]},yb=typeof window<"u"&&typeof document<"u",K2=typeof navigator=="object"&&navigator||void 0,cV=yb&&(!K2||["ReactNative","NativeScript","NS"].indexOf(K2.product)<0),dV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hV=yb&&window.location.href||"http://localhost",fV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yb,hasStandardBrowserEnv:cV,hasStandardBrowserWebWorkerEnv:dV,navigator:K2,origin:hV},Symbol.toStringTag,{value:"Module"})),Xr={...fV,...uV};function pV(t,e){return I0(t,new Xr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Xr.isNode&&Le.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function mV(t){return Le.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function gV(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function t3(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&Le.isArray(i)?i.length:o,l?(Le.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Le.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Le.isArray(i[o])&&(i[o]=gV(i[o])),!a)}if(Le.isFormData(t)&&Le.isFunction(t.entries)){const n={};return Le.forEachEntry(t,(r,i)=>{e(mV(r),i,n,0)}),n}return null}function vV(t,e,n){if(Le.isString(t))try{return(e||JSON.parse)(t),Le.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Dp={transitional:e3,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Le.isObject(e);if(s&&Le.isHTMLForm(e)&&(e=new FormData(e)),Le.isFormData(e))return i?JSON.stringify(t3(e)):e;if(Le.isArrayBuffer(e)||Le.isBuffer(e)||Le.isStream(e)||Le.isFile(e)||Le.isBlob(e)||Le.isReadableStream(e))return e;if(Le.isArrayBufferView(e))return e.buffer;if(Le.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return pV(e,this.formSerializer).toString();if((a=Le.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return I0(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),vV(e)):e}],transformResponse:[function(e){const n=this.transitional||Dp.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Le.isResponse(e)||Le.isReadableStream(e))return e;if(e&&Le.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Pt.from(a,Pt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xr.classes.FormData,Blob:Xr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Le.forEach(["delete","get","head","post","put","patch"],t=>{Dp.headers[t]={}});const yV=Le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wV=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&yV[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},sS=Symbol("internals");function Jh(t){return t&&String(t).trim().toLowerCase()}function pg(t){return t===!1||t==null?t:Le.isArray(t)?t.map(pg):String(t)}function bV(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const _V=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Xy(t,e,n,r,i){if(Le.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Le.isString(e)){if(Le.isString(r))return e.indexOf(r)!==-1;if(Le.isRegExp(r))return r.test(e)}}function EV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function xV(t,e){const n=Le.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let Di=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=Jh(l);if(!c)throw new Error("header name must be a non-empty string");const h=Le.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=pg(a))}const o=(a,l)=>Le.forEach(a,(u,c)=>s(u,c,l));if(Le.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Le.isString(e)&&(e=e.trim())&&!_V(e))o(wV(e),n);else if(Le.isObject(e)&&Le.isIterable(e)){let a={},l,u;for(const c of e){if(!Le.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?Le.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Jh(e),e){const r=Le.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return bV(i);if(Le.isFunction(n))return n.call(this,i,r);if(Le.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Jh(e),e){const r=Le.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Xy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Jh(o),o){const a=Le.findKey(r,o);a&&(!n||Xy(r,r[a],a,n))&&(delete r[a],i=!0)}}return Le.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Xy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Le.forEach(this,(i,s)=>{const o=Le.findKey(r,s);if(o){n[o]=pg(i),delete n[s];return}const a=e?EV(s):String(s).trim();a!==s&&delete n[s],n[a]=pg(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Le.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Le.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[sS]=this[sS]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Jh(o);r[a]||(xV(i,o),r[a]=!0)}return Le.isArray(e)?e.forEach(s):s(e),this}};Di.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Le.reduceDescriptors(Di.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Le.freezeMethods(Di);function Zy(t,e){const n=this||Dp,r=e||n,i=Di.from(r.headers);let s=r.data;return Le.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function n3(t){return!!(t&&t.__CANCEL__)}function _h(t,e,n){Pt.call(this,t??"canceled",Pt.ERR_CANCELED,e,n),this.name="CanceledError"}Le.inherits(_h,Pt,{__CANCEL__:!0});function r3(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Pt("Request failed with status code "+n.status,[Pt.ERR_BAD_REQUEST,Pt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function SV(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function kV(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let h=s,m=0;for(;h!==i;)m+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(m*1e3/p):void 0}}function LV(t,e){let n=0,r=1e3/e,i,s;const o=(u,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const c=Date.now(),h=c-n;h>=r?o(u,c):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const yv=(t,e,n=3)=>{let r=0;const i=kV(50,250);return LV(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),c=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},oS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},aS=t=>(...e)=>Le.asap(()=>t(...e)),CV=Xr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Xr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Xr.origin),Xr.navigator&&/(msie|trident)/i.test(Xr.navigator.userAgent)):()=>!0,TV=Xr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Le.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Le.isString(r)&&o.push("path="+r),Le.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function PV(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function AV(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function i3(t,e,n){let r=!PV(e);return t&&(r||n==!1)?AV(t,e):e}const lS=t=>t instanceof Di?{...t}:t;function fc(t,e){e=e||{};const n={};function r(u,c,h,m){return Le.isPlainObject(u)&&Le.isPlainObject(c)?Le.merge.call({caseless:m},u,c):Le.isPlainObject(c)?Le.merge({},c):Le.isArray(c)?c.slice():c}function i(u,c,h,m){if(Le.isUndefined(c)){if(!Le.isUndefined(u))return r(void 0,u,h,m)}else return r(u,c,h,m)}function s(u,c){if(!Le.isUndefined(c))return r(void 0,c)}function o(u,c){if(Le.isUndefined(c)){if(!Le.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,h){if(h in e)return r(u,c);if(h in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,h)=>i(lS(u),lS(c),h,!0)};return Le.forEach(Object.keys(Object.assign({},t,e)),function(c){const h=l[c]||i,m=h(t[c],e[c],c);Le.isUndefined(m)&&h!==a||(n[c]=m)}),n}const s3=t=>{const e=fc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=Di.from(o),e.url=ZA(i3(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Le.isFormData(n)){if(Xr.hasStandardBrowserEnv||Xr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(Xr.hasStandardBrowserEnv&&(r&&Le.isFunction(r)&&(r=r(e)),r||r!==!1&&CV(e.url))){const u=i&&s&&TV.read(s);u&&o.set(i,u)}return e},IV=typeof XMLHttpRequest<"u",NV=IV&&function(t){return new Promise(function(n,r){const i=s3(t);let s=i.data;const o=Di.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,h,m,p,v;function _(){p&&p(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function w(){if(!k)return;const P=Di.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),j={data:!a||a==="text"||a==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:P,config:t,request:k};r3(function(A){n(A),_()},function(A){r(A),_()},j),k=null}"onloadend"in k?k.onloadend=w:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(w)},k.onabort=function(){k&&(r(new Pt("Request aborted",Pt.ECONNABORTED,t,k)),k=null)},k.onerror=function(){r(new Pt("Network Error",Pt.ERR_NETWORK,t,k)),k=null},k.ontimeout=function(){let O=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||e3;i.timeoutErrorMessage&&(O=i.timeoutErrorMessage),r(new Pt(O,j.clarifyTimeoutError?Pt.ETIMEDOUT:Pt.ECONNABORTED,t,k)),k=null},s===void 0&&o.setContentType(null),"setRequestHeader"in k&&Le.forEach(o.toJSON(),function(O,j){k.setRequestHeader(j,O)}),Le.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),a&&a!=="json"&&(k.responseType=i.responseType),u&&([m,v]=yv(u,!0),k.addEventListener("progress",m)),l&&k.upload&&([h,p]=yv(l),k.upload.addEventListener("progress",h),k.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=P=>{k&&(r(!P||P.type?new _h(null,t,k):P),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const b=SV(i.url);if(b&&Xr.protocols.indexOf(b)===-1){r(new Pt("Unsupported protocol "+b+":",Pt.ERR_BAD_REQUEST,t));return}k.send(s||null)})},DV=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof Pt?c:new _h(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,s(new Pt(`timeout ${e} of ms exceeded`,Pt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>Le.asap(a),l}},RV=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},MV=async function*(t,e){for await(const n of OV(t))yield*RV(n,e)},OV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},uS=(t,e,n,r)=>{const i=MV(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let h=c.byteLength;if(n){let m=s+=h;n(m)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},N0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",o3=N0&&typeof ReadableStream=="function",FV=N0&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),a3=(t,...e)=>{try{return!!t(...e)}catch{return!1}},jV=o3&&a3(()=>{let t=!1;const e=new Request(Xr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),cS=64*1024,Q2=o3&&a3(()=>Le.isReadableStream(new Response("").body)),wv={stream:Q2&&(t=>t.body)};N0&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!wv[e]&&(wv[e]=Le.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Pt(`Response type '${e}' is not supported`,Pt.ERR_NOT_SUPPORT,r)})})})(new Response);const BV=async t=>{if(t==null)return 0;if(Le.isBlob(t))return t.size;if(Le.isSpecCompliantForm(t))return(await new Request(Xr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Le.isArrayBufferView(t)||Le.isArrayBuffer(t))return t.byteLength;if(Le.isURLSearchParams(t)&&(t=t+""),Le.isString(t))return(await FV(t)).byteLength},VV=async(t,e)=>{const n=Le.toFiniteNumber(t.getContentLength());return n??BV(e)},UV=N0&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:m}=s3(t);u=u?(u+"").toLowerCase():"text";let p=DV([i,s&&s.toAbortSignal()],o),v;const _=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let k;try{if(l&&jV&&n!=="get"&&n!=="head"&&(k=await VV(c,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),H;if(Le.isFormData(r)&&(H=j.headers.get("content-type"))&&c.setContentType(H),j.body){const[A,x]=oS(k,yv(aS(l)));r=uS(j.body,cS,A,x)}}Le.isString(h)||(h=h?"include":"omit");const w="credentials"in Request.prototype;v=new Request(e,{...m,signal:p,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:w?h:void 0});let b=await fetch(v);const P=Q2&&(u==="stream"||u==="response");if(Q2&&(a||P&&_)){const j={};["status","statusText","headers"].forEach(T=>{j[T]=b[T]});const H=Le.toFiniteNumber(b.headers.get("content-length")),[A,x]=a&&oS(H,yv(aS(a),!0))||[];b=new Response(uS(b.body,cS,A,()=>{x&&x(),_&&_()}),j)}u=u||"text";let O=await wv[Le.findKey(wv,u)||"text"](b,t);return!P&&_&&_(),await new Promise((j,H)=>{r3(j,H,{data:O,headers:Di.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:v})})}catch(w){throw _&&_(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new Pt("Network Error",Pt.ERR_NETWORK,t,v),{cause:w.cause||w}):Pt.from(w,w&&w.code,t,v)}}),J2={http:nV,xhr:NV,fetch:UV};Le.forEach(J2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const dS=t=>`- ${t}`,zV=t=>Le.isFunction(t)||t===null||t===!1,l3={getAdapter:t=>{t=Le.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!zV(n)&&(r=J2[(o=String(n)).toLowerCase()],r===void 0))throw new Pt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(dS).join(`
`):" "+dS(s[0]):"as no adapter specified";throw new Pt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:J2};function e1(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _h(null,t)}function hS(t){return e1(t),t.headers=Di.from(t.headers),t.data=Zy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),l3.getAdapter(t.adapter||Dp.adapter)(t).then(function(r){return e1(t),r.data=Zy.call(t,t.transformResponse,r),r.headers=Di.from(r.headers),r},function(r){return n3(r)||(e1(t),r&&r.response&&(r.response.data=Zy.call(t,t.transformResponse,r.response),r.response.headers=Di.from(r.response.headers))),Promise.reject(r)})}const u3="1.9.0",D0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{D0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const fS={};D0.transitional=function(e,n,r){function i(s,o){return"[Axios v"+u3+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new Pt(i(o," has been removed"+(n?" in "+n:"")),Pt.ERR_DEPRECATED);return n&&!fS[o]&&(fS[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};D0.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function qV(t,e,n){if(typeof t!="object")throw new Pt("options must be an object",Pt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Pt("option "+s+" must be "+l,Pt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pt("Unknown option "+s,Pt.ERR_BAD_OPTION)}}const mg={assertOptions:qV,validators:D0},fo=mg.validators;let Xu=class{constructor(e){this.defaults=e||{},this.interceptors={request:new iS,response:new iS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=fc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&mg.assertOptions(r,{silentJSONParsing:fo.transitional(fo.boolean),forcedJSONParsing:fo.transitional(fo.boolean),clarifyTimeoutError:fo.transitional(fo.boolean)},!1),i!=null&&(Le.isFunction(i)?n.paramsSerializer={serialize:i}:mg.assertOptions(i,{encode:fo.function,serialize:fo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),mg.assertOptions(n,{baseUrl:fo.spelling("baseURL"),withXsrfToken:fo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Le.merge(s.common,s[n.method]);s&&Le.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=Di.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let c,h=0,m;if(!l){const v=[hS.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,u),m=v.length,c=Promise.resolve(n);h<m;)c=c.then(v[h++],v[h++]);return c}m=a.length;let p=n;for(h=0;h<m;){const v=a[h++],_=a[h++];try{p=v(p)}catch(k){_.call(this,k);break}}try{c=hS.call(this,p)}catch(v){return Promise.reject(v)}for(h=0,m=u.length;h<m;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=fc(this.defaults,e);const n=i3(e.baseURL,e.url,e.allowAbsoluteUrls);return ZA(n,e.params,e.paramsSerializer)}};Le.forEach(["delete","get","head","options"],function(e){Xu.prototype[e]=function(n,r){return this.request(fc(r||{},{method:e,url:n,data:(r||{}).data}))}});Le.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(fc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Xu.prototype[e]=n(),Xu.prototype[e+"Form"]=n(!0)});let $V=class c3{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new _h(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new c3(function(i){e=i}),cancel:e}}};function HV(t){return function(n){return t.apply(null,n)}}function WV(t){return Le.isObject(t)&&t.isAxiosError===!0}const X2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(X2).forEach(([t,e])=>{X2[e]=t});function d3(t){const e=new Xu(t),n=UA(Xu.prototype.request,e);return Le.extend(n,Xu.prototype,e,{allOwnKeys:!0}),Le.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return d3(fc(t,i))},n}const nr=d3(Dp);nr.Axios=Xu;nr.CanceledError=_h;nr.CancelToken=$V;nr.isCancel=n3;nr.VERSION=u3;nr.toFormData=I0;nr.AxiosError=Pt;nr.Cancel=nr.CanceledError;nr.all=function(e){return Promise.all(e)};nr.spread=HV;nr.isAxiosError=WV;nr.mergeConfig=fc;nr.AxiosHeaders=Di;nr.formToJSON=t=>t3(Le.isHTMLForm(t)?new FormData(t):t);nr.getAdapter=l3.getAdapter;nr.HttpStatusCode=X2;nr.default=nr;const{Axios:uK,AxiosError:cK,CanceledError:dK,isCancel:hK,CancelToken:fK,VERSION:pK,all:mK,Cancel:gK,isAxiosError:vK,spread:yK,toFormData:wK,AxiosHeaders:bK,HttpStatusCode:_K,formToJSON:EK,getAdapter:xK,mergeConfig:SK}=nr,YV=()=>{const[t,e]=S.useState([]),[n,r]=S.useState(""),i=async()=>{if(!n.trim())return;const s={role:"user",content:n};e(o=>[...o,s]);try{const a={role:"assistant",content:(await nr.post("https://astrobalendar-backend.onrender.com/api/chat",{question:n})).data.answer};e(l=>[...l,a])}catch(o){console.error("Error fetching GPT answer:",o)}r("")};return B.jsxs("div",{className:"flex flex-col h-full p-4",children:[B.jsx("div",{className:"flex-grow overflow-y-auto border rounded p-4 mb-4 bg-gray-100",children:t.map((s,o)=>B.jsx("div",{className:`mb-2 p-2 rounded ${s.role==="user"?"bg-blue-200 text-right":"bg-green-200 text-left"}`,children:s.content},o))}),B.jsxs("div",{className:"flex",children:[B.jsx("input",{type:"text",value:n,onChange:s=>r(s.target.value),className:"flex-grow border rounded p-2 mr-2",placeholder:"Type your message..."}),B.jsx("button",{onClick:i,className:"bg-blue-500 text-white rounded px-4 py-2 hover:bg-blue-600",children:"Send"})]})]})},GV=()=>B.jsxs("div",{className:"h-screen flex flex-col",children:[B.jsx("header",{className:"bg-blue-500 text-white p-4 text-center",children:B.jsx("h1",{className:"text-xl font-bold",children:"Astrobalendar Chat"})}),B.jsx("main",{className:"flex-grow",children:B.jsx(YV,{})})]});function h3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=h3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function An(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=h3(t))&&(r&&(r+=" "),r+=e);return r}function KV(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}KV(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Rp=t=>typeof t=="number"&&!isNaN(t),pc=t=>typeof t=="string",Pa=t=>typeof t=="function",QV=t=>pc(t)||Rp(t),Z2=t=>pc(t)||Pa(t)?t:null,JV=(t,e)=>t===!1||Rp(t)&&t>0?t:e,ew=t=>S.isValidElement(t)||pc(t)||Pa(t)||Rp(t);function XV(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function ZV({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:u,isIn:c,playToast:h}){let m=n?`${t}--${o}`:t,p=n?`${e}--${o}`:e,v=S.useRef(0);return S.useLayoutEffect(()=>{let _=u.current,k=m.split(" "),w=b=>{b.target===u.current&&(h(),_.removeEventListener("animationend",w),_.removeEventListener("animationcancel",w),v.current===0&&b.type!=="animationcancel"&&_.classList.remove(...k))};_.classList.add(...k),_.addEventListener("animationend",w),_.addEventListener("animationcancel",w)},[]),S.useEffect(()=>{let _=u.current,k=()=>{_.removeEventListener("animationend",k),r?XV(_,l,i):l()};c||(a?k():(v.current=1,_.className+=` ${p}`,_.addEventListener("animationend",k)))},[c]),xe.createElement(xe.Fragment,null,s)}}function pS(t,e){return{content:f3(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function f3(t,e,n=!1){return S.isValidElement(t)&&!pc(t.type)?S.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):Pa(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function eU({closeToast:t,theme:e,ariaLabel:n="close"}){return xe.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},xe.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},xe.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function tU({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:l,isIn:u,theme:c}){let h=i||o&&a===0,m={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(m.transform=`scaleX(${a})`);let p=An("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${c}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),v=Pa(s)?s({rtl:l,type:r,defaultClassName:p}):An(p,s),_={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{u&&n()}};return xe.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":h},xe.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${c} Toastify__progress-bar--${r}`}),xe.createElement("div",{role:"progressbar","aria-hidden":h?"true":"false","aria-label":"notification timer",className:v,style:m,..._}))}var nU=1,p3=()=>`${nU++}`;function rU(t,e,n){let r=1,i=0,s=[],o=[],a=e,l=new Map,u=new Set,c=b=>(u.add(b),()=>u.delete(b)),h=()=>{o=Array.from(l.values()),u.forEach(b=>b())},m=({containerId:b,toastId:P,updateId:O})=>{let j=b?b!==t:t!==1,H=l.has(P)&&O==null;return j||H},p=(b,P)=>{l.forEach(O=>{var j;(P==null||P===O.props.toastId)&&((j=O.toggle)==null||j.call(O,b))})},v=b=>{var P,O;(O=(P=b.props)==null?void 0:P.onClose)==null||O.call(P,b.removalReason),b.isActive=!1},_=b=>{if(b==null)l.forEach(v);else{let P=l.get(b);P&&v(P)}h()},k=()=>{i-=s.length,s=[]},w=b=>{var P,O;let{toastId:j,updateId:H}=b.props,A=H==null;b.staleId&&l.delete(b.staleId),b.isActive=!0,l.set(j,b),h(),n(pS(b,A?"added":"updated")),A&&((O=(P=b.props).onOpen)==null||O.call(P))};return{id:t,props:a,observe:c,toggle:p,removeToast:_,toasts:l,clearQueue:k,buildToast:(b,P)=>{if(m(P))return;let{toastId:O,updateId:j,data:H,staleId:A,delay:x}=P,T=j==null;T&&i++;let M={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(P).filter(([I,R])=>R!=null)),toastId:O,updateId:j,data:H,isIn:!1,className:Z2(P.className||a.toastClassName),progressClassName:Z2(P.progressClassName||a.progressClassName),autoClose:P.isLoading?!1:JV(P.autoClose,a.autoClose),closeToast(I){l.get(O).removalReason=I,_(O)},deleteToast(){let I=l.get(O);if(I!=null){if(n(pS(I,"removed")),l.delete(O),i--,i<0&&(i=0),s.length>0){w(s.shift());return}h()}}};M.closeButton=a.closeButton,P.closeButton===!1||ew(P.closeButton)?M.closeButton=P.closeButton:P.closeButton===!0&&(M.closeButton=ew(a.closeButton)?a.closeButton:!0);let C={content:b,props:M,staleId:A};a.limit&&a.limit>0&&i>a.limit&&T?s.push(C):Rp(x)?setTimeout(()=>{w(C)},x):w(C)},setProps(b){a=b},setToggle:(b,P)=>{let O=l.get(b);O&&(O.toggle=P)},isToastActive:b=>{var P;return(P=l.get(b))==null?void 0:P.isActive},getSnapshot:()=>o}}var pi=new Map,dp=[],tw=new Set,iU=t=>tw.forEach(e=>e(t)),m3=()=>pi.size>0;function sU(){dp.forEach(t=>v3(t.content,t.options)),dp=[]}var oU=(t,{containerId:e})=>{var n;return(n=pi.get(e||1))==null?void 0:n.toasts.get(t)};function g3(t,e){var n;if(e)return!!((n=pi.get(e))!=null&&n.isToastActive(t));let r=!1;return pi.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function aU(t){if(!m3()){dp=dp.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||QV(t))pi.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=pi.get(t.containerId);e?e.removeToast(t.id):pi.forEach(n=>{n.removeToast(t.id)})}}var lU=(t={})=>{pi.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function v3(t,e){ew(t)&&(m3()||dp.push({content:t,options:e}),pi.forEach(n=>{n.buildToast(t,e)}))}function uU(t){var e;(e=pi.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function y3(t,e){pi.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function cU(t){let e=t.containerId||1;return{subscribe(n){let r=rU(e,t,iU);pi.set(e,r);let i=r.observe(n);return sU(),()=>{i(),pi.delete(e)}},setProps(n){var r;(r=pi.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=pi.get(e))==null?void 0:n.getSnapshot()}}}function dU(t){return tw.add(t),()=>{tw.delete(t)}}function hU(t){return t&&(pc(t.toastId)||Rp(t.toastId))?t.toastId:p3()}function Mp(t,e){return v3(t,e),e.toastId}function R0(t,e){return{...e,type:e&&e.type||t,toastId:hU(e)}}function M0(t){return(e,n)=>Mp(e,R0(t,n))}function nn(t,e){return Mp(t,R0("default",e))}nn.loading=(t,e)=>Mp(t,R0("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function fU(t,{pending:e,error:n,success:r},i){let s;e&&(s=pc(e)?nn.loading(e,i):nn.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,c,h)=>{if(c==null){nn.dismiss(s);return}let m={type:u,...o,...i,data:h},p=pc(c)?{render:c}:c;return s?nn.update(s,{...m,...p}):nn(p.render,{...m,...p}),h},l=Pa(t)?t():t;return l.then(u=>a("success",r,u)).catch(u=>a("error",n,u)),l}nn.promise=fU;nn.success=M0("success");nn.info=M0("info");nn.error=M0("error");nn.warning=M0("warning");nn.warn=nn.warning;nn.dark=(t,e)=>Mp(t,R0("default",{theme:"dark",...e}));function pU(t){aU(t)}nn.dismiss=pU;nn.clearWaitingQueue=lU;nn.isActive=g3;nn.update=(t,e={})=>{let n=oU(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:p3()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,Mp(o,s)}};nn.done=t=>{nn.update(t,{progress:1})};nn.onChange=dU;nn.play=t=>y3(!0,t);nn.pause=t=>y3(!1,t);function mU(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=S.useRef(cU(t)).current;i(t);let s=(e=S.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let l=new Map;return t.newestOnTop&&s.reverse(),s.forEach(u=>{let{position:c}=u.props;l.has(c)||l.set(c,[]),l.get(c).push(u)}),Array.from(l,u=>a(u[0],u[1]))}return{getToastToRender:o,isToastActive:g3,count:s==null?void 0:s.length}}function gU(t){let[e,n]=S.useState(!1),[r,i]=S.useState(!1),s=S.useRef(null),o=S.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:c,closeOnClick:h}=t;uU({id:t.toastId,containerId:t.containerId,fn:n}),S.useEffect(()=>{if(t.pauseOnFocusLoss)return m(),()=>{p()}},[t.pauseOnFocusLoss]);function m(){document.hasFocus()||w(),window.addEventListener("focus",k),window.addEventListener("blur",w)}function p(){window.removeEventListener("focus",k),window.removeEventListener("blur",w)}function v(A){if(t.draggable===!0||t.draggable===A.pointerType){b();let x=s.current;o.canCloseOnClick=!0,o.canDrag=!0,x.style.transition="none",t.draggableDirection==="x"?(o.start=A.clientX,o.removalDistance=x.offsetWidth*(t.draggablePercent/100)):(o.start=A.clientY,o.removalDistance=x.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function _(A){let{top:x,bottom:T,left:M,right:C}=s.current.getBoundingClientRect();A.nativeEvent.type!=="touchend"&&t.pauseOnHover&&A.clientX>=M&&A.clientX<=C&&A.clientY>=x&&A.clientY<=T?w():k()}function k(){n(!0)}function w(){n(!1)}function b(){o.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",j)}function P(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",j)}function O(A){let x=s.current;if(o.canDrag&&x){o.didMove=!0,e&&w(),t.draggableDirection==="x"?o.delta=A.clientX-o.start:o.delta=A.clientY-o.start,o.start!==A.clientX&&(o.canCloseOnClick=!1);let T=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;x.style.transform=`translate3d(${T},0)`,x.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function j(){P();let A=s.current;if(o.canDrag&&o.didMove&&A){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}A.style.transition="transform 0.2s, opacity 0.2s",A.style.removeProperty("transform"),A.style.removeProperty("opacity")}}let H={onPointerDown:v,onPointerUp:_};return a&&l&&(H.onMouseEnter=w,t.stacked||(H.onMouseLeave=k)),h&&(H.onClick=A=>{c&&c(A),o.canCloseOnClick&&u(!0)}),{playToast:k,pauseToast:w,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:H}}var vU=typeof window<"u"?S.useLayoutEffect:S.useEffect,O0=({theme:t,type:e,isLoading:n,...r})=>xe.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function yU(t){return xe.createElement(O0,{...t},xe.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function wU(t){return xe.createElement(O0,{...t},xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function bU(t){return xe.createElement(O0,{...t},xe.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function _U(t){return xe.createElement(O0,{...t},xe.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function EU(){return xe.createElement("div",{className:"Toastify__spinner"})}var nw={info:wU,warning:yU,success:bU,error:_U,spinner:EU},xU=t=>t in nw;function SU({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(Pa(r)?i=r({...s,isLoading:n}):S.isValidElement(r)?i=S.cloneElement(r,s):n?i=nw.spinner():xU(e)&&(i=nw[e](s))),i}var kU=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=gU(t),{closeButton:o,children:a,autoClose:l,onClick:u,type:c,hideProgressBar:h,closeToast:m,transition:p,position:v,className:_,style:k,progressClassName:w,updateId:b,role:P,progress:O,rtl:j,toastId:H,deleteToast:A,isIn:x,isLoading:T,closeOnClick:M,theme:C,ariaLabel:I}=t,R=An("Toastify__toast",`Toastify__toast-theme--${C}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":M}),W=Pa(_)?_({rtl:j,position:v,type:c,defaultClassName:R}):An(R,_),Z=SU(t),X=!!O||!l,re={closeToast:m,type:c,theme:C},z=null;return o===!1||(Pa(o)?z=o(re):S.isValidElement(o)?z=S.cloneElement(o,re):z=eU(re)),xe.createElement(p,{isIn:x,done:A,position:v,preventExitTransition:n,nodeRef:r,playToast:s},xe.createElement("div",{id:H,tabIndex:0,onClick:u,"data-in":x,className:W,...i,style:k,ref:r,...x&&{role:P,"aria-label":I}},Z!=null&&xe.createElement("div",{className:An("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},Z),f3(a,t,!e),z,!t.customProgressBar&&xe.createElement(tU,{...b&&!X?{key:`p-${b}`}:{},rtl:j,theme:C,delay:l,isRunning:e,isIn:x,closeToast:m,hide:h,type:c,className:w,controlledProgress:X,progress:O||0})))},LU=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),CU=ZV(LU("bounce",!0)),TU={position:"top-right",transition:CU,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function PU(t){let e={...TU,...t},n=t.stacked,[r,i]=S.useState(!0),s=S.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=mU(e),{className:u,style:c,rtl:h,containerId:m,hotKeys:p}=e;function v(k){let w=An("Toastify__toast-container",`Toastify__toast-container--${k}`,{"Toastify__toast-container--rtl":h});return Pa(u)?u({position:k,rtl:h,defaultClassName:w}):An(w,Z2(u))}function _(){n&&(i(!0),nn.play())}return vU(()=>{var k;if(n){let w=s.current.querySelectorAll('[data-in="true"]'),b=12,P=(k=e.position)==null?void 0:k.includes("top"),O=0,j=0;Array.from(w).reverse().forEach((H,A)=>{let x=H;x.classList.add("Toastify__toast--stacked"),A>0&&(x.dataset.collapsed=`${r}`),x.dataset.pos||(x.dataset.pos=P?"top":"bot");let T=O*(r?.2:1)+(r?0:b*A);x.style.setProperty("--y",`${P?T:T*-1}px`),x.style.setProperty("--g",`${b}`),x.style.setProperty("--s",`${1-(r?j:0)}`),O+=x.offsetHeight,j+=.025})}},[r,l,n]),S.useEffect(()=>{function k(w){var b;let P=s.current;p(w)&&((b=P.querySelector('[tabIndex="0"]'))==null||b.focus(),i(!1),nn.pause()),w.key==="Escape"&&(document.activeElement===P||P!=null&&P.contains(document.activeElement))&&(i(!0),nn.play())}return document.addEventListener("keydown",k),()=>{document.removeEventListener("keydown",k)}},[p]),xe.createElement("section",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),nn.pause())},onMouseLeave:_,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((k,w)=>{let b=w.length?{...c}:{...c,pointerEvents:"none"};return xe.createElement("div",{tabIndex:-1,className:v(k),"data-stacked":n,style:b,key:`c-${k}`},w.map(({content:P,props:O})=>xe.createElement(kU,{...O,stacked:n,collapseAll:_,isIn:a(O.toastId,O.containerId),key:`t-${O.key}`},P)))}))}function dn(t){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(t)}var Zr=Uint8Array,Yi=Uint16Array,wb=Int32Array,F0=new Zr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),j0=new Zr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),rw=new Zr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),w3=function(t,e){for(var n=new Yi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new wb(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},b3=w3(F0,2),_3=b3.b,iw=b3.r;_3[28]=258,iw[258]=28;var E3=w3(j0,0),AU=E3.b,mS=E3.r,sw=new Yi(32768);for(var Cn=0;Cn<32768;++Cn){var pl=(Cn&43690)>>1|(Cn&21845)<<1;pl=(pl&52428)>>2|(pl&13107)<<2,pl=(pl&61680)>>4|(pl&3855)<<4,sw[Cn]=((pl&65280)>>8|(pl&255)<<8)>>1}var Ao=function(t,e,n){for(var r=t.length,i=0,s=new Yi(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Yi(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Yi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],h=o[t[i]-1]++<<c,m=h|(1<<c)-1;h<=m;++h)a[sw[h]>>l]=u}else for(a=new Yi(r),i=0;i<r;++i)t[i]&&(a[i]=sw[o[t[i]-1]++]>>15-t[i]);return a},eu=new Zr(288);for(var Cn=0;Cn<144;++Cn)eu[Cn]=8;for(var Cn=144;Cn<256;++Cn)eu[Cn]=9;for(var Cn=256;Cn<280;++Cn)eu[Cn]=7;for(var Cn=280;Cn<288;++Cn)eu[Cn]=8;var hp=new Zr(32);for(var Cn=0;Cn<32;++Cn)hp[Cn]=5;var IU=Ao(eu,9,0),NU=Ao(eu,9,1),DU=Ao(hp,5,0),RU=Ao(hp,5,1),t1=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Ds=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},n1=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},bb=function(t){return(t+7)/8|0},x3=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Zr(t.subarray(e,n))},MU=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Os=function(t,e,n){var r=new Error(e||MU[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Os),!n)throw r;return r},OU=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Zr(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new Zr(i*3));var u=function(ke){var je=n.length;if(ke>je){var Be=new Zr(Math.max(je*2,ke));Be.set(n),n=Be}},c=e.f||0,h=e.p||0,m=e.b||0,p=e.l,v=e.d,_=e.m,k=e.n,w=i*8;do{if(!p){c=Ds(t,h,1);var b=Ds(t,h+1,3);if(h+=3,b)if(b==1)p=NU,v=RU,_=9,k=5;else if(b==2){var H=Ds(t,h,31)+257,A=Ds(t,h+10,15)+4,x=H+Ds(t,h+5,31)+1;h+=14;for(var T=new Zr(x),M=new Zr(19),C=0;C<A;++C)M[rw[C]]=Ds(t,h+C*3,7);h+=A*3;for(var I=t1(M),R=(1<<I)-1,W=Ao(M,I,1),C=0;C<x;){var Z=W[Ds(t,h,R)];h+=Z&15;var P=Z>>4;if(P<16)T[C++]=P;else{var X=0,re=0;for(P==16?(re=3+Ds(t,h,3),h+=2,X=T[C-1]):P==17?(re=3+Ds(t,h,7),h+=3):P==18&&(re=11+Ds(t,h,127),h+=7);re--;)T[C++]=X}}var z=T.subarray(0,H),ne=T.subarray(H);_=t1(z),k=t1(ne),p=Ao(z,_,1),v=Ao(ne,k,1)}else Os(1);else{var P=bb(h)+4,O=t[P-4]|t[P-3]<<8,j=P+O;if(j>i){l&&Os(0);break}a&&u(m+O),n.set(t.subarray(P,j),m),e.b=m+=O,e.p=h=j*8,e.f=c;continue}if(h>w){l&&Os(0);break}}a&&u(m+131072);for(var ie=(1<<_)-1,ye=(1<<k)-1,F=h;;F=h){var X=p[n1(t,h)&ie],Y=X>>4;if(h+=X&15,h>w){l&&Os(0);break}if(X||Os(2),Y<256)n[m++]=Y;else if(Y==256){F=h,p=null;break}else{var ee=Y-254;if(Y>264){var C=Y-257,Q=F0[C];ee=Ds(t,h,(1<<Q)-1)+_3[C],h+=Q}var ae=v[n1(t,h)&ye],de=ae>>4;ae||Os(3),h+=ae&15;var ne=AU[de];if(de>3){var Q=j0[de];ne+=n1(t,h)&(1<<Q)-1,h+=Q}if(h>w){l&&Os(0);break}a&&u(m+131072);var he=m+ee;if(m<ne){var ve=s-ne,Se=Math.min(ne,he);for(ve+m<0&&Os(3);m<Se;++m)n[m]=r[ve+m]}for(;m<he;++m)n[m]=n[m-ne]}}e.l=p,e.p=F,e.b=m,e.f=c,p&&(c=1,e.m=_,e.d=v,e.n=k)}while(!c);return m!=n.length&&o?x3(n,0,m):n.subarray(0,m)},na=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Xh=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},r1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:k3,l:0};if(i==1){var o=new Zr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(j,H){return j.f-H.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[u].f<n[h].f?u++:h++],l=n[u!=c&&n[u].f<n[h].f?u++:h++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var m=s[0].s,r=1;r<i;++r)s[r].s>m&&(m=s[r].s);var p=new Yi(m+1),v=ow(n[c-1],p,0);if(v>e){var r=0,_=0,k=v-e,w=1<<k;for(s.sort(function(H,A){return p[A.s]-p[H.s]||H.f-A.f});r<i;++r){var b=s[r].s;if(p[b]>e)_+=w-(1<<v-p[b]),p[b]=e;else break}for(_>>=k;_>0;){var P=s[r].s;p[P]<e?_-=1<<e-p[P]++-1:++r}for(;r>=0&&_;--r){var O=s[r].s;p[O]==e&&(--p[O],++_)}v=e}return{t:new Zr(p),l:v}},ow=function(t,e,n){return t.s==-1?Math.max(ow(t.l,e,n+1),ow(t.r,e,n+1)):e[t.s]=n},gS=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Yi(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},Zh=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},S3=function(t,e,n){var r=n.length,i=bb(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},vS=function(t,e,n,r,i,s,o,a,l,u,c){na(e,c++,n),++i[256];for(var h=r1(i,15),m=h.t,p=h.l,v=r1(s,15),_=v.t,k=v.l,w=gS(m),b=w.c,P=w.n,O=gS(_),j=O.c,H=O.n,A=new Yi(19),x=0;x<b.length;++x)++A[b[x]&31];for(var x=0;x<j.length;++x)++A[j[x]&31];for(var T=r1(A,7),M=T.t,C=T.l,I=19;I>4&&!M[rw[I-1]];--I);var R=u+5<<3,W=Zh(i,eu)+Zh(s,hp)+o,Z=Zh(i,m)+Zh(s,_)+o+14+3*I+Zh(A,M)+2*A[16]+3*A[17]+7*A[18];if(l>=0&&R<=W&&R<=Z)return S3(e,c,t.subarray(l,l+u));var X,re,z,ne;if(na(e,c,1+(Z<W)),c+=2,Z<W){X=Ao(m,p,0),re=m,z=Ao(_,k,0),ne=_;var ie=Ao(M,C,0);na(e,c,P-257),na(e,c+5,H-1),na(e,c+10,I-4),c+=14;for(var x=0;x<I;++x)na(e,c+3*x,M[rw[x]]);c+=3*I;for(var ye=[b,j],F=0;F<2;++F)for(var Y=ye[F],x=0;x<Y.length;++x){var ee=Y[x]&31;na(e,c,ie[ee]),c+=M[ee],ee>15&&(na(e,c,Y[x]>>5&127),c+=Y[x]>>12)}}else X=IU,re=eu,z=DU,ne=hp;for(var x=0;x<a;++x){var Q=r[x];if(Q>255){var ee=Q>>18&31;Xh(e,c,X[ee+257]),c+=re[ee+257],ee>7&&(na(e,c,Q>>23&31),c+=F0[ee]);var ae=Q&31;Xh(e,c,z[ae]),c+=ne[ae],ae>3&&(Xh(e,c,Q>>5&8191),c+=j0[ae])}else Xh(e,c,X[Q]),c+=re[Q]}return Xh(e,c,X[256]),c+re[256]},FU=new wb([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),k3=new Zr(0),jU=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Zr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var h=FU[e-1],m=h>>13,p=h&8191,v=(1<<n)-1,_=s.p||new Yi(32768),k=s.h||new Yi(v+1),w=Math.ceil(n/3),b=2*w,P=function(st){return(t[st]^t[st+1]<<w^t[st+2]<<b)&v},O=new wb(25e3),j=new Yi(288),H=new Yi(32),A=0,x=0,T=s.i||0,M=0,C=s.w||0,I=0;T+2<o;++T){var R=P(T),W=T&32767,Z=k[R];if(_[W]=Z,k[R]=W,C<=T){var X=o-T;if((A>7e3||M>24576)&&(X>423||!u)){c=vS(t,l,0,O,j,H,x,M,I,T-I,c),M=A=x=0,I=T;for(var re=0;re<286;++re)j[re]=0;for(var re=0;re<30;++re)H[re]=0}var z=2,ne=0,ie=p,ye=W-Z&32767;if(X>2&&R==P(T-ye))for(var F=Math.min(m,X)-1,Y=Math.min(32767,T),ee=Math.min(258,X);ye<=Y&&--ie&&W!=Z;){if(t[T+z]==t[T+z-ye]){for(var Q=0;Q<ee&&t[T+Q]==t[T+Q-ye];++Q);if(Q>z){if(z=Q,ne=ye,Q>F)break;for(var ae=Math.min(ye,Q-2),de=0,re=0;re<ae;++re){var he=T-ye+re&32767,ve=_[he],Se=he-ve&32767;Se>de&&(de=Se,Z=he)}}}W=Z,Z=_[W],ye+=W-Z&32767}if(ne){O[M++]=268435456|iw[z]<<18|mS[ne];var ke=iw[z]&31,je=mS[ne]&31;x+=F0[ke]+j0[je],++j[257+ke],++H[je],C=T+z,++A}else O[M++]=t[T],++j[t[T]]}}for(T=Math.max(T,C);T<o;++T)O[M++]=t[T],++j[t[T]];c=vS(t,l,u,O,j,H,x,M,I,T-I,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=k,s.p=_,s.i=T,s.w=C)}else{for(var T=s.w||0;T<o+u;T+=65535){var Be=T+65535;Be>=o&&(l[c/8|0]=u,Be=o),c=S3(l,c+1,t.subarray(T,Be))}s.i=o}return x3(a,0,r+bb(c)+i)},L3=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},BU=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Zr(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return jU(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},C3=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},VU=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=L3();i.p(e.dictionary),C3(t,2,i.d())}},UU=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Os(6,"invalid zlib data"),(t[1]>>5&1)==1&&Os(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function aw(t,e){e||(e={});var n=L3();n.p(t);var r=BU(t,e,e.dictionary?6:2,4);return VU(r,e),C3(r,r.length-4,n.d()),r}function zU(t,e){return OU(t.subarray(UU(t),-4),{i:2},e,e)}var qU=typeof TextDecoder<"u"&&new TextDecoder,$U=0;try{qU.decode(k3,{stream:!0}),$U=1}catch{}var vt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function i1(){vt.console&&typeof vt.console.log=="function"&&vt.console.log.apply(vt.console,arguments)}var yn={log:i1,warn:function(t){vt.console&&(typeof vt.console.warn=="function"?vt.console.warn.apply(vt.console,arguments):i1.call(null,arguments))},error:function(t){vt.console&&(typeof vt.console.error=="function"?vt.console.error.apply(vt.console,arguments):i1(t))}};function s1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Bu(r.response,e,n)},r.onerror=function(){yn.error("could not download file")},r.send()}function yS(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Dm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Df,lw,Bu=vt.saveAs||((typeof window>"u"?"undefined":dn(window))!=="object"||window!==vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=vt.URL||vt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?yS(i.href)?s1(t,e,n):Dm(i,i.target="_blank"):Dm(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Dm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(yS(t))s1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Dm(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:dn(s)!=="object"&&(yn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return s1(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(vt.HTMLElement)||vt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":dn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(t)}else{var l=vt.URL||vt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function T3(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function o1(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Hr(n,r,i,s,e[0],7,-680876936),s=Hr(s,n,r,i,e[1],12,-389564586),i=Hr(i,s,n,r,e[2],17,606105819),r=Hr(r,i,s,n,e[3],22,-1044525330),n=Hr(n,r,i,s,e[4],7,-176418897),s=Hr(s,n,r,i,e[5],12,1200080426),i=Hr(i,s,n,r,e[6],17,-1473231341),r=Hr(r,i,s,n,e[7],22,-45705983),n=Hr(n,r,i,s,e[8],7,1770035416),s=Hr(s,n,r,i,e[9],12,-1958414417),i=Hr(i,s,n,r,e[10],17,-42063),r=Hr(r,i,s,n,e[11],22,-1990404162),n=Hr(n,r,i,s,e[12],7,1804603682),s=Hr(s,n,r,i,e[13],12,-40341101),i=Hr(i,s,n,r,e[14],17,-1502002290),n=Wr(n,r=Hr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Wr(s,n,r,i,e[6],9,-1069501632),i=Wr(i,s,n,r,e[11],14,643717713),r=Wr(r,i,s,n,e[0],20,-373897302),n=Wr(n,r,i,s,e[5],5,-701558691),s=Wr(s,n,r,i,e[10],9,38016083),i=Wr(i,s,n,r,e[15],14,-660478335),r=Wr(r,i,s,n,e[4],20,-405537848),n=Wr(n,r,i,s,e[9],5,568446438),s=Wr(s,n,r,i,e[14],9,-1019803690),i=Wr(i,s,n,r,e[3],14,-187363961),r=Wr(r,i,s,n,e[8],20,1163531501),n=Wr(n,r,i,s,e[13],5,-1444681467),s=Wr(s,n,r,i,e[2],9,-51403784),i=Wr(i,s,n,r,e[7],14,1735328473),n=Yr(n,r=Wr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Yr(s,n,r,i,e[8],11,-2022574463),i=Yr(i,s,n,r,e[11],16,1839030562),r=Yr(r,i,s,n,e[14],23,-35309556),n=Yr(n,r,i,s,e[1],4,-1530992060),s=Yr(s,n,r,i,e[4],11,1272893353),i=Yr(i,s,n,r,e[7],16,-155497632),r=Yr(r,i,s,n,e[10],23,-1094730640),n=Yr(n,r,i,s,e[13],4,681279174),s=Yr(s,n,r,i,e[0],11,-358537222),i=Yr(i,s,n,r,e[3],16,-722521979),r=Yr(r,i,s,n,e[6],23,76029189),n=Yr(n,r,i,s,e[9],4,-640364487),s=Yr(s,n,r,i,e[12],11,-421815835),i=Yr(i,s,n,r,e[15],16,530742520),n=Gr(n,r=Yr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Gr(s,n,r,i,e[7],10,1126891415),i=Gr(i,s,n,r,e[14],15,-1416354905),r=Gr(r,i,s,n,e[5],21,-57434055),n=Gr(n,r,i,s,e[12],6,1700485571),s=Gr(s,n,r,i,e[3],10,-1894986606),i=Gr(i,s,n,r,e[10],15,-1051523),r=Gr(r,i,s,n,e[1],21,-2054922799),n=Gr(n,r,i,s,e[8],6,1873313359),s=Gr(s,n,r,i,e[15],10,-30611744),i=Gr(i,s,n,r,e[6],15,-1560198380),r=Gr(r,i,s,n,e[13],21,1309151649),n=Gr(n,r,i,s,e[4],6,-145523070),s=Gr(s,n,r,i,e[11],10,-1120210379),i=Gr(i,s,n,r,e[2],15,718787259),r=Gr(r,i,s,n,e[9],21,-343485551),t[0]=Cl(n,t[0]),t[1]=Cl(r,t[1]),t[2]=Cl(i,t[2]),t[3]=Cl(s,t[3])}function B0(t,e,n,r,i,s){return e=Cl(Cl(e,t),Cl(r,s)),Cl(e<<i|e>>>32-i,n)}function Hr(t,e,n,r,i,s,o){return B0(e&n|~e&r,t,e,i,s,o)}function Wr(t,e,n,r,i,s,o){return B0(e&r|n&~r,t,e,i,s,o)}function Yr(t,e,n,r,i,s,o){return B0(e^n^r,t,e,i,s,o)}function Gr(t,e,n,r,i,s,o){return B0(n^(e|~r),t,e,i,s,o)}function P3(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)o1(r,HU(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(o1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,o1(r,i),r}function HU(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Df=vt.atob.bind(vt),lw=vt.btoa.bind(vt);var wS="0123456789abcdef".split("");function WU(t){for(var e="",n=0;n<4;n++)e+=wS[t>>8*n+4&15]+wS[t>>8*n&15];return e}function YU(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function uw(t){return P3(t).map(YU).join("")}var GU=function(t){for(var e=0;e<t.length;e++)t[e]=WU(t[e]);return t.join("")}(P3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Cl(t,e){if(GU){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function cw(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+o.charCodeAt(l))%256,a[l]=a[u],a[u]=c}n=t,r=a}else a=r;var h=e.length,m=0,p=0,v="";for(l=0;l<h;l++)p=(p+(c=a[m=(m+1)%256]))%256,a[m]=a[p],a[p]=c,o=a[(a[m]+a[p])%256],v+=String.fromCharCode(e.charCodeAt(l)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var bS={print:4,modify:8,copy:16,"annot-forms":32};function sd(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(bS.perm!==void 0)throw new Error("Invalid permission: "+a);i+=bS[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=uw(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=cw(this.encryptionKey,this.padding)}function od(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function _S(t){if(dn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){vt.console&&yn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function bv(t){if(!(this instanceof bv))return new bv(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function A3(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Uu(t,e,n,r,i){if(!(this instanceof Uu))return new Uu(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,A3.call(this,r,i)}function bd(t,e,n,r,i){if(!(this instanceof bd))return new bd(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,A3.call(this,r,i)}function ft(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",c=null;dn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=_S;var v="1.3",_=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(y){v=y};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return k};var w=p.__private__.getPageFormat=function(y){return k[y]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},P=b.COMPAT;function O(){this.saveGraphicsState(),oe(new Qe(He,0,0,-He,0,Ur()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),u="n",P=b.ADVANCED}function j(){this.restoreGraphicsState(),u="S",P=b.COMPAT}var H=p.__private__.combineFontStyleAndFontWeight=function(y,V){if(y=="bold"&&V=="normal"||y=="bold"&&V==400||y=="normal"&&V=="italic"||y=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(y=V==400||V==="normal"?y==="italic"?"italic":"normal":V!=700&&V!=="bold"||y!=="normal"?(V==700?"bold":V)+""+y:"bold"),y};p.advancedAPI=function(y){var V=P===b.COMPAT;return V&&O.call(this),typeof y!="function"||(y(this),V&&j.call(this)),this},p.compatAPI=function(y){var V=P===b.ADVANCED;return V&&j.call(this),typeof y!="function"||(y(this),V&&O.call(this)),this},p.isAdvancedAPI=function(){return P===b.ADVANCED};var A,x=function(y){if(P!==b.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=p.roundToPrecision=p.__private__.roundToPrecision=function(y,V){var se=e||V;if(isNaN(y)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(se).replace(/0+$/,"")};A=p.hpf=p.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return T(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return T(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return T(y,16)};var M=p.f2=p.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return T(y,2)},C=p.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return T(y,3)},I=p.scale=p.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return P===b.COMPAT?y*He:P===b.ADVANCED?y:void 0},R=function(y){return P===b.COMPAT?Ur()-y:P===b.ADVANCED?y:void 0},W=function(y){return I(R(y))};p.__private__.setPrecision=p.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var Z,X="00000000000000000000000000000000",re=p.__private__.getFileId=function(){return X},z=p.__private__.setFileId=function(y){return X=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(kn=new sd(c.userPermissions,c.userPassword,c.ownerPassword,X)),X};p.setFileId=function(y){return z(y),this},p.getFileId=function(){return re()};var ne=p.__private__.convertDateToPDFDate=function(y){var V=y.getTimezoneOffset(),se=V<0?"+":"-",le=Math.floor(Math.abs(V/60)),me=Math.abs(V%60),Te=[se,ee(le),"'",ee(me),"'"].join("");return["D:",y.getFullYear(),ee(y.getMonth()+1),ee(y.getDate()),ee(y.getHours()),ee(y.getMinutes()),ee(y.getSeconds()),Te].join("")},ie=p.__private__.convertPDFDateToDate=function(y){var V=parseInt(y.substr(2,4),10),se=parseInt(y.substr(6,2),10)-1,le=parseInt(y.substr(8,2),10),me=parseInt(y.substr(10,2),10),Te=parseInt(y.substr(12,2),10),Me=parseInt(y.substr(14,2),10);return new Date(V,se,le,me,Te,Me,0)},ye=p.__private__.setCreationDate=function(y){var V;if(y===void 0&&(y=new Date),y instanceof Date)V=ne(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=y}return Z=V},F=p.__private__.getCreationDate=function(y){var V=Z;return y==="jsDate"&&(V=ie(Z)),V};p.setCreationDate=function(y){return ye(y),this},p.getCreationDate=function(y){return F(y)};var Y,ee=p.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},Q=p.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},ae=0,de=[],he=[],ve=0,Se=[],ke=[],je=!1,Be=he,st=function(){ae=0,ve=0,he=[],de=[],Se=[],_s=Fn(),Vr=Fn()};p.__private__.setCustomOutputDestination=function(y){je=!0,Be=y};var _e=function(y){je||(Be=y)};p.__private__.resetCustomOutputDestination=function(){je=!1,Be=he};var oe=p.__private__.out=function(y){return y=y.toString(),ve+=y.length+1,Be.push(y),Be},gt=p.__private__.write=function(y){return oe(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},tt=p.__private__.getArrayBuffer=function(y){for(var V=y.length,se=new ArrayBuffer(V),le=new Uint8Array(se);V--;)le[V]=y.charCodeAt(V);return se},Fe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Fe};var ze=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(y){return ze=P===b.ADVANCED?y/He:y,this};var qe,$e=p.__private__.getFontSize=p.getFontSize=function(){return P===b.COMPAT?ze:ze*He},nt=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(y){return nt=y,this},p.__private__.getR2L=p.getR2L=function(){return nt};var ht,_t=p.__private__.setZoomMode=function(y){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))qe=y;else if(isNaN(y)){if(V.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');qe=y}else qe=parseInt(y,10)};p.__private__.getZoomMode=function(){return qe};var ot,ct=p.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');ht=y};p.__private__.getPageMode=function(){return ht};var Ft=p.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');ot=y};p.__private__.getLayoutMode=function(){return ot},p.__private__.setDisplayMode=p.setDisplayMode=function(y,V,se){return _t(y),Ft(V),ct(se),this};var lt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(y){if(Object.keys(lt).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return lt[y]},p.__private__.getDocumentProperties=function(){return lt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(y){for(var V in lt)lt.hasOwnProperty(V)&&y[V]&&(lt[V]=y[V]);return this},p.__private__.setDocumentProperty=function(y,V){if(Object.keys(lt).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return lt[y]=V};var Ct,He,En,At,Lr,jt={},on={},Cr=[],Mt={},ni={},pn={},rr={},jr=null,Jt=0,ut=[],Rt=new _S(p),ri=t.hotfixes||[],xn={},cr={},ii=[],Qe=function y(V,se,le,me,Te,Me){if(!(this instanceof y))return new y(V,se,le,me,Te,Me);isNaN(V)&&(V=1),isNaN(se)&&(se=0),isNaN(le)&&(le=0),isNaN(me)&&(me=1),isNaN(Te)&&(Te=0),isNaN(Me)&&(Me=0),this._matrix=[V,se,le,me,Te,Me]};Object.defineProperty(Qe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Qe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Qe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Qe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Qe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Qe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Qe.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Qe.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Qe.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Qe.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Qe.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Qe.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Qe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qe.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(A).join(y)},Qe.prototype.multiply=function(y){var V=y.sx*this.sx+y.shy*this.shx,se=y.sx*this.shy+y.shy*this.sy,le=y.shx*this.sx+y.sy*this.shx,me=y.shx*this.shy+y.sy*this.sy,Te=y.tx*this.sx+y.ty*this.shx+this.tx,Me=y.tx*this.shy+y.ty*this.sy+this.ty;return new Qe(V,se,le,me,Te,Me)},Qe.prototype.decompose=function(){var y=this.sx,V=this.shy,se=this.shx,le=this.sy,me=this.tx,Te=this.ty,Me=Math.sqrt(y*y+V*V),Ye=(y/=Me)*se+(V/=Me)*le;se-=y*Ye,le-=V*Ye;var f=Math.sqrt(se*se+le*le);return Ye/=f,y*(le/=f)<V*(se/=f)&&(y=-y,V=-V,Ye=-Ye,Me=-Me),{scale:new Qe(Me,0,0,f,0,0),translate:new Qe(1,0,0,1,me,Te),rotate:new Qe(y,V,-V,y,0,0),skew:new Qe(1,0,Ye,1,0,0)}},Qe.prototype.toString=function(y){return this.join(" ")},Qe.prototype.inversed=function(){var y=this.sx,V=this.shy,se=this.shx,le=this.sy,me=this.tx,Te=this.ty,Me=1/(y*le-V*se),Ye=le*Me,f=-V*Me,L=-se*Me,D=y*Me;return new Qe(Ye,f,L,D,-Ye*me-L*Te,-f*me-D*Te)},Qe.prototype.applyToPoint=function(y){var V=y.x*this.sx+y.y*this.shx+this.tx,se=y.x*this.shy+y.y*this.sy+this.ty;return new Yo(V,se)},Qe.prototype.applyToRectangle=function(y){var V=this.applyToPoint(y),se=this.applyToPoint(new Yo(y.x+y.w,y.y+y.h));return new Ja(V.x,V.y,se.x-V.x,se.y-V.y)},Qe.prototype.clone=function(){var y=this.sx,V=this.shy,se=this.shx,le=this.sy,me=this.tx,Te=this.ty;return new Qe(y,V,se,le,me,Te)},p.Matrix=Qe;var at=p.matrixMult=function(y,V){return V.multiply(y)},Br=new Qe(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Br;var ir=function(y,V){if(!ni[y]){var se=(V instanceof Uu?"Sh":"P")+(Object.keys(Mt).length+1).toString(10);V.id=se,ni[y]=se,Mt[se]=V,Rt.publish("addPattern",V)}};p.ShadingPattern=Uu,p.TilingPattern=bd,p.addShadingPattern=function(y,V){return x("addShadingPattern()"),ir(y,V),this},p.beginTilingPattern=function(y){x("beginTilingPattern()"),Xa(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},p.endTilingPattern=function(y,V){x("endTilingPattern()"),V.stream=ke[Y].join(`
`),ir(y,V),Rt.publish("endTilingPattern",V),ii.pop().restore()};var $n=p.__private__.newObject=function(){var y=Fn();return sr(y,!0),y},Fn=p.__private__.newObjectDeferred=function(){return ae++,de[ae]=function(){return ve},ae},sr=function(y,V){return V=typeof V=="boolean"&&V,de[y]=ve,V&&oe(y+" 0 obj"),y},Fa=p.__private__.newAdditionalObject=function(){var y={objId:Fn(),content:""};return Se.push(y),y},_s=Fn(),Vr=Fn(),bi=p.__private__.decodeColorString=function(y){var V=y.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var se=parseFloat(V[0]);V=[se,se,se,"r"]}for(var le="#",me=0;me<3;me++)le+=("0"+Math.floor(255*parseFloat(V[me])).toString(16)).slice(-2);return le},si=p.__private__.encodeColorString=function(y){var V;typeof y=="string"&&(y={ch1:y});var se=y.ch1,le=y.ch2,me=y.ch3,Te=y.ch4,Me=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var Ye=new T3(se);if(Ye.ok)se=Ye.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var f=parseInt(se.substr(1),16);se=f>>16&255,le=f>>8&255,me=255&f}if(le===void 0||Te===void 0&&se===le&&le===me)if(typeof se=="string")V=se+" "+Me[0];else switch(y.precision){case 2:V=M(se/255)+" "+Me[0];break;case 3:default:V=C(se/255)+" "+Me[0]}else if(Te===void 0||dn(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return V=["1.","1.","1.",Me[1]].join(" ");if(typeof se=="string")V=[se,le,me,Me[1]].join(" ");else switch(y.precision){case 2:V=[M(se/255),M(le/255),M(me/255),Me[1]].join(" ");break;default:case 3:V=[C(se/255),C(le/255),C(me/255),Me[1]].join(" ")}}else if(typeof se=="string")V=[se,le,me,Te,Me[2]].join(" ");else switch(y.precision){case 2:V=[M(se),M(le),M(me),M(Te),Me[2]].join(" ");break;case 3:default:V=[C(se),C(le),C(me),C(Te),Me[2]].join(" ")}return V},oi=p.__private__.getFilters=function(){return o},Hn=p.__private__.putStream=function(y){var V=(y=y||{}).data||"",se=y.filters||oi(),le=y.alreadyAppliedFilters||[],me=y.addLength1||!1,Te=V.length,Me=y.objectId,Ye=function(xt){return xt};if(c!==null&&Me===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(Ye=kn.encryptor(Me,0));var f={};se===!0&&(se=["FlateEncode"]);var L=y.additionalKeyValues||[],D=(f=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(V,se):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(f.data.length!==0&&(L.push({key:"Length",value:f.data.length}),me===!0&&L.push({key:"Length1",value:Te})),D.length!=0)if(D.split("/").length-1==1)L.push({key:"Filter",value:D});else{L.push({key:"Filter",value:"["+D+"]"});for(var G=0;G<L.length;G+=1)if(L[G].key==="DecodeParms"){for(var pe=[],Ee=0;Ee<f.reverseChain.split("/").length-1;Ee+=1)pe.push("null");pe.push(L[G].value),L[G].value="["+pe.join(" ")+"]"}}oe("<<");for(var Oe=0;Oe<L.length;Oe++)oe("/"+L[Oe].key+" "+L[Oe].value);oe(">>"),f.data.length!==0&&(oe("stream"),oe(Ye(f.data)),oe("endstream"))},Oi=p.__private__.putPage=function(y){var V=y.number,se=y.data,le=y.objId,me=y.contentsObjId;sr(le,!0),oe("<</Type /Page"),oe("/Parent "+y.rootDictionaryObjId+" 0 R"),oe("/Resources "+y.resourceDictionaryObjId+" 0 R"),oe("/MediaBox ["+parseFloat(A(y.mediaBox.bottomLeftX))+" "+parseFloat(A(y.mediaBox.bottomLeftY))+" "+A(y.mediaBox.topRightX)+" "+A(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&oe("/CropBox ["+A(y.cropBox.bottomLeftX)+" "+A(y.cropBox.bottomLeftY)+" "+A(y.cropBox.topRightX)+" "+A(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&oe("/BleedBox ["+A(y.bleedBox.bottomLeftX)+" "+A(y.bleedBox.bottomLeftY)+" "+A(y.bleedBox.topRightX)+" "+A(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&oe("/TrimBox ["+A(y.trimBox.bottomLeftX)+" "+A(y.trimBox.bottomLeftY)+" "+A(y.trimBox.topRightX)+" "+A(y.trimBox.topRightY)+"]"),y.artBox!==null&&oe("/ArtBox ["+A(y.artBox.bottomLeftX)+" "+A(y.artBox.bottomLeftY)+" "+A(y.artBox.topRightX)+" "+A(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&oe("/UserUnit "+y.userUnit),Rt.publish("putPage",{objId:le,pageContext:ut[V],pageNumber:V,page:se}),oe("/Contents "+me+" 0 R"),oe(">>"),oe("endobj");var Te=se.join(`
`);return P===b.ADVANCED&&(Te+=`
Q`),sr(me,!0),Hn({data:Te,filters:oi(),objectId:me}),oe("endobj"),le},Xs=p.__private__.putPages=function(){var y,V,se=[];for(y=1;y<=Jt;y++)ut[y].objId=Fn(),ut[y].contentsObjId=Fn();for(y=1;y<=Jt;y++)se.push(Oi({number:y,data:ke[y],objId:ut[y].objId,contentsObjId:ut[y].contentsObjId,mediaBox:ut[y].mediaBox,cropBox:ut[y].cropBox,bleedBox:ut[y].bleedBox,trimBox:ut[y].trimBox,artBox:ut[y].artBox,userUnit:ut[y].userUnit,rootDictionaryObjId:_s,resourceDictionaryObjId:Vr}));sr(_s,!0),oe("<</Type /Pages");var le="/Kids [";for(V=0;V<Jt;V++)le+=se[V]+" 0 R ";oe(le+"]"),oe("/Count "+Jt),oe(">>"),oe("endobj"),Rt.publish("postPutPages")},Zs=function(y){Rt.publish("putFont",{font:y,out:oe,newObject:$n,putStream:Hn}),y.isAlreadyPutted!==!0&&(y.objectNumber=$n(),oe("<<"),oe("/Type /Font"),oe("/BaseFont /"+od(y.postScriptName)),oe("/Subtype /Type1"),typeof y.encoding=="string"&&oe("/Encoding /"+y.encoding),oe("/FirstChar 32"),oe("/LastChar 255"),oe(">>"),oe("endobj"))},eo=function(){for(var y in jt)jt.hasOwnProperty(y)&&(h===!1||h===!0&&m.hasOwnProperty(y))&&Zs(jt[y])},jo=function(y){y.objectNumber=$n();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[A(y.x),A(y.y),A(y.x+y.width),A(y.y+y.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var se=y.pages[1].join(`
`);Hn({data:se,additionalKeyValues:V,objectId:y.objectNumber}),oe("endobj")},Bo=function(){for(var y in xn)xn.hasOwnProperty(y)&&jo(xn[y])},Cc=function(y,V){var se,le=[],me=1/(V-1);for(se=0;se<1;se+=me)le.push(se);if(le.push(1),y[0].offset!=0){var Te={offset:0,color:y[0].color};y.unshift(Te)}if(y[y.length-1].offset!=1){var Me={offset:1,color:y[y.length-1].color};y.push(Me)}for(var Ye="",f=0,L=0;L<le.length;L++){for(se=le[L];se>y[f+1].offset;)f++;var D=y[f].offset,G=(se-D)/(y[f+1].offset-D),pe=y[f].color,Ee=y[f+1].color;Ye+=Q(Math.round((1-G)*pe[0]+G*Ee[0]).toString(16))+Q(Math.round((1-G)*pe[1]+G*Ee[1]).toString(16))+Q(Math.round((1-G)*pe[2]+G*Ee[2]).toString(16))}return Ye.trim()},ja=function(y,V){V||(V=21);var se=$n(),le=Cc(y.colors,V),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+V+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Hn({data:le,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),oe("endobj"),y.objectNumber=$n(),oe("<< /ShadingType "+y.type),oe("/ColorSpace /DeviceRGB");var Te="/Coords ["+A(parseFloat(y.coords[0]))+" "+A(parseFloat(y.coords[1]))+" ";y.type===2?Te+=A(parseFloat(y.coords[2]))+" "+A(parseFloat(y.coords[3])):Te+=A(parseFloat(y.coords[2]))+" "+A(parseFloat(y.coords[3]))+" "+A(parseFloat(y.coords[4]))+" "+A(parseFloat(y.coords[5])),oe(Te+="]"),y.matrix&&oe("/Matrix ["+y.matrix.toString()+"]"),oe("/Function "+se+" 0 R"),oe("/Extend [true true]"),oe(">>"),oe("endobj")},Tc=function(y,V){var se=Fn(),le=$n();V.push({resourcesOid:se,objectOid:le}),y.objectNumber=le;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+y.boundingBox.map(A).join(" ")+"]"}),me.push({key:"XStep",value:A(y.xStep)}),me.push({key:"YStep",value:A(y.yStep)}),me.push({key:"Resources",value:se+" 0 R"}),y.matrix&&me.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),Hn({data:y.stream,additionalKeyValues:me,objectId:y.objectNumber}),oe("endobj")},to=function(y){var V;for(V in Mt)Mt.hasOwnProperty(V)&&(Mt[V]instanceof Uu?ja(Mt[V]):Mt[V]instanceof bd&&Tc(Mt[V],y))},no=function(y){for(var V in y.objectNumber=$n(),oe("<<"),y)switch(V){case"opacity":oe("/ca "+M(y[V]));break;case"stroke-opacity":oe("/CA "+M(y[V]))}oe(">>"),oe("endobj")},Es=function(){var y;for(y in pn)pn.hasOwnProperty(y)&&no(pn[y])},Vo=function(){for(var y in oe("/XObject <<"),xn)xn.hasOwnProperty(y)&&xn[y].objectNumber>=0&&oe("/"+y+" "+xn[y].objectNumber+" 0 R");Rt.publish("putXobjectDict"),oe(">>")},Sh=function(){kn.oid=$n(),oe("<<"),oe("/Filter /Standard"),oe("/V "+kn.v),oe("/R "+kn.r),oe("/U <"+kn.toHexString(kn.U)+">"),oe("/O <"+kn.toHexString(kn.O)+">"),oe("/P "+kn.P),oe(">>"),oe("endobj")},hu=function(){for(var y in oe("/Font <<"),jt)jt.hasOwnProperty(y)&&(h===!1||h===!0&&m.hasOwnProperty(y))&&oe("/"+y+" "+jt[y].objectNumber+" 0 R");oe(">>")},Pc=function(){if(Object.keys(Mt).length>0){for(var y in oe("/Shading <<"),Mt)Mt.hasOwnProperty(y)&&Mt[y]instanceof Uu&&Mt[y].objectNumber>=0&&oe("/"+y+" "+Mt[y].objectNumber+" 0 R");Rt.publish("putShadingPatternDict"),oe(">>")}},Uo=function(y){if(Object.keys(Mt).length>0){for(var V in oe("/Pattern <<"),Mt)Mt.hasOwnProperty(V)&&Mt[V]instanceof p.TilingPattern&&Mt[V].objectNumber>=0&&Mt[V].objectNumber<y&&oe("/"+V+" "+Mt[V].objectNumber+" 0 R");Rt.publish("putTilingPatternDict"),oe(">>")}},fu=function(){if(Object.keys(pn).length>0){var y;for(y in oe("/ExtGState <<"),pn)pn.hasOwnProperty(y)&&pn[y].objectNumber>=0&&oe("/"+y+" "+pn[y].objectNumber+" 0 R");Rt.publish("putGStateDict"),oe(">>")}},Sn=function(y){sr(y.resourcesOid,!0),oe("<<"),oe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),hu(),Pc(),Uo(y.objectOid),fu(),Vo(),oe(">>"),oe("endobj")},pu=function(){var y=[];eo(),Es(),Bo(),to(y),Rt.publish("putResources"),y.forEach(Sn),Sn({resourcesOid:Vr,objectOid:Number.MAX_SAFE_INTEGER}),Rt.publish("postPutResources")},mu=function(){Rt.publish("putAdditionalObjects");for(var y=0;y<Se.length;y++){var V=Se[y];sr(V.objId,!0),oe(V.content),oe("endobj")}Rt.publish("postPutAdditionalObjects")},Ac=function(y){on[y.fontName]=on[y.fontName]||{},on[y.fontName][y.fontStyle]=y.id},gu=function(y,V,se,le,me){var Te={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:y,fontName:V,fontStyle:se,encoding:le,isStandardFont:me||!1,metadata:{}};return Rt.publish("addFont",{font:Te,instance:this}),jt[Te.id]=Te,Ac(Te),Te.id},Ic=function(y){for(var V=0,se=Fe.length;V<se;V++){var le=gu.call(this,y[V][0],y[V][1],y[V][2],Fe[V][3],!0);h===!1&&(m[le]=!0);var me=y[V][0].split("-");Ac({id:le,fontName:me[0],fontStyle:me[1]||""})}Rt.publish("addFonts",{fonts:jt,dictionary:on})},_i=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(le){var V=le.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var se="Error in function "+V.split(`
`)[0].split("<")[0]+": "+le.message;if(!vt.console)throw new Error(se);vt.console.error(se,le),vt.alert&&alert(se)}},y.foo.bar=y,y.foo},Ba=function(y,V){var se,le,me,Te,Me,Ye,f,L,D;if(me=(V=V||{}).sourceEncoding||"Unicode",Me=V.outputEncoding,(V.autoencode||Me)&&jt[Ct].metadata&&jt[Ct].metadata[me]&&jt[Ct].metadata[me].encoding&&(Te=jt[Ct].metadata[me].encoding,!Me&&jt[Ct].encoding&&(Me=jt[Ct].encoding),!Me&&Te.codePages&&(Me=Te.codePages[0]),typeof Me=="string"&&(Me=Te[Me]),Me)){for(f=!1,Ye=[],se=0,le=y.length;se<le;se++)(L=Me[y.charCodeAt(se)])?Ye.push(String.fromCharCode(L)):Ye.push(y[se]),Ye[se].charCodeAt(0)>>8&&(f=!0);y=Ye.join("")}for(se=y.length;f===void 0&&se!==0;)y.charCodeAt(se-1)>>8&&(f=!0),se--;if(!f)return y;for(Ye=V.noBOM?[]:[254,255],se=0,le=y.length;se<le;se++){if((D=(L=y.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ye.push(D),Ye.push(L-(D<<8))}return String.fromCharCode.apply(void 0,Ye)},jn=p.__private__.pdfEscape=p.pdfEscape=function(y,V){return Ba(y,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ai=p.__private__.beginPage=function(y){ke[++Jt]=[],ut[Jt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},vu(Jt),_e(ke[Y])},zo=function(y,V){var se,le,me;switch(n=V||n,typeof y=="string"&&(se=w(y.toLowerCase()),Array.isArray(se)&&(le=se[0],me=se[1])),Array.isArray(y)&&(le=y[0]*He,me=y[1]*He),isNaN(le)&&(le=i[0],me=i[1]),(le>14400||me>14400)&&(yn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),me=Math.min(14400,me)),i=[le,me],n.substr(0,1)){case"l":me>le&&(i=[me,le]);break;case"p":le>me&&(i=[me,le])}ai(i),Eu(_u),oe(Tr),ku!==0&&oe(ku+" J"),Qa!==0&&oe(Qa+" j"),Rt.publish("addPage",{pageNumber:Jt})},Va=function(y){y>0&&y<=Jt&&(ke.splice(y,1),ut.splice(y,1),Jt--,Y>Jt&&(Y=Jt),this.setPage(Y))},vu=function(y){y>0&&y<=Jt&&(Y=y)},an=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ke.length-1},qo=function(y,V,se){var le,me=void 0;return se=se||{},y=y!==void 0?y:jt[Ct].fontName,V=V!==void 0?V:jt[Ct].fontStyle,le=y.toLowerCase(),on[le]!==void 0&&on[le][V]!==void 0?me=on[le][V]:on[y]!==void 0&&on[y][V]!==void 0?me=on[y][V]:se.disableWarning===!1&&yn.warn("Unable to look up font label for font '"+y+"', '"+V+"'. Refer to getFontList() for available fonts."),me||se.noFallback||(me=on.times[V])==null&&(me=on.times.normal),me},$o=p.__private__.putInfo=function(){var y=$n(),V=function(le){return le};for(var se in c!==null&&(V=kn.encryptor(y,0)),oe("<<"),oe("/Producer ("+jn(V("jsPDF "+ft.version))+")"),lt)lt.hasOwnProperty(se)&&lt[se]&&oe("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+jn(V(lt[se]))+")");oe("/CreationDate ("+jn(V(Z))+")"),oe(">>"),oe("endobj")},xs=p.__private__.putCatalog=function(y){var V=(y=y||{}).rootDictionaryObjId||_s;switch($n(),oe("<<"),oe("/Type /Catalog"),oe("/Pages "+V+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":oe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":oe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":oe("/OpenAction [3 0 R /Fit]");break;case"original":oe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+qe;se.substr(se.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&oe("/OpenAction [3 0 R /XYZ null null "+M(qe)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":oe("/PageLayout /OneColumn");break;case"single":oe("/PageLayout /SinglePage");break;case"two":case"twoleft":oe("/PageLayout /TwoColumnLeft");break;case"tworight":oe("/PageLayout /TwoColumnRight")}ht&&oe("/PageMode /"+ht),Rt.publish("putCatalog"),oe(">>"),oe("endobj")},kh=p.__private__.putTrailer=function(){oe("trailer"),oe("<<"),oe("/Size "+(ae+1)),oe("/Root "+ae+" 0 R"),oe("/Info "+(ae-1)+" 0 R"),c!==null&&oe("/Encrypt "+kn.oid+" 0 R"),oe("/ID [ <"+X+"> <"+X+"> ]"),oe(">>")},Nc=p.__private__.putHeader=function(){oe("%PDF-"+v),oe("%ºß¬à")},Lh=p.__private__.putXRef=function(){var y="0000000000";oe("xref"),oe("0 "+(ae+1)),oe("0000000000 65535 f ");for(var V=1;V<=ae;V++)typeof de[V]=="function"?oe((y+de[V]()).slice(-10)+" 00000 n "):de[V]!==void 0?oe((y+de[V]).slice(-10)+" 00000 n "):oe("0000000000 00000 n ")},Ss=p.__private__.buildDocument=function(){st(),_e(he),Rt.publish("buildDocument"),Nc(),Xs(),mu(),pu(),c!==null&&Sh(),$o(),xs();var y=ve;return Lh(),kh(),oe("startxref"),oe(""+y),oe("%%EOF"),_e(ke[Y]),he.join(`
`)},Ua=p.__private__.getBlob=function(y){return new Blob([tt(y)],{type:"application/pdf"})},za=p.output=p.__private__.output=_i(function(y,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",y){case void 0:return Ss();case"save":p.save(V.filename);break;case"arraybuffer":return tt(Ss());case"blob":return Ua(Ss());case"bloburi":case"bloburl":if(vt.URL!==void 0&&typeof vt.URL.createObjectURL=="function")return vt.URL&&vt.URL.createObjectURL(Ua(Ss()))||void 0;yn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",le=Ss();try{se=lw(le)}catch{se=lw(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+V.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(me=V.pdfObjectUrl,Te="");var Me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",Ye=vt.open();return Ye!==null&&Ye.document.write(Me),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var f='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',L=vt.open();if(L!==null){L.document.write(f);var D=this;L.document.documentElement.querySelector("#pdfViewer").onload=function(){L.document.title=V.filename,L.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(D.output("bloburl"))}}return L}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var G='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',pe=vt.open();if(pe!==null&&(pe.document.write(G),pe.document.title=V.filename),pe||typeof safari>"u")return pe;break;case"datauri":case"dataurl":return vt.document.location.href=this.output("datauristring",V);default:return null}}),ro=function(y){return Array.isArray(ri)===!0&&ri.indexOf(y)>-1};switch(r){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=ro("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);He=r}var kn=null;ye(),z();var Dc=function(y){return c!==null?kn.encryptor(y,0):function(V){return V}},yu=p.__private__.getPageInfo=p.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ut[y].objId,pageNumber:y,pageContext:ut[y]}},wt=p.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in ut)if(ut[V].objId===y)break;return yu(V)},io=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:ut[Y].objId,pageNumber:Y,pageContext:ut[Y]}};p.addPage=function(){return zo.apply(this,arguments),this},p.setPage=function(){return vu.apply(this,arguments),_e.call(this,ke[Y]),this},p.insertPage=function(y){return this.addPage(),this.movePage(Y,y),this},p.movePage=function(y,V){var se,le;if(y>V){se=ke[y],le=ut[y];for(var me=y;me>V;me--)ke[me]=ke[me-1],ut[me]=ut[me-1];ke[V]=se,ut[V]=le,this.setPage(V)}else if(y<V){se=ke[y],le=ut[y];for(var Te=y;Te<V;Te++)ke[Te]=ke[Te+1],ut[Te]=ut[Te+1];ke[V]=se,ut[V]=le,this.setPage(V)}return this},p.deletePage=function(){return Va.apply(this,arguments),this},p.__private__.text=p.text=function(y,V,se,le,me){var Te,Me,Ye,f,L,D,G,pe,Ee,Oe=(le=le||{}).scope||this;if(typeof y=="number"&&typeof V=="number"&&(typeof se=="string"||Array.isArray(se))){var xt=se;se=V,V=y,y=xt}if(arguments[3]instanceof Qe?(x("The transform parameter of text() with a Matrix value"),Ee=me):(Ye=arguments[4],f=arguments[5],dn(G=arguments[3])==="object"&&G!==null||(typeof Ye=="string"&&(f=Ye,Ye=null),typeof G=="string"&&(f=G,G=null),typeof G=="number"&&(Ye=G,G=null),le={flags:G,angle:Ye,align:f})),isNaN(V)||isNaN(se)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Oe;var Bt="",St=!1,tn=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:en,gn=Oe.internal.scaleFactor;function Ps(wn){return wn=wn.split("	").join(Array(le.TabLen||9).join(" ")),jn(wn,G)}function Pr(wn){for(var bn,Yn=wn.concat(),hr=[],Xo=Yn.length;Xo--;)typeof(bn=Yn.shift())=="string"?hr.push(bn):Array.isArray(wn)&&(bn.length===1||bn[1]===void 0&&bn[2]===void 0)?hr.push(bn[0]):hr.push([bn[0],bn[1],bn[2]]);return hr}function lo(wn,bn){var Yn;if(typeof wn=="string")Yn=bn(wn)[0];else if(Array.isArray(wn)){for(var hr,Xo,Mh=wn.concat(),Wc=[],$p=Mh.length;$p--;)typeof(hr=Mh.shift())=="string"?Wc.push(bn(hr)[0]):Array.isArray(hr)&&typeof hr[0]=="string"&&(Xo=bn(hr[0],hr[1],hr[2]),Wc.push([Xo[0],Xo[1],Xo[2]]));Yn=Wc}return Yn}var uo=!1,Th=!0;if(typeof y=="string")uo=!0;else if(Array.isArray(y)){var Ph=y.concat();Me=[];for(var jc,Ar=Ph.length;Ar--;)(typeof(jc=Ph.shift())!="string"||Array.isArray(jc)&&typeof jc[0]!="string")&&(Th=!1);uo=Th}if(uo===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var Bc=ze/Oe.internal.scaleFactor,Vc=Bc*(tn-1);switch(le.baseline){case"bottom":se-=Vc;break;case"top":se+=Bc-Vc;break;case"hanging":se+=Bc-2*Vc;break;case"middle":se+=Bc/2-Vc}if((D=le.maxWidth||0)>0&&(typeof y=="string"?y=Oe.splitTextToSize(y,D):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(wn,bn){return wn.concat(Oe.splitTextToSize(bn,D))},[]))),Te={text:y,x:V,y:se,options:le,mutex:{pdfEscape:jn,activeFontKey:Ct,fonts:jt,activeFontSize:ze}},Rt.publish("preProcessText",Te),y=Te.text,Ye=(le=Te.options).angle,!(Ee instanceof Qe)&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,le.rotationDirection===0&&(Ye=-Ye),P===b.ADVANCED&&(Ye=-Ye);var Uc=Math.cos(Ye),Ah=Math.sin(Ye);Ee=new Qe(Uc,Ah,-Ah,Uc,0,0)}else Ye&&Ye instanceof Qe&&(Ee=Ye);P!==b.ADVANCED||Ee||(Ee=Br),(L=le.charSpace||Wo)!==void 0&&(Bt+=A(I(L))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(pe=le.horizontalScale)!==void 0&&(Bt+=A(100*pe)+` Tz
`),le.lang;var Ei=-1,K0=le.renderingMode!==void 0?le.renderingMode:le.stroke,Ih=Oe.internal.getCurrentPageInfo().pageContext;switch(K0){case 0:case!1:case"fill":Ei=0;break;case 1:case!0:case"stroke":Ei=1;break;case 2:case"fillThenStroke":Ei=2;break;case 3:case"invisible":Ei=3;break;case 4:case"fillAndAddForClipping":Ei=4;break;case 5:case"strokeAndAddPathForClipping":Ei=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ei=6;break;case 7:case"addToPathForClipping":Ei=7}var Vp=Ih.usedRenderingMode!==void 0?Ih.usedRenderingMode:-1;Ei!==-1?Bt+=Ei+` Tr
`:Vp!==-1&&(Bt+=`0 Tr
`),Ei!==-1&&(Ih.usedRenderingMode=Ei),f=le.align||"left";var es,zc=ze*tn,Up=Oe.internal.pageSize.getWidth(),zp=jt[Ct];L=le.charSpace||Wo,D=le.maxWidth||0,G=Object.assign({autoencode:!0,noBOM:!0},le.flags);var tl=[],Lu=function(wn){return Oe.getStringUnitWidth(wn,{font:zp,charSpace:L,fontSize:ze,doKerning:!1})*ze/gn};if(Object.prototype.toString.call(y)==="[object Array]"){var xi;Me=Pr(y),f!=="left"&&(es=Me.map(Lu));var li,nl=0;if(f==="right"){V-=es[0],y=[],Ar=Me.length;for(var Ko=0;Ko<Ar;Ko++)Ko===0?(li=Bi(V),xi=dr(se)):(li=I(nl-es[Ko]),xi=-zc),y.push([Me[Ko],li,xi]),nl=es[Ko]}else if(f==="center"){V-=es[0]/2,y=[],Ar=Me.length;for(var Qo=0;Qo<Ar;Qo++)Qo===0?(li=Bi(V),xi=dr(se)):(li=I((nl-es[Qo])/2),xi=-zc),y.push([Me[Qo],li,xi]),nl=es[Qo]}else if(f==="left"){y=[],Ar=Me.length;for(var qc=0;qc<Ar;qc++)y.push(Me[qc])}else if(f==="justify"&&zp.encoding==="Identity-H"){y=[],Ar=Me.length,D=D!==0?D:Up;for(var Jo=0,Wn=0;Wn<Ar;Wn++)if(xi=Wn===0?dr(se):-zc,li=Wn===0?Bi(V):Jo,Wn<Ar-1){var Nh=I((D-es[Wn])/(Me[Wn].split(" ").length-1)),ui=Me[Wn].split(" ");y.push([ui[0]+" ",li,xi]),Jo=0;for(var ts=1;ts<ui.length;ts++){var $c=(Lu(ui[ts-1]+" "+ui[ts])-Lu(ui[ts]))*gn+Nh;ts==ui.length-1?y.push([ui[ts],$c,0]):y.push([ui[ts]+" ",$c,0]),Jo-=$c}}else y.push([Me[Wn],li,xi]);y.push(["",Jo,0])}else{if(f!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],Ar=Me.length,D=D!==0?D:Up,Wn=0;Wn<Ar;Wn++)xi=Wn===0?dr(se):-zc,li=Wn===0?Bi(V):0,Wn<Ar-1?tl.push(A(I((D-es[Wn])/(Me[Wn].split(" ").length-1)))):tl.push(0),y.push([Me[Wn],li,xi])}}var qp=typeof le.R2L=="boolean"?le.R2L:nt;qp===!0&&(y=lo(y,function(wn,bn,Yn){return[wn.split("").reverse().join(""),bn,Yn]})),Te={text:y,x:V,y:se,options:le,mutex:{pdfEscape:jn,activeFontKey:Ct,fonts:jt,activeFontSize:ze}},Rt.publish("postProcessText",Te),y=Te.text,St=Te.mutex.isHex||!1;var Dh=jt[Ct].encoding;Dh!=="WinAnsiEncoding"&&Dh!=="StandardEncoding"||(y=lo(y,function(wn,bn,Yn){return[Ps(wn),bn,Yn]})),Me=Pr(y),y=[];for(var Cu,Tu,rl,Pu=0,Hc=1,Au=Array.isArray(Me[0])?Hc:Pu,il="",Rh=function(wn,bn,Yn){var hr="";return Yn instanceof Qe?(Yn=typeof le.angle=="number"?at(Yn,new Qe(1,0,0,1,wn,bn)):at(new Qe(1,0,0,1,wn,bn),Yn),P===b.ADVANCED&&(Yn=at(new Qe(1,0,0,-1,0,0),Yn)),hr=Yn.join(" ")+` Tm
`):hr=A(wn)+" "+A(bn)+` Td
`,hr},ns=0;ns<Me.length;ns++){switch(il="",Au){case Hc:rl=(St?"<":"(")+Me[ns][0]+(St?">":")"),Cu=parseFloat(Me[ns][1]),Tu=parseFloat(Me[ns][2]);break;case Pu:rl=(St?"<":"(")+Me[ns]+(St?">":")"),Cu=Bi(V),Tu=dr(se)}tl!==void 0&&tl[ns]!==void 0&&(il=tl[ns]+` Tw
`),ns===0?y.push(il+Rh(Cu,Tu,Ee)+rl):Au===Pu?y.push(il+rl):Au===Hc&&y.push(il+Rh(Cu,Tu,Ee)+rl)}y=Au===Pu?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var rs=`BT
/`;return rs+=Ct+" "+ze+` Tf
`,rs+=A(ze*tn)+` TL
`,rs+=Cs+`
`,rs+=Bt,rs+=y,oe(rs+="ET"),m[Ct]=!0,Oe};var Ch=p.__private__.clip=p.clip=function(y){return oe(y==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Ch("evenodd")},p.__private__.discardPath=p.discardPath=function(){return oe("n"),this};var Zi=p.__private__.isValidStyle=function(y){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(V=!0),V};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(y){return Zi(y)&&(u=y),this};var Rc=p.__private__.getStyle=p.getStyle=function(y){var V=u;switch(y){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=y}return V},Fi=p.close=function(){return oe("h"),this};p.stroke=function(){return oe("S"),this},p.fill=function(y){return qa("f",y),this},p.fillEvenOdd=function(y){return qa("f*",y),this},p.fillStroke=function(y){return qa("B",y),this},p.fillStrokeEvenOdd=function(y){return qa("B*",y),this};var qa=function(y,V){dn(V)==="object"?Ha(V,y):oe(y)},wu=function(y){y===null||P===b.ADVANCED&&y===void 0||(y=Rc(y),oe(y))};function $a(y,V,se,le,me){var Te=new bd(V||this.boundingBox,se||this.xStep,le||this.yStep,this.gState,me||this.matrix);Te.stream=this.stream;var Me=y+"$$"+this.cloneIndex+++"$$";return ir(Me,Te),Te}var Ha=function(y,V){var se=ni[y.key],le=Mt[se];if(le instanceof Uu)oe("q"),oe(Mc(V)),le.gState&&p.setGState(le.gState),oe(y.matrix.toString()+" cm"),oe("/"+se+" sh"),oe("Q");else if(le instanceof bd){var me=new Qe(1,0,0,-1,0,Ur());y.matrix&&(me=me.multiply(y.matrix||Br),se=$a.call(le,y.key,y.boundingBox,y.xStep,y.yStep,me).id),oe("q"),oe("/Pattern cs"),oe("/"+se+" scn"),le.gState&&p.setGState(le.gState),oe(V),oe("Q")}},Mc=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ks=p.moveTo=function(y,V){return oe(A(I(y))+" "+A(W(V))+" m"),this},ji=p.lineTo=function(y,V){return oe(A(I(y))+" "+A(W(V))+" l"),this},Ls=p.curveTo=function(y,V,se,le,me,Te){return oe([A(I(y)),A(W(V)),A(I(se)),A(W(le)),A(I(me)),A(W(Te)),"c"].join(" ")),this};p.__private__.line=p.line=function(y,V,se,le,me){if(isNaN(y)||isNaN(V)||isNaN(se)||isNaN(le)||!Zi(me))throw new Error("Invalid arguments passed to jsPDF.line");return P===b.COMPAT?this.lines([[se-y,le-V]],y,V,[1,1],me||"S"):this.lines([[se-y,le-V]],y,V,[1,1]).stroke()},p.__private__.lines=p.lines=function(y,V,se,le,me,Te){var Me,Ye,f,L,D,G,pe,Ee,Oe,xt,Bt,St;if(typeof y=="number"&&(St=se,se=V,V=y,y=St),le=le||[1,1],Te=Te||!1,isNaN(V)||isNaN(se)||!Array.isArray(y)||!Array.isArray(le)||!Zi(me)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ks(V,se),Me=le[0],Ye=le[1],L=y.length,xt=V,Bt=se,f=0;f<L;f++)(D=y[f]).length===2?(xt=D[0]*Me+xt,Bt=D[1]*Ye+Bt,ji(xt,Bt)):(G=D[0]*Me+xt,pe=D[1]*Ye+Bt,Ee=D[2]*Me+xt,Oe=D[3]*Ye+Bt,xt=D[4]*Me+xt,Bt=D[5]*Ye+Bt,Ls(G,pe,Ee,Oe,xt,Bt));return Te&&Fi(),wu(me),this},p.path=function(y){for(var V=0;V<y.length;V++){var se=y[V],le=se.c;switch(se.op){case"m":ks(le[0],le[1]);break;case"l":ji(le[0],le[1]);break;case"c":Ls.apply(this,le);break;case"h":Fi()}}return this},p.__private__.rect=p.rect=function(y,V,se,le,me){if(isNaN(y)||isNaN(V)||isNaN(se)||isNaN(le)||!Zi(me))throw new Error("Invalid arguments passed to jsPDF.rect");return P===b.COMPAT&&(le=-le),oe([A(I(y)),A(W(V)),A(I(se)),A(I(le)),"re"].join(" ")),wu(me),this},p.__private__.triangle=p.triangle=function(y,V,se,le,me,Te,Me){if(isNaN(y)||isNaN(V)||isNaN(se)||isNaN(le)||isNaN(me)||isNaN(Te)||!Zi(Me))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-y,le-V],[me-se,Te-le],[y-me,V-Te]],y,V,[1,1],Me,!0),this},p.__private__.roundedRect=p.roundedRect=function(y,V,se,le,me,Te,Me){if(isNaN(y)||isNaN(V)||isNaN(se)||isNaN(le)||isNaN(me)||isNaN(Te)||!Zi(Me))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*se),Te=Math.min(Te,.5*le),this.lines([[se-2*me,0],[me*Ye,0,me,Te-Te*Ye,me,Te],[0,le-2*Te],[0,Te*Ye,-me*Ye,Te,-me,Te],[2*me-se,0],[-me*Ye,0,-me,-Te*Ye,-me,-Te],[0,2*Te-le],[0,-Te*Ye,me*Ye,-Te,me,-Te]],y+me,V,[1,1],Me,!0),this},p.__private__.ellipse=p.ellipse=function(y,V,se,le,me){if(isNaN(y)||isNaN(V)||isNaN(se)||isNaN(le)||!Zi(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*se,Me=4/3*(Math.SQRT2-1)*le;return ks(y+se,V),Ls(y+se,V-Me,y+Te,V-le,y,V-le),Ls(y-Te,V-le,y-se,V-Me,y-se,V),Ls(y-se,V+Me,y-Te,V+le,y,V+le),Ls(y+Te,V+le,y+se,V+Me,y+se,V),wu(me),this},p.__private__.circle=p.circle=function(y,V,se,le){if(isNaN(y)||isNaN(V)||isNaN(se)||!Zi(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,V,se,se,le)},p.setFont=function(y,V,se){return se&&(V=H(V,se)),Ct=qo(y,V,{disableWarning:!1}),this};var bu=p.__private__.getFont=p.getFont=function(){return jt[qo.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var y,V,se={};for(y in on)if(on.hasOwnProperty(y))for(V in se[y]=[],on[y])on[y].hasOwnProperty(V)&&se[y].push(V);return se},p.addFont=function(y,V,se,le,me){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(se=H(se,le)),me=me||"Identity-H",gu.call(this,y,V,se,me)};var en,_u=t.lineWidth||.200025,Wa=p.__private__.getLineWidth=p.getLineWidth=function(){return _u},Eu=p.__private__.setLineWidth=p.setLineWidth=function(y){return _u=y,oe(A(I(y))+" w"),this};p.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(y,V){if(y=y||[],V=V||0,isNaN(V)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(se){return A(I(se))}).join(" "),V=A(I(V)),oe("["+y+"] "+V+" d"),this};var xu=p.__private__.getLineHeight=p.getLineHeight=function(){return ze*en};p.__private__.getLineHeight=p.getLineHeight=function(){return ze*en};var Su=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(en=y),this},Ho=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return en};Su(t.lineHeight);var Bi=p.__private__.getHorizontalCoordinate=function(y){return I(y)},dr=p.__private__.getVerticalCoordinate=function(y){return P===b.ADVANCED?y:ut[Y].mediaBox.topRightY-ut[Y].mediaBox.bottomLeftY-I(y)},Oc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(y){return A(Bi(y))},so=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(y){return A(dr(y))},Tr=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return bi(Tr)},p.__private__.setStrokeColor=p.setDrawColor=function(y,V,se,le){return Tr=si({ch1:y,ch2:V,ch3:se,ch4:le,pdfColorType:"draw",precision:2}),oe(Tr),this};var Ya=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return bi(Ya)},p.__private__.setFillColor=p.setFillColor=function(y,V,se,le){return Ya=si({ch1:y,ch2:V,ch3:se,ch4:le,pdfColorType:"fill",precision:2}),oe(Ya),this};var Cs=t.textColor||"0 g",Ga=p.__private__.getTextColor=p.getTextColor=function(){return bi(Cs)};p.__private__.setTextColor=p.setTextColor=function(y,V,se,le){return Cs=si({ch1:y,ch2:V,ch3:se,ch4:le,pdfColorType:"text",precision:3}),this};var Wo=t.charSpace,Ka=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Wo||0)};p.__private__.setCharSpace=p.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Wo=y,this};var ku=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(y){var V=p.CapJoinStyles[y];if(V===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ku=V,oe(V+" J"),this};var Qa=0;p.__private__.setLineJoin=p.setLineJoin=function(y){var V=p.CapJoinStyles[y];if(V===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qa=V,oe(V+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return oe(A(I(y))+" M"),this},p.GState=bv,p.setGState=function(y){(y=typeof y=="string"?pn[rr[y]]:oo(null,y)).equals(jr)||(oe("/"+y.id+" gs"),jr=y)};var oo=function(y,V){if(!y||!rr[y]){var se=!1;for(var le in pn)if(pn.hasOwnProperty(le)&&pn[le].equals(V)){se=!0;break}if(se)V=pn[le];else{var me="GS"+(Object.keys(pn).length+1).toString(10);pn[me]=V,V.id=me}return y&&(rr[y]=V.id),Rt.publish("addGState",V),V}};p.addGState=function(y,V){return oo(y,V),this},p.saveGraphicsState=function(){return oe("q"),Cr.push({key:Ct,size:ze,color:Cs}),this},p.restoreGraphicsState=function(){oe("Q");var y=Cr.pop();return Ct=y.key,ze=y.size,Cs=y.color,jr=null,this},p.setCurrentTransformationMatrix=function(y){return oe(y.toString()+" cm"),this},p.comment=function(y){return oe("#"+y),this};var Yo=function(y,V){var se=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Te){isNaN(Te)||(se=parseFloat(Te))}});var le=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(Te){isNaN(Te)||(le=parseFloat(Te))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(Te){me=Te.toString()}}),this},Ja=function(y,V,se,le){Yo.call(this,y,V),this.type="rect";var me=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(Me){isNaN(Me)||(me=parseFloat(Me))}});var Te=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(Me){isNaN(Me)||(Te=parseFloat(Me))}}),this},Go=function(){this.page=Jt,this.currentPage=Y,this.pages=ke.slice(0),this.pagesContext=ut.slice(0),this.x=En,this.y=At,this.matrix=Lr,this.width=ao(Y),this.height=Ur(Y),this.outputDestination=Be,this.id="",this.objectNumber=-1};Go.prototype.restore=function(){Jt=this.page,Y=this.currentPage,ut=this.pagesContext,ke=this.pages,En=this.x,At=this.y,Lr=this.matrix,Za(Y,this.width),el(Y,this.height),Be=this.outputDestination};var Xa=function(y,V,se,le,me){ii.push(new Go),Jt=Y=0,ke=[],En=y,At=V,Lr=me,ai([se,le])},Fc=function(y){if(cr[y])ii.pop().restore();else{var V=new Go,se="Xo"+(Object.keys(xn).length+1).toString(10);V.id=se,cr[y]=se,xn[se]=V,Rt.publish("addFormObject",V),ii.pop().restore()}};for(var Ts in p.beginFormObject=function(y,V,se,le,me){return Xa(y,V,se,le,me),this},p.endFormObject=function(y){return Fc(y),this},p.doFormObject=function(y,V){var se=xn[cr[y]];return oe("q"),oe(V.toString()+" cm"),oe("/"+se.id+" Do"),oe("Q"),this},p.getFormObject=function(y){var V=xn[cr[y]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},p.save=function(y,V){return y=y||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Bu(Ua(Ss()),y),typeof Bu.unload=="function"&&vt.setTimeout&&setTimeout(Bu.unload,911),this):new Promise(function(se,le){try{var me=Bu(Ua(Ss()),y);typeof Bu.unload=="function"&&vt.setTimeout&&setTimeout(Bu.unload,911),se(me)}catch(Te){le(Te.message)}})},ft.API)ft.API.hasOwnProperty(Ts)&&(Ts==="events"&&ft.API.events.length?function(y,V){var se,le,me;for(me=V.length-1;me!==-1;me--)se=V[me][0],le=V[me][1],y.subscribe.apply(y,[se].concat(typeof le=="function"?[le]:le))}(Rt,ft.API.events):p[Ts]=ft.API[Ts]);var ao=p.getPageWidth=function(y){return(ut[y=y||Y].mediaBox.topRightX-ut[y].mediaBox.bottomLeftX)/He},Za=p.setPageWidth=function(y,V){ut[y].mediaBox.topRightX=V*He+ut[y].mediaBox.bottomLeftX},Ur=p.getPageHeight=function(y){return(ut[y=y||Y].mediaBox.topRightY-ut[y].mediaBox.bottomLeftY)/He},el=p.setPageHeight=function(y,V){ut[y].mediaBox.topRightY=V*He+ut[y].mediaBox.bottomLeftY};return p.internal={pdfEscape:jn,getStyle:Rc,getFont:bu,getFontSize:$e,getCharSpace:Ka,getTextColor:Ga,getLineHeight:xu,getLineHeightFactor:Ho,getLineWidth:Wa,write:gt,getHorizontalCoordinate:Bi,getVerticalCoordinate:dr,getCoordinateString:Oc,getVerticalCoordinateString:so,collections:{},newObject:$n,newAdditionalObject:Fa,newObjectDeferred:Fn,newObjectDeferredBegin:sr,getFilters:oi,putStream:Hn,events:Rt,scaleFactor:He,pageSize:{getWidth:function(){return ao(Y)},setWidth:function(y){Za(Y,y)},getHeight:function(){return Ur(Y)},setHeight:function(y){el(Y,y)}},encryptionOptions:c,encryption:kn,getEncryptor:Dc,output:za,getNumberOfPages:an,pages:ke,out:oe,f2:M,f3:C,getPageInfo:yu,getPageInfoByObjId:wt,getCurrentPageInfo:io,getPDFVersion:_,Point:Yo,Rectangle:Ja,Matrix:Qe,hasHotfix:ro},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ao(Y)},set:function(y){Za(Y,y)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Ur(Y)},set:function(y){el(Y,y)},enumerable:!0,configurable:!0}),Ic.call(p,Fe),Ct="F1",zo(i,n),Rt.publish("initialized"),p}sd.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},sd.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},sd.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},sd.prototype.processOwnerPassword=function(t,e){return cw(uw(e).substr(0,5),t)},sd.prototype.encryptor=function(t,e){var n=uw(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return cw(n,r)}},bv.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||dn(t)!==dn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},ft.API={events:[]},ft.version="3.0.1";var Vn=ft.API,_b=1,kc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Xc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},kt=function(t){return t.toFixed(2)},ml=function(t){return t.toFixed(5)};Vn.__acroform__={};var Mi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ES=function(t){return t*_b},po=function(t){var e=new N3,n=rt.internal.getHeight(t)||0,r=rt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(kt(r)),Number(kt(n))],e},KU=Vn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},QU=Vn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},JU=Vn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Qn=Vn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return JU(t,e-1)},Jn=Vn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return KU(t,e-1)},Xn=Vn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return QU(t,e-1)},XU=Vn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(kt(l.lowerLeft_X)),Number(kt(l.lowerLeft_Y)),Number(kt(l.upperRight_X)),Number(kt(l.upperRight_Y))]},ZU=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=dw(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+kt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=po(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},dw=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(C){return C.split(`
`)}):i.map(function(C){return[C]});var s=n,o=rt.internal.getHeight(t)||0;o=o<0?-o:o;var a=rt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(C,I,R){if(C+1<i.length){var W=I+" "+i[C+1][0];return Rm(W,t,R).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,h=Rm("3",t,s).height,m=t.multiline?o-s:(o-h)/2,p=m+=2,v=0,_=0,k=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Rm(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var w="",b=0,P=0;P<i.length;P++)if(i.hasOwnProperty(P)){var O=!1;if(i[P].length!==1&&k!==i[P].length-1){if((h+2)*(b+2)+2>o)continue e;w+=i[P][k],O=!0,_=P,P--}else{w=(w+=i[P][k]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var j=parseInt(P),H=l(j,w,s),A=P>=i.length-1;if(H&&!A){w+=" ",k=0;continue}if(H||A){if(A)_=j;else if(t.multiline&&(h+2)*(b+2)+2>o)continue e}else{if(!t.multiline||(h+2)*(b+2)+2>o)continue e;_=j}}for(var x="",T=v;T<=_;T++){var M=i[T];if(t.multiline){if(T===_){x+=M[k]+" ",k=(k+1)%M.length;continue}if(T===v){x+=M[M.length-1]+" ";continue}}x+=M[0]+" "}switch(x=x.substr(x.length-1)==" "?x.substr(0,x.length-1):x,c=Rm(x,t,s).width,t.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;case"left":default:u=2}e+=kt(u)+" "+kt(p)+` Td
`,e+="("+kc(x)+`) Tj
`,e+=-kt(u)+` 0 Td
`,p=-(s+2),c=0,v=O?_:_+1,b++,w=""}break}return r.text=e,r.fontSize=s,r},Rm=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},ez={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tz=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},nz=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),dn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},rz=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Qs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(ez)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_b=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new D3,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&tz(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=XU(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=rt.createDefaultAppearanceStream(a),dn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=ZU(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var h="";for(var m in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(m)){var p=a.appearanceStreamContent[m];if(h+="/"+m+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(i,a)),h+="/"+o+" "+v+" ",i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(i,a)),h+="/"+o+" "+v,i.internal.acroformPlugin.xForms.indexOf(v)>=0||i.internal.acroformPlugin.xForms.push(v);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&nz(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},I3=Vn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),dn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+kc(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},a1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+kc(r(t))+")"},xo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};xo.prototype.toString=function(){return this.objId+" 0 R"},xo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},xo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:I3(i,this.objId,this.scope)}):i instanceof xo?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var N3=function(){xo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Mi(N3,xo);var D3=function(){xo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+kc(n(t))+")"}},set:function(n){t=n}})};Mi(D3,xo);var Qs=function t(){xo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qn(e,3)},set:function(w){w?this.F=Jn(e,3):this.F=Xn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof _v)return;s="FieldObject"+t.FieldNum++}var w=function(b){return b};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+kc(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/_b:u},set:function(w){u=w}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof _v||this instanceof Zu))return a1(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof xr?m:a1(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof xr?w:w.substr(0,1)==="("?Xc(w.substr(1,w.length-2)):Xc(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xr?Xc(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof xr?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof xr?p:a1(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof xr?w:w.substr(0,1)==="("?Xc(w.substr(1,w.length-2)):Xc(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xr?Xc(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof xr?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(w){w=!!w,_=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(w){v=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,1)},set:function(w){w?this.Ff=Jn(this.Ff,1):this.Ff=Xn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,2)},set:function(w){w?this.Ff=Jn(this.Ff,2):this.Ff=Xn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,3)},set:function(w){w?this.Ff=Jn(this.Ff,3):this.Ff=Xn(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');k=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(k){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};Mi(Qs,xo);var Id=function(){Qs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return I3(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,18)},set:function(n){n?this.Ff=Jn(this.Ff,18):this.Ff=Xn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Jn(this.Ff,19):this.Ff=Xn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,20)},set:function(n){n?(this.Ff=Jn(this.Ff,20),e.sort()):this.Ff=Xn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,22)},set:function(n){n?this.Ff=Jn(this.Ff,22):this.Ff=Xn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,23)},set:function(n){n?this.Ff=Jn(this.Ff,23):this.Ff=Xn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,27)},set:function(n){n?this.Ff=Jn(this.Ff,27):this.Ff=Xn(this.Ff,27)}}),this.hasAppearanceStream=!1};Mi(Id,Qs);var Nd=function(){Id.call(this),this.fontName="helvetica",this.combo=!1};Mi(Nd,Id);var Dd=function(){Nd.call(this),this.combo=!0};Mi(Dd,Nd);var gg=function(){Dd.call(this),this.edit=!0};Mi(gg,Dd);var xr=function(){Qs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,15)},set:function(n){n?this.Ff=Jn(this.Ff,15):this.Ff=Xn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,16)},set:function(n){n?this.Ff=Jn(this.Ff,16):this.Ff=Xn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,17)},set:function(n){n?this.Ff=Jn(this.Ff,17):this.Ff=Xn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,26)},set:function(n){n?this.Ff=Jn(this.Ff,26):this.Ff=Xn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+kc(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){dn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Mi(xr,Qs);var vg=function(){xr.call(this),this.pushButton=!0};Mi(vg,xr);var Rd=function(){xr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Mi(Rd,xr);var _v=function(){var t,e;Qs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+kc(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){dn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Mi(_v,Qs),Rd.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Rd.prototype.createOption=function(t){var e=new _v;return e.Parent=this,e.optionName=t,this.Kids.push(e),iz.call(this.scope,e),e};var yg=function(){xr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rt.CheckBox.createAppearanceStream()};Mi(yg,xr);var Zu=function(){Qs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,13)},set:function(e){e?this.Ff=Jn(this.Ff,13):this.Ff=Xn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,21)},set:function(e){e?this.Ff=Jn(this.Ff,21):this.Ff=Xn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,23)},set:function(e){e?this.Ff=Jn(this.Ff,23):this.Ff=Xn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,24)},set:function(e){e?this.Ff=Jn(this.Ff,24):this.Ff=Xn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,25)},set:function(e){e?this.Ff=Jn(this.Ff,25):this.Ff=Xn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,26)},set:function(e){e?this.Ff=Jn(this.Ff,26):this.Ff=Xn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Mi(Zu,Qs);var wg=function(){Zu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qn(this.Ff,14)},set:function(t){t?this.Ff=Jn(this.Ff,14):this.Ff=Xn(this.Ff,14)}}),this.password=!0};Mi(wg,Zu);var rt={CheckBox:{createAppearanceStream:function(){return{N:{On:rt.CheckBox.YesNormal},D:{On:rt.CheckBox.YesPushDown,Off:rt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=po(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=dw(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+kt(rt.internal.getWidth(t))+" "+kt(rt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+kt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=po(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=rt.internal.getHeight(t),o=rt.internal.getWidth(t),a=dw(t,t.caption);return i.push("1 g"),i.push("0 0 "+kt(o)+" "+kt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+kt(o-1)+" "+kt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+kt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=po(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(rt.internal.getWidth(t))+" "+kt(rt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Circle.YesNormal,e.D[t]=rt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=po(t);e.scope=t.scope;var n=[],r=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=rt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ml(rt.internal.getWidth(t)/2)+" "+ml(rt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=po(t);e.scope=t.scope;var n=[],r=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*rt.internal.Bezier_C).toFixed(5)),o=Number((r*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ml(rt.internal.getWidth(t)/2)+" "+ml(rt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ml(rt.internal.getWidth(t)/2)+" "+ml(rt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=po(t);e.scope=t.scope;var n=[],r=rt.internal.getWidth(t)<=rt.internal.getHeight(t)?rt.internal.getWidth(t)/4:rt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ml(rt.internal.getWidth(t)/2)+" "+ml(rt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:rt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=rt.RadioButton.Cross.YesNormal,e.D[t]=rt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=po(t);e.scope=t.scope;var n=[],r=rt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+kt(rt.internal.getWidth(t)-2)+" "+kt(rt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(kt(r.x1.x)+" "+kt(r.x1.y)+" m"),n.push(kt(r.x2.x)+" "+kt(r.x2.y)+" l"),n.push(kt(r.x4.x)+" "+kt(r.x4.y)+" m"),n.push(kt(r.x3.x)+" "+kt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=po(t);e.scope=t.scope;var n=rt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+kt(rt.internal.getWidth(t))+" "+kt(rt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+kt(rt.internal.getWidth(t)-2)+" "+kt(rt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(kt(n.x1.x)+" "+kt(n.x1.y)+" m"),r.push(kt(n.x2.x)+" "+kt(n.x2.y)+" l"),r.push(kt(n.x4.x)+" "+kt(n.x4.y)+" m"),r.push(kt(n.x3.x)+" "+kt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=po(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+kt(rt.internal.getWidth(t))+" "+kt(rt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};rt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=rt.internal.getWidth(t),n=rt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},rt.internal.getWidth=function(t){var e=0;return dn(t)==="object"&&(e=ES(t.Rect[2])),e},rt.internal.getHeight=function(t){var e=0;return dn(t)==="object"&&(e=ES(t.Rect[3])),e};var iz=Vn.addField=function(t){if(rz(this,t),!(t instanceof Qs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Vn.AcroFormChoiceField=Id,Vn.AcroFormListBox=Nd,Vn.AcroFormComboBox=Dd,Vn.AcroFormEditBox=gg,Vn.AcroFormButton=xr,Vn.AcroFormPushButton=vg,Vn.AcroFormRadioButton=Rd,Vn.AcroFormCheckBox=yg,Vn.AcroFormTextField=Zu,Vn.AcroFormPasswordField=wg,Vn.AcroFormAppearance=rt,Vn.AcroForm={ChoiceField:Id,ListBox:Nd,ComboBox:Dd,EditBox:gg,Button:xr,PushButton:vg,RadioButton:Rd,CheckBox:yg,TextField:Zu,PasswordField:wg,Appearance:rt},ft.AcroForm={ChoiceField:Id,ListBox:Nd,ComboBox:Dd,EditBox:gg,Button:xr,PushButton:vg,RadioButton:Rd,CheckBox:yg,TextField:Zu,PasswordField:wg,Appearance:rt};ft.AcroForm;function R3(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(C,I){var R,W,Z,X,re,z=e;if((I=I||e)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(H(C))for(re in n)for(Z=n[re],R=0;R<Z.length;R+=1){for(X=!0,W=0;W<Z[R].length;W+=1)if(Z[R][W]!==void 0&&Z[R][W]!==C[W]){X=!1;break}if(X===!0){z=re;break}}else for(re in n)for(Z=n[re],R=0;R<Z.length;R+=1){for(X=!0,W=0;W<Z[R].length;W+=1)if(Z[R][W]!==void 0&&Z[R][W]!==C.charCodeAt(W)){X=!1;break}if(X===!0){z=re;break}}return z===e&&I!==e&&(z=I),z},i=function C(I){for(var R=this.internal.write,W=this.internal.putStream,Z=(0,this.internal.getFilters)();Z.indexOf("FlateEncode")!==-1;)Z.splice(Z.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:I.width}),X.push({key:"Height",value:I.height}),I.colorSpace===k.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===k.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var re="",z=0,ne=I.transparency.length;z<ne;z++)re+=I.transparency[z]+" "+I.transparency[z]+" ";X.push({key:"Mask",value:"["+re+"]"})}I.sMask!==void 0&&X.push({key:"SMask",value:I.objectId+1+" 0 R"});var ie=I.filter!==void 0?["/"+I.filter]:void 0;if(W({data:I.data,additionalKeyValues:X,alreadyAppliedFilters:ie,objectId:I.objectId}),R("endobj"),"sMask"in I&&I.sMask!==void 0){var ye="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,F={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:ye,data:I.sMask};"filter"in I&&(F.filter=I.filter),C.call(this,F)}if(I.colorSpace===k.INDEXED){var Y=this.internal.newObject();W({data:x(new Uint8Array(I.palette)),objectId:Y}),R("endobj")}},s=function(){var C=this.internal.collections.addImage_images;for(var I in C)i.call(this,C[I])},o=function(){var C,I=this.internal.collections.addImage_images,R=this.internal.write;for(var W in I)R("/I"+(C=I[W]).index,C.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var C=this.internal.collections.addImage_images;return a.call(this),C},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(C){return typeof t["process"+C.toUpperCase()]=="function"},h=function(C){return dn(C)==="object"&&C.nodeType===1},m=function(C,I){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var R=""+C.getAttribute("src");if(R.indexOf("data:image/")===0)return Df(unescape(R).split("base64,").pop());var W=t.loadFile(R,!0);if(W!==void 0)return W}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var Z;switch(I){case"PNG":Z="image/png";break;case"WEBP":Z="image/webp";break;case"JPEG":case"JPG":default:Z="image/jpeg"}return Df(C.toDataURL(Z,1).split("base64,").pop())}},p=function(C){var I=this.internal.collections.addImage_images;if(I){for(var R in I)if(C===I[R].alias)return I[R]}},v=function(C,I,R){return C||I||(C=-96,I=-96),C<0&&(C=-1*R.width*72/C/this.internal.scaleFactor),I<0&&(I=-1*R.height*72/I/this.internal.scaleFactor),C===0&&(C=I*R.width/R.height),I===0&&(I=C*R.height/R.width),[C,I]},_=function(C,I,R,W,Z,X){var re=v.call(this,R,W,Z),z=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,ie=l.call(this);if(R=re[0],W=re[1],ie[Z.index]=Z,X){X*=Math.PI/180;var ye=Math.cos(X),F=Math.sin(X),Y=function(Q){return Q.toFixed(4)},ee=[Y(ye),Y(F),Y(-1*F),Y(ye),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,z(C),ne(I+W),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([z(R),"0","0",z(W),"0","0","cm"].join(" "))):this.internal.write([z(R),"0","0",z(W),z(C),ne(I+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Z.index+" Do"),this.internal.write("Q")},k=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(C){var I,R,W=0;if(typeof C=="string")for(R=C.length,I=0;I<R;I++)W=(W<<5)-W+C.charCodeAt(I),W|=0;else if(H(C))for(R=C.byteLength/2,I=0;I<R;I++)W=(W<<5)-W+C[I],W|=0;return W},P=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var I=!0;return C.length===0&&(I=!1),C.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(I=!1),I},O=t.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var I=C.indexOf(",");return I<0?null:C.substring(0,I).trim().endsWith("base64")?C.substring(I+1):null},j=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(C){return j()&&C instanceof ArrayBuffer};var H=t.__addimage__.isArrayBufferView=function(C){return j()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},A=t.__addimage__.binaryStringToUint8Array=function(C){for(var I=C.length,R=new Uint8Array(I),W=0;W<I;W++)R[W]=C.charCodeAt(W);return R},x=t.__addimage__.arrayBufferToBinaryString=function(C){for(var I="",R=H(C)?C:new Uint8Array(C),W=0;W<R.length;W+=8192)I+=String.fromCharCode.apply(null,R.subarray(W,W+8192));return I};t.addImage=function(){var C,I,R,W,Z,X,re,z,ne;if(typeof arguments[1]=="number"?(I=e,R=arguments[1],W=arguments[2],Z=arguments[3],X=arguments[4],re=arguments[5],z=arguments[6],ne=arguments[7]):(I=arguments[1],R=arguments[2],W=arguments[3],Z=arguments[4],X=arguments[5],re=arguments[6],z=arguments[7],ne=arguments[8]),dn(C=arguments[0])==="object"&&!h(C)&&"imageData"in C){var ie=C;C=ie.imageData,I=ie.format||I||e,R=ie.x||R||0,W=ie.y||W||0,Z=ie.w||ie.width||Z,X=ie.h||ie.height||X,re=ie.alias||re,z=ie.compression||z,ne=ie.rotation||ie.angle||ne}var ye=this.internal.getFilters();if(z===void 0&&ye.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(R)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var F=T.call(this,C,I,re,z);return _.call(this,R,W,Z,X,F,ne),this};var T=function(C,I,R,W){var Z,X,re;if(typeof C=="string"&&r(C)===e){C=unescape(C);var z=M(C,!1);(z!==""||(z=t.loadFile(C,!0))!==void 0)&&(C=z)}if(h(C)&&(C=m(C,I)),I=r(C,I),!c(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((re=R)==null||re.length===0)&&(R=function(ne){return typeof ne=="string"||H(ne)?b(ne):H(ne.data)?b(ne.data):null}(C)),(Z=p.call(this,R))||(j()&&(C instanceof Uint8Array||I==="RGBA"||(X=C,C=A(C))),Z=this["process"+I.toUpperCase()](C,u.call(this),R,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in t.image_compression?ne:w.NONE}(W),X)),!Z)throw new Error("An unknown error occurred whilst processing the image.");return Z},M=t.__addimage__.convertBase64ToBinaryString=function(C,I){I=typeof I!="boolean"||I;var R,W="";if(typeof C=="string"){var Z;R=(Z=O(C))!==null&&Z!==void 0?Z:C;try{W=Df(R)}catch(X){if(I)throw P(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};t.getImageProperties=function(C){var I,R,W="";if(h(C)&&(C=m(C)),typeof C=="string"&&r(C)===e&&((W=M(C,!1))===""&&(W=t.loadFile(C)||""),C=W),R=r(C),!c(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(!j()||C instanceof Uint8Array||(C=A(C)),!(I=this["process"+R.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=R,I}})(ft.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};ft.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,h=0;h<u.length&&!c;h++)switch((r=u[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){r=u[m];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(_.objId),b=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(w(b))+") >>",_.content=s;var P=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+P,r.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(_.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var O=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(v(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var j=this.annotations._nameMap[r.options.name];r.options.pageNumber=j.page,r.options.top=j.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var H=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+H+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var c=this.splitTextToSize(n,a).length;o=Math.ceil(u*c)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ft.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},a=t.__arabicParser__.isArabicEndLetter=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(_){return o(_)&&i.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return o(_)&&s(_)&&e[_.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(_){var k=0,w=n,b="",P=0;for(k=0;k<_.length;k+=1)w[_.charCodeAt(k)]!==void 0?(P++,typeof(w=w[_.charCodeAt(k)])=="number"&&(b+=String.fromCharCode(w),w=n,P=0),k===_.length-1&&(w=n,b+=_.charAt(k-(P-1)),k-=P-1,P=0)):(w=n,b+=_.charAt(k-P),k-=P,P=0);return b};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&r[_.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(_,k,w){return o(_)?s(_)===!1?-1:!u(_)||!o(k)&&!o(w)||!o(w)&&a(k)||a(_)&&!o(k)||a(_)&&l(k)||a(_)&&a(k)?0:c(_)&&o(k)&&!a(k)&&o(w)&&u(w)?3:a(_)||!o(w)?1:2:-1},p=function(_){var k=0,w=0,b=0,P="",O="",j="",H=(_=_||"").split("\\s+"),A=[];for(k=0;k<H.length;k+=1){for(A.push(""),w=0;w<H[k].length;w+=1)P=H[k][w],O=H[k][w-1],j=H[k][w+1],o(P)?(b=m(P,O,j),A[k]+=b!==-1?String.fromCharCode(e[P.charCodeAt(0)][b]):P):A[k]+=P;A[k]=h(A[k])}return A.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var _,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(k)){var b=0;for(w=[],b=0;b<k.length;b+=1)Array.isArray(k[b])?w.push([p(k[b][0]),k[b][1],k[b][2]]):w.push([p(k[b])]);_=w}else _=p(k);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",v])}(ft.API),ft.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ft.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(_){l=_}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(_){u=_}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(_){h=_}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(_){v=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,p=0,v=0,_=0,k=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(P,O){return P.concat(k.splitTextToSize(O,w))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)p<(_=this.getStringUnitWidth(l[b],{font:h})*c)&&(p=_);return p!==0&&(v=l.length),{w:p/=m,h:Math.max((v*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,h,m){if(r.call(this),!c)throw new Error("No data for PDF table.");var p,v,_,k,w=[],b=[],P=[],O={},j={},H=[],A=[],x=(m=m||{}).autoSize||!1,T=m.printHeaders!==!1,M=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,C=m.margins||Object.assign({width:this.getPageWidth()},e),I=typeof m.padding=="number"?m.padding:3,R=m.headerBackgroundColor||"#c8c8c8",W=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=M,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=W,this.setFontSize(M),h==null)b=w=Object.keys(c[0]),P=w.map(function(){return"left"});else if(Array.isArray(h)&&dn(h[0])==="object")for(w=h.map(function(ie){return ie.name}),b=h.map(function(ie){return ie.prompt||ie.name||""}),P=h.map(function(ie){return ie.align||"left"}),p=0;p<h.length;p+=1)j[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(b=w=h,P=w.map(function(){return"left"}));if(x||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<w.length;p+=1){for(O[k=w[p]]=c.map(function(ie){return ie[k]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=O[k],this.setFont(void 0,"normal"),_=0;_<v.length;_+=1)H.push(this.getTextDimensions(v[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[k]=Math.max.apply(null,H)+I+I,H=[]}if(T){var Z={};for(p=0;p<w.length;p+=1)Z[w[p]]={},Z[w[p]].text=b[p],Z[w[p]].align=P[p];var X=a.call(this,Z,j);A=w.map(function(ie){return new s(l,u,j[ie],X,Z[ie].text,void 0,Z[ie].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var re=h.reduce(function(ie,ye){return ie[ye.name]=ye.align,ie},{});for(p=0;p<c.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:c[p]},this);var z=a.call(this,c[p],j);for(_=0;_<w.length;_+=1){var ne=c[p][w[_]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:_,data:ne},this),o.call(this,new s(l,u,j[w[_]],z,ne,p+2,re[w[_]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var v=l[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[p]-c-c)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/m+c+c},this).reduce(function(p,v){return Math.max(p,v)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){c=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,m.push(c)),c.lineNumber=l;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(v)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(ft.API);var M3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},O3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],hw=R3(O3),F3=[100,200,300,400,500,600,700,800,900],sz=R3(F3);function fw(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return M3[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof hw[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function xS(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var oz={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},SS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function kS(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function az(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},oz,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=fw(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+kS(s)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var c=hw[l],h=c<=hw.normal?-1:1,m=xS(u,O3,c,h);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(s.stretch,o),o=function(l,u){if(u[l])return u[l];for(var c=M3[l],h=0;h<c.length;++h)if(u[c[h]])return u[c[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=sz[l],h=xS(u,F3,c,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+kS(s)+"'.");return o}function LS(t){return t.trimLeft()}function lz(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function uz(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Mm,CS,TS,l1=["times"];(function(t){var e,n,r,i,s,o,a,l,u,c=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var h=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=F;Object.defineProperty(this,"pdf",{get:function(){return Y}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(_e){ee=!!_e}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(_e){Q=!!_e}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(_e){isNaN(_e)||(ae=_e)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(_e){isNaN(_e)||(de=_e)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(_e){var oe;typeof _e=="number"?oe=[_e,_e,_e,_e]:((oe=new Array(4))[0]=_e[0],oe[1]=_e.length>=2?_e[1]:oe[0],oe[2]=_e.length>=3?_e[2]:oe[0],oe[3]=_e.length>=4?_e[3]:oe[1]),u.margin=oe}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(_e){he=_e}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(_e){ve=_e}});var Se=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Se},set:function(_e){Se=_e}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(_e){_e instanceof c&&(u=_e)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(_e){u.path=_e}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(_e){ke=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var oe;oe=m(_e),this.ctx.fillStyle=oe.style,this.ctx.isFillTransparent=oe.a===0,this.ctx.fillOpacity=oe.a,this.pdf.setFillColor(oe.r,oe.g,oe.b,{a:oe.a}),this.pdf.setTextColor(oe.r,oe.g,oe.b,{a:oe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var oe=m(_e);this.ctx.strokeStyle=oe.style,this.ctx.isStrokeTransparent=oe.a===0,this.ctx.strokeOpacity=oe.a,oe.a===0?this.pdf.setDrawColor(255,255,255):(oe.a,this.pdf.setDrawColor(oe.r,oe.g,oe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var je=null;function Be(_e,oe){if(je===null){var gt=function(tt){var Fe=[];return Object.keys(tt).forEach(function(ze){tt[ze].forEach(function(qe){var $e=null;switch(qe){case"bold":$e={family:ze,weight:"bold"};break;case"italic":$e={family:ze,style:"italic"};break;case"bolditalic":$e={family:ze,weight:"bold",style:"italic"};break;case"":case"normal":$e={family:ze}}$e!==null&&($e.ref={name:ze,style:qe},Fe.push($e))})}),Fe}(_e.getFontList());je=function(tt){for(var Fe={},ze=0;ze<tt.length;++ze){var qe=fw(tt[ze]),$e=qe.family,nt=qe.stretch,ht=qe.style,_t=qe.weight;Fe[$e]=Fe[$e]||{},Fe[$e][nt]=Fe[$e][nt]||{},Fe[$e][nt][ht]=Fe[$e][nt][ht]||{},Fe[$e][nt][ht][_t]=qe}return Fe}(gt.concat(oe))}return je}var st=null;Object.defineProperty(this,"fontFaces",{get:function(){return st},set:function(_e){je=null,st=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var oe;if(this.ctx.font=_e,(oe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var gt=oe[1];oe[2];var tt=oe[3],Fe=oe[4];oe[5];var ze=oe[6],qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Fe)[2];Fe=Math.floor(qe==="px"?parseFloat(Fe)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(Fe)*this.pdf.getFontSize():parseFloat(Fe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Fe);var $e=function(lt){var Ct,He,En=[],At=lt.trim();if(At==="")return l1;if(At in SS)return[SS[At]];for(;At!=="";){switch(He=null,Ct=(At=LS(At)).charAt(0)){case'"':case"'":He=lz(At.substring(1),Ct);break;default:He=uz(At)}if(He===null||(En.push(He[0]),(At=LS(He[1]))!==""&&At.charAt(0)!==","))return l1;At=At.replace(/^,/,"")}return En}(ze);if(this.fontFaces){var nt=az(Be(this.pdf,this.fontFaces),$e.map(function(lt){return{family:lt,stretch:"normal",weight:tt,style:gt}}));this.pdf.setFont(nt.ref.name,nt.ref.style)}else{var ht="";(tt==="bold"||parseInt(tt,10)>=700||gt==="bold")&&(ht="bold"),gt==="italic"&&(ht+="italic"),ht.length===0&&(ht="normal");for(var _t="",ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ct=0;ct<$e.length;ct++){if(this.pdf.internal.getFont($e[ct],ht,{noFallback:!0,disableWarning:!0})!==void 0){_t=$e[ct];break}if(ht==="bolditalic"&&this.pdf.internal.getFont($e[ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)_t=$e[ct],ht="bold";else if(this.pdf.internal.getFont($e[ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){_t=$e[ct],ht="normal";break}}if(_t===""){for(var Ft=0;Ft<$e.length;Ft++)if(ot[$e[Ft]]){_t=ot[$e[Ft]];break}}_t=_t===""?"Times":_t,this.pdf.setFont(_t,ht)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};h.prototype.setLineDash=function(F){this.lineDash=F},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){O.call(this,"fill",!1)},h.prototype.stroke=function(){O.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(F,Y){if(isNaN(F)||isNaN(Y))throw yn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new o(F,Y));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(F,Y)},h.prototype.closePath=function(){var F=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&dn(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){F=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},h.prototype.lineTo=function(F,Y){if(isNaN(F)||isNaN(Y))throw yn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new o(F,Y));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},h.prototype.quadraticCurveTo=function(F,Y,ee,Q){if(isNaN(ee)||isNaN(Q)||isNaN(F)||isNaN(Y))throw yn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new o(ee,Q)),de=this.ctx.transform.applyToPoint(new o(F,Y));this.path.push({type:"qct",x1:de.x,y1:de.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new o(ae.x,ae.y)},h.prototype.bezierCurveTo=function(F,Y,ee,Q,ae,de){if(isNaN(ae)||isNaN(de)||isNaN(F)||isNaN(Y)||isNaN(ee)||isNaN(Q))throw yn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new o(ae,de)),ve=this.ctx.transform.applyToPoint(new o(F,Y)),Se=this.ctx.transform.applyToPoint(new o(ee,Q));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:Se.x,y2:Se.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},h.prototype.arc=function(F,Y,ee,Q,ae,de){if(isNaN(F)||isNaN(Y)||isNaN(ee)||isNaN(Q)||isNaN(ae))throw yn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new o(F,Y));F=he.x,Y=he.y;var ve=this.ctx.transform.applyToPoint(new o(0,ee)),Se=this.ctx.transform.applyToPoint(new o(0,0));ee=Math.sqrt(Math.pow(ve.x-Se.x,2)+Math.pow(ve.y-Se.y,2))}Math.abs(ae-Q)>=2*Math.PI&&(Q=0,ae=2*Math.PI),this.path.push({type:"arc",x:F,y:Y,radius:ee,startAngle:Q,endAngle:ae,counterclockwise:de})},h.prototype.arcTo=function(F,Y,ee,Q,ae){throw new Error("arcTo not implemented.")},h.prototype.rect=function(F,Y,ee,Q){if(isNaN(F)||isNaN(Y)||isNaN(ee)||isNaN(Q))throw yn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,Y),this.lineTo(F+ee,Y),this.lineTo(F+ee,Y+Q),this.lineTo(F,Y+Q),this.lineTo(F,Y),this.lineTo(F+ee,Y),this.lineTo(F,Y)},h.prototype.fillRect=function(F,Y,ee,Q){if(isNaN(F)||isNaN(Y)||isNaN(ee)||isNaN(Q))throw yn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,Y,ee,Q),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},h.prototype.strokeRect=function(F,Y,ee,Q){if(isNaN(F)||isNaN(Y)||isNaN(ee)||isNaN(Q))throw yn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(F,Y,ee,Q),this.stroke())},h.prototype.clearRect=function(F,Y,ee,Q){if(isNaN(F)||isNaN(Y)||isNaN(ee)||isNaN(Q))throw yn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,Y,ee,Q))},h.prototype.save=function(F){F=typeof F!="boolean"||F;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},h.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(F){var Y,ee,Q,ae;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))Y=0,ee=0,Q=0,ae=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(de!==null)Y=parseInt(de[1]),ee=parseInt(de[2]),Q=parseInt(de[3]),ae=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)Y=parseInt(de[1]),ee=parseInt(de[2]),Q=parseInt(de[3]),ae=parseFloat(de[4]);else{if(ae=1,typeof F=="string"&&F.charAt(0)!=="#"){var he=new T3(F);F=he.ok?he.toHex():"#000000"}F.length===4?(Y=F.substring(1,2),Y+=Y,ee=F.substring(2,3),ee+=ee,Q=F.substring(3,4),Q+=Q):(Y=F.substring(1,3),ee=F.substring(3,5),Q=F.substring(5,7)),Y=parseInt(Y,16),ee=parseInt(ee,16),Q=parseInt(Q,16)}}return{r:Y,g:ee,b:Q,a:ae,style:F}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(F,Y,ee,Q){if(isNaN(Y)||isNaN(ee)||typeof F!="string")throw yn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!p.call(this)){var ae=z(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;I.call(this,{text:F,x:Y,y:ee,scale:de,angle:ae,align:this.textAlign,maxWidth:Q})}},h.prototype.strokeText=function(F,Y,ee,Q){if(isNaN(Y)||isNaN(ee)||typeof F!="string")throw yn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){Q=isNaN(Q)?void 0:Q;var ae=z(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;I.call(this,{text:F,x:Y,y:ee,scale:de,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:Q})}},h.prototype.measureText=function(F){if(typeof F!="string")throw yn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,ee=this.pdf.internal.scaleFactor,Q=Y.internal.getFontSize(),ae=Y.getStringUnitWidth(F)*Q/Y.internal.scaleFactor,de=function(he){var ve=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this};return new de({width:ae*=Math.round(96*ee/72*1e4)/1e4})},h.prototype.scale=function(F,Y){if(isNaN(F)||isNaN(Y))throw yn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new l(F,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},h.prototype.rotate=function(F){if(isNaN(F))throw yn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},h.prototype.translate=function(F,Y){if(isNaN(F)||isNaN(Y))throw yn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new l(1,0,0,1,F,Y);this.ctx.transform=this.ctx.transform.multiply(ee)},h.prototype.transform=function(F,Y,ee,Q,ae,de){if(isNaN(F)||isNaN(Y)||isNaN(ee)||isNaN(Q)||isNaN(ae)||isNaN(de))throw yn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(F,Y,ee,Q,ae,de);this.ctx.transform=this.ctx.transform.multiply(he)},h.prototype.setTransform=function(F,Y,ee,Q,ae,de){F=isNaN(F)?1:F,Y=isNaN(Y)?0:Y,ee=isNaN(ee)?0:ee,Q=isNaN(Q)?1:Q,ae=isNaN(ae)?0:ae,de=isNaN(de)?0:de,this.ctx.transform=new l(F,Y,ee,Q,ae,de)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(F,Y,ee,Q,ae,de,he,ve,Se){var ke=this.pdf.getImageProperties(F),je=1,Be=1,st=1,_e=1;Q!==void 0&&ve!==void 0&&(st=ve/Q,_e=Se/ae,je=ke.width/Q*ve/Q,Be=ke.height/ae*Se/ae),de===void 0&&(de=Y,he=ee,Y=0,ee=0),Q!==void 0&&ve===void 0&&(ve=Q,Se=ae),Q===void 0&&ve===void 0&&(ve=ke.width,Se=ke.height);for(var oe,gt=this.ctx.transform.decompose(),tt=z(gt.rotate.shx),Fe=new l,ze=(Fe=(Fe=(Fe=Fe.multiply(gt.translate)).multiply(gt.skew)).multiply(gt.scale)).applyToRectangle(new a(de-Y*st,he-ee*_e,Q*je,ae*Be)),qe=k.call(this,ze),$e=[],nt=0;nt<qe.length;nt+=1)$e.indexOf(qe[nt])===-1&&$e.push(qe[nt]);if(P($e),this.autoPaging)for(var ht=$e[0],_t=$e[$e.length-1],ot=ht;ot<_t+1;ot++){this.pdf.setPage(ot);var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=ot===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=ot===1?0:lt+(ot-2)*Ct;if(this.ctx.clip_path.length!==0){var En=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(oe,this.posX+this.margin[3],-He+Ft+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=En}var At=JSON.parse(JSON.stringify(ze));At=b([At],this.posX+this.margin[3],-He+Ft+this.ctx.prevPageLastElemOffset)[0];var Lr=(ot>ht||ot<_t)&&_.call(this);Lr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,Ct,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",At.x,At.y,At.w,At.h,null,null,tt),Lr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,tt)};var k=function(F,Y,ee){var Q=[];Y=Y||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":Q.push(Math.floor((F.y+ae)/ee)+1);break;case"arc":Q.push(Math.floor((F.y+ae-F.radius)/ee)+1),Q.push(Math.floor((F.y+ae+F.radius)/ee)+1);break;case"qct":var de=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);Q.push(Math.floor((de.y+ae)/ee)+1),Q.push(Math.floor((de.y+de.h+ae)/ee)+1);break;case"bct":var he=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);Q.push(Math.floor((he.y+ae)/ee)+1),Q.push(Math.floor((he.y+he.h+ae)/ee)+1);break;case"rect":Q.push(Math.floor((F.y+ae)/ee)+1),Q.push(Math.floor((F.y+F.h+ae)/ee)+1)}for(var ve=0;ve<Q.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<Q[ve];)w.call(this);return Q},w=function(){var F=this.fillStyle,Y=this.strokeStyle,ee=this.font,Q=this.lineCap,ae=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=Y,this.font=ee,this.lineCap=Q,this.lineWidth=ae,this.lineJoin=de},b=function(F,Y,ee){for(var Q=0;Q<F.length;Q++)switch(F[Q].type){case"bct":F[Q].x2+=Y,F[Q].y2+=ee;case"qct":F[Q].x1+=Y,F[Q].y1+=ee;case"mt":case"lt":case"arc":default:F[Q].x+=Y,F[Q].y+=ee}return F},P=function(F){return F.sort(function(Y,ee){return Y-ee})},O=function(F,Y){for(var ee,Q,ae=this.fillStyle,de=this.strokeStyle,he=this.lineCap,ve=this.lineWidth,Se=Math.abs(ve*this.ctx.transform.scaleX),ke=this.lineJoin,je=JSON.parse(JSON.stringify(this.path)),Be=JSON.parse(JSON.stringify(this.path)),st=[],_e=0;_e<Be.length;_e++)if(Be[_e].x!==void 0)for(var oe=k.call(this,Be[_e]),gt=0;gt<oe.length;gt+=1)st.indexOf(oe[gt])===-1&&st.push(oe[gt]);for(var tt=0;tt<st.length;tt++)for(;this.pdf.internal.getNumberOfPages()<st[tt];)w.call(this);if(P(st),this.autoPaging)for(var Fe=st[0],ze=st[st.length-1],qe=Fe;qe<ze+1;qe++){this.pdf.setPage(qe),this.fillStyle=ae,this.strokeStyle=de,this.lineCap=he,this.lineWidth=Se,this.lineJoin=ke;var $e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=qe===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=qe===1?0:ht+(qe-2)*_t;if(this.ctx.clip_path.length!==0){var ct=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ee,this.posX+this.margin[3],-ot+nt+this.ctx.prevPageLastElemOffset),j.call(this,F,!0),this.path=ct}if(Q=JSON.parse(JSON.stringify(je)),this.path=b(Q,this.posX+this.margin[3],-ot+nt+this.ctx.prevPageLastElemOffset),Y===!1||qe===0){var Ft=(qe>Fe||qe<ze)&&_.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,_t,null).clip().discardPath()),j.call(this,F,Y),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}else this.lineWidth=Se,j.call(this,F,Y),this.lineWidth=ve;this.path=je},j=function(F,Y){if((F!=="stroke"||Y||!v.call(this))&&(F==="stroke"||Y||!p.call(this))){for(var ee,Q,ae=[],de=this.path,he=0;he<de.length;he++){var ve=de[he];switch(ve.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:ve,deltas:[],abs:[]});break;case"lt":var Se=ae.length;if(de[he-1]&&!isNaN(de[he-1].x)&&(ee=[ve.x-de[he-1].x,ve.y-de[he-1].y],Se>0)){for(;Se>=0;Se--)if(ae[Se-1].close!==!0&&ae[Se-1].begin!==!0){ae[Se-1].deltas.push(ee),ae[Se-1].abs.push(ve);break}}break;case"bct":ee=[ve.x1-de[he-1].x,ve.y1-de[he-1].y,ve.x2-de[he-1].x,ve.y2-de[he-1].y,ve.x-de[he-1].x,ve.y-de[he-1].y],ae[ae.length-1].deltas.push(ee);break;case"qct":var ke=de[he-1].x+2/3*(ve.x1-de[he-1].x),je=de[he-1].y+2/3*(ve.y1-de[he-1].y),Be=ve.x+2/3*(ve.x1-ve.x),st=ve.y+2/3*(ve.y1-ve.y),_e=ve.x,oe=ve.y;ee=[ke-de[he-1].x,je-de[he-1].y,Be-de[he-1].x,st-de[he-1].y,_e-de[he-1].x,oe-de[he-1].y],ae[ae.length-1].deltas.push(ee);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(ve)}}Q=Y?null:F==="stroke"?"stroke":"fill";for(var gt=!1,tt=0;tt<ae.length;tt++)if(ae[tt].arc)for(var Fe=ae[tt].abs,ze=0;ze<Fe.length;ze++){var qe=Fe[ze];qe.type==="arc"?x.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,Y,!gt):R.call(this,qe.x,qe.y),gt=!0}else if(ae[tt].close===!0)this.pdf.internal.out("h"),gt=!1;else if(ae[tt].begin!==!0){var $e=ae[tt].start.x,nt=ae[tt].start.y;W.call(this,ae[tt].deltas,$e,nt),gt=!0}Q&&T.call(this,Q),Y&&M.call(this)}},H=function(F){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-ee;case"top":return F+Y-ee;case"hanging":return F+Y-2*ee;case"middle":return F+Y/2-ee;case"ideographic":return F;case"alphabetic":default:return F}},A=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(Y,ee){this.colorStops.push([Y,ee])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var x=function(F,Y,ee,Q,ae,de,he,ve,Se){for(var ke=X.call(this,ee,Q,ae,de),je=0;je<ke.length;je++){var Be=ke[je];je===0&&(Se?C.call(this,Be.x1+F,Be.y1+Y):R.call(this,Be.x1+F,Be.y1+Y)),Z.call(this,F,Y,Be.x2,Be.y2,Be.x3,Be.y3,Be.x4,Be.y4)}ve?M.call(this):T.call(this,he)},T=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},M=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(F,Y){this.pdf.internal.out(n(F)+" "+r(Y)+" m")},I=function(F){var Y;switch(F.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var ee=this.pdf.getTextDimensions(F.text),Q=H.call(this,F.y),ae=A.call(this,Q)-ee.h,de=this.ctx.transform.applyToPoint(new o(F.x,Q)),he=this.ctx.transform.decompose(),ve=new l;ve=(ve=(ve=ve.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Se,ke,je,Be=this.ctx.transform.applyToRectangle(new a(F.x,Q,ee.w,ee.h)),st=ve.applyToRectangle(new a(F.x,ae,ee.w,ee.h)),_e=k.call(this,st),oe=[],gt=0;gt<_e.length;gt+=1)oe.indexOf(_e[gt])===-1&&oe.push(_e[gt]);if(P(oe),this.autoPaging)for(var tt=oe[0],Fe=oe[oe.length-1],ze=tt;ze<Fe+1;ze++){this.pdf.setPage(ze);var qe=ze===1?this.posY+this.margin[0]:this.margin[0],$e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],nt=this.pdf.internal.pageSize.height-this.margin[2],ht=nt-this.margin[0],_t=this.pdf.internal.pageSize.width-this.margin[1],ot=_t-this.margin[3],ct=ze===1?0:$e+(ze-2)*ht;if(this.ctx.clip_path.length!==0){var Ft=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Se,this.posX+this.margin[3],-1*ct+qe),j.call(this,"fill",!0),this.path=Ft}var lt=b([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-ct+qe+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*F.scale),je=this.lineWidth,this.lineWidth=je*F.scale);var Ct=this.autoPaging!=="text";if(Ct||lt.y+lt.h<=nt){if(Ct||lt.y>=qe&&lt.x<=_t){var He=Ct?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||_t-lt.x)[0],En=b([JSON.parse(JSON.stringify(Be))],this.posX+this.margin[3],-ct+qe+this.ctx.prevPageLastElemOffset)[0],At=Ct&&(ze>tt||ze<Fe)&&_.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,ht,null).clip().discardPath()),this.pdf.text(He,En.x,En.y,{angle:F.angle,align:Y,renderingMode:F.renderingMode}),At&&this.pdf.restoreGraphicsState()}}else lt.y<nt&&(this.ctx.prevPageLastElemOffset+=nt-lt.y);F.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=je)}else F.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*F.scale),je=this.lineWidth,this.lineWidth=je*F.scale),this.pdf.text(F.text,de.x+this.posX,de.y+this.posY,{angle:F.angle,align:Y,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=je)},R=function(F,Y,ee,Q){ee=ee||0,Q=Q||0,this.pdf.internal.out(n(F+ee)+" "+r(Y+Q)+" l")},W=function(F,Y,ee){return this.pdf.lines(F,Y,ee,null,null)},Z=function(F,Y,ee,Q,ae,de,he,ve){this.pdf.internal.out([e(i(ee+F)),e(s(Q+Y)),e(i(ae+F)),e(s(de+Y)),e(i(he+F)),e(s(ve+Y)),"c"].join(" "))},X=function(F,Y,ee,Q){for(var ae=2*Math.PI,de=Math.PI/2;Y>ee;)Y-=ae;var he=Math.abs(ee-Y);he<ae&&Q&&(he=ae-he);for(var ve=[],Se=Q?-1:1,ke=Y;he>1e-5;){var je=ke+Se*Math.min(he,de);ve.push(re.call(this,F,ke,je)),he-=Math.abs(je-ke),ke=je}return ve},re=function(F,Y,ee){var Q=(ee-Y)/2,ae=F*Math.cos(Q),de=F*Math.sin(Q),he=ae,ve=-de,Se=he*he+ve*ve,ke=Se+he*ae+ve*de,je=4/3*(Math.sqrt(2*Se*ke)-ke)/(he*de-ve*ae),Be=he-je*ve,st=ve+je*he,_e=Be,oe=-st,gt=Q+Y,tt=Math.cos(gt),Fe=Math.sin(gt);return{x1:F*Math.cos(Y),y1:F*Math.sin(Y),x2:Be*tt-st*Fe,y2:Be*Fe+st*tt,x3:_e*tt-oe*Fe,y3:_e*Fe+oe*tt,x4:F*Math.cos(ee),y4:F*Math.sin(ee)}},z=function(F){return 180*F/Math.PI},ne=function(F,Y,ee,Q,ae,de){var he=F+.5*(ee-F),ve=Y+.5*(Q-Y),Se=ae+.5*(ee-ae),ke=de+.5*(Q-de),je=Math.min(F,ae,he,Se),Be=Math.max(F,ae,he,Se),st=Math.min(Y,de,ve,ke),_e=Math.max(Y,de,ve,ke);return new a(je,st,Be-je,_e-st)},ie=function(F,Y,ee,Q,ae,de,he,ve){var Se,ke,je,Be,st,_e,oe,gt,tt,Fe,ze,qe,$e,nt,ht=ee-F,_t=Q-Y,ot=ae-ee,ct=de-Q,Ft=he-ae,lt=ve-de;for(ke=0;ke<41;ke++)tt=(oe=(je=F+(Se=ke/40)*ht)+Se*((st=ee+Se*ot)-je))+Se*(st+Se*(ae+Se*Ft-st)-oe),Fe=(gt=(Be=Y+Se*_t)+Se*((_e=Q+Se*ct)-Be))+Se*(_e+Se*(de+Se*lt-_e)-gt),ke==0?(ze=tt,qe=Fe,$e=tt,nt=Fe):(ze=Math.min(ze,tt),qe=Math.min(qe,Fe),$e=Math.max($e,tt),nt=Math.max(nt,Fe));return new a(Math.round(ze),Math.round(qe),Math.round($e-ze),Math.round(nt-qe))},ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,Y,ee=(F=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:Y}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(ft.API),function(t){var e=function(s){var o,a,l,u,c,h,m,p,v,_;for(a=[],l=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(c=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(c=((c=((c=((c=(c-(_=c%85))/85)-(v=c%85))/85)-(p=c%85))/85)-(m=c%85))/85)%85,a.push(h+33,m+33,p+33,v+33,_+33)):a.push(122);return function(k,w){for(var b=w;b>0;b--)k.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,u,c,h=String,m="length",p=255,v="charCodeAt",_="slice",k="replace";for(s[_](-2),s=s[_](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),l=[],u=0,c=(s+=o="uuuuu"[_](s[m]%5||5))[m];c>u;u+=5)a=52200625*(s[v](u)-33)+614125*(s[v](u+1)-33)+7225*(s[v](u+2)-33)+85*(s[v](u+3)-33)+(s[v](u+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(w,b){for(var P=b;P>0;P--)w.pop()}(l,o[m]),h.fromCharCode.apply(h,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=aw(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(ft.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,c){var h=new XMLHttpRequest,m=0,p=function(v){var _=v.length,k=[],w=String.fromCharCode;for(m=0;m<_;m+=1)k.push(w(255&v.charCodeAt(m)));return k.join("")};if(h.open("GET",l,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?c(p(this.responseText)):c(void 0)}),h.send(null),u&&h.status===200)return p(h.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(ft.API),function(t){function e(){return(vt.html2canvas?Promise.resolve(vt.html2canvas):up(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(vt.DOMPurify?Promise.resolve(vt.DOMPurify):up(()=>import("./purify.es-Bf0oSh3b.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=dn(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var u in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[u]=a.style[u];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(u,c){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)c!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||h.appendChild(l(m,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var p=u[m],v=p.src.find(function(_){return _.format==="truetype"});v&&l.addFont(v.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,u){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,u){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,u),h}).then(u,c).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),c=l.call(u,o,a);return s.convert(c,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ft.getPageSize=function(o,a,l){if(dn(o)==="object"){var u=o;o=u.orientation,a=u.unit||a,l=u.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var c,h=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+a}var p,v=0,_=0;if(m.hasOwnProperty(h))v=m[h][1]/c,_=m[h][0]/c;else try{v=l[1],_=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",_>v&&(p=_,_=v,v=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>_&&(p=_,_=v,v=p)}return{width:_,height:v,unit:a,k:c,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(fw):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(ft.API),ft.API.addJS=function(t){return TS=t,this.internal.events.subscribe("postPutResources",function(){Mm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Mm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),CS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+TS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Mm!==void 0&&CS!==void 0&&this.internal.out("/Names <</JavaScript "+Mm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var h=n.internal.newObject();c.push(h);var m=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<c.length;s++)n.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(ft.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(h){for(var m,p=256*h.charCodeAt(4)+h.charCodeAt(5),v=h.length,_={width:0,height:0,numcomponents:1},k=4;k<v;k+=2){if(k+=p,e.indexOf(h.charCodeAt(k+1))!==-1){m=256*h.charCodeAt(k+5)+h.charCodeAt(k+6),_={width:256*h.charCodeAt(k+7)+h.charCodeAt(k+8),height:m,numcomponents:h.charCodeAt(k+9)};break}p=256*h.charCodeAt(k+2)+h.charCodeAt(k+3)}return _}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(ft.API);var Zc,Om,PS,AS,IS,cz=function(){var t,e,n;function r(s){var o,a,l,u,c,h,m,p,v,_,k,w,b,P;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(o=this.readUInt32(),v=(function(){var O,j;for(j=[],O=0;O<4;++O)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*c/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(v==="fdAT"&&(this.pos+=4,o-=4),s=(h!=null?h.data:void 0)||this.imgData,w=0;0<=o?w<o:w>o;0<=o?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((_=l-this.transparency.indexed.length)>0)for(b=0;0<=_?b<_:b>_;0<=_?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":m=(k=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,k.slice(0,m)),this.text[p]=String.fromCharCode.apply(String,k.slice(m+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(P=this.colorType)===4||P===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function c(h,m,p,v){var _,k,w,b,P,O,j,H,A,x,T,M,C,I,R,W,Z,X,re,z,ne,ie=Math.ceil((u.width-h)/p),ye=Math.ceil((u.height-m)/v),F=u.width==ie&&u.height==ye;for(I=o*ie,M=F?a:new Uint8Array(I*ye),O=s.length,C=0,k=0;C<ye&&l<O;){switch(s[l++]){case 0:for(b=Z=0;Z<I;b=Z+=1)M[k++]=s[l++];break;case 1:for(b=X=0;X<I;b=X+=1)_=s[l++],P=b<o?0:M[k-o],M[k++]=(_+P)%256;break;case 2:for(b=re=0;re<I;b=re+=1)_=s[l++],w=(b-b%o)/o,R=C&&M[(C-1)*I+w*o+b%o],M[k++]=(R+_)%256;break;case 3:for(b=z=0;z<I;b=z+=1)_=s[l++],w=(b-b%o)/o,P=b<o?0:M[k-o],R=C&&M[(C-1)*I+w*o+b%o],M[k++]=(_+Math.floor((P+R)/2))%256;break;case 4:for(b=ne=0;ne<I;b=ne+=1)_=s[l++],w=(b-b%o)/o,P=b<o?0:M[k-o],C===0?R=W=0:(R=M[(C-1)*I+w*o+b%o],W=w&&M[(C-1)*I+(w-1)*o+b%o]),j=P+R-W,H=Math.abs(j-P),x=Math.abs(j-R),T=Math.abs(j-W),A=H<=x&&H<=T?P:x<=T?R:W,M[k++]=(_+A)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!F){var Y=((m+C*v)*u.width+h)*o,ee=C*I;for(b=0;b<ie;b+=1){for(var Q=0;Q<o;Q+=1)a[Y++]=M[ee++];Y+=(p-1)*o}}C++}}return s=zU(s),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,u,c,h,m,p;for(a=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+a.length),l=0,s=0,o=h=0,m=a.length;h<m;o=h+=3)u[l++]=a[o],u[l++]=a[o+1],u[l++]=a[o+2],u[l++]=(p=c[s++])!=null?p:255;return u},r.prototype.copyToImageData=function(s,o){var a,l,u,c,h,m,p,v,_,k,w;if(l=this.colors,_=null,a=this.hasAlphaChannel,this.palette.length&&(_=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),v=(u=s.data||s).length,h=_||o,c=m=0,l===1)for(;c<v;)p=_?4*o[c/4]:m,k=h[p++],u[c++]=k,u[c++]=k,u[c++]=k,u[c++]=a?h[p++]:255,m=p;else for(;c<v;)p=_?4*o[c/4]:m,u[c++]=h[p++],u[c++]=h[p++],u[c++]=h[p++],u[c++]=a?h[p++]:255,m=p},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(vt)==="[object Window]"){try{e=vt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,u,c,h,m,p;if(this.animation){for(p=[],a=c=0,h=(m=this.animation.frames).length;c<h;a=++c)o=m[a],l=s.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,p.push(o.image=t(l));return p}},r.prototype.renderFrame=function(s,o){var a,l,u;return a=(l=this.animation.frames)[o],u=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,u,c,h,m=this;return a=0,h=this.animation,u=h.numFrames,l=h.frames,c=h.numPlays,(o=function(){var p,v;if(p=a++%u,v=l[p],m.renderFrame(s,p),u>1&&a/u<c)return m.animation._timeout=setTimeout(o,v.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function dz(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,c=[],h=0,m=null,p=0,v=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];h=t[e++]|t[e++]<<8,m=t[e++],!(1&_)&&(m=null),p=_>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,P=t[e++]|t[e++]<<8,O=t[e++],j=O>>6&1,H=1<<(7&O)+1,A=a,x=l,T=!1;O>>7&&(T=!0,A=e,x=H,e+=3*H);var M=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}c.push({x:k,y:w,width:b,height:P,has_local_palette:T,palette_offset:A,palette_size:x,data_offset:M,data_length:e-M,transparent_index:m,interlaced:!!j,delay:h,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return v},this.frameInfo=function(I){if(I<0||I>=c.length)throw new Error("Frame index out of range.");return c[I]},this.decodeAndBlitFrameBGRA=function(I,R){var W=this.frameInfo(I),Z=W.width*W.height,X=new Uint8Array(Z);NS(t,W.data_offset,X,Z);var re=W.palette_offset,z=W.transparent_index;z===null&&(z=256);var ne=W.width,ie=n-ne,ye=ne,F=4*(W.y*n+W.x),Y=4*((W.y+W.height)*n+W.x),ee=F,Q=4*ie;W.interlaced===!0&&(Q+=4*n*7);for(var ae=8,de=0,he=X.length;de<he;++de){var ve=X[de];if(ye===0&&(ye=ne,(ee+=Q)>=Y&&(Q=4*ie+4*n*(ae-1),ee=F+(ne+ie)*(ae<<1),ae>>=1)),ve===z)ee+=4;else{var Se=t[re+3*ve],ke=t[re+3*ve+1],je=t[re+3*ve+2];R[ee++]=je,R[ee++]=ke,R[ee++]=Se,R[ee++]=255}--ye}},this.decodeAndBlitFrameRGBA=function(I,R){var W=this.frameInfo(I),Z=W.width*W.height,X=new Uint8Array(Z);NS(t,W.data_offset,X,Z);var re=W.palette_offset,z=W.transparent_index;z===null&&(z=256);var ne=W.width,ie=n-ne,ye=ne,F=4*(W.y*n+W.x),Y=4*((W.y+W.height)*n+W.x),ee=F,Q=4*ie;W.interlaced===!0&&(Q+=4*n*7);for(var ae=8,de=0,he=X.length;de<he;++de){var ve=X[de];if(ye===0&&(ye=ne,(ee+=Q)>=Y&&(Q=4*ie+4*n*(ae-1),ee=F+(ne+ie)*(ae<<1),ae>>=1)),ve===z)ee+=4;else{var Se=t[re+3*ve],ke=t[re+3*ve+1],je=t[re+3*ve+2];R[ee++]=Se,R[ee++]=ke,R[ee++]=je,R[ee++]=255}--ye}}}function NS(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,c=0,h=0,m=0,p=t[e++],v=new Int32Array(4096),_=null;;){for(;c<16&&p!==0;)h|=t[e++]<<c,c+=8,p===1?p=t[e++]:--p;if(c<l)break;var k=h&u;if(h>>=l,c-=l,k!==s){if(k===o)break;for(var w=k<a?k:_,b=0,P=w;P>s;)P=v[P]>>8,++b;var O=P;if(m+b+(w!==k?1:0)>r)return void yn.log("Warning, gif stream longer than expected.");n[m++]=O;var j=m+=b;for(w!==k&&(n[m++]=O),P=w;b--;)P=v[P],n[--j]=255&P,P>>=8;_!==null&&a<4096&&(v[a++]=_<<8|O,a>=u+1&&l<12&&(++l,u=u<<1|1)),_=k}else a=o+1,u=(1<<(l=i+1))-1,_=null}return m!==r&&yn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function u1(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),h=new Array(65535),m=new Array(65535),p=new Array(64),v=new Array(64),_=[],k=0,w=7,b=new Array(64),P=new Array(64),O=new Array(64),j=new Array(256),H=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],x=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],M=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(F,Y){for(var ee=0,Q=0,ae=new Array,de=1;de<=16;de++){for(var he=1;he<=F[de];he++)ae[Y[Q]]=[],ae[Y[Q]][0]=ee,ae[Y[Q]][1]=de,Q++,ee++;ee*=2}return ae}function re(F){for(var Y=F[0],ee=F[1]-1;ee>=0;)Y&1<<ee&&(k|=1<<w),ee--,--w<0&&(k==255?(z(255),z(0)):z(k),w=7,k=0)}function z(F){_.push(F)}function ne(F){z(F>>8&255),z(255&F)}function ie(F,Y,ee,Q,ae){for(var de,he=ae[0],ve=ae[240],Se=function(Fe,ze){var qe,$e,nt,ht,_t,ot,ct,Ft,lt,Ct,He=0;for(lt=0;lt<8;++lt){qe=Fe[He],$e=Fe[He+1],nt=Fe[He+2],ht=Fe[He+3],_t=Fe[He+4],ot=Fe[He+5],ct=Fe[He+6];var En=qe+(Ft=Fe[He+7]),At=qe-Ft,Lr=$e+ct,jt=$e-ct,on=nt+ot,Cr=nt-ot,Mt=ht+_t,ni=ht-_t,pn=En+Mt,rr=En-Mt,jr=Lr+on,Jt=Lr-on;Fe[He]=pn+jr,Fe[He+4]=pn-jr;var ut=.707106781*(Jt+rr);Fe[He+2]=rr+ut,Fe[He+6]=rr-ut;var Rt=.382683433*((pn=ni+Cr)-(Jt=jt+At)),ri=.5411961*pn+Rt,xn=1.306562965*Jt+Rt,cr=.707106781*(jr=Cr+jt),ii=At+cr,Qe=At-cr;Fe[He+5]=Qe+ri,Fe[He+3]=Qe-ri,Fe[He+1]=ii+xn,Fe[He+7]=ii-xn,He+=8}for(He=0,lt=0;lt<8;++lt){qe=Fe[He],$e=Fe[He+8],nt=Fe[He+16],ht=Fe[He+24],_t=Fe[He+32],ot=Fe[He+40],ct=Fe[He+48];var at=qe+(Ft=Fe[He+56]),Br=qe-Ft,ir=$e+ct,$n=$e-ct,Fn=nt+ot,sr=nt-ot,Fa=ht+_t,_s=ht-_t,Vr=at+Fa,bi=at-Fa,si=ir+Fn,oi=ir-Fn;Fe[He]=Vr+si,Fe[He+32]=Vr-si;var Hn=.707106781*(oi+bi);Fe[He+16]=bi+Hn,Fe[He+48]=bi-Hn;var Oi=.382683433*((Vr=_s+sr)-(oi=$n+Br)),Xs=.5411961*Vr+Oi,Zs=1.306562965*oi+Oi,eo=.707106781*(si=sr+$n),jo=Br+eo,Bo=Br-eo;Fe[He+40]=Bo+Xs,Fe[He+24]=Bo-Xs,Fe[He+8]=jo+Zs,Fe[He+56]=jo-Zs,He++}for(lt=0;lt<64;++lt)Ct=Fe[lt]*ze[lt],p[lt]=Ct>0?Ct+.5|0:Ct-.5|0;return p}(F,Y),ke=0;ke<64;++ke)v[A[ke]]=Se[ke];var je=v[0]-ee;ee=v[0],je==0?re(Q[0]):(re(Q[m[de=32767+je]]),re(h[de]));for(var Be=63;Be>0&&v[Be]==0;)Be--;if(Be==0)return re(he),ee;for(var st,_e=1;_e<=Be;){for(var oe=_e;v[_e]==0&&_e<=Be;)++_e;var gt=_e-oe;if(gt>=16){st=gt>>4;for(var tt=1;tt<=st;++tt)re(ve);gt&=15}de=32767+v[_e],re(ae[(gt<<4)+m[de]]),re(h[de]),_e++}return Be!=63&&re(he),ee}function ye(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(Y){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var ae=o((ee[Q]*Y+50)/100);ae=Math.min(Math.max(ae,1),255),a[A[Q]]=ae}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var ve=o((de[he]*Y+50)/100);ve=Math.min(Math.max(ve,1),255),l[A[he]]=ve}for(var Se=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,je=0;je<8;je++)for(var Be=0;Be<8;Be++)u[ke]=1/(a[A[ke]]*Se[je]*Se[Be]*8),c[ke]=1/(l[A[ke]]*Se[je]*Se[Be]*8),ke++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,Y){Y&&ye(Y),_=new Array,k=0,w=7,ne(65496),ne(65504),ne(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),ne(1),ne(1),z(0),z(0),function(){ne(65499),ne(132),z(0);for(var $e=0;$e<64;$e++)z(a[$e]);z(1);for(var nt=0;nt<64;nt++)z(l[nt])}(),function($e,nt){ne(65472),ne(17),z(8),ne(nt),ne($e),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}(F.width,F.height),function(){ne(65476),ne(418),z(0);for(var $e=0;$e<16;$e++)z(x[$e+1]);for(var nt=0;nt<=11;nt++)z(T[nt]);z(16);for(var ht=0;ht<16;ht++)z(M[ht+1]);for(var _t=0;_t<=161;_t++)z(C[_t]);z(1);for(var ot=0;ot<16;ot++)z(I[ot+1]);for(var ct=0;ct<=11;ct++)z(R[ct]);z(17);for(var Ft=0;Ft<16;Ft++)z(W[Ft+1]);for(var lt=0;lt<=161;lt++)z(Z[lt])}(),ne(65498),ne(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var ee=0,Q=0,ae=0;k=0,w=7,this.encode.displayName="_encode_";for(var de,he,ve,Se,ke,je,Be,st,_e,oe=F.data,gt=F.width,tt=F.height,Fe=4*gt,ze=0;ze<tt;){for(de=0;de<Fe;){for(ke=Fe*ze+de,Be=-1,st=0,_e=0;_e<64;_e++)je=ke+(st=_e>>3)*Fe+(Be=4*(7&_e)),ze+st>=tt&&(je-=Fe*(ze+1+st-tt)),de+Be>=Fe&&(je-=de+Be-Fe+4),he=oe[je++],ve=oe[je++],Se=oe[je++],b[_e]=(H[he]+H[ve+256>>0]+H[Se+512>>0]>>16)-128,P[_e]=(H[he+768>>0]+H[ve+1024>>0]+H[Se+1280>>0]>>16)-128,O[_e]=(H[he+1280>>0]+H[ve+1536>>0]+H[Se+1792>>0]>>16)-128;ee=ie(b,u,ee,e,r),Q=ie(P,c,Q,n,i),ae=ie(O,c,ae,n,i),de+=32}ze+=8}if(w>=0){var qe=[];qe[1]=w+1,qe[0]=(1<<w+1)-1,re(qe)}return ne(65497),new Uint8Array(_)},t=t||50,function(){for(var F=String.fromCharCode,Y=0;Y<256;Y++)j[Y]=F(Y)}(),e=X(x,T),n=X(I,R),r=X(M,C),i=X(W,Z),function(){for(var F=1,Y=2,ee=1;ee<=15;ee++){for(var Q=F;Q<Y;Q++)m[32767+Q]=ee,h[32767+Q]=[],h[32767+Q][1]=ee,h[32767+Q][0]=Q;for(var ae=-(Y-1);ae<=-F;ae++)m[32767+ae]=ee,h[32767+ae]=[],h[32767+ae][1]=ee,h[32767+ae][0]=Y-1+ae;F<<=1,Y<<=1}}(),function(){for(var F=0;F<256;F++)H[F]=19595*F,H[F+256>>0]=38470*F,H[F+512>>0]=7471*F+32768,H[F+768>>0]=-11059*F,H[F+1024>>0]=-21709*F,H[F+1280>>0]=32768*F+8421375,H[F+1536>>0]=-27439*F,H[F+1792>>0]=-5329*F}(),ye(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Rs(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function DS(t){function e(x){if(!x)throw Error("assert :P")}function n(x,T,M){for(var C=0;4>C;C++)if(x[T+C]!=M.charCodeAt(C))return!0;return!1}function r(x,T,M,C,I){for(var R=0;R<I;R++)x[T+R]=M[C+R]}function i(x,T,M,C){for(var I=0;I<C;I++)x[T+I]=M}function s(x){return new Int32Array(x)}function o(x,T){for(var M=[],C=0;C<x;C++)M.push(new T);return M}function a(x,T){var M=[];return function C(I,R,W){for(var Z=W[R],X=0;X<Z&&(I.push(W.length>R+1?[]:new T),!(W.length<R+1));X++)C(I[X],R+1,W)}(M,0,x),M}var l=function(){var x=this;function T(d,g){for(var E=1<<g-1>>>0;d&E;)E>>>=1;return E?(d&E-1)+E:d}function M(d,g,E,N,U){e(!(N%E));do d[g+(N-=E)]=U;while(0<N)}function C(d,g,E,N,U){if(e(2328>=U),512>=U)var q=s(512);else if((q=s(U))==null)return 0;return function($,K,J,te,ue,we){var be,ge,Ne=K,Ce=1<<J,ce=s(16),fe=s(16);for(e(ue!=0),e(te!=null),e($!=null),e(0<J),ge=0;ge<ue;++ge){if(15<te[ge])return 0;++ce[te[ge]]}if(ce[0]==ue)return 0;for(fe[1]=0,be=1;15>be;++be){if(ce[be]>1<<be)return 0;fe[be+1]=fe[be]+ce[be]}for(ge=0;ge<ue;++ge)be=te[ge],0<te[ge]&&(we[fe[be]++]=ge);if(fe[15]==1)return(te=new I).g=0,te.value=we[0],M($,Ne,1,Ce,te),Ce;var Ae,Re=-1,Ie=Ce-1,Je=0,We=1,dt=1,Ge=1<<J;for(ge=0,be=1,ue=2;be<=J;++be,ue<<=1){if(We+=dt<<=1,0>(dt-=ce[be]))return 0;for(;0<ce[be];--ce[be])(te=new I).g=be,te.value=we[ge++],M($,Ne+Je,ue,Ge,te),Je=T(Je,be)}for(be=J+1,ue=2;15>=be;++be,ue<<=1){if(We+=dt<<=1,0>(dt-=ce[be]))return 0;for(;0<ce[be];--ce[be]){if(te=new I,(Je&Ie)!=Re){for(Ne+=Ge,Ae=1<<(Re=be)-J;15>Re&&!(0>=(Ae-=ce[Re]));)++Re,Ae<<=1;Ce+=Ge=1<<(Ae=Re-J),$[K+(Re=Je&Ie)].g=Ae+J,$[K+Re].value=Ne-K-Re}te.g=be-J,te.value=we[ge++],M($,Ne+(Je>>J),ue,Ge,te),Je=T(Je,be)}}return We!=2*fe[15]-1?0:Ce}(d,g,E,N,U,q)}function I(){this.value=this.g=0}function R(){this.value=this.g=0}function W(){this.G=o(5,I),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ar,R)}function Z(d,g,E,N){e(d!=null),e(g!=null),e(2147483648>N),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=g,d.pa=E,d.Jd=g,d.Yc=E+N,d.Zc=4<=N?E+N-4+1:E,de(d)}function X(d,g){for(var E=0;0<g--;)E|=ve(d,128)<<g;return E}function re(d,g){var E=X(d,g);return he(d)?-E:E}function z(d,g,E,N){var U,q=0;for(e(d!=null),e(g!=null),e(4294967288>N),d.Sb=N,d.Ra=0,d.u=0,d.h=0,4<N&&(N=4),U=0;U<N;++U)q+=g[E+U]<<8*U;d.Ra=q,d.bb=N,d.oa=g,d.pa=E}function ne(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Uc-8>>>0,++d.bb,d.u-=8;ee(d)&&(d.h=1,d.u=0)}function ie(d,g){if(e(0<=g),!d.h&&g<=Vc){var E=Y(d)&Bc[g];return d.u+=g,ne(d),E}return d.h=1,d.u=0}function ye(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(d){return d.Ra>>>(d.u&Uc-1)>>>0}function ee(d){return e(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Uc}function Q(d,g){d.u=g,d.h=ee(d)}function ae(d){d.u>=Ah&&(e(d.u>=Ah),ne(d))}function de(d){e(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(e(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function he(d){return X(d,1)}function ve(d,g){var E=d.Ca;0>d.b&&de(d);var N=d.b,U=E*g>>>8,q=(d.I>>>N>U)+0;for(q?(E-=U,d.I-=U+1<<N>>>0):E=U+1,N=E,U=0;256<=N;)U+=8,N>>=8;return N=7^U+Ei[N],d.b-=N,d.Ca=(E<<N)-1,q}function Se(d,g,E){d[g+0]=E>>24&255,d[g+1]=E>>16&255,d[g+2]=E>>8&255,d[g+3]=E>>0&255}function ke(d,g){return d[g+0]<<0|d[g+1]<<8}function je(d,g){return ke(d,g)|d[g+2]<<16}function Be(d,g){return ke(d,g)|ke(d,g+2)<<16}function st(d,g){var E=1<<g;return e(d!=null),e(0<g),d.X=s(E),d.X==null?0:(d.Mb=32-g,d.Xa=g,1)}function _e(d,g){e(d!=null),e(g!=null),e(d.Xa==g.Xa),r(g.X,0,d.X,0,1<<g.Xa)}function oe(){this.X=[],this.Xa=this.Mb=0}function gt(d,g,E,N){e(E!=null),e(N!=null);var U=E[0],q=N[0];return U==0&&(U=(d*q+g/2)/g),q==0&&(q=(g*U+d/2)/d),0>=U||0>=q?0:(E[0]=U,N[0]=q,1)}function tt(d,g){return d+(1<<g)-1>>>g}function Fe(d,g){return((4278255360&d)+(4278255360&g)>>>0&4278255360)+((16711935&d)+(16711935&g)>>>0&16711935)>>>0}function ze(d,g){x[g]=function(E,N,U,q,$,K,J){var te;for(te=0;te<$;++te){var ue=x[d](K[J+te-1],U,q+te);K[J+te]=Fe(E[N+te],ue)}}}function qe(){this.ud=this.hd=this.jd=0}function $e(d,g){return((4278124286&(d^g))>>>1)+(d&g)>>>0}function nt(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function ht(d,g){return nt(d+(d-g+.5>>1))}function _t(d,g,E){return Math.abs(g-E)-Math.abs(d-E)}function ot(d,g,E,N,U,q,$){for(N=q[$-1],E=0;E<U;++E)q[$+E]=N=Fe(d[g+E],N)}function ct(d,g,E,N,U){var q;for(q=0;q<E;++q){var $=d[g+q],K=$>>8&255,J=16711935&(J=(J=16711935&$)+((K<<16)+K));N[U+q]=(4278255360&$)+J>>>0}}function Ft(d,g){g.jd=d>>0&255,g.hd=d>>8&255,g.ud=d>>16&255}function lt(d,g,E,N,U,q){var $;for($=0;$<N;++$){var K=g[E+$],J=K>>>8,te=K,ue=255&(ue=(ue=K>>>16)+((d.jd<<24>>24)*(J<<24>>24)>>>5));te=255&(te=(te=te+((d.hd<<24>>24)*(J<<24>>24)>>>5))+((d.ud<<24>>24)*(ue<<24>>24)>>>5)),U[q+$]=(4278255360&K)+(ue<<16)+te}}function Ct(d,g,E,N,U){x[g]=function(q,$,K,J,te,ue,we,be,ge){for(J=we;J<be;++J)for(we=0;we<ge;++we)te[ue++]=U(K[N(q[$++])])},x[d]=function(q,$,K,J,te,ue,we){var be=8>>q.b,ge=q.Ea,Ne=q.K[0],Ce=q.w;if(8>be)for(q=(1<<q.b)-1,Ce=(1<<be)-1;$<K;++$){var ce,fe=0;for(ce=0;ce<ge;++ce)ce&q||(fe=N(J[te++])),ue[we++]=U(Ne[fe&Ce]),fe>>=be}else x["VP8LMapColor"+E](J,te,Ne,Ce,ue,we,$,K,ge)}}function He(d,g,E,N,U){for(E=g+E;g<E;){var q=d[g++];N[U++]=q>>16&255,N[U++]=q>>8&255,N[U++]=q>>0&255}}function En(d,g,E,N,U){for(E=g+E;g<E;){var q=d[g++];N[U++]=q>>16&255,N[U++]=q>>8&255,N[U++]=q>>0&255,N[U++]=q>>24&255}}function At(d,g,E,N,U){for(E=g+E;g<E;){var q=($=d[g++])>>16&240|$>>12&15,$=$>>0&240|$>>28&15;N[U++]=q,N[U++]=$}}function Lr(d,g,E,N,U){for(E=g+E;g<E;){var q=($=d[g++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;N[U++]=q,N[U++]=$}}function jt(d,g,E,N,U){for(E=g+E;g<E;){var q=d[g++];N[U++]=q>>0&255,N[U++]=q>>8&255,N[U++]=q>>16&255}}function on(d,g,E,N,U,q){if(q==0)for(E=g+E;g<E;)Se(N,((q=d[g++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),U+=32;else r(N,U,d,g,E)}function Cr(d,g){x[g][0]=x[d+"0"],x[g][1]=x[d+"1"],x[g][2]=x[d+"2"],x[g][3]=x[d+"3"],x[g][4]=x[d+"4"],x[g][5]=x[d+"5"],x[g][6]=x[d+"6"],x[g][7]=x[d+"7"],x[g][8]=x[d+"8"],x[g][9]=x[d+"9"],x[g][10]=x[d+"10"],x[g][11]=x[d+"11"],x[g][12]=x[d+"12"],x[g][13]=x[d+"13"],x[g][14]=x[d+"0"],x[g][15]=x[d+"0"]}function Mt(d){return d==X0||d==Z0||d==Qp||d==ey}function ni(){this.eb=[],this.size=this.A=this.fb=0}function pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function rr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ni,this.f.kb=new pn,this.sd=null}function jr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Jt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ut(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function Rt(d,g){var E=d.T,N=g.ba.f.RGBA,U=N.eb,q=N.fb+d.ka*N.A,$=ss[g.ba.S],K=d.y,J=d.O,te=d.f,ue=d.N,we=d.ea,be=d.W,ge=g.cc,Ne=g.dc,Ce=g.Mc,ce=g.Nc,fe=d.ka,Ae=d.ka+d.T,Re=d.U,Ie=Re+1>>1;for(fe==0?$(K,J,null,null,te,ue,we,be,te,ue,we,be,U,q,null,null,Re):($(g.ec,g.fc,K,J,ge,Ne,Ce,ce,te,ue,we,be,U,q-N.A,U,q,Re),++E);fe+2<Ae;fe+=2)ge=te,Ne=ue,Ce=we,ce=be,ue+=d.Rc,be+=d.Rc,q+=2*N.A,$(K,(J+=2*d.fa)-d.fa,K,J,ge,Ne,Ce,ce,te,ue,we,be,U,q-N.A,U,q,Re);return J+=d.fa,d.j+Ae<d.o?(r(g.ec,g.fc,K,J,Re),r(g.cc,g.dc,te,ue,Ie),r(g.Mc,g.Nc,we,be,Ie),E--):1&Ae||$(K,J,null,null,te,ue,we,be,te,ue,we,be,U,q+N.A,null,null,Re),E}function ri(d,g,E){var N=d.F,U=[d.J];if(N!=null){var q=d.U,$=g.ba.S,K=$==Kp||$==Qp;g=g.ba.f.RGBA;var J=[0],te=d.ka;J[0]=d.T,d.Kb&&(te==0?--J[0]:(--te,U[0]-=d.width),d.j+d.ka+d.T==d.o&&(J[0]=d.o-d.j-te));var ue=g.eb;te=g.fb+te*g.A,d=bn(N,U[0],d.width,q,J,ue,te+(K?0:3),g.A),e(E==J),d&&Mt($)&&rs(ue,te,K,q,J,g.A)}return 0}function xn(d){var g=d.ma,E=g.ba.S,N=11>E,U=E==Yp||E==Gp||E==Kp||E==J0||E==12||Mt(E);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Th(g.Oa,d,U?11:12))return 0;if(U&&Mt(E)&&Me(),d.da)alert("todo:use_scaling");else{if(N){if(g.Ib=ut,d.Kb){if(E=d.U+1>>1,g.memory=s(d.U+2*E),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+d.U,g.Mc=g.cc,g.Nc=g.dc+E,g.Ib=Rt,Me()}}else alert("todo:EmitYUV");U&&(g.Jb=ri,N&&me())}if(N&&!Kb){for(d=0;256>d;++d)iN[d]=89858*(d-128)+Xp>>Jp,aN[d]=-22014*(d-128)+Xp,oN[d]=-45773*(d-128),sN[d]=113618*(d-128)+Xp>>Jp;for(d=Fh;d<ry;++d)g=76283*(d-16)+Xp>>Jp,lN[d-Fh]=tn(g,255),uN[d-Fh]=tn(g+8>>4,15);Kb=1}return 1}function cr(d){var g=d.ma,E=d.U,N=d.T;return e(!(1&d.ka)),0>=E||0>=N?0:(E=g.Ib(d,g),g.Jb!=null&&g.Jb(d,g,E),g.Dc+=E,1)}function ii(d){d.ma.memory=null}function Qe(d,g,E,N){return ie(d,8)!=47?0:(g[0]=ie(d,14)+1,E[0]=ie(d,14)+1,N[0]=ie(d,1),ie(d,3)!=0?0:!d.h)}function at(d,g){if(4>d)return d+1;var E=d-2>>1;return(2+(1&d)<<E)+ie(g,E)+1}function Br(d,g){return 120<g?g-120:1<=(E=((E=$I[g-1])>>4)*d+(8-(15&E)))?E:1;var E}function ir(d,g,E){var N=Y(E),U=d[g+=255&N].g-8;return 0<U&&(Q(E,E.u+8),N=Y(E),g+=d[g].value,g+=N&(1<<U)-1),Q(E,E.u+d[g].g),d[g].value}function $n(d,g,E){return E.g+=d.g,E.value+=d.value<<g>>>0,e(8>=E.g),d.g}function Fn(d,g,E){var N=d.xc;return e((g=N==0?0:d.vc[d.md*(E>>N)+(g>>N)])<d.Wb),d.Ya[g]}function sr(d,g,E,N){var U=d.ab,q=d.c*g,$=d.C;g=$+g;var K=E,J=N;for(N=d.Ta,E=d.Ua;0<U--;){var te=d.gc[U],ue=$,we=g,be=K,ge=J,Ne=(J=N,K=E,te.Ea);switch(e(ue<we),e(we<=te.nc),te.hc){case 2:Vp(be,ge,(we-ue)*Ne,J,K);break;case 0:var Ce=ue,ce=we,fe=J,Ae=K,Re=(Ge=te).Ea;Ce==0&&(K0(be,ge,null,null,1,fe,Ae),ot(be,ge+1,0,0,Re-1,fe,Ae+1),ge+=Re,Ae+=Re,++Ce);for(var Ie=1<<Ge.b,Je=Ie-1,We=tt(Re,Ge.b),dt=Ge.K,Ge=Ge.w+(Ce>>Ge.b)*We;Ce<ce;){var Xt=dt,ln=Ge,Wt=1;for(Ih(be,ge,fe,Ae-Re,1,fe,Ae);Wt<Re;){var Vt=(Wt&~Je)+Ie;Vt>Re&&(Vt=Re),(0,tl[Xt[ln++]>>8&15])(be,ge+ +Wt,fe,Ae+Wt-Re,Vt-Wt,fe,Ae+Wt),Wt=Vt}ge+=Re,Ae+=Re,++Ce&Je||(Ge+=We)}we!=te.nc&&r(J,K-Ne,J,K+(we-ue-1)*Ne,Ne);break;case 1:for(Ne=be,ce=ge,Re=(be=te.Ea)-(Ae=be&~(fe=(ge=1<<te.b)-1)),Ce=tt(be,te.b),Ie=te.K,te=te.w+(ue>>te.b)*Ce;ue<we;){for(Je=Ie,We=te,dt=new qe,Ge=ce+Ae,Xt=ce+be;ce<Ge;)Ft(Je[We++],dt),Lu(dt,Ne,ce,ge,J,K),ce+=ge,K+=ge;ce<Xt&&(Ft(Je[We++],dt),Lu(dt,Ne,ce,Re,J,K),ce+=Re,K+=Re),++ue&fe||(te+=Ce)}break;case 3:if(be==J&&ge==K&&0<te.b){for(ce=J,be=Ne=K+(we-ue)*Ne-(Ae=(we-ue)*tt(te.Ea,te.b)),ge=J,fe=K,Ce=[],Ae=(Re=Ae)-1;0<=Ae;--Ae)Ce[Ae]=ge[fe+Ae];for(Ae=Re-1;0<=Ae;--Ae)ce[be+Ae]=Ce[Ae];es(te,ue,we,J,Ne,J,K)}else es(te,ue,we,be,ge,J,K)}K=N,J=E}J!=E&&r(N,E,K,J,q)}function Fa(d,g){var E=d.V,N=d.Ba+d.c*d.C,U=g-d.C;if(e(g<=d.l.o),e(16>=U),0<U){var q=d.l,$=d.Ta,K=d.Ua,J=q.width;if(sr(d,U,E,N),U=K=[K],e((E=d.C)<(N=g)),e(q.v<q.va),N>q.o&&(N=q.o),E<q.j){var te=q.j-E;E=q.j,U[0]+=te*J}if(E>=N?E=0:(U[0]+=4*q.v,q.ka=E-q.j,q.U=q.va-q.v,q.T=N-E,E=1),E){if(K=K[0],11>(E=d.ca).S){var ue=E.f.RGBA,we=(N=E.S,U=q.U,q=q.T,te=ue.eb,ue.A),be=q;for(ue=ue.fb+d.Ma*ue.A;0<be--;){var ge=$,Ne=K,Ce=U,ce=te,fe=ue;switch(N){case Wp:xi(ge,Ne,Ce,ce,fe);break;case Yp:li(ge,Ne,Ce,ce,fe);break;case X0:li(ge,Ne,Ce,ce,fe),rs(ce,fe,0,Ce,1,0);break;case Vb:Qo(ge,Ne,Ce,ce,fe);break;case Gp:on(ge,Ne,Ce,ce,fe,1);break;case Z0:on(ge,Ne,Ce,ce,fe,1),rs(ce,fe,0,Ce,1,0);break;case Kp:on(ge,Ne,Ce,ce,fe,0);break;case Qp:on(ge,Ne,Ce,ce,fe,0),rs(ce,fe,1,Ce,1,0);break;case J0:nl(ge,Ne,Ce,ce,fe);break;case ey:nl(ge,Ne,Ce,ce,fe),wn(ce,fe,Ce,1,0);break;case Ub:Ko(ge,Ne,Ce,ce,fe);break;default:e(0)}K+=J,ue+=we}d.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(d.Ma<=E.height)}}d.C=g,e(d.C<=d.i)}function _s(d){var g;if(0<d.ua)return 0;for(g=0;g<d.Wb;++g){var E=d.Ya[g].G,N=d.Ya[g].H;if(0<E[1][N[1]+0].g||0<E[2][N[2]+0].g||0<E[3][N[3]+0].g)return 0}return 1}function Vr(d,g,E,N,U,q){if(d.Z!=0){var $=d.qd,K=d.rd;for(e(ol[d.Z]!=null);g<E;++g)ol[d.Z]($,K,N,U,N,U,q),$=N,K=U,U+=q;d.qd=$,d.rd=K}}function bi(d,g){var E=d.l.ma,N=E.Z==0||E.Z==1?d.l.j:d.C;if(N=d.C<N?N:d.C,e(g<=d.l.o),g>N){var U=d.l.width,q=E.ca,$=E.tb+U*N,K=d.V,J=d.Ba+d.c*N,te=d.gc;e(d.ab==1),e(te[0].hc==3),Up(te[0],N,g,K,J,q,$),Vr(E,N,g,q,$,U)}d.C=d.Ma=g}function si(d,g,E,N,U,q,$){var K=d.$/N,J=d.$%N,te=d.m,ue=d.s,we=E+d.$,be=we;U=E+N*U;var ge=E+N*q,Ne=280+ue.ua,Ce=d.Pb?K:16777216,ce=0<ue.ua?ue.Wa:null,fe=ue.wc,Ae=we<ge?Fn(ue,J,K):null;e(d.C<q),e(ge<=U);var Re=!1;e:for(;;){for(;Re||we<ge;){var Ie=0;if(K>=Ce){var Je=we-E;e((Ce=d).Pb),Ce.wd=Ce.m,Ce.xd=Je,0<Ce.s.ua&&_e(Ce.s.Wa,Ce.s.vb),Ce=K+WI}if(J&fe||(Ae=Fn(ue,J,K)),e(Ae!=null),Ae.Qb&&(g[we]=Ae.qb,Re=!0),!Re)if(ae(te),Ae.jc){Ie=te,Je=g;var We=we,dt=Ae.pd[Y(Ie)&Ar-1];e(Ae.jc),256>dt.g?(Q(Ie,Ie.u+dt.g),Je[We]=dt.value,Ie=0):(Q(Ie,Ie.u+dt.g-256),e(256<=dt.value),Ie=dt.value),Ie==0&&(Re=!0)}else Ie=ir(Ae.G[0],Ae.H[0],te);if(te.h)break;if(Re||256>Ie){if(!Re)if(Ae.nd)g[we]=(Ae.qb|Ie<<8)>>>0;else{if(ae(te),Re=ir(Ae.G[1],Ae.H[1],te),ae(te),Je=ir(Ae.G[2],Ae.H[2],te),We=ir(Ae.G[3],Ae.H[3],te),te.h)break;g[we]=(We<<24|Re<<16|Ie<<8|Je)>>>0}if(Re=!1,++we,++J>=N&&(J=0,++K,$!=null&&K<=q&&!(K%16)&&$(d,K),ce!=null))for(;be<we;)Ie=g[be++],ce.X[(506832829*Ie&4294967295)>>>ce.Mb]=Ie}else if(280>Ie){if(Ie=at(Ie-256,te),Je=ir(Ae.G[4],Ae.H[4],te),ae(te),Je=Br(N,Je=at(Je,te)),te.h)break;if(we-E<Je||U-we<Ie)break e;for(We=0;We<Ie;++We)g[we+We]=g[we+We-Je];for(we+=Ie,J+=Ie;J>=N;)J-=N,++K,$!=null&&K<=q&&!(K%16)&&$(d,K);if(e(we<=U),J&fe&&(Ae=Fn(ue,J,K)),ce!=null)for(;be<we;)Ie=g[be++],ce.X[(506832829*Ie&4294967295)>>>ce.Mb]=Ie}else{if(!(Ie<Ne))break e;for(Re=Ie-280,e(ce!=null);be<we;)Ie=g[be++],ce.X[(506832829*Ie&4294967295)>>>ce.Mb]=Ie;Ie=we,e(!(Re>>>(Je=ce).Xa)),g[Ie]=Je.X[Re],Re=!0}Re||e(te.h==ee(te))}if(d.Pb&&te.h&&we<U)e(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&_e(d.s.vb,d.s.Wa);else{if(te.h)break e;$!=null&&$(d,K>q?q:K),d.a=0,d.$=we-E}return 1}return d.a=3,0}function oi(d){e(d!=null),d.vc=null,d.yc=null,d.Ya=null;var g=d.Wa;g!=null&&(g.X=null),d.vb=null,e(d!=null)}function Hn(){var d=new Fc;return d==null?null:(d.a=0,d.xb=$b,Cr("Predictor","VP8LPredictors"),Cr("Predictor","VP8LPredictors_C"),Cr("PredictorAdd","VP8LPredictorsAdd"),Cr("PredictorAdd","VP8LPredictorsAdd_C"),Vp=ct,Lu=lt,xi=He,li=En,nl=At,Ko=Lr,Qo=jt,x.VP8LMapColor32b=zc,x.VP8LMapColor8b=zp,d)}function Oi(d,g,E,N,U){var q=1,$=[d],K=[g],J=N.m,te=N.s,ue=null,we=0;e:for(;;){if(E)for(;q&&ie(J,1);){var be=$,ge=K,Ne=N,Ce=1,ce=Ne.m,fe=Ne.gc[Ne.ab],Ae=ie(ce,2);if(Ne.Oc&1<<Ae)q=0;else{switch(Ne.Oc|=1<<Ae,fe.hc=Ae,fe.Ea=be[0],fe.nc=ge[0],fe.K=[null],++Ne.ab,e(4>=Ne.ab),Ae){case 0:case 1:fe.b=ie(ce,3)+2,Ce=Oi(tt(fe.Ea,fe.b),tt(fe.nc,fe.b),0,Ne,fe.K),fe.K=fe.K[0];break;case 3:var Re,Ie=ie(ce,8)+1,Je=16<Ie?0:4<Ie?1:2<Ie?2:3;if(be[0]=tt(fe.Ea,Je),fe.b=Je,Re=Ce=Oi(Ie,1,0,Ne,fe.K)){var We,dt=Ie,Ge=fe,Xt=1<<(8>>Ge.b),ln=s(Xt);if(ln==null)Re=0;else{var Wt=Ge.K[0],Vt=Ge.w;for(ln[0]=Ge.K[0][0],We=1;We<1*dt;++We)ln[We]=Fe(Wt[Vt+We],ln[We-1]);for(;We<4*Xt;++We)ln[We]=0;Ge.K[0]=null,Ge.K[0]=ln,Re=1}}Ce=Re;break;case 2:break;default:e(0)}q=Ce}}if($=$[0],K=K[0],q&&ie(J,1)&&!(q=1<=(we=ie(J,4))&&11>=we)){N.a=3;break e}var vn;if(vn=q)t:{var mn,Tt,or,Si=N,ar=$,ki=K,un=we,Ui=E,zi=Si.m,wr=Si.s,Ir=[null],ci=1,os=0,co=HI[un];n:for(;;){if(Ui&&ie(zi,1)){var br=ie(zi,3)+2,ea=tt(ar,br),Iu=tt(ki,br),Yc=ea*Iu;if(!Oi(ea,Iu,0,Si,Ir))break n;for(Ir=Ir[0],wr.xc=br,mn=0;mn<Yc;++mn){var al=Ir[mn]>>8&65535;Ir[mn]=al,al>=ci&&(ci=al+1)}}if(zi.h)break n;for(Tt=0;5>Tt;++Tt){var Bn=zb[Tt];!Tt&&0<un&&(Bn+=1<<un),os<Bn&&(os=Bn)}var iy=o(ci*co,I),Xb=ci,Zb=o(Xb,W);if(Zb==null)var em=null;else e(65536>=Xb),em=Zb;var jh=s(os);if(em==null||jh==null||iy==null){Si.a=1;break n}var tm=iy;for(mn=or=0;mn<ci;++mn){var Is=em[mn],Gc=Is.G,Kc=Is.H,e_=0,nm=1,t_=0;for(Tt=0;5>Tt;++Tt){Bn=zb[Tt],Gc[Tt]=tm,Kc[Tt]=or,!Tt&&0<un&&(Bn+=1<<un);i:{var rm,sy=Bn,im=Si,Bh=jh,hN=tm,fN=or,oy=0,ll=im.m,pN=ie(ll,1);if(i(Bh,0,0,sy),pN){var mN=ie(ll,1)+1,gN=ie(ll,1),n_=ie(ll,gN==0?1:8);Bh[n_]=1,mN==2&&(Bh[n_=ie(ll,8)]=1);var sm=1}else{var r_=s(19),i_=ie(ll,4)+4;if(19<i_){im.a=3;var om=0;break i}for(rm=0;rm<i_;++rm)r_[qI[rm]]=ie(ll,3);var ay=void 0,Vh=void 0,s_=im,vN=r_,am=sy,o_=Bh,ly=0,ul=s_.m,a_=8,l_=o(128,I);r:for(;C(l_,0,7,vN,19);){if(ie(ul,1)){var yN=2+2*ie(ul,3);if((ay=2+ie(ul,yN))>am)break r}else ay=am;for(Vh=0;Vh<am&&ay--;){ae(ul);var u_=l_[0+(127&Y(ul))];Q(ul,ul.u+u_.g);var Qc=u_.value;if(16>Qc)o_[Vh++]=Qc,Qc!=0&&(a_=Qc);else{var wN=Qc==16,c_=Qc-16,bN=UI[c_],d_=ie(ul,VI[c_])+bN;if(Vh+d_>am)break r;for(var _N=wN?a_:0;0<d_--;)o_[Vh++]=_N}}ly=1;break r}ly||(s_.a=3),sm=ly}(sm=sm&&!ll.h)&&(oy=C(hN,fN,8,Bh,sy)),sm&&oy!=0?om=oy:(im.a=3,om=0)}if(om==0)break n;if(nm&&zI[Tt]==1&&(nm=tm[or].g==0),e_+=tm[or].g,or+=om,3>=Tt){var Uh,uy=jh[0];for(Uh=1;Uh<Bn;++Uh)jh[Uh]>uy&&(uy=jh[Uh]);t_+=uy}}if(Is.nd=nm,Is.Qb=0,nm&&(Is.qb=(Gc[3][Kc[3]+0].value<<24|Gc[1][Kc[1]+0].value<<16|Gc[2][Kc[2]+0].value)>>>0,e_==0&&256>Gc[0][Kc[0]+0].value&&(Is.Qb=1,Is.qb+=Gc[0][Kc[0]+0].value<<8)),Is.jc=!Is.Qb&&6>t_,Is.jc){var lm,ta=Is;for(lm=0;lm<Ar;++lm){var cl=lm,dl=ta.pd[cl],um=ta.G[0][ta.H[0]+cl];256<=um.value?(dl.g=um.g+256,dl.value=um.value):(dl.g=0,dl.value=0,cl>>=$n(um,8,dl),cl>>=$n(ta.G[1][ta.H[1]+cl],16,dl),cl>>=$n(ta.G[2][ta.H[2]+cl],0,dl),$n(ta.G[3][ta.H[3]+cl],24,dl))}}}wr.vc=Ir,wr.Wb=ci,wr.Ya=em,wr.yc=iy,vn=1;break t}vn=0}if(!(q=vn)){N.a=3;break e}if(0<we){if(te.ua=1<<we,!st(te.Wa,we)){N.a=1,q=0;break e}}else te.ua=0;var cy=N,h_=$,EN=K,dy=cy.s,hy=dy.xc;if(cy.c=h_,cy.i=EN,dy.md=tt(h_,hy),dy.wc=hy==0?-1:(1<<hy)-1,E){N.xb=ZI;break e}if((ue=s($*K))==null){N.a=1,q=0;break e}q=(q=si(N,ue,0,$,K,K,null))&&!J.h;break e}return q?(U!=null?U[0]=ue:(e(ue==null),e(E)),N.$=0,E||oi(te)):oi(te),q}function Xs(d,g){var E=d.c*d.i,N=E+g+16*g;return e(d.c<=g),d.V=s(N),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+E+g,1)}function Zs(d,g){var E=d.C,N=g-E,U=d.V,q=d.Ba+d.c*E;for(e(g<=d.l.o);0<N;){var $=16<N?16:N,K=d.l.ma,J=d.l.width,te=J*$,ue=K.ca,we=K.tb+J*E,be=d.Ta,ge=d.Ua;sr(d,$,U,q),Yn(be,ge,ue,we,te),Vr(K,E,E+$,ue,we,J),N-=$,U+=$*d.c,E+=$}e(E==g),d.C=d.Ma=g}function eo(){this.ub=this.yd=this.td=this.Rb=0}function jo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Bo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Cc(){this.Yb=function(){var d=[];return function g(E,N,U){for(var q=U[N],$=0;$<q&&(E.push(U.length>N+1?[]:0),!(U.length<N+1));$++)g(E[$],N+1,U)}(d,0,[3,11]),d}()}function ja(){this.jb=s(3),this.Wc=a([4,8],Cc),this.Xc=a([4,17],Cc)}function Tc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function to(){this.ld=this.La=this.dd=this.tc=0}function no(){this.Na=this.la=0}function Es(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Vo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Sh(){this.uc=this.M=this.Nb=0,this.wa=Array(new to),this.Y=0,this.ya=Array(new Vo),this.aa=0,this.l=new Uo}function hu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Pc(){this.cb=this.a=0,this.sc="",this.m=new ye,this.Od=new eo,this.Kc=new jo,this.ed=new Tc,this.Qa=new Bo,this.Ic=this.$c=this.Aa=0,this.D=new Sh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ye),this.ia=0,this.pb=o(4,Es),this.Pa=new ja,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new hu),this.Hd=0,this.rb=Array(new no),this.sb=0,this.wa=Array(new to),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Vo),this.L=this.aa=0,this.gd=a([4,2],to),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Uo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function fu(){var d=new Pc;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,Oh||(Oh=Ac)),d}function Sn(d,g,E){return d.a==0&&(d.a=g,d.sc=E,d.cb=0),0}function pu(d,g,E){return 3<=E&&d[g+0]==157&&d[g+1]==1&&d[g+2]==42}function mu(d,g){if(d==null)return 0;if(d.a=0,d.sc="OK",g==null)return Sn(d,2,"null VP8Io passed to VP8GetHeaders()");var E=g.data,N=g.w,U=g.ha;if(4>U)return Sn(d,7,"Truncated header.");var q=E[N+0]|E[N+1]<<8|E[N+2]<<16,$=d.Od;if($.Rb=!(1&q),$.td=q>>1&7,$.yd=q>>4&1,$.ub=q>>5,3<$.td)return Sn(d,3,"Incorrect keyframe parameters.");if(!$.yd)return Sn(d,4,"Frame not displayable.");N+=3,U-=3;var K=d.Kc;if($.Rb){if(7>U)return Sn(d,7,"cannot parse picture header");if(!pu(E,N,U))return Sn(d,3,"Bad code word");K.c=16383&(E[N+4]<<8|E[N+3]),K.Td=E[N+4]>>6,K.i=16383&(E[N+6]<<8|E[N+5]),K.Ud=E[N+6]>>6,N+=7,U-=7,d.za=K.c+15>>4,d.Ub=K.i+15>>4,g.width=K.c,g.height=K.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((q=d.Pa).jb,0,255,q.jb.length),e((q=d.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,i(q.Zb,0,0,q.Zb.length),i(q.Lb,0,0,q.Lb)}if($.ub>U)return Sn(d,7,"bad partition length");Z(q=d.m,E,N,$.ub),N+=$.ub,U-=$.ub,$.Rb&&(K.Ld=he(q),K.Kd=he(q)),K=d.Qa;var J,te=d.Pa;if(e(q!=null),e(K!=null),K.Cb=he(q),K.Cb){if(K.Bb=he(q),he(q)){for(K.Fb=he(q),J=0;4>J;++J)K.Zb[J]=he(q)?re(q,7):0;for(J=0;4>J;++J)K.Lb[J]=he(q)?re(q,6):0}if(K.Bb)for(J=0;3>J;++J)te.jb[J]=he(q)?X(q,8):255}else K.Bb=0;if(q.Ka)return Sn(d,3,"cannot parse segment header");if((K=d.ed).zd=he(q),K.Tb=X(q,6),K.wb=X(q,3),K.Pc=he(q),K.Pc&&he(q)){for(te=0;4>te;++te)he(q)&&(K.vd[te]=re(q,6));for(te=0;4>te;++te)he(q)&&(K.od[te]=re(q,6))}if(d.L=K.Tb==0?0:K.zd?1:2,q.Ka)return Sn(d,3,"cannot parse filter header");var ue=U;if(U=J=N,N=J+ue,K=ue,d.Xb=(1<<X(d.m,2))-1,ue<3*(te=d.Xb))E=7;else{for(J+=3*te,K-=3*te,ue=0;ue<te;++ue){var we=E[U+0]|E[U+1]<<8|E[U+2]<<16;we>K&&(we=K),Z(d.Jc[+ue],E,J,we),J+=we,K-=we,U+=3}Z(d.Jc[+te],E,J,K),E=J<N?0:5}if(E!=0)return Sn(d,E,"cannot parse partitions");for(E=X(J=d.m,7),U=he(J)?re(J,4):0,N=he(J)?re(J,4):0,K=he(J)?re(J,4):0,te=he(J)?re(J,4):0,J=he(J)?re(J,4):0,ue=d.Qa,we=0;4>we;++we){if(ue.Cb){var be=ue.Zb[we];ue.Fb||(be+=E)}else{if(0<we){d.pb[we]=d.pb[0];continue}be=E}var ge=d.pb[we];ge.Sc[0]=ty[tn(be+U,127)],ge.Sc[1]=ny[tn(be+0,127)],ge.Eb[0]=2*ty[tn(be+N,127)],ge.Eb[1]=101581*ny[tn(be+K,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=ty[tn(be+te,117)],ge.Qc[1]=ny[tn(be+J,127)],ge.lc=be+J}if(!$.Rb)return Sn(d,4,"Not a key frame.");for(he(q),$=d.Pa,E=0;4>E;++E){for(U=0;8>U;++U)for(N=0;3>N;++N)for(K=0;11>K;++K)te=ve(q,JI[E][U][N][K])?X(q,8):KI[E][U][N][K],$.Wc[E][U].Yb[N][K]=te;for(U=0;17>U;++U)$.Xc[E][U]=$.Wc[E][XI[U]]}return d.kc=he(q),d.kc&&(d.Bd=X(q,8)),d.cb=1}function Ac(d,g,E,N,U,q,$){var K=g[U].Yb[E];for(E=0;16>U;++U){if(!ve(d,K[E+0]))return U;for(;!ve(d,K[E+1]);)if(K=g[++U].Yb[0],E=0,U==16)return 16;var J=g[U+1].Yb;if(ve(d,K[E+2])){var te=d,ue=0;if(ve(te,(be=K)[(we=E)+3]))if(ve(te,be[we+6])){for(K=0,we=2*(ue=ve(te,be[we+8]))+(be=ve(te,be[we+9+ue])),ue=0,be=YI[we];be[K];++K)ue+=ue+ve(te,be[K]);ue+=3+(8<<we)}else ve(te,be[we+7])?(ue=7+2*ve(te,165),ue+=ve(te,145)):ue=5+ve(te,159);else ue=ve(te,be[we+4])?3+ve(te,be[we+5]):2;K=J[2]}else ue=1,K=J[1];J=$+GI[U],0>(te=d).b&&de(te);var we,be=te.b,ge=(we=te.Ca>>1)-(te.I>>be)>>31;--te.b,te.Ca+=ge,te.Ca|=1,te.I-=(we+1&ge)<<be,q[J]=((ue^ge)-ge)*N[(0<U)+0]}return 16}function gu(d){var g=d.rb[d.sb-1];g.la=0,g.Na=0,i(d.zc,0,0,d.zc.length),d.ja=0}function Ic(d,g){if(d==null)return 0;if(g==null)return Sn(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!mu(d,g))return 0;if(e(d.cb),g.ac==null||g.ac(g)){g.ob&&(d.L=0);var E=Zp[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=g.v-E>>4,d.zb=g.j-E>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=g.o+15+E>>4,d.Hb=g.va+15+E>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var N=d.ed;for(E=0;4>E;++E){var U;if(d.Qa.Cb){var q=d.Qa.Lb[E];d.Qa.Fb||(q+=N.Tb)}else q=N.Tb;for(U=0;1>=U;++U){var $=d.gd[E][U],K=q;if(N.Pc&&(K+=N.vd[0],U&&(K+=N.od[0])),0<(K=0>K?0:63<K?63:K)){var J=K;0<N.wb&&(J=4<N.wb?J>>2:J>>1)>9-N.wb&&(J=9-N.wb),1>J&&(J=1),$.dd=J,$.tc=2*K+J,$.ld=40<=K?2:15<=K?1:0}else $.tc=0;$.La=U}}}E=0}else Sn(d,6,"Frame setup failed"),E=d.a;if(E=E==0){if(E){d.$c=0,0<d.Aa||(d.Ic=dN);e:{E=d.Ic,N=4*(J=d.za);var te=32*J,ue=J+1,we=0<d.L?J*(0<d.Aa?2:1):0,be=(d.Aa==2?2:1)*J;if(($=N+832+(U=3*(16*E+Zp[d.L])/2*te)+(q=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=$)E=0;else{if($>d.Vb){if(d.Vb=0,d.Ec=s($),d.Fc=0,d.Ec==null){E=Sn(d,1,"no memory during frame initialization.");break e}d.Vb=$}$=d.Ec,K=d.Fc,d.Ac=$,d.Bc=K,K+=N,d.Gd=o(te,hu),d.Hd=0,d.rb=o(ue+1,no),d.sb=1,d.wa=we?o(we,to):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=J),e(!0),d.oc=$,d.pc=K,K+=832,d.ya=o(be,Vo),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=J),d.R=16*J,d.B=8*J,J=(te=Zp[d.L])*d.R,te=te/2*d.B,d.sa=$,d.ta=K+J,d.qa=d.sa,d.ra=d.ta+16*E*d.R+te,d.Ha=d.qa,d.Ia=d.ra+8*E*d.B+te,d.$c=0,K+=U,d.mb=q?$:null,d.nb=q?K:null,e(K+q<=d.Fc+d.Vb),gu(d),i(d.Ac,d.Bc,0,N),E=1}}if(E){if(g.ka=0,g.y=d.sa,g.O=d.ta,g.f=d.qa,g.N=d.ra,g.ea=d.Ha,g.Vd=d.Ia,g.fa=d.R,g.Rc=d.B,g.F=null,g.J=0,!$p){for(E=-255;255>=E;++E)hr[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)Xo[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)Mh[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)Wc[255+E]=0>E?0:255<E?255:E;$p=1}qc=$o,Jo=Va,Nh=vu,ui=an,ts=qo,Wn=zo,$c=Ya,qp=Cs,Dh=Ka,Cu=ku,Tu=Ga,rl=Wo,Pu=Qa,Hc=oo,Au=Ho,il=Bi,Rh=dr,ns=Oc,As[0]=Zi,As[1]=kh,As[2]=io,As[3]=Ch,As[4]=Rc,As[5]=qa,As[6]=Fi,As[7]=wu,As[8]=Ha,As[9]=$a,sl[0]=ro,sl[1]=Lh,sl[2]=Ss,sl[3]=Ua,sl[4]=kn,sl[5]=Dc,sl[6]=yu,Zo[0]=Ls,Zo[1]=Nc,Zo[2]=Mc,Zo[3]=ks,Zo[4]=en,Zo[5]=bu,Zo[6]=_u,E=1}else E=0}E&&(E=function(ge,Ne){for(ge.M=0;ge.M<ge.Va;++ge.M){var Ce,ce=ge.Jc[ge.M&ge.Xb],fe=ge.m,Ae=ge;for(Ce=0;Ce<Ae.za;++Ce){var Re=fe,Ie=Ae,Je=Ie.Ac,We=Ie.Bc+4*Ce,dt=Ie.zc,Ge=Ie.ya[Ie.aa+Ce];if(Ie.Qa.Bb?Ge.$b=ve(Re,Ie.Pa.jb[0])?2+ve(Re,Ie.Pa.jb[2]):ve(Re,Ie.Pa.jb[1]):Ge.$b=0,Ie.kc&&(Ge.Ad=ve(Re,Ie.Bd)),Ge.Za=!ve(Re,145)+0,Ge.Za){var Xt=Ge.Ob,ln=0;for(Ie=0;4>Ie;++Ie){var Wt,Vt=dt[0+Ie];for(Wt=0;4>Wt;++Wt){Vt=QI[Je[We+Wt]][Vt];for(var vn=qb[ve(Re,Vt[0])];0<vn;)vn=qb[2*vn+ve(Re,Vt[vn])];Vt=-vn,Je[We+Wt]=Vt}r(Xt,ln,Je,We,4),ln+=4,dt[0+Ie]=Vt}}else Vt=ve(Re,156)?ve(Re,128)?1:3:ve(Re,163)?2:0,Ge.Ob[0]=Vt,i(Je,We,Vt,4),i(dt,0,Vt,4);Ge.Dd=ve(Re,142)?ve(Re,114)?ve(Re,183)?1:3:2:0}if(Ae.m.Ka)return Sn(ge,7,"Premature end-of-partition0 encountered.");for(;ge.ja<ge.za;++ge.ja){if(Ae=ce,Re=(fe=ge).rb[fe.sb-1],Je=fe.rb[fe.sb+fe.ja],Ce=fe.ya[fe.aa+fe.ja],We=fe.kc?Ce.Ad:0)Re.la=Je.la=0,Ce.Za||(Re.Na=Je.Na=0),Ce.Hc=0,Ce.Gc=0,Ce.ia=0;else{var mn,Tt;if(Re=Je,Je=Ae,We=fe.Pa.Xc,dt=fe.ya[fe.aa+fe.ja],Ge=fe.pb[dt.$b],Ie=dt.ad,Xt=0,ln=fe.rb[fe.sb-1],Vt=Wt=0,i(Ie,Xt,0,384),dt.Za)var or=0,Si=We[3];else{vn=s(16);var ar=Re.Na+ln.Na;if(ar=Oh(Je,We[1],ar,Ge.Eb,0,vn,0),Re.Na=ln.Na=(0<ar)+0,1<ar)qc(vn,0,Ie,Xt);else{var ki=vn[0]+3>>3;for(vn=0;256>vn;vn+=16)Ie[Xt+vn]=ki}or=1,Si=We[0]}var un=15&Re.la,Ui=15&ln.la;for(vn=0;4>vn;++vn){var zi=1&Ui;for(ki=Tt=0;4>ki;++ki)un=un>>1|(zi=(ar=Oh(Je,Si,ar=zi+(1&un),Ge.Sc,or,Ie,Xt))>or)<<7,Tt=Tt<<2|(3<ar?3:1<ar?2:Ie[Xt+0]!=0),Xt+=16;un>>=4,Ui=Ui>>1|zi<<7,Wt=(Wt<<8|Tt)>>>0}for(Si=un,or=Ui>>4,mn=0;4>mn;mn+=2){for(Tt=0,un=Re.la>>4+mn,Ui=ln.la>>4+mn,vn=0;2>vn;++vn){for(zi=1&Ui,ki=0;2>ki;++ki)ar=zi+(1&un),un=un>>1|(zi=0<(ar=Oh(Je,We[2],ar,Ge.Qc,0,Ie,Xt)))<<3,Tt=Tt<<2|(3<ar?3:1<ar?2:Ie[Xt+0]!=0),Xt+=16;un>>=2,Ui=Ui>>1|zi<<5}Vt|=Tt<<4*mn,Si|=un<<4<<mn,or|=(240&Ui)<<mn}Re.la=Si,ln.la=or,dt.Hc=Wt,dt.Gc=Vt,dt.ia=43690&Vt?0:Ge.ia,We=!(Wt|Vt)}if(0<fe.L&&(fe.wa[fe.Y+fe.ja]=fe.gd[Ce.$b][Ce.Za],fe.wa[fe.Y+fe.ja].La|=!We),Ae.Ka)return Sn(ge,7,"Premature end-of-file encountered.")}if(gu(ge),fe=Ne,Ae=1,Ce=(ce=ge).D,Re=0<ce.L&&ce.M>=ce.zb&&ce.M<=ce.Va,ce.Aa==0)e:{if(Ce.M=ce.M,Ce.uc=Re,lo(ce,Ce),Ae=1,Ce=(Tt=ce.D).Nb,Re=(Vt=Zp[ce.L])*ce.R,Je=Vt/2*ce.B,vn=16*Ce*ce.R,ki=8*Ce*ce.B,We=ce.sa,dt=ce.ta-Re+vn,Ge=ce.qa,Ie=ce.ra-Je+ki,Xt=ce.Ha,ln=ce.Ia-Je+ki,Ui=(un=Tt.M)==0,Wt=un>=ce.Va-1,ce.Aa==2&&lo(ce,Tt),Tt.uc)for(zi=(ar=ce).D.M,e(ar.D.uc),Tt=ar.yb;Tt<ar.Hb;++Tt){or=Tt,Si=zi;var wr=(Ir=(Bn=ar).D).Nb;mn=Bn.R;var Ir=Ir.wa[Ir.Y+or],ci=Bn.sa,os=Bn.ta+16*wr*mn+16*or,co=Ir.dd,br=Ir.tc;if(br!=0)if(e(3<=br),Bn.L==1)0<or&&il(ci,os,mn,br+4),Ir.La&&ns(ci,os,mn,br),0<Si&&Au(ci,os,mn,br+4),Ir.La&&Rh(ci,os,mn,br);else{var ea=Bn.B,Iu=Bn.qa,Yc=Bn.ra+8*wr*ea+8*or,al=Bn.Ha,Bn=Bn.Ia+8*wr*ea+8*or;wr=Ir.ld,0<or&&(qp(ci,os,mn,br+4,co,wr),Cu(Iu,Yc,al,Bn,ea,br+4,co,wr)),Ir.La&&(rl(ci,os,mn,br,co,wr),Hc(Iu,Yc,al,Bn,ea,br,co,wr)),0<Si&&($c(ci,os,mn,br+4,co,wr),Dh(Iu,Yc,al,Bn,ea,br+4,co,wr)),Ir.La&&(Tu(ci,os,mn,br,co,wr),Pu(Iu,Yc,al,Bn,ea,br,co,wr))}}if(ce.ia&&alert("todo:DitherRow"),fe.put!=null){if(Tt=16*un,un=16*(un+1),Ui?(fe.y=ce.sa,fe.O=ce.ta+vn,fe.f=ce.qa,fe.N=ce.ra+ki,fe.ea=ce.Ha,fe.W=ce.Ia+ki):(Tt-=Vt,fe.y=We,fe.O=dt,fe.f=Ge,fe.N=Ie,fe.ea=Xt,fe.W=ln),Wt||(un-=Vt),un>fe.o&&(un=fe.o),fe.F=null,fe.J=null,ce.Fa!=null&&0<ce.Fa.length&&Tt<un&&(fe.J=el(ce,fe,Tt,un-Tt),fe.F=ce.mb,fe.F==null&&fe.F.length==0)){Ae=Sn(ce,3,"Could not decode alpha data.");break e}Tt<fe.j&&(Vt=fe.j-Tt,Tt=fe.j,e(!(1&Vt)),fe.O+=ce.R*Vt,fe.N+=ce.B*(Vt>>1),fe.W+=ce.B*(Vt>>1),fe.F!=null&&(fe.J+=fe.width*Vt)),Tt<un&&(fe.O+=fe.v,fe.N+=fe.v>>1,fe.W+=fe.v>>1,fe.F!=null&&(fe.J+=fe.v),fe.ka=Tt-fe.j,fe.U=fe.va-fe.v,fe.T=un-Tt,Ae=fe.put(fe))}Ce+1!=ce.Ic||Wt||(r(ce.sa,ce.ta-Re,We,dt+16*ce.R,Re),r(ce.qa,ce.ra-Je,Ge,Ie+8*ce.B,Je),r(ce.Ha,ce.Ia-Je,Xt,ln+8*ce.B,Je))}if(!Ae)return Sn(ge,6,"Output aborted.")}return 1}(d,g)),g.bc!=null&&g.bc(g),E&=1}return E?(d.cb=0,E):0}function _i(d,g,E,N,U){U=d[g+E+32*N]+(U>>3),d[g+E+32*N]=-256&U?0>U?0:255:U}function Ba(d,g,E,N,U,q){_i(d,g,0,E,N+U),_i(d,g,1,E,N+q),_i(d,g,2,E,N-q),_i(d,g,3,E,N-U)}function jn(d){return(20091*d>>16)+d}function ai(d,g,E,N){var U,q=0,$=s(16);for(U=0;4>U;++U){var K=d[g+0]+d[g+8],J=d[g+0]-d[g+8],te=(35468*d[g+4]>>16)-jn(d[g+12]),ue=jn(d[g+4])+(35468*d[g+12]>>16);$[q+0]=K+ue,$[q+1]=J+te,$[q+2]=J-te,$[q+3]=K-ue,q+=4,g++}for(U=q=0;4>U;++U)K=(d=$[q+0]+4)+$[q+8],J=d-$[q+8],te=(35468*$[q+4]>>16)-jn($[q+12]),_i(E,N,0,0,K+(ue=jn($[q+4])+(35468*$[q+12]>>16))),_i(E,N,1,0,J+te),_i(E,N,2,0,J-te),_i(E,N,3,0,K-ue),q++,N+=32}function zo(d,g,E,N){var U=d[g+0]+4,q=35468*d[g+4]>>16,$=jn(d[g+4]),K=35468*d[g+1]>>16;Ba(E,N,0,U+$,d=jn(d[g+1]),K),Ba(E,N,1,U+q,d,K),Ba(E,N,2,U-q,d,K),Ba(E,N,3,U-$,d,K)}function Va(d,g,E,N,U){ai(d,g,E,N),U&&ai(d,g+16,E,N+4)}function vu(d,g,E,N){Jo(d,g+0,E,N,1),Jo(d,g+32,E,N+128,1)}function an(d,g,E,N){var U;for(d=d[g+0]+4,U=0;4>U;++U)for(g=0;4>g;++g)_i(E,N,g,U,d)}function qo(d,g,E,N){d[g+0]&&ui(d,g+0,E,N),d[g+16]&&ui(d,g+16,E,N+4),d[g+32]&&ui(d,g+32,E,N+128),d[g+48]&&ui(d,g+48,E,N+128+4)}function $o(d,g,E,N){var U,q=s(16);for(U=0;4>U;++U){var $=d[g+0+U]+d[g+12+U],K=d[g+4+U]+d[g+8+U],J=d[g+4+U]-d[g+8+U],te=d[g+0+U]-d[g+12+U];q[0+U]=$+K,q[8+U]=$-K,q[4+U]=te+J,q[12+U]=te-J}for(U=0;4>U;++U)$=(d=q[0+4*U]+3)+q[3+4*U],K=q[1+4*U]+q[2+4*U],J=q[1+4*U]-q[2+4*U],te=d-q[3+4*U],E[N+0]=$+K>>3,E[N+16]=te+J>>3,E[N+32]=$-K>>3,E[N+48]=te-J>>3,N+=64}function xs(d,g,E){var N,U=g-32,q=Vi,$=255-d[U-1];for(N=0;N<E;++N){var K,J=q,te=$+d[g-1];for(K=0;K<E;++K)d[g+K]=J[te+d[U+K]];g+=32}}function kh(d,g){xs(d,g,4)}function Nc(d,g){xs(d,g,8)}function Lh(d,g){xs(d,g,16)}function Ss(d,g){var E;for(E=0;16>E;++E)r(d,g+32*E,d,g-32,16)}function Ua(d,g){var E;for(E=16;0<E;--E)i(d,g,d[g-1],16),g+=32}function za(d,g,E){var N;for(N=0;16>N;++N)i(g,E+32*N,d,16)}function ro(d,g){var E,N=16;for(E=0;16>E;++E)N+=d[g-1+32*E]+d[g+E-32];za(N>>5,d,g)}function kn(d,g){var E,N=8;for(E=0;16>E;++E)N+=d[g-1+32*E];za(N>>4,d,g)}function Dc(d,g){var E,N=8;for(E=0;16>E;++E)N+=d[g+E-32];za(N>>4,d,g)}function yu(d,g){za(128,d,g)}function wt(d,g,E){return d+2*g+E+2>>2}function io(d,g){var E,N=g-32;for(N=new Uint8Array([wt(d[N-1],d[N+0],d[N+1]),wt(d[N+0],d[N+1],d[N+2]),wt(d[N+1],d[N+2],d[N+3]),wt(d[N+2],d[N+3],d[N+4])]),E=0;4>E;++E)r(d,g+32*E,N,0,N.length)}function Ch(d,g){var E=d[g-1],N=d[g-1+32],U=d[g-1+64],q=d[g-1+96];Se(d,g+0,16843009*wt(d[g-1-32],E,N)),Se(d,g+32,16843009*wt(E,N,U)),Se(d,g+64,16843009*wt(N,U,q)),Se(d,g+96,16843009*wt(U,q,q))}function Zi(d,g){var E,N=4;for(E=0;4>E;++E)N+=d[g+E-32]+d[g-1+32*E];for(N>>=3,E=0;4>E;++E)i(d,g+32*E,N,4)}function Rc(d,g){var E=d[g-1+0],N=d[g-1+32],U=d[g-1+64],q=d[g-1-32],$=d[g+0-32],K=d[g+1-32],J=d[g+2-32],te=d[g+3-32];d[g+0+96]=wt(N,U,d[g-1+96]),d[g+1+96]=d[g+0+64]=wt(E,N,U),d[g+2+96]=d[g+1+64]=d[g+0+32]=wt(q,E,N),d[g+3+96]=d[g+2+64]=d[g+1+32]=d[g+0+0]=wt($,q,E),d[g+3+64]=d[g+2+32]=d[g+1+0]=wt(K,$,q),d[g+3+32]=d[g+2+0]=wt(J,K,$),d[g+3+0]=wt(te,J,K)}function Fi(d,g){var E=d[g+1-32],N=d[g+2-32],U=d[g+3-32],q=d[g+4-32],$=d[g+5-32],K=d[g+6-32],J=d[g+7-32];d[g+0+0]=wt(d[g+0-32],E,N),d[g+1+0]=d[g+0+32]=wt(E,N,U),d[g+2+0]=d[g+1+32]=d[g+0+64]=wt(N,U,q),d[g+3+0]=d[g+2+32]=d[g+1+64]=d[g+0+96]=wt(U,q,$),d[g+3+32]=d[g+2+64]=d[g+1+96]=wt(q,$,K),d[g+3+64]=d[g+2+96]=wt($,K,J),d[g+3+96]=wt(K,J,J)}function qa(d,g){var E=d[g-1+0],N=d[g-1+32],U=d[g-1+64],q=d[g-1-32],$=d[g+0-32],K=d[g+1-32],J=d[g+2-32],te=d[g+3-32];d[g+0+0]=d[g+1+64]=q+$+1>>1,d[g+1+0]=d[g+2+64]=$+K+1>>1,d[g+2+0]=d[g+3+64]=K+J+1>>1,d[g+3+0]=J+te+1>>1,d[g+0+96]=wt(U,N,E),d[g+0+64]=wt(N,E,q),d[g+0+32]=d[g+1+96]=wt(E,q,$),d[g+1+32]=d[g+2+96]=wt(q,$,K),d[g+2+32]=d[g+3+96]=wt($,K,J),d[g+3+32]=wt(K,J,te)}function wu(d,g){var E=d[g+0-32],N=d[g+1-32],U=d[g+2-32],q=d[g+3-32],$=d[g+4-32],K=d[g+5-32],J=d[g+6-32],te=d[g+7-32];d[g+0+0]=E+N+1>>1,d[g+1+0]=d[g+0+64]=N+U+1>>1,d[g+2+0]=d[g+1+64]=U+q+1>>1,d[g+3+0]=d[g+2+64]=q+$+1>>1,d[g+0+32]=wt(E,N,U),d[g+1+32]=d[g+0+96]=wt(N,U,q),d[g+2+32]=d[g+1+96]=wt(U,q,$),d[g+3+32]=d[g+2+96]=wt(q,$,K),d[g+3+64]=wt($,K,J),d[g+3+96]=wt(K,J,te)}function $a(d,g){var E=d[g-1+0],N=d[g-1+32],U=d[g-1+64],q=d[g-1+96];d[g+0+0]=E+N+1>>1,d[g+2+0]=d[g+0+32]=N+U+1>>1,d[g+2+32]=d[g+0+64]=U+q+1>>1,d[g+1+0]=wt(E,N,U),d[g+3+0]=d[g+1+32]=wt(N,U,q),d[g+3+32]=d[g+1+64]=wt(U,q,q),d[g+3+64]=d[g+2+64]=d[g+0+96]=d[g+1+96]=d[g+2+96]=d[g+3+96]=q}function Ha(d,g){var E=d[g-1+0],N=d[g-1+32],U=d[g-1+64],q=d[g-1+96],$=d[g-1-32],K=d[g+0-32],J=d[g+1-32],te=d[g+2-32];d[g+0+0]=d[g+2+32]=E+$+1>>1,d[g+0+32]=d[g+2+64]=N+E+1>>1,d[g+0+64]=d[g+2+96]=U+N+1>>1,d[g+0+96]=q+U+1>>1,d[g+3+0]=wt(K,J,te),d[g+2+0]=wt($,K,J),d[g+1+0]=d[g+3+32]=wt(E,$,K),d[g+1+32]=d[g+3+64]=wt(N,E,$),d[g+1+64]=d[g+3+96]=wt(U,N,E),d[g+1+96]=wt(q,U,N)}function Mc(d,g){var E;for(E=0;8>E;++E)r(d,g+32*E,d,g-32,8)}function ks(d,g){var E;for(E=0;8>E;++E)i(d,g,d[g-1],8),g+=32}function ji(d,g,E){var N;for(N=0;8>N;++N)i(g,E+32*N,d,8)}function Ls(d,g){var E,N=8;for(E=0;8>E;++E)N+=d[g+E-32]+d[g-1+32*E];ji(N>>4,d,g)}function bu(d,g){var E,N=4;for(E=0;8>E;++E)N+=d[g+E-32];ji(N>>3,d,g)}function en(d,g){var E,N=4;for(E=0;8>E;++E)N+=d[g-1+32*E];ji(N>>3,d,g)}function _u(d,g){ji(128,d,g)}function Wa(d,g,E){var N=d[g-E],U=d[g+0],q=3*(U-N)+Q0[1020+d[g-2*E]-d[g+E]],$=Hp[112+(q+4>>3)];d[g-E]=Vi[255+N+Hp[112+(q+3>>3)]],d[g+0]=Vi[255+U-$]}function Eu(d,g,E,N){var U=d[g+0],q=d[g+E];return is[255+d[g-2*E]-d[g-E]]>N||is[255+q-U]>N}function xu(d,g,E,N){return 4*is[255+d[g-E]-d[g+0]]+is[255+d[g-2*E]-d[g+E]]<=N}function Su(d,g,E,N,U){var q=d[g-3*E],$=d[g-2*E],K=d[g-E],J=d[g+0],te=d[g+E],ue=d[g+2*E],we=d[g+3*E];return 4*is[255+K-J]+is[255+$-te]>N?0:is[255+d[g-4*E]-q]<=U&&is[255+q-$]<=U&&is[255+$-K]<=U&&is[255+we-ue]<=U&&is[255+ue-te]<=U&&is[255+te-J]<=U}function Ho(d,g,E,N){var U=2*N+1;for(N=0;16>N;++N)xu(d,g+N,E,U)&&Wa(d,g+N,E)}function Bi(d,g,E,N){var U=2*N+1;for(N=0;16>N;++N)xu(d,g+N*E,1,U)&&Wa(d,g+N*E,1)}function dr(d,g,E,N){var U;for(U=3;0<U;--U)Ho(d,g+=4*E,E,N)}function Oc(d,g,E,N){var U;for(U=3;0<U;--U)Bi(d,g+=4,E,N)}function so(d,g,E,N,U,q,$,K){for(q=2*q+1;0<U--;){if(Su(d,g,E,q,$))if(Eu(d,g,E,K))Wa(d,g,E);else{var J=d,te=g,ue=E,we=J[te-2*ue],be=J[te-ue],ge=J[te+0],Ne=J[te+ue],Ce=J[te+2*ue],ce=27*(Ae=Q0[1020+3*(ge-be)+Q0[1020+we-Ne]])+63>>7,fe=18*Ae+63>>7,Ae=9*Ae+63>>7;J[te-3*ue]=Vi[255+J[te-3*ue]+Ae],J[te-2*ue]=Vi[255+we+fe],J[te-ue]=Vi[255+be+ce],J[te+0]=Vi[255+ge-ce],J[te+ue]=Vi[255+Ne-fe],J[te+2*ue]=Vi[255+Ce-Ae]}g+=N}}function Tr(d,g,E,N,U,q,$,K){for(q=2*q+1;0<U--;){if(Su(d,g,E,q,$))if(Eu(d,g,E,K))Wa(d,g,E);else{var J=d,te=g,ue=E,we=J[te-ue],be=J[te+0],ge=J[te+ue],Ne=Hp[112+((Ce=3*(be-we))+4>>3)],Ce=Hp[112+(Ce+3>>3)],ce=Ne+1>>1;J[te-2*ue]=Vi[255+J[te-2*ue]+ce],J[te-ue]=Vi[255+we+Ce],J[te+0]=Vi[255+be-Ne],J[te+ue]=Vi[255+ge-ce]}g+=N}}function Ya(d,g,E,N,U,q){so(d,g,E,1,16,N,U,q)}function Cs(d,g,E,N,U,q){so(d,g,1,E,16,N,U,q)}function Ga(d,g,E,N,U,q){var $;for($=3;0<$;--$)Tr(d,g+=4*E,E,1,16,N,U,q)}function Wo(d,g,E,N,U,q){var $;for($=3;0<$;--$)Tr(d,g+=4,1,E,16,N,U,q)}function Ka(d,g,E,N,U,q,$,K){so(d,g,U,1,8,q,$,K),so(E,N,U,1,8,q,$,K)}function ku(d,g,E,N,U,q,$,K){so(d,g,1,U,8,q,$,K),so(E,N,1,U,8,q,$,K)}function Qa(d,g,E,N,U,q,$,K){Tr(d,g+4*U,U,1,8,q,$,K),Tr(E,N+4*U,U,1,8,q,$,K)}function oo(d,g,E,N,U,q,$,K){Tr(d,g+4,1,U,8,q,$,K),Tr(E,N+4,1,U,8,q,$,K)}function Yo(){this.ba=new rr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Jt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ja(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Go(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Xa(){this.ua=0,this.Wa=new oe,this.vb=new oe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new I}function Fc(){this.xb=this.a=0,this.l=new Uo,this.ca=new rr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Xa,this.ab=0,this.gc=o(4,Go),this.Oc=0}function Ts(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Uo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ao(d,g,E,N,U,q,$){for(d=d==null?0:d[g+0],g=0;g<$;++g)U[q+g]=d+E[N+g]&255,d=U[q+g]}function Za(d,g,E,N,U,q,$){var K;if(d==null)ao(null,null,E,N,U,q,$);else for(K=0;K<$;++K)U[q+K]=d[g+K]+E[N+K]&255}function Ur(d,g,E,N,U,q,$){if(d==null)ao(null,null,E,N,U,q,$);else{var K,J=d[g+0],te=J,ue=J;for(K=0;K<$;++K)te=ue+(J=d[g+K])-te,ue=E[N+K]+(-256&te?0>te?0:255:te)&255,te=J,U[q+K]=ue}}function el(d,g,E,N){var U=g.width,q=g.o;if(e(d!=null&&g!=null),0>E||0>=N||E+N>q)return null;if(!d.Cc){if(d.ga==null){var $;if(d.ga=new Ts,($=d.ga==null)||($=g.width*g.o,e(d.Gb.length==0),d.Gb=s($),d.Uc=0,d.Gb==null?$=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,$=1),$=!$),!$){$=d.ga;var K=d.Fa,J=d.P,te=d.qc,ue=d.mb,we=d.nb,be=J+1,ge=te-1,Ne=$.l;if(e(K!=null&&ue!=null&&g!=null),ol[0]=null,ol[1]=ao,ol[2]=Za,ol[3]=Ur,$.ca=ue,$.tb=we,$.c=g.width,$.i=g.height,e(0<$.c&&0<$.i),1>=te)g=0;else if($.$a=K[J+0]>>0&3,$.Z=K[J+0]>>2&3,$.Lc=K[J+0]>>4&3,J=K[J+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||J)g=0;else if(Ne.put=cr,Ne.ac=xn,Ne.bc=ii,Ne.ma=$,Ne.width=g.width,Ne.height=g.height,Ne.Da=g.Da,Ne.v=g.v,Ne.va=g.va,Ne.j=g.j,Ne.o=g.o,$.$a)e:{e($.$a==1),g=Hn();t:for(;;){if(g==null){g=0;break e}if(e($!=null),$.mc=g,g.c=$.c,g.i=$.i,g.l=$.l,g.l.ma=$,g.l.width=$.c,g.l.height=$.i,g.a=0,z(g.m,K,be,ge),!Oi($.c,$.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&_s(g.s)?($.ic=1,K=g.c*g.i,g.Ta=null,g.Ua=0,g.V=s(K),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):($.ic=0,g=Xs(g,$.c)),!g))break t;g=1;break e}$.mc=null,g=0}else g=ge>=$.c*$.i;$=!g}if($)return null;d.ga.Lc!=1?d.Ga=0:N=q-E}e(d.ga!=null),e(E+N<=q);e:{if(g=(K=d.ga).c,q=K.l.o,K.$a==0){if(be=d.rc,ge=d.Vc,Ne=d.Fa,J=d.P+1+E*g,te=d.mb,ue=d.nb+E*g,e(J<=d.P+d.qc),K.Z!=0)for(e(ol[K.Z]!=null),$=0;$<N;++$)ol[K.Z](be,ge,Ne,J,te,ue,g),be=te,ge=ue,ue+=g,J+=g;else for($=0;$<N;++$)r(te,ue,Ne,J,g),be=te,ge=ue,ue+=g,J+=g;d.rc=be,d.Vc=ge}else{if(e(K.mc!=null),g=E+N,e(($=K.mc)!=null),e(g<=$.i),$.C>=g)g=1;else if(K.ic||me(),K.ic){K=$.V,be=$.Ba,ge=$.c;var Ce=$.i,ce=(Ne=1,J=$.$/ge,te=$.$%ge,ue=$.m,we=$.s,$.$),fe=ge*Ce,Ae=ge*g,Re=we.wc,Ie=ce<Ae?Fn(we,te,J):null;e(ce<=fe),e(g<=Ce),e(_s(we));t:for(;;){for(;!ue.h&&ce<Ae;){if(te&Re||(Ie=Fn(we,te,J)),e(Ie!=null),ae(ue),256>(Ce=ir(Ie.G[0],Ie.H[0],ue)))K[be+ce]=Ce,++ce,++te>=ge&&(te=0,++J<=g&&!(J%16)&&bi($,J));else{if(!(280>Ce)){Ne=0;break t}Ce=at(Ce-256,ue);var Je,We=ir(Ie.G[4],Ie.H[4],ue);if(ae(ue),!(ce>=(We=Br(ge,We=at(We,ue)))&&fe-ce>=Ce)){Ne=0;break t}for(Je=0;Je<Ce;++Je)K[be+ce+Je]=K[be+ce+Je-We];for(ce+=Ce,te+=Ce;te>=ge;)te-=ge,++J<=g&&!(J%16)&&bi($,J);ce<Ae&&te&Re&&(Ie=Fn(we,te,J))}e(ue.h==ee(ue))}bi($,J>g?g:J);break t}!Ne||ue.h&&ce<fe?(Ne=0,$.a=ue.h?5:3):$.$=ce,g=Ne}else g=si($,$.V,$.Ba,$.c,$.i,g,Zs);if(!g){N=0;break e}}E+N>=q&&(d.Cc=1),N=1}if(!N)return null;if(d.Cc&&((N=d.ga)!=null&&(N.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+E*U}function y(d,g,E,N,U,q){for(;0<U--;){var $,K=d,J=g+(E?1:0),te=d,ue=g+(E?0:3);for($=0;$<N;++$){var we=te[ue+4*$];we!=255&&(we*=32897,K[J+4*$+0]=K[J+4*$+0]*we>>23,K[J+4*$+1]=K[J+4*$+1]*we>>23,K[J+4*$+2]=K[J+4*$+2]*we>>23)}g+=q}}function V(d,g,E,N,U){for(;0<N--;){var q;for(q=0;q<E;++q){var $=d[g+2*q+0],K=15&(te=d[g+2*q+1]),J=4369*K,te=(240&te|te>>4)*J>>16;d[g+2*q+0]=(240&$|$>>4)*J>>16&240|(15&$|$<<4)*J>>16>>4&15,d[g+2*q+1]=240&te|K}g+=U}}function se(d,g,E,N,U,q,$,K){var J,te,ue=255;for(te=0;te<U;++te){for(J=0;J<N;++J){var we=d[g+J];q[$+4*J]=we,ue&=we}g+=E,$+=K}return ue!=255}function le(d,g,E,N,U){var q;for(q=0;q<U;++q)E[N+q]=d[g+q]>>8}function me(){rs=y,wn=V,bn=se,Yn=le}function Te(d,g,E){x[d]=function(N,U,q,$,K,J,te,ue,we,be,ge,Ne,Ce,ce,fe,Ae,Re){var Ie,Je=Re-1>>1,We=K[J+0]|te[ue+0]<<16,dt=we[be+0]|ge[Ne+0]<<16;e(N!=null);var Ge=3*We+dt+131074>>2;for(g(N[U+0],255&Ge,Ge>>16,Ce,ce),q!=null&&(Ge=3*dt+We+131074>>2,g(q[$+0],255&Ge,Ge>>16,fe,Ae)),Ie=1;Ie<=Je;++Ie){var Xt=K[J+Ie]|te[ue+Ie]<<16,ln=we[be+Ie]|ge[Ne+Ie]<<16,Wt=We+Xt+dt+ln+524296,Vt=Wt+2*(Xt+dt)>>3;Ge=Vt+We>>1,We=(Wt=Wt+2*(We+ln)>>3)+Xt>>1,g(N[U+2*Ie-1],255&Ge,Ge>>16,Ce,ce+(2*Ie-1)*E),g(N[U+2*Ie-0],255&We,We>>16,Ce,ce+(2*Ie-0)*E),q!=null&&(Ge=Wt+dt>>1,We=Vt+ln>>1,g(q[$+2*Ie-1],255&Ge,Ge>>16,fe,Ae+(2*Ie-1)*E),g(q[$+2*Ie+0],255&We,We>>16,fe,Ae+(2*Ie+0)*E)),We=Xt,dt=ln}1&Re||(Ge=3*We+dt+131074>>2,g(N[U+Re-1],255&Ge,Ge>>16,Ce,ce+(Re-1)*E),q!=null&&(Ge=3*dt+We+131074>>2,g(q[$+Re-1],255&Ge,Ge>>16,fe,Ae+(Re-1)*E)))}}function Me(){ss[Wp]=eN,ss[Yp]=Hb,ss[Vb]=tN,ss[Gp]=Wb,ss[Kp]=Yb,ss[J0]=Gb,ss[Ub]=nN,ss[X0]=Hb,ss[Z0]=Wb,ss[Qp]=Yb,ss[ey]=Gb}function Ye(d){return d&-16384?0>d?0:255:d>>rN}function f(d,g){return Ye((19077*d>>8)+(26149*g>>8)-14234)}function L(d,g,E){return Ye((19077*d>>8)-(6419*g>>8)-(13320*E>>8)+8708)}function D(d,g){return Ye((19077*d>>8)+(33050*g>>8)-17685)}function G(d,g,E,N,U){N[U+0]=f(d,E),N[U+1]=L(d,g,E),N[U+2]=D(d,g)}function pe(d,g,E,N,U){N[U+0]=D(d,g),N[U+1]=L(d,g,E),N[U+2]=f(d,E)}function Ee(d,g,E,N,U){var q=L(d,g,E);g=q<<3&224|D(d,g)>>3,N[U+0]=248&f(d,E)|q>>5,N[U+1]=g}function Oe(d,g,E,N,U){var q=240&D(d,g)|15;N[U+0]=240&f(d,E)|L(d,g,E)>>4,N[U+1]=q}function xt(d,g,E,N,U){N[U+0]=255,G(d,g,E,N,U+1)}function Bt(d,g,E,N,U){pe(d,g,E,N,U),N[U+3]=255}function St(d,g,E,N,U){G(d,g,E,N,U),N[U+3]=255}function tn(d,g){return 0>d?0:d>g?g:d}function gn(d,g,E){x[d]=function(N,U,q,$,K,J,te,ue,we){for(var be=ue+(-2&we)*E;ue!=be;)g(N[U+0],q[$+0],K[J+0],te,ue),g(N[U+1],q[$+0],K[J+0],te,ue+E),U+=2,++$,++J,ue+=2*E;1&we&&g(N[U+0],q[$+0],K[J+0],te,ue)}}function Ps(d,g,E){return E==0?d==0?g==0?6:5:g==0?4:0:E}function Pr(d,g,E,N,U){switch(d>>>30){case 3:Jo(g,E,N,U,0);break;case 2:Wn(g,E,N,U);break;case 1:ui(g,E,N,U)}}function lo(d,g){var E,N,U=g.M,q=g.Nb,$=d.oc,K=d.pc+40,J=d.oc,te=d.pc+584,ue=d.oc,we=d.pc+600;for(E=0;16>E;++E)$[K+32*E-1]=129;for(E=0;8>E;++E)J[te+32*E-1]=129,ue[we+32*E-1]=129;for(0<U?$[K-1-32]=J[te-1-32]=ue[we-1-32]=129:(i($,K-32-1,127,21),i(J,te-32-1,127,9),i(ue,we-32-1,127,9)),N=0;N<d.za;++N){var be=g.ya[g.aa+N];if(0<N){for(E=-1;16>E;++E)r($,K+32*E-4,$,K+32*E+12,4);for(E=-1;8>E;++E)r(J,te+32*E-4,J,te+32*E+4,4),r(ue,we+32*E-4,ue,we+32*E+4,4)}var ge=d.Gd,Ne=d.Hd+N,Ce=be.ad,ce=be.Hc;if(0<U&&(r($,K-32,ge[Ne].y,0,16),r(J,te-32,ge[Ne].f,0,8),r(ue,we-32,ge[Ne].ea,0,8)),be.Za){var fe=$,Ae=K-32+16;for(0<U&&(N>=d.za-1?i(fe,Ae,ge[Ne].y[15],4):r(fe,Ae,ge[Ne+1].y,0,4)),E=0;4>E;E++)fe[Ae+128+E]=fe[Ae+256+E]=fe[Ae+384+E]=fe[Ae+0+E];for(E=0;16>E;++E,ce<<=2)fe=$,Ae=K+Qb[E],As[be.Ob[E]](fe,Ae),Pr(ce,Ce,16*+E,fe,Ae)}else if(fe=Ps(N,U,be.Ob[0]),sl[fe]($,K),ce!=0)for(E=0;16>E;++E,ce<<=2)Pr(ce,Ce,16*+E,$,K+Qb[E]);for(E=be.Gc,fe=Ps(N,U,be.Dd),Zo[fe](J,te),Zo[fe](ue,we),ce=Ce,fe=J,Ae=te,255&(be=E>>0)&&(170&be?Nh(ce,256,fe,Ae):ts(ce,256,fe,Ae)),be=ue,ce=we,255&(E>>=8)&&(170&E?Nh(Ce,320,be,ce):ts(Ce,320,be,ce)),U<d.Ub-1&&(r(ge[Ne].y,0,$,K+480,16),r(ge[Ne].f,0,J,te+224,8),r(ge[Ne].ea,0,ue,we+224,8)),E=8*q*d.B,ge=d.sa,Ne=d.ta+16*N+16*q*d.R,Ce=d.qa,be=d.ra+8*N+E,ce=d.Ha,fe=d.Ia+8*N+E,E=0;16>E;++E)r(ge,Ne+E*d.R,$,K+32*E,16);for(E=0;8>E;++E)r(Ce,be+E*d.B,J,te+32*E,8),r(ce,fe+E*d.B,ue,we+32*E,8)}}function uo(d,g,E,N,U,q,$,K,J){var te=[0],ue=[0],we=0,be=J!=null?J.kd:0,ge=J??new Ja;if(d==null||12>E)return 7;ge.data=d,ge.w=g,ge.ha=E,g=[g],E=[E],ge.gb=[ge.gb];e:{var Ne=g,Ce=E,ce=ge.gb;if(e(d!=null),e(Ce!=null),e(ce!=null),ce[0]=0,12<=Ce[0]&&!n(d,Ne[0],"RIFF")){if(n(d,Ne[0]+8,"WEBP")){ce=3;break e}var fe=Be(d,Ne[0]+4);if(12>fe||4294967286<fe){ce=3;break e}if(be&&fe>Ce[0]-8){ce=7;break e}ce[0]=fe,Ne[0]+=12,Ce[0]-=12}ce=0}if(ce!=0)return ce;for(fe=0<ge.gb[0],E=E[0];;){e:{var Ae=d;Ce=g,ce=E;var Re=te,Ie=ue,Je=Ne=[0];if((Ge=we=[we])[0]=0,8>ce[0])ce=7;else{if(!n(Ae,Ce[0],"VP8X")){if(Be(Ae,Ce[0]+4)!=10){ce=3;break e}if(18>ce[0]){ce=7;break e}var We=Be(Ae,Ce[0]+8),dt=1+je(Ae,Ce[0]+12);if(2147483648<=dt*(Ae=1+je(Ae,Ce[0]+15))){ce=3;break e}Je!=null&&(Je[0]=We),Re!=null&&(Re[0]=dt),Ie!=null&&(Ie[0]=Ae),Ce[0]+=18,ce[0]-=18,Ge[0]=1}ce=0}}if(we=we[0],Ne=Ne[0],ce!=0)return ce;if(Ce=!!(2&Ne),!fe&&we)return 3;if(q!=null&&(q[0]=!!(16&Ne)),$!=null&&($[0]=Ce),K!=null&&(K[0]=0),$=te[0],Ne=ue[0],we&&Ce&&J==null){ce=0;break}if(4>E){ce=7;break}if(fe&&we||!fe&&!we&&!n(d,g[0],"ALPH")){E=[E],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{We=d,ce=g,fe=E;var Ge=ge.gb;Re=ge.na,Ie=ge.P,Je=ge.Sa,dt=22,e(We!=null),e(fe!=null),Ae=ce[0];var Xt=fe[0];for(e(Re!=null),e(Je!=null),Re[0]=null,Ie[0]=null,Je[0]=0;;){if(ce[0]=Ae,fe[0]=Xt,8>Xt){ce=7;break e}var ln=Be(We,Ae+4);if(4294967286<ln){ce=3;break e}var Wt=8+ln+1&-2;if(dt+=Wt,0<Ge&&dt>Ge){ce=3;break e}if(!n(We,Ae,"VP8 ")||!n(We,Ae,"VP8L")){ce=0;break e}if(Xt[0]<Wt){ce=7;break e}n(We,Ae,"ALPH")||(Re[0]=We,Ie[0]=Ae+8,Je[0]=ln),Ae+=Wt,Xt-=Wt}}if(E=E[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],ce!=0)break}E=[E],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(Ge=d,ce=g,fe=E,Re=ge.gb[0],Ie=ge.Ja,Je=ge.xa,We=ce[0],Ae=!n(Ge,We,"VP8 "),dt=!n(Ge,We,"VP8L"),e(Ge!=null),e(fe!=null),e(Ie!=null),e(Je!=null),8>fe[0])ce=7;else{if(Ae||dt){if(Ge=Be(Ge,We+4),12<=Re&&Ge>Re-12){ce=3;break e}if(be&&Ge>fe[0]-8){ce=7;break e}Ie[0]=Ge,ce[0]+=8,fe[0]-=8,Je[0]=dt}else Je[0]=5<=fe[0]&&Ge[We+0]==47&&!(Ge[We+4]>>5),Ie[0]=fe[0];ce=0}if(E=E[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],g=g[0],ce!=0)break;if(4294967286<ge.Ja)return 3;if(K==null||Ce||(K[0]=ge.xa?2:1),$=[$],Ne=[Ne],ge.xa){if(5>E){ce=7;break}K=$,be=Ne,Ce=q,d==null||5>E?d=0:5<=E&&d[g+0]==47&&!(d[g+4]>>5)?(fe=[0],Ge=[0],Re=[0],z(Ie=new F,d,g,E),Qe(Ie,fe,Ge,Re)?(K!=null&&(K[0]=fe[0]),be!=null&&(be[0]=Ge[0]),Ce!=null&&(Ce[0]=Re[0]),d=1):d=0):d=0}else{if(10>E){ce=7;break}K=Ne,d==null||10>E||!pu(d,g+3,E-3)?d=0:(be=d[g+0]|d[g+1]<<8|d[g+2]<<16,Ce=16383&(d[g+7]<<8|d[g+6]),d=16383&(d[g+9]<<8|d[g+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=ge.Ja||!Ce||!d?d=0:($&&($[0]=Ce),K&&(K[0]=d),d=1))}if(!d||($=$[0],Ne=Ne[0],we&&(te[0]!=$||ue[0]!=Ne)))return 3;J!=null&&(J[0]=ge,J.offset=g-J.w,e(4294967286>g-J.w),e(J.offset==J.ha-E));break}return ce==0||ce==7&&we&&J==null?(q!=null&&(q[0]|=ge.na!=null&&0<ge.na.length),N!=null&&(N[0]=$),U!=null&&(U[0]=Ne),0):ce}function Th(d,g,E){var N=g.width,U=g.height,q=0,$=0,K=N,J=U;if(g.Da=d!=null&&0<d.Da,g.Da&&(K=d.cd,J=d.bd,q=d.v,$=d.j,11>E||(q&=-2,$&=-2),0>q||0>$||0>=K||0>=J||q+K>N||$+J>U))return 0;if(g.v=q,g.j=$,g.va=q+K,g.o=$+J,g.U=K,g.T=J,g.da=d!=null&&0<d.da,g.da){if(!gt(K,J,E=[d.ib],q=[d.hb]))return 0;g.ib=E[0],g.hb=q[0]}return g.ob=d!=null&&d.ob,g.Kb=d==null||!d.Sd,g.da&&(g.ob=g.ib<3*N/4&&g.hb<3*U/4,g.Kb=0),1}function Ph(d){if(d==null)return 2;if(11>d.S){var g=d.f.RGBA;g.fb+=(d.height-1)*g.A,g.A=-g.A}else g=d.f.kb,d=d.height,g.O+=(d-1)*g.fa,g.fa=-g.fa,g.N+=(d-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(d-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(d-1)*g.lb,g.lb=-g.lb);return 0}function jc(d,g,E,N){if(N==null||0>=d||0>=g)return 2;if(E!=null){if(E.Da){var U=E.cd,q=E.bd,$=-2&E.v,K=-2&E.j;if(0>$||0>K||0>=U||0>=q||$+U>d||K+q>g)return 2;d=U,g=q}if(E.da){if(!gt(d,g,U=[E.ib],q=[E.hb]))return 2;d=U[0],g=q[0]}}N.width=d,N.height=g;e:{var J=N.width,te=N.height;if(d=N.S,0>=J||0>=te||!(d>=Wp&&13>d))d=2;else{if(0>=N.Rd&&N.sd==null){$=q=U=g=0;var ue=(K=J*Jb[d])*te;if(11>d||(q=(te+1)/2*(g=(J+1)/2),d==12&&($=(U=J)*te)),(te=s(ue+2*q+$))==null){d=1;break e}N.sd=te,11>d?((J=N.f.RGBA).eb=te,J.fb=0,J.A=K,J.size=ue):((J=N.f.kb).y=te,J.O=0,J.fa=K,J.Fd=ue,J.f=te,J.N=0+ue,J.Ab=g,J.Cd=q,J.ea=te,J.W=0+ue+q,J.Db=g,J.Ed=q,d==12&&(J.F=te,J.J=0+ue+2*q),J.Tc=$,J.lb=U)}if(g=1,U=N.S,q=N.width,$=N.height,U>=Wp&&13>U)if(11>U)d=N.f.RGBA,g&=(K=Math.abs(d.A))*($-1)+q<=d.size,g&=K>=q*Jb[U],g&=d.eb!=null;else{d=N.f.kb,K=(q+1)/2,ue=($+1)/2,J=Math.abs(d.fa),te=Math.abs(d.Ab);var we=Math.abs(d.Db),be=Math.abs(d.lb),ge=be*($-1)+q;g&=J*($-1)+q<=d.Fd,g&=te*(ue-1)+K<=d.Cd,g=(g&=we*(ue-1)+K<=d.Ed)&J>=q&te>=K&we>=K,g&=d.y!=null,g&=d.f!=null,g&=d.ea!=null,U==12&&(g&=be>=q,g&=ge<=d.Tc,g&=d.F!=null)}else g=0;d=g?0:2}}return d!=0||E!=null&&E.fd&&(d=Ph(N)),d}var Ar=64,Bc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Vc=24,Uc=32,Ah=8,Ei=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ze("Predictor0","PredictorAdd0"),x.Predictor0=function(){return 4278190080},x.Predictor1=function(d){return d},x.Predictor2=function(d,g,E){return g[E+0]},x.Predictor3=function(d,g,E){return g[E+1]},x.Predictor4=function(d,g,E){return g[E-1]},x.Predictor5=function(d,g,E){return $e($e(d,g[E+1]),g[E+0])},x.Predictor6=function(d,g,E){return $e(d,g[E-1])},x.Predictor7=function(d,g,E){return $e(d,g[E+0])},x.Predictor8=function(d,g,E){return $e(g[E-1],g[E+0])},x.Predictor9=function(d,g,E){return $e(g[E+0],g[E+1])},x.Predictor10=function(d,g,E){return $e($e(d,g[E-1]),$e(g[E+0],g[E+1]))},x.Predictor11=function(d,g,E){var N=g[E+0];return 0>=_t(N>>24&255,d>>24&255,(g=g[E-1])>>24&255)+_t(N>>16&255,d>>16&255,g>>16&255)+_t(N>>8&255,d>>8&255,g>>8&255)+_t(255&N,255&d,255&g)?N:d},x.Predictor12=function(d,g,E){var N=g[E+0];return(nt((d>>24&255)+(N>>24&255)-((g=g[E-1])>>24&255))<<24|nt((d>>16&255)+(N>>16&255)-(g>>16&255))<<16|nt((d>>8&255)+(N>>8&255)-(g>>8&255))<<8|nt((255&d)+(255&N)-(255&g)))>>>0},x.Predictor13=function(d,g,E){var N=g[E-1];return(ht((d=$e(d,g[E+0]))>>24&255,N>>24&255)<<24|ht(d>>16&255,N>>16&255)<<16|ht(d>>8&255,N>>8&255)<<8|ht(d>>0&255,N>>0&255))>>>0};var K0=x.PredictorAdd0;x.PredictorAdd1=ot,ze("Predictor2","PredictorAdd2"),ze("Predictor3","PredictorAdd3"),ze("Predictor4","PredictorAdd4"),ze("Predictor5","PredictorAdd5"),ze("Predictor6","PredictorAdd6"),ze("Predictor7","PredictorAdd7"),ze("Predictor8","PredictorAdd8"),ze("Predictor9","PredictorAdd9"),ze("Predictor10","PredictorAdd10"),ze("Predictor11","PredictorAdd11"),ze("Predictor12","PredictorAdd12"),ze("Predictor13","PredictorAdd13");var Ih=x.PredictorAdd2;Ct("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),Ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Vp,es=x.ColorIndexInverseTransform,zc=x.MapARGB,Up=x.VP8LColorIndexInverseTransformAlpha,zp=x.MapAlpha,tl=x.VP8LPredictorsAdd=[];tl.length=16,(x.VP8LPredictors=[]).length=16,(x.VP8LPredictorsAdd_C=[]).length=16,(x.VP8LPredictors_C=[]).length=16;var Lu,xi,li,nl,Ko,Qo,qc,Jo,Wn,Nh,ui,ts,$c,qp,Dh,Cu,Tu,rl,Pu,Hc,Au,il,Rh,ns,rs,wn,bn,Yn,hr=s(511),Xo=s(2041),Mh=s(225),Wc=s(767),$p=0,Q0=Xo,Hp=Mh,Vi=Wc,is=hr,Wp=0,Yp=1,Vb=2,Gp=3,Kp=4,J0=5,Ub=6,X0=7,Z0=8,Qp=9,ey=10,VI=[2,3,7],UI=[3,3,11],zb=[280,256,256,256,40],zI=[0,1,1,1,0],qI=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$I=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],HI=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],WI=8,ty=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ny=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Oh=null,YI=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],GI=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qb=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],KI=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],QI=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],JI=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],XI=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],sl=[],As=[],Zo=[],ZI=1,$b=2,ol=[],ss=[];Te("UpsampleRgbLinePair",G,3),Te("UpsampleBgrLinePair",pe,3),Te("UpsampleRgbaLinePair",St,4),Te("UpsampleBgraLinePair",Bt,4),Te("UpsampleArgbLinePair",xt,4),Te("UpsampleRgba4444LinePair",Oe,2),Te("UpsampleRgb565LinePair",Ee,2);var eN=x.UpsampleRgbLinePair,tN=x.UpsampleBgrLinePair,Hb=x.UpsampleRgbaLinePair,Wb=x.UpsampleBgraLinePair,Yb=x.UpsampleArgbLinePair,Gb=x.UpsampleRgba4444LinePair,nN=x.UpsampleRgb565LinePair,Jp=16,Xp=1<<Jp-1,Fh=-227,ry=482,rN=6,Kb=0,iN=s(256),sN=s(256),oN=s(256),aN=s(256),lN=s(ry-Fh),uN=s(ry-Fh);gn("YuvToRgbRow",G,3),gn("YuvToBgrRow",pe,3),gn("YuvToRgbaRow",St,4),gn("YuvToBgraRow",Bt,4),gn("YuvToArgbRow",xt,4),gn("YuvToRgba4444Row",Oe,2),gn("YuvToRgb565Row",Ee,2);var Qb=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zp=[0,2,8],cN=[8,7,6,4,4,2,2,2,1,1,1,1],dN=1;this.WebPDecodeRGBA=function(d,g,E,N,U){var q=Yp,$=new Yo,K=new rr;$.ba=K,K.S=q,K.width=[K.width],K.height=[K.height];var J=K.width,te=K.height,ue=new jr;if(ue==null||d==null)var we=2;else e(ue!=null),we=uo(d,g,E,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(we!=0?J=0:(J!=null&&(J[0]=ue.width[0]),te!=null&&(te[0]=ue.height[0]),J=1),J){K.width=K.width[0],K.height=K.height[0],N!=null&&(N[0]=K.width),U!=null&&(U[0]=K.height);e:{if(N=new Uo,(U=new Ja).data=d,U.w=g,U.ha=E,U.kd=1,g=[0],e(U!=null),((d=uo(U.data,U.w,U.ha,null,null,null,g,null,U))==0||d==7)&&g[0]&&(d=4),(g=d)==0){if(e($!=null),N.data=U.data,N.w=U.w+U.offset,N.ha=U.ha-U.offset,N.put=cr,N.ac=xn,N.bc=ii,N.ma=$,U.xa){if((d=Hn())==null){$=1;break e}if(function(be,ge){var Ne=[0],Ce=[0],ce=[0];t:for(;;){if(be==null)return 0;if(ge==null)return be.a=2,0;if(be.l=ge,be.a=0,z(be.m,ge.data,ge.w,ge.ha),!Qe(be.m,Ne,Ce,ce)){be.a=3;break t}if(be.xb=$b,ge.width=Ne[0],ge.height=Ce[0],!Oi(Ne[0],Ce[0],1,be,null))break t;return 1}return e(be.a!=0),0}(d,N)){if(N=(g=jc(N.width,N.height,$.Oa,$.ba))==0){t:{N=d;n:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((E=N.l)!=null),e((U=E.ma)!=null),N.xb!=0){if(N.ca=U.ba,N.tb=U.tb,e(N.ca!=null),!Th(U.Oa,E,Gp)){N.a=2;break n}if(!Xs(N,E.width)||E.da)break n;if((E.da||Mt(N.ca.S))&&me(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&me()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!st(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!si(N,N.V,N.Ba,N.c,N.i,E.o,Fa))break n;U.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(g=d.a)}else g=d.a}else{if((d=new fu)==null){$=1;break e}if(d.Fa=U.na,d.P=U.P,d.qc=U.Sa,mu(d,N)){if((g=jc(N.width,N.height,$.Oa,$.ba))==0){if(d.Aa=0,E=$.Oa,e((U=d)!=null),E!=null){if(0<(J=0>(J=E.Md)?0:100<J?255:255*J/100)){for(te=ue=0;4>te;++te)12>(we=U.pb[te]).lc&&(we.ia=J*cN[0>we.lc?0:we.lc]>>3),ue|=we.ia;ue&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=E.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}Ic(d,N)||(g=d.a)}}else g=d.a}g==0&&$.Oa!=null&&$.Oa.fd&&(g=Ph($.ba))}$=g}q=$!=0?null:11>q?K.f.RGBA.eb:K.f.kb.y}else q=null;return q};var Jb=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(x,T){for(var M="",C=0;C<4;C++)M+=String.fromCharCode(x[T++]);return M}function c(x,T){return(x[T+0]<<0|x[T+1]<<8|x[T+2]<<16)>>>0}function h(x,T){return(x[T+0]<<0|x[T+1]<<8|x[T+2]<<16|x[T+3]<<24)>>>0}new l;var m=[0],p=[0],v=[],_=new l,k=t,w=function(x,T){var M={},C=0,I=!1,R=0,W=0;if(M.frames=[],!function(Y,ee,Q,ae){for(var de=0;de<ae;de++)if(Y[ee+de]!=Q.charCodeAt(de))return!0;return!1}(x,T,"RIFF",4)){for(h(x,T+=4),T+=8;T<x.length;){var Z=u(x,T),X=h(x,T+=4);T+=4;var re=X+(1&X);switch(Z){case"VP8 ":case"VP8L":M.frames[C]===void 0&&(M.frames[C]={}),(ie=M.frames[C]).src_off=I?W:T-8,ie.src_size=R+X+8,C++,I&&(I=!1,R=0,W=0);break;case"VP8X":(ie=M.header={}).feature_flags=x[T];var z=T+4;ie.canvas_width=1+c(x,z),z+=3,ie.canvas_height=1+c(x,z),z+=3;break;case"ALPH":I=!0,R=re+8,W=T-8;break;case"ANIM":(ie=M.header).bgcolor=h(x,T),z=T+4,ie.loop_count=(ye=x)[(F=z)+0]<<0|ye[F+1]<<8,z+=2;break;case"ANMF":var ne,ie;(ie=M.frames[C]={}).offset_x=2*c(x,T),T+=3,ie.offset_y=2*c(x,T),T+=3,ie.width=1+c(x,T),T+=3,ie.height=1+c(x,T),T+=3,ie.duration=c(x,T),T+=3,ne=x[T++],ie.dispose=1&ne,ie.blend=ne>>1&1}Z!="ANMF"&&(T+=re)}var ye,F;return M}}(k,0);w.response=k,w.rgbaoutput=!0,w.dataurl=!1;var b=w.header?w.header:null,P=w.frames?w.frames:null;if(b){b.loop_counter=b.loop_count,m=[b.canvas_height],p=[b.canvas_width];for(var O=0;O<P.length&&P[O].blend!=0;O++);}var j=P[0],H=_.WebPDecodeRGBA(k,j.src_off,j.src_size,p,m);j.rgba=H,j.imgwidth=p[0],j.imgheight=m[0];for(var A=0;A<p[0]*m[0]*4;A++)v[A]=H[A];return this.width=p,this.height=m,this.data=v,this}(function(t){var e=function(){return typeof aw=="function"},n=function(m,p,v,_){var k=4,w=o;switch(_){case t.image_compression.FAST:k=1,w=s;break;case t.image_compression.MEDIUM:k=6,w=a;break;case t.image_compression.SLOW:k=9,w=l}m=r(m,p,v,w);var b=aw(m,{level:k});return t.__addimage__.arrayBufferToBinaryString(b)},r=function(m,p,v,_){for(var k,w,b,P=m.length/p,O=new Uint8Array(m.length+P),j=c(),H=0;H<P;H+=1){if(b=H*p,k=m.subarray(b,b+p),_)O.set(_(k,v,w),b+H);else{for(var A,x=j.length,T=[];A<x;A+=1)T[A]=j[A](k,v,w);var M=h(T.concat());O.set(T[M],b+H)}w=k}return O},i=function(m){var p=Array.apply([],m);return p.unshift(0),p},s=function(m,p){var v,_=[],k=m.length;_[0]=1;for(var w=0;w<k;w+=1)v=m[w-p]||0,_[w+1]=m[w]-v+256&255;return _},o=function(m,p,v){var _,k=[],w=m.length;k[0]=2;for(var b=0;b<w;b+=1)_=v&&v[b]||0,k[b+1]=m[b]-_+256&255;return k},a=function(m,p,v){var _,k,w=[],b=m.length;w[0]=3;for(var P=0;P<b;P+=1)_=m[P-p]||0,k=v&&v[P]||0,w[P+1]=m[P]+256-(_+k>>>1)&255;return w},l=function(m,p,v){var _,k,w,b,P=[],O=m.length;P[0]=4;for(var j=0;j<O;j+=1)_=m[j-p]||0,k=v&&v[j]||0,w=v&&v[j-p]||0,b=u(_,k,w),P[j+1]=m[j]-b+256&255;return P},u=function(m,p,v){if(m===p&&p===v)return m;var _=Math.abs(p-v),k=Math.abs(m-v),w=Math.abs(m+p-v-v);return _<=k&&_<=w?m:k<=w?p:v},c=function(){return[i,s,o,a,l]},h=function(m){var p=m.map(function(v){return v.reduce(function(_,k){return _+Math.abs(k)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(m,p,v,_){var k,w,b,P,O,j,H,A,x,T,M,C,I,R,W,Z=this.decode.FLATE_DECODE,X="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(b=new cz(m)).imgData,w=b.bits,k=b.colorSpace,O=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){x=(A=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,M=new Uint8Array(x*b.colors),T=new Uint8Array(x);var re,z=b.pixelBitlength-b.bits;for(R=0,W=0;R<x;R++){for(I=A[R],re=0;re<z;)M[W++]=I>>>re&255,re+=b.bits;T[R]=I>>>re&255}}if(b.bits===16){x=(A=new Uint32Array(b.decodePixels().buffer)).length,M=new Uint8Array(x*(32/b.pixelBitlength)*b.colors),T=new Uint8Array(x*(32/b.pixelBitlength)),C=b.colors>1,R=0,W=0;for(var ne=0;R<x;)I=A[R++],M[W++]=I>>>0&255,C&&(M[W++]=I>>>16&255,I=A[R++],M[W++]=I>>>0&255),T[ne++]=I>>>16&255;w=8}_!==t.image_compression.NONE&&e()?(m=n(M,b.width*b.colors,b.colors,_),H=n(T,b.width,1,_)):(m=M,H=T,Z=void 0)}if(b.colorType===3&&(k=this.color_spaces.INDEXED,j=b.palette,b.transparency.indexed)){var ie=b.transparency.indexed,ye=0;for(R=0,x=ie.length;R<x;++R)ye+=ie[R];if((ye/=255)===x-1&&ie.indexOf(0)!==-1)P=[ie.indexOf(0)];else if(ye!==x){for(A=b.decodePixels(),T=new Uint8Array(A.length),R=0,x=A.length;R<x;R++)T[R]=ie[A[R]];H=n(T,b.width,1)}}var F=function(Y){var ee;switch(Y){case t.image_compression.FAST:ee=11;break;case t.image_compression.MEDIUM:ee=13;break;case t.image_compression.SLOW:ee=14;break;default:ee=12}return ee}(_);return Z===this.decode.FLATE_DECODE&&(X="/Predictor "+F+" "),X+="/Colors "+O+" /BitsPerComponent "+w+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(H&&this.__addimage__.isArrayBuffer(H)||this.__addimage__.isArrayBufferView(H))&&(H=this.__addimage__.arrayBufferToBinaryString(H)),{alias:v,data:m,index:p,filter:Z,decodeParameters:X,transparency:P,palette:j,sMask:H,predictor:F,width:b.width,height:b.height,bitsPerComponent:w,colorSpace:k}}}})(ft.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new dz(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},c=new u1(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(ft.API),Rs.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Rs.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){yn.log("bit decode error:"+n)}},Rs.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Rs.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Rs.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Rs.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},Rs.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},Rs.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Rs.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Rs.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Rs(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new u1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ft.API),DS.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new DS(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new u1(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(ft.API),ft.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var c=r[u],h=r[u+1],m=r[u+2],p=r[u+3];s[a++]=c,s[a++]=h,s[a++]=m,o[l++]=p}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ft.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Zc=ft.API,Om=Zc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,h=e.doKerning!==!1,m=0,p=t.length,v=0,_=a[0]||l,k=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(m=h&&dn(u[r])==="object"&&!isNaN(parseInt(u[r][v],10))?u[r][v]/c:0,k.push((a[r]||_)/l+m)),v=r;return k},PS=Zc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Zc.processArabic&&(t=Zc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Om.apply(this,arguments).reduce(function(s,o){return s+o},0)},AS=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},IS=function(t,e,n){n||(n={});var r,i,s,o,a,l,u,c=[],h=[c],m=n.textIndent||0,p=0,v=0,_=t.split(" "),k=Om.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?_[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),b=[];_.map(function(O){(O=O.split(/\s*\n/)).length>1?b=b.concat(O.map(function(j,H){return(H&&j.length?`
`:"")+j})):b.push(O[0])}),_=b,l=PS.apply(this,[w,n])}for(s=0,o=_.length;s<o;s++){var P=0;if(r=_[s],l&&r[0]==`
`&&(r=r.substr(1),P=1),m+p+(v=(i=Om.apply(this,[r,n])).reduce(function(O,j){return O+j},0))>e||P){if(v>e){for(a=AS.apply(this,[r,i,e-(m+p),e]),c.push(a.shift()),c=[a.pop()];a.length;)h.push([a.shift()]);v=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(O,j){return O+j},0)}else c=[r];h.push(c),m=v+l,p=k}else c.push(r),m+=p+v,p=k}return u=l?function(O,j){return(j?w:"")+O.join(" ")}:function(O){return O.join(" ")},h.map(u)},Zc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var h=this.internal.getFont(c.fontName,c.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(IS.apply(this,[r[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=t.__fontmetrics__.compress=function(h){var m,p,v,_,k=["{"];for(var w in h){if(m=h[w],isNaN(parseInt(w,10))?p="'"+w+"'":(w=parseInt(w,10),p=(p=s(w).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof m=="number")m<0?(v=s(m).slice(3),_="-"):(v=s(m).slice(2),_=""),v=_+v.slice(0,-1)+r[v.slice(-1)];else{if(dn(m)!=="object")throw new Error("Don't know what to do with value type "+dn(m)+".");v=o(m)}k.push(p+v)}return k.push("}"),k.join("")},a=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,p,v,_,k={},w=1,b=k,P=[],O="",j="",H=h.length-1,A=1;A<H;A+=1)(_=h[A])=="'"?m?(v=m.join(""),m=void 0):m=[]:m?m.push(_):_=="{"?(P.push([b,v]),b={},v=void 0):_=="}"?((p=P.pop())[0][p[1]]=b,v=void 0,b=p[0]):_=="-"?w=-1:v===void 0?n.hasOwnProperty(_)?(O+=n[_],v=parseInt(O,16)*w,w=1,O=""):O+=_:n.hasOwnProperty(_)?(j+=n[_],b[v]=parseInt(j,16)*w,w=1,v=void 0,j=""):j+=_;return k},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var m=h.font,p=c.Unicode[m.postScriptName];p&&(m.metadata.Unicode={},m.metadata.Unicode.widths=p.widths,m.metadata.Unicode.kerning=p.kerning);var v=u.Unicode[m.postScriptName];v&&(m.metadata.Unicode.encoding=v,m.encoding=v.codePages[0])}])}(ft.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Df(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(ft),function(t){function e(){return(vt.canvg?Promise.resolve(vt.canvg):up(()=>import("./index.es-CUeq-xhE.js"),[],import.meta.url)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ft.API.addSvgAsImage=function(n,r,i,s,o,a,l,u){if(isNaN(r)||isNaN(i))throw yn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw yn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=o;var h=c.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,c.width,c.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(v){return v.fromString(h,n,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(m)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),r,i,s,o,l,u)})}}(),ft.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},ft.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,c=0,h=0;function m(v,_){var k,w=!1;for(k=0;k<v.length;k+=1)v[k]===_&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(h=0;h<p;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(dn(t)==="object"){for(i in t)if(s=t[i],m(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&m(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,_=[];for(v in n)n[v].explicitSet===!0&&(n[v].type==="name"?_.push("/"+v+" /"+n[v].value):_.push("/"+v+" "+n[v].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(ft.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],h=0,m=s.length;h<m;++h){if(a=o.metadata.characterToGlyph(s.charCodeAt(h)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},r=function(s){var o,a,l,u,c,h,m;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,m=(a=Object.keys(s).sort(function(p,v){return p-v})).length;h<m;h++)o=a[h],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,m=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",v=0;v<m.length;v++)p+=String.fromCharCode(m[v]);var _=u();c({data:p,addLength1:!0,objectId:_}),l("endobj");var k=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:k}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+od(a.fontName)),l("/FontFile2 "+_+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var b=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+od(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+k+" 0 R"),l("/BaseFont /"+od(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,m="",p=0;p<h.length;p++)m+=String.fromCharCode(h[p]);var v=u();c({data:m,addLength1:!0,objectId:v}),l("endobj");var _=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var k=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+v+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+od(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+od(a.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,c=s.options||{},h=s.mutex||{},m=h.pdfEscape,p=h.activeFontKey,v=h.fonts,_=p,k="",w=0,b="",P=v[_].encoding;if(v[_].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:h};for(b=a,_=p,Array.isArray(a)&&(b=a[0]),w=0;w<b.length;w+=1)v[_].metadata.hasOwnProperty("cmap")&&(o=v[_].metadata.cmap.unicode.codeMap[b[w].charCodeAt(0)]),o||b[w].charCodeAt(0)<256&&v[_].metadata.hasOwnProperty("Unicode")?k+=b[w]:k+="";var O="";return parseInt(_.slice(1))<14||P==="WinAnsiEncoding"?O=m(k,_).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):P==="Identity-H"&&(O=n(k,v[_])),h.isHex=!0,{text:O,x:l,y:u,options:c,mutex:h}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(ft),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ft.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,c,h=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,P=0;this.__bidiEngine__={};var O=function(C){var I=C.charCodeAt(),R=I>>8,W=_[R];return W!==void 0?h[256*W+(255&I)]:R===252||R===253?"AL":w.test(R)?"L":R===8?"R":"N"},j=function(C){for(var I,R=0;R<C.length;R++){if((I=O(C.charAt(R)))==="L")return!1;if(I==="R")return!0}return!1},H=function(C,I,R,W){var Z,X,re,z,ne=I[W];switch(ne){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(ne="AN");break;case"AL":b=!0,ne="R";break;case"WS":ne="N";break;case"CS":W<1||W+1>=I.length||(Z=R[W-1])!=="EN"&&Z!=="AN"||(X=I[W+1])!=="EN"&&X!=="AN"?ne="N":b&&(X="AN"),ne=X===Z?X:"N";break;case"ES":ne=(Z=W>0?R[W-1]:"B")==="EN"&&W+1<I.length&&I[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&R[W-1]==="EN"){ne="EN";break}if(b){ne="N";break}for(re=W+1,z=I.length;re<z&&I[re]==="ET";)re++;ne=re<z&&I[re]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(z=I.length,re=W+1;re<z&&I[re]==="NSM";)re++;if(re<z){var ie=C[W],ye=ie>=1425&&ie<=2303||ie===64286;if(Z=I[re],ye&&(Z==="R"||Z==="AL")){ne="R";break}}}ne=W<1||(Z=I[W-1])==="B"?"N":R[W-1];break;case"B":b=!1,i=!0,ne=P;break;case"S":s=!0,ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":ne="N"}return ne},A=function(C,I,R){var W=C.split("");return R&&x(W,R,{hiLevel:P}),W.reverse(),I&&I.reverse(),W.join("")},x=function(C,I,R){var W,Z,X,re,z,ne=-1,ie=C.length,ye=0,F=[],Y=P?p:m,ee=[];for(b=!1,i=!1,s=!1,Z=0;Z<ie;Z++)ee[Z]=O(C[Z]);for(X=0;X<ie;X++){if(z=ye,F[X]=H(C,ee,F,X),W=240&(ye=Y[z][v[F[X]]]),ye&=15,I[X]=re=Y[ye][5],W>0)if(W===16){for(Z=ne;Z<X;Z++)I[Z]=1;ne=-1}else ne=-1;if(Y[ye][6])ne===-1&&(ne=X);else if(ne>-1){for(Z=ne;Z<X;Z++)I[Z]=re;ne=-1}ee[X]==="B"&&(I[X]=0),R.hiLevel|=re}s&&function(Q,ae,de){for(var he=0;he<de;he++)if(Q[he]==="S"){ae[he]=P;for(var ve=he-1;ve>=0&&Q[ve]==="WS";ve--)ae[ve]=P}}(ee,I,ie)},T=function(C,I,R,W,Z){if(!(Z.hiLevel<C)){if(C===1&&P===1&&!i)return I.reverse(),void(R&&R.reverse());for(var X,re,z,ne,ie=I.length,ye=0;ye<ie;){if(W[ye]>=C){for(z=ye+1;z<ie&&W[z]>=C;)z++;for(ne=ye,re=z-1;ne<re;ne++,re--)X=I[ne],I[ne]=I[re],I[re]=X,R&&(X=R[ne],R[ne]=R[re],R[re]=X);ye=z}ye++}}},M=function(C,I,R){var W=C.split(""),Z={hiLevel:P};return R||(R=[]),x(W,R,Z),function(X,re,z){if(z.hiLevel!==0&&c)for(var ne,ie=0;ie<X.length;ie++)re[ie]===1&&(ne=k.indexOf(X[ie]))>=0&&(X[ie]=k[ne+1])}(W,R,Z),T(2,W,I,R,Z),T(1,W,I,R,Z),W.join("")};return this.__bidiEngine__.doBidiReorder=function(C,I,R){if(function(Z,X){if(X)for(var re=0;re<Z.length;re++)X[re]=re;a===void 0&&(a=j(Z)),u===void 0&&(u=j(Z))}(C,I),o||!l||u)if(o&&l&&a^u)P=a?1:0,C=A(C,I,R);else if(!o&&l&&u)P=a?1:0,C=M(C,I,R),C=A(C,I);else if(!o||a||l||u){if(o&&!l&&a^u)C=A(C,I),a?(P=0,C=M(C,I,R)):(P=1,C=M(C,I,R),C=A(C,I));else if(o&&a&&!l&&u)P=1,C=M(C,I,R),C=A(C,I);else if(!o&&!l&&a^u){var W=c;a?(P=1,C=M(C,I,R),P=0,c=!1,C=M(C,I,R),c=W):(P=0,C=M(C,I,R),C=A(C,I),P=1,c=!1,C=M(C,I,R),c=W,C=A(C,I))}}else P=0,C=M(C,I,R);else P=a?1:0,C=M(C,I,R);return C},this.__bidiEngine__.setOptions=function(C){C&&(o=C.isInputVisual,l=C.isOutputVisual,a=C.isInputRtl,u=C.isOutputRtl,c=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(ft),ft.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new tu(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Lz(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new hz(this.contents),this.head=new pz(this),this.name=new wz(this),this.cmap=new j3(this),this.toUnicode={},this.hhea=new mz(this),this.maxp=new bz(this),this.hmtx=new _z(this),this.post=new vz(this),this.os2=new gz(this),this.loca=new kz(this),this.glyf=new Ez(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Js,tu=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),hz=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,u,c,h,m,p,v,_;for(_ in p=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(p)/l),o=Math.floor(h/l),c=16*p-h,(i=new tu).writeInt(this.scalarType),i.writeShort(p),i.writeShort(h),i.writeShort(o),i.writeShort(c),s=16*p,u=i.pos+s,a=null,v=[],n)for(m=n[_],i.writeString(_),i.writeInt(t(m)),i.writeInt(u),i.writeInt(m.length),v=v.concat(m),_==="head"&&(a=u),u+=m.length;u%4;)v.push(0),u++;return i.write(v),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=B3.call(n);n.length%4;)n.push(0);for(s=new tu(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),fz={}.hasOwnProperty,Oo=function(t,e){for(var n in e)fz.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Js=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var pz=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,Js),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new tu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),RS=function(){function t(e,n){var r,i,s,o,a,l,u,c,h,m,p,v,_,k,w,b,P;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),m=p/2,e.pos+=6,s=function(){var O,j;for(j=[],l=O=0;0<=m?O<m:O>m;l=0<=m?++O:--O)j.push(e.readUInt16());return j}(),e.pos+=2,_=function(){var O,j;for(j=[],l=O=0;0<=m?O<m:O>m;l=0<=m?++O:--O)j.push(e.readUInt16());return j}(),u=function(){var O,j;for(j=[],l=O=0;0<=m?O<m:O>m;l=0<=m?++O:--O)j.push(e.readUInt16());return j}(),c=function(){var O,j;for(j=[],l=O=0;0<=m?O<m:O>m;l=0<=m?++O:--O)j.push(e.readUInt16());return j}(),i=(this.length-e.pos+this.offset)/2,a=function(){var O,j;for(j=[],l=O=0;0<=i?O<i:O>i;l=0<=i?++O:--O)j.push(e.readUInt16());return j}(),l=w=0,P=s.length;w<P;l=++w)for(k=s[l],r=b=v=_[l];v<=k?b<=k:b>=k;r=v<=k?++b:--b)c[l]===0?o=r+u[l]:(o=a[c[l]/2+(r-v)-(m-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=h}return t.encode=function(e,n){var r,i,s,o,a,l,u,c,h,m,p,v,_,k,w,b,P,O,j,H,A,x,T,M,C,I,R,W,Z,X,re,z,ne,ie,ye,F,Y,ee,Q,ae,de,he,ve,Se,ke,je;switch(W=new tu,o=Object.keys(e).sort(function(Be,st){return Be-st}),n){case"macroman":for(_=0,k=function(){var Be=[];for(v=0;v<256;++v)Be.push(0);return Be}(),b={0:0},s={},Z=0,ne=o.length;Z<ne;Z++)b[ve=e[i=o[Z]]]==null&&(b[ve]=++_),s[i]={old:e[i],new:b[e[i]]},k[i]=b[e[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(k),{charMap:s,subtable:W.data,maxGlyphID:_+1};case"unicode":for(I=[],h=[],P=0,b={},r={},w=u=null,X=0,ie=o.length;X<ie;X++)b[j=e[i=o[X]]]==null&&(b[j]=++P),r[i]={old:j,new:b[j]},a=b[j]-i,w!=null&&a===u||(w&&h.push(w),I.push(i),u=a),w=i;for(w&&h.push(w),h.push(65535),I.push(65535),M=2*(T=I.length),x=2*Math.pow(Math.log(T)/Math.LN2,2),m=Math.log(x/2)/Math.LN2,A=2*T-x,l=[],H=[],p=[],v=re=0,ye=I.length;re<ye;v=++re){if(C=I[v],c=h[v],C===65535){l.push(0),H.push(0);break}if(C-(R=r[C].new)>=32768)for(l.push(0),H.push(2*(p.length+T-v)),i=z=C;C<=c?z<=c:z>=c;i=C<=c?++z:--z)p.push(r[i].new);else l.push(R-C),H.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*T+2*p.length),W.writeUInt16(0),W.writeUInt16(M),W.writeUInt16(x),W.writeUInt16(m),W.writeUInt16(A),de=0,F=h.length;de<F;de++)i=h[de],W.writeUInt16(i);for(W.writeUInt16(0),he=0,Y=I.length;he<Y;he++)i=I[he],W.writeUInt16(i);for(Se=0,ee=l.length;Se<ee;Se++)a=l[Se],W.writeUInt16(a);for(ke=0,Q=H.length;ke<Q;ke++)O=H[ke],W.writeUInt16(O);for(je=0,ae=p.length;je<ae;je++)_=p[je],W.writeUInt16(_);return{charMap:r,subtable:W.data,maxGlyphID:P+1}}},t}(),j3=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,Js),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new RS(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=RS.encode(n,r),(s=new tu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),mz=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,Js),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),gz=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,Js),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),vz=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,Js),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,u;for(u=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)u.push(n.readUInt32());return u}).call(this)}},e}(),yz=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},wz=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,Js),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,u,c,h,m,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=h=0,m=i.length;h<m;o=++h)s=i[o],n.pos=s.offset,c=n.readString(s.length),a=new yz(c,s),u[p=s.nameID]==null&&(u[p]=[]),u[s.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),bz=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,Js),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),_z=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,Js),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,h;for(h=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)h.push(n.readInt16());return h}(),this.widths=(function(){var c,h,m,p;for(p=[],c=0,h=(m=this.metrics).length;c<h;c++)o=m[c],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],u=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),B3=[].slice,Ez=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,Js),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,u,c,h,m;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new tu(r.read(s))).readShort(),c=l.readShort(),m=l.readShort(),u=l.readShort(),h=l.readShort(),this.cache[n]=a===-1?new Sz(l,c,m,u,h):new xz(l,a,c,m,u,h),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,u;for(a=[],o=[],l=0,u=r.length;l<u;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),xz=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Sz=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new tu(B3.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),kz=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Oo(e,Js),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],u=this.offsets[a+1]-l;u>0&&(s+=u)}for(var c=new Array(4*i.length),h=0;h<i.length;++h)c[4*h+3]=255&i[h],c[4*h+2]=(65280&i[h])>>8,c[4*h+1]=(16711680&i[h])>>16,c[4*h]=(4278190080&i[h])>>24;return c},e}(),Lz=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,u,c,h,m,p,v,_,k,w;for(i in r=j3.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(v in m=r.maxGlyphID,o)v in p||(p[v]=m++);return c=function(b){var P,O;for(P in O={},b)O[b[P]]=P;return O}(p),h=Object.keys(c).sort(function(b,P){return b-P}),_=function(){var b,P,O;for(O=[],b=0,P=h.length;b<P;b++)a=h[b],O.push(c[a]);return O}(),s=this.font.glyf.encode(o,_,p),u=this.font.loca.encode(s.offsets,_),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t}();ft.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const Cz=async t=>{try{const e=await fetch("https://astrobalendar-backend.onrender.com/api/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){let r="";try{const i=await e.json();r=i.detail||JSON.stringify(i),console.error("Backend error:",r),nn.error(`Prediction failed: ${r}`)}catch{r="Unknown backend error",nn.error(`Prediction failed: ${e.status}`)}throw new Error(`API call failed with status: ${e.status} - ${r}`)}return await e.json()}catch(e){throw console.error("Prediction error:",e),nn.error("Prediction error: "+(e instanceof Error?e.message:"Unknown error occurred")),e}},V3=6048e5,Tz=864e5,V0=6e4,U0=36e5,Pz=1e3,MS=Symbol.for("constructDateFrom");function fn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&MS in t?t[MS](e):t instanceof Date?new t.constructor(e):new Date(e)}function it(t,e){return fn(e||t,t)}function $s(t,e,n){const r=it(t,n==null?void 0:n.in);return isNaN(e)?fn((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Gs(t,e,n){const r=it(t,n==null?void 0:n.in);if(isNaN(e))return fn(t,NaN);if(!e)return r;const i=r.getDate(),s=fn(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function U3(t,e,n){return fn(t,+it(t)+e)}function Az(t,e,n){return U3(t,e*U0)}let Iz={};function Lc(){return Iz}function Aa(t,e){var a,l,u,c;const n=Lc(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=it(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function rh(t,e){return Aa(t,{...e,weekStartsOn:1})}function z3(t,e){const n=it(t,e==null?void 0:e.in),r=n.getFullYear(),i=fn(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=rh(i),o=fn(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=rh(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function Ev(t){const e=it(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Oa(t,...e){const n=fn.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function mc(t,e){const n=it(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function ih(t,e,n){const[r,i]=Oa(n==null?void 0:n.in,t,e),s=mc(r),o=mc(i),a=+s-Ev(s),l=+o-Ev(o);return Math.round((a-l)/Tz)}function Nz(t,e){const n=z3(t,e),r=fn(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),rh(r)}function pw(t,e,n){const r=it(t,n==null?void 0:n.in);return r.setTime(r.getTime()+e*V0),r}function Eb(t,e,n){return Gs(t,e*3,n)}function Dz(t,e,n){return U3(t,e*1e3)}function xv(t,e,n){return $s(t,e*7,n)}function ga(t,e,n){return Gs(t,e*12,n)}function OS(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=fn.bind(null,i));const s=it(i,r);(!n||n<s||isNaN(+s))&&(n=s)}),fn(r,n||NaN)}function FS(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=fn.bind(null,i));const s=it(i,r);(!n||n>s||isNaN(+s))&&(n=s)}),fn(r,n||NaN)}function Rz(t,e,n){const[r,i]=Oa(n==null?void 0:n.in,t,e);return+mc(r)==+mc(i)}function va(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Sv(t){return!(!va(t)&&typeof t!="number"||isNaN(+it(t)))}function kv(t,e,n){const[r,i]=Oa(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}function ec(t,e){const n=it(t,e==null?void 0:e.in);return Math.trunc(n.getMonth()/3)+1}function Lv(t,e,n){const[r,i]=Oa(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=ec(r)-ec(i);return s*4+o}function Cv(t,e,n){const[r,i]=Oa(n==null?void 0:n.in,t,e);return r.getFullYear()-i.getFullYear()}function Mz(t,e,n){const[r,i]=Oa(n==null?void 0:n.in,t,e),s=jS(r,i),o=Math.abs(ih(r,i));r.setDate(r.getDate()-s*o);const a=+(jS(r,i)===-s),l=s*(o-a);return l===0?0:l}function jS(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function q3(t,e){const n=it(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function $3(t,e){const n=it(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function mw(t,e){const n=it(t,e==null?void 0:e.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function H3(t,e){const n=it(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function W3(t,e){const n=it(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function z0(t,e){const n=it(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Oz(t,e){var a,l;const n=Lc(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=it(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const Fz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jz=(t,e,n)=>{let r;const i=Fz[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function c1(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Bz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Uz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zz={date:c1({formats:Bz,defaultWidth:"full"}),time:c1({formats:Vz,defaultWidth:"full"}),dateTime:c1({formats:Uz,defaultWidth:"full"})},qz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$z=(t,e,n,r)=>qz[t];function ef(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Hz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Qz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jz=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Xz={ordinalNumber:Jz,era:ef({values:Hz,defaultWidth:"wide"}),quarter:ef({values:Wz,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ef({values:Yz,defaultWidth:"wide"}),day:ef({values:Gz,defaultWidth:"wide"}),dayPeriod:ef({values:Kz,defaultWidth:"wide",formattingValues:Qz,defaultFormattingWidth:"wide"})};function tf(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?eq(a,h=>h.test(o)):Zz(a,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function Zz(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function eq(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function tq(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const nq=/^(\d+)(th|st|nd|rd)?/i,rq=/\d+/i,iq={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sq={any:[/^b/i,/^(a|c)/i]},oq={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aq={any:[/1/i,/2/i,/3/i,/4/i]},lq={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uq={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cq={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pq={ordinalNumber:tq({matchPattern:nq,parsePattern:rq,valueCallback:t=>parseInt(t,10)}),era:tf({matchPatterns:iq,defaultMatchWidth:"wide",parsePatterns:sq,defaultParseWidth:"any"}),quarter:tf({matchPatterns:oq,defaultMatchWidth:"wide",parsePatterns:aq,defaultParseWidth:"any",valueCallback:t=>t+1}),month:tf({matchPatterns:lq,defaultMatchWidth:"wide",parsePatterns:uq,defaultParseWidth:"any"}),day:tf({matchPatterns:cq,defaultMatchWidth:"wide",parsePatterns:dq,defaultParseWidth:"any"}),dayPeriod:tf({matchPatterns:hq,defaultMatchWidth:"any",parsePatterns:fq,defaultParseWidth:"any"})},Y3={code:"en-US",formatDistance:jz,formatLong:zz,formatRelative:$z,localize:Xz,match:pq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mq(t,e){const n=it(t,e==null?void 0:e.in);return ih(n,z0(n))+1}function xb(t,e){const n=it(t,e==null?void 0:e.in),r=+rh(n)-+Nz(n);return Math.round(r/V3)+1}function Sb(t,e){var c,h,m,p;const n=it(t,e==null?void 0:e.in),r=n.getFullYear(),i=Lc(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(m=i.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=fn((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Aa(o,e),l=fn((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=Aa(l,e);return+n>=+a?r+1:+n>=+u?r:r-1}function gq(t,e){var a,l,u,c;const n=Lc(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=Sb(t,e),s=fn((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Aa(s,e)}function G3(t,e){const n=it(t,e==null?void 0:e.in),r=+Aa(n,e)-+gq(n,e);return Math.round(r/V3)+1}function cn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const gl={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return cn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):cn(n+1,2)},d(t,e){return cn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return cn(t.getHours()%12||12,e.length)},H(t,e){return cn(t.getHours(),e.length)},m(t,e){return cn(t.getMinutes(),e.length)},s(t,e){return cn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return cn(i,e.length)}},ed={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},BS={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return gl.y(t,e)},Y:function(t,e,n,r){const i=Sb(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return cn(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):cn(s,e.length)},R:function(t,e){const n=z3(t);return cn(n,e.length)},u:function(t,e){const n=t.getFullYear();return cn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return cn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return cn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return gl.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return cn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=G3(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):cn(i,e.length)},I:function(t,e,n){const r=xb(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):cn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):gl.d(t,e)},D:function(t,e,n){const r=mq(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):cn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return cn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return cn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return cn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ed.noon:r===0?i=ed.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ed.evening:r>=12?i=ed.afternoon:r>=4?i=ed.morning:i=ed.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return gl.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):gl.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):cn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):cn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):gl.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):gl.s(t,e)},S:function(t,e){return gl.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return US(r);case"XXXX":case"XX":return Vu(r);case"XXXXX":case"XXX":default:return Vu(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return US(r);case"xxxx":case"xx":return Vu(r);case"xxxxx":case"xxx":default:return Vu(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+VS(r,":");case"OOOO":default:return"GMT"+Vu(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+VS(r,":");case"zzzz":default:return"GMT"+Vu(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return cn(r,e.length)},T:function(t,e,n){return cn(+t,e.length)}};function VS(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+cn(s,2)}function US(t,e){return t%60===0?(t>0?"-":"+")+cn(Math.abs(t)/60,2):Vu(t,e)}function Vu(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=cn(Math.trunc(r/60),2),s=cn(r%60,2);return n+i+e+s}const zS=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},K3=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},vq=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return zS(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",zS(r,e)).replace("{{time}}",K3(i,e))},gw={p:K3,P:vq},yq=/^D+$/,wq=/^Y+$/,bq=["D","DD","YY","YYYY"];function _q(t){return yq.test(t)}function Eq(t){return wq.test(t)}function xq(t,e,n){const r=Sq(t,e,n);if(console.warn(r),bq.includes(t))throw new RangeError(r)}function Sq(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cq=/^'([^]*?)'?$/,Tq=/''/g,Pq=/[a-zA-Z]/;function qS(t,e,n){var c,h,m,p,v,_,k,w;const r=Lc(),i=(n==null?void 0:n.locale)??r.locale??Y3,s=(n==null?void 0:n.firstWeekContainsDate)??((h=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((_=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((w=(k=r.locale)==null?void 0:k.options)==null?void 0:w.weekStartsOn)??0,a=it(t,n==null?void 0:n.in);if(!Sv(a))throw new RangeError("Invalid time value");let l=e.match(Lq).map(b=>{const P=b[0];if(P==="p"||P==="P"){const O=gw[P];return O(b,i.formatLong)}return b}).join("").match(kq).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const P=b[0];if(P==="'")return{isToken:!1,value:Aq(b)};if(BS[P])return{isToken:!0,value:b};if(P.match(Pq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(b=>{if(!b.isToken)return b.value;const P=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Eq(P)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&_q(P))&&xq(P,e,String(t));const O=BS[P[0]];return O(a,P,i.localize,u)}).join("")}function Aq(t){const e=t.match(Cq);return e?e[1].replace(Tq,"'"):t}function $S(t,e){return it(t,e==null?void 0:e.in).getDate()}function Iq(t,e){return it(t,e==null?void 0:e.in).getDay()}function Nq(t,e){const n=it(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),s=fn(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function Dq(){return Object.assign({},Lc())}function ya(t,e){return it(t,e==null?void 0:e.in).getHours()}function Rq(t,e){const n=it(t,e==null?void 0:e.in).getDay();return n===0?7:n}function wa(t,e){return it(t,e==null?void 0:e.in).getMinutes()}function mi(t,e){return it(t,e==null?void 0:e.in).getMonth()}function ql(t){return it(t).getSeconds()}function vw(t){return+it(t)}function Dt(t,e){return it(t,e==null?void 0:e.in).getFullYear()}function nu(t,e){return+it(t)>+it(e)}function gc(t,e){return+it(t)<+it(e)}function Mq(t,e){return+it(t)==+it(e)}function Oq(t,e){const n=Fq(e)?new e(0):fn(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function Fq(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const jq=10;class Q3{constructor(){Xe(this,"subPriority",0)}validate(e,n){return!0}}class Bq extends Q3{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class Vq extends Q3{constructor(n,r){super();Xe(this,"priority",jq);Xe(this,"subPriority",-1);this.context=n||(i=>fn(r,i))}set(n,r){return r.timestampIsSet?n:fn(n,Oq(n,this.context))}}class Zt{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new Bq(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class Uq extends Zt{constructor(){super(...arguments);Xe(this,"priority",140);Xe(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const Zn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},_o={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function er(t,e){return t&&{value:e(t.value),rest:t.rest}}function Dn(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Eo(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*U0+s*V0+o*Pz),rest:e.slice(n[0].length)}}function J3(t){return Dn(Zn.anyDigitsSigned,t)}function qn(t,e){switch(t){case 1:return Dn(Zn.singleDigit,e);case 2:return Dn(Zn.twoDigits,e);case 3:return Dn(Zn.threeDigits,e);case 4:return Dn(Zn.fourDigits,e);default:return Dn(new RegExp("^\\d{1,"+t+"}"),e)}}function Tv(t,e){switch(t){case 1:return Dn(Zn.singleDigitSigned,e);case 2:return Dn(Zn.twoDigitsSigned,e);case 3:return Dn(Zn.threeDigitsSigned,e);case 4:return Dn(Zn.fourDigitsSigned,e);default:return Dn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function kb(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function X3(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function Z3(t){return t%400===0||t%4===0&&t%100!==0}class zq extends Zt{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return er(qn(4,n),s);case"yo":return er(i.ordinalNumber(n,{unit:"year"}),s);default:return er(qn(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=X3(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class qq extends Zt{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return er(qn(4,n),s);case"Yo":return er(i.ordinalNumber(n,{unit:"year"}),s);default:return er(qn(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=Sb(n,s);if(i.isTwoDigitYear){const l=X3(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Aa(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),Aa(n,s)}}class $q extends Zt{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return Tv(r==="R"?4:r.length,n)}set(n,r,i){const s=fn(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),rh(s)}}class Hq extends Zt{constructor(){super(...arguments);Xe(this,"priority",130);Xe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return Tv(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class Wq extends Zt{constructor(){super(...arguments);Xe(this,"priority",120);Xe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return qn(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class Yq extends Zt{constructor(){super(...arguments);Xe(this,"priority",120);Xe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return qn(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class Gq extends Zt{constructor(){super(...arguments);Xe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Xe(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return er(Dn(Zn.month,n),s);case"MM":return er(qn(2,n),s);case"Mo":return er(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class Kq extends Zt{constructor(){super(...arguments);Xe(this,"priority",110);Xe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return er(Dn(Zn.month,n),s);case"LL":return er(qn(2,n),s);case"Lo":return er(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function Qq(t,e,n){const r=it(t,n==null?void 0:n.in),i=G3(r,n)-e;return r.setDate(r.getDate()-i*7),it(r,n==null?void 0:n.in)}class Jq extends Zt{constructor(){super(...arguments);Xe(this,"priority",100);Xe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Dn(Zn.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return qn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return Aa(Qq(n,i,s),s)}}function Xq(t,e,n){const r=it(t,n==null?void 0:n.in),i=xb(r,n)-e;return r.setDate(r.getDate()-i*7),r}class Zq extends Zt{constructor(){super(...arguments);Xe(this,"priority",100);Xe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Dn(Zn.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return qn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return rh(Xq(n,i))}}const e$=[31,28,31,30,31,30,31,31,30,31,30,31],t$=[31,29,31,30,31,30,31,31,30,31,30,31];class n$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"subPriority",1);Xe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Dn(Zn.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return qn(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=Z3(i),o=n.getMonth();return s?r>=1&&r<=t$[o]:r>=1&&r<=e$[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class r$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"subpriority",1);Xe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Dn(Zn.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return qn(r.length,n)}}validate(n,r){const i=n.getFullYear();return Z3(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function Lb(t,e,n){var h,m,p,v;const r=Lc(),i=(n==null?void 0:n.weekStartsOn)??((m=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??r.weekStartsOn??((v=(p=r.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,s=it(t,n==null?void 0:n.in),o=s.getDay(),l=(e%7+7)%7,u=7-i,c=e<0||e>6?e-(o+u)%7:(l+u)%7-(o+u)%7;return $s(s,c,n)}class i$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Lb(n,i,s),n.setHours(0,0,0,0),n}}class s$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return er(qn(r.length,n),o);case"eo":return er(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Lb(n,i,s),n.setHours(0,0,0,0),n}}class o$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return er(qn(r.length,n),o);case"co":return er(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=Lb(n,i,s),n.setHours(0,0,0,0),n}}function a$(t,e,n){const r=it(t,n==null?void 0:n.in),i=Rq(r,n),s=e-i;return $s(r,s,n)}class l$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",90);Xe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return qn(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return er(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return er(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return er(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return er(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=a$(n,i),n.setHours(0,0,0,0),n}}class u$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",80);Xe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(kb(i),0,0,0),n}}class c$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",80);Xe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(kb(i),0,0,0),n}}class d$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",80);Xe(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(kb(i),0,0,0),n}}class h$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Dn(Zn.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return qn(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class f$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Dn(Zn.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return qn(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class p$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Dn(Zn.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return qn(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class m$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",70);Xe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Dn(Zn.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return qn(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class g$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",60);Xe(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Dn(Zn.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return qn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class v$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",50);Xe(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Dn(Zn.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return qn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class y$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",30);Xe(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return er(qn(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class w$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",10);Xe(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Eo(_o.basicOptionalMinutes,n);case"XX":return Eo(_o.basic,n);case"XXXX":return Eo(_o.basicOptionalSeconds,n);case"XXXXX":return Eo(_o.extendedOptionalSeconds,n);case"XXX":default:return Eo(_o.extended,n)}}set(n,r,i){return r.timestampIsSet?n:fn(n,n.getTime()-Ev(n)-i)}}class b$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",10);Xe(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Eo(_o.basicOptionalMinutes,n);case"xx":return Eo(_o.basic,n);case"xxxx":return Eo(_o.basicOptionalSeconds,n);case"xxxxx":return Eo(_o.extendedOptionalSeconds,n);case"xxx":default:return Eo(_o.extended,n)}}set(n,r,i){return r.timestampIsSet?n:fn(n,n.getTime()-Ev(n)-i)}}class _$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",40);Xe(this,"incompatibleTokens","*")}parse(n){return J3(n)}set(n,r,i){return[fn(n,i*1e3),{timestampIsSet:!0}]}}class E$ extends Zt{constructor(){super(...arguments);Xe(this,"priority",20);Xe(this,"incompatibleTokens","*")}parse(n){return J3(n)}set(n,r,i){return[fn(n,i),{timestampIsSet:!0}]}}const x$={G:new Uq,y:new zq,Y:new qq,R:new $q,u:new Hq,Q:new Wq,q:new Yq,M:new Gq,L:new Kq,w:new Jq,I:new Zq,d:new n$,D:new r$,E:new i$,e:new s$,c:new o$,i:new l$,a:new u$,b:new c$,B:new d$,h:new h$,H:new f$,K:new p$,k:new m$,m:new g$,s:new v$,S:new y$,X:new w$,x:new b$,t:new _$,T:new E$},S$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,k$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,L$=/^'([^]*?)'?$/,C$=/''/g,T$=/\S/,P$=/[a-zA-Z]/;function A$(t,e,n,r){var k,w,b,P,O,j,H,A;const i=()=>fn((r==null?void 0:r.in)||n,NaN),s=Dq(),o=(r==null?void 0:r.locale)??s.locale??Y3,a=(r==null?void 0:r.firstWeekContainsDate)??((w=(k=r==null?void 0:r.locale)==null?void 0:k.options)==null?void 0:w.firstWeekContainsDate)??s.firstWeekContainsDate??((P=(b=s.locale)==null?void 0:b.options)==null?void 0:P.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((j=(O=r==null?void 0:r.locale)==null?void 0:O.options)==null?void 0:j.weekStartsOn)??s.weekStartsOn??((A=(H=s.locale)==null?void 0:H.options)==null?void 0:A.weekStartsOn)??0;if(!e)return t?i():it(n,r==null?void 0:r.in);const u={firstWeekContainsDate:a,weekStartsOn:l,locale:o},c=[new Vq(r==null?void 0:r.in,n)],h=e.match(k$).map(x=>{const T=x[0];if(T in gw){const M=gw[T];return M(x,o.formatLong)}return x}).join("").match(S$),m=[];for(let x of h){const T=x[0],M=x$[T];if(M){const{incompatibleTokens:C}=M;if(Array.isArray(C)){const R=m.find(W=>C.includes(W.token)||W.token===T);if(R)throw new RangeError(`The format string mustn't contain \`${R.fullToken}\` and \`${x}\` at the same time`)}else if(M.incompatibleTokens==="*"&&m.length>0)throw new RangeError(`The format string mustn't contain \`${x}\` and any other token at the same time`);m.push({token:T,fullToken:x});const I=M.run(t,x,o.match,u);if(!I)return i();c.push(I.setter),t=I.rest}else{if(T.match(P$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");if(x==="''"?x="'":T==="'"&&(x=I$(x)),t.indexOf(x)===0)t=t.slice(x.length);else return i()}}if(t.length>0&&T$.test(t))return i();const p=c.map(x=>x.priority).sort((x,T)=>T-x).filter((x,T,M)=>M.indexOf(x)===T).map(x=>c.filter(T=>T.priority===x).sort((T,M)=>M.subPriority-T.subPriority)).map(x=>x[0]);let v=it(n,r==null?void 0:r.in);if(isNaN(+v))return i();const _={};for(const x of p){if(!x.validate(v,u))return i();const T=x.set(v,_,u);Array.isArray(T)?(v=T[0],Object.assign(_,T[1])):v=T}return v}function I$(t){return t.match(L$)[1].replace(C$,"'")}function N$(t,e,n){const[r,i]=Oa(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function D$(t,e,n){const[r,i]=Oa(n==null?void 0:n.in,t,e);return+mw(r)==+mw(i)}function R$(t,e,n){const[r,i]=Oa(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}function fp(t,e,n){const r=+it(t,n==null?void 0:n.in),[i,s]=[+it(e.start,n==null?void 0:n.in),+it(e.end,n==null?void 0:n.in)].sort((o,a)=>o-a);return r>=i&&r<=s}function M$(t,e,n){return $s(t,-1,n)}function O$(t,e){const n=()=>fn(e==null?void 0:e.in,NaN),i=V$(t);let s;if(i.date){const u=U$(i.date,2);s=z$(u.restDateString,u.year)}if(!s||isNaN(+s))return n();const o=+s;let a=0,l;if(i.time&&(a=q$(i.time),isNaN(a)))return n();if(i.timezone){if(l=$$(i.timezone),isNaN(l))return n()}else{const u=new Date(o+a),c=it(0,e==null?void 0:e.in);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return it(o+a+l,e==null?void 0:e.in)}const Fm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},F$=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,j$=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,B$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function V$(t){const e={},n=t.split(Fm.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Fm.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Fm.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Fm.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function U$(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function z$(t,e){if(e===null)return new Date(NaN);const n=t.match(F$);if(!n)return new Date(NaN);const r=!!n[4],i=nf(n[1]),s=nf(n[2])-1,o=nf(n[3]),a=nf(n[4]),l=nf(n[5])-1;if(r)return K$(e,a,l)?H$(e,a,l):new Date(NaN);{const u=new Date(0);return!Y$(e,s,o)||!G$(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}}function nf(t){return t?parseInt(t):1}function q$(t){const e=t.match(j$);if(!e)return NaN;const n=d1(e[1]),r=d1(e[2]),i=d1(e[3]);return Q$(n,r,i)?n*U0+r*V0+i*1e3:NaN}function d1(t){return t&&parseFloat(t.replace(",","."))||0}function $$(t){if(t==="Z")return 0;const e=t.match(B$);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return J$(r,i)?n*(r*U0+i*V0):NaN}function H$(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const W$=[31,null,31,30,31,30,31,31,30,31,30,31];function eI(t){return t%400===0||t%4===0&&t%100!==0}function Y$(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(W$[e]||(eI(t)?29:28))}function G$(t,e){return e>=1&&e<=(eI(t)?366:365)}function K$(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Q$(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function J$(t,e){return e>=0&&e<=59}function us(t,e,n){const r=it(t,n==null?void 0:n.in),i=r.getFullYear(),s=r.getDate(),o=fn(t,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const a=Nq(o);return r.setMonth(e,Math.min(s,a)),r}function bg(t,e,n){const r=it(t,n==null?void 0:n.in);return r.setHours(e),r}function _g(t,e,n){const r=it(t,n==null?void 0:n.in);return r.setMinutes(e),r}function ad(t,e,n){const r=it(t,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return us(r,r.getMonth()+s*3)}function Eg(t,e,n){const r=it(t,n==null?void 0:n.in);return r.setSeconds(e),r}function vo(t,e,n){const r=it(t,n==null?void 0:n.in);return isNaN(+r)?fn(t,NaN):(r.setFullYear(e),r)}function tc(t,e,n){return Gs(t,-e,n)}function tI(t,e,n){return Eb(t,-1,n)}function HS(t,e,n){return xv(t,-1,n)}function sh(t,e,n){return ga(t,-e,n)}function q0(){return typeof window<"u"}function Eh(t){return nI(t)?(t.nodeName||"").toLowerCase():"#document"}function Ki(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Fo(t){var e;return(e=(nI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function nI(t){return q0()?t instanceof Node||t instanceof Ki(t).Node:!1}function gi(t){return q0()?t instanceof Element||t instanceof Ki(t).Element:!1}function Ro(t){return q0()?t instanceof HTMLElement||t instanceof Ki(t).HTMLElement:!1}function WS(t){return!q0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ki(t).ShadowRoot}function Op(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=bs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function X$(t){return["table","td","th"].includes(Eh(t))}function $0(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Cb(t){const e=Tb(),n=gi(t)?bs(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Z$(t){let e=ru(t);for(;Ro(e)&&!oh(e);){if(Cb(e))return e;if($0(e))return null;e=ru(e)}return null}function Tb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oh(t){return["html","body","#document"].includes(Eh(t))}function bs(t){return Ki(t).getComputedStyle(t)}function H0(t){return gi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ru(t){if(Eh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||WS(t)&&t.host||Fo(t);return WS(e)?e.host:e}function rI(t){const e=ru(t);return oh(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ro(e)&&Op(e)?e:rI(e)}function pp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=rI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ki(i);if(s){const a=yw(o);return e.concat(o,o.visualViewport||[],Op(i)?i:[],a&&n?pp(a):[])}return e.concat(i,pp(i,[],n))}function yw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const ah=Math.min,nc=Math.max,Pv=Math.round,jm=Math.floor,Io=t=>({x:t,y:t}),eH={left:"right",right:"left",bottom:"top",top:"bottom"},tH={start:"end",end:"start"};function nH(t,e,n){return nc(t,ah(e,n))}function W0(t,e){return typeof t=="function"?t(e):t}function lh(t){return t.split("-")[0]}function Fp(t){return t.split("-")[1]}function rH(t){return t==="x"?"y":"x"}function Pb(t){return t==="y"?"height":"width"}function Md(t){return["top","bottom"].includes(lh(t))?"y":"x"}function Ab(t){return rH(Md(t))}function iH(t,e,n){n===void 0&&(n=!1);const r=Fp(t),i=Ab(t),s=Pb(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Av(o)),[o,Av(o)]}function sH(t){const e=Av(t);return[ww(t),e,ww(e)]}function ww(t){return t.replace(/start|end/g,e=>tH[e])}function oH(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function aH(t,e,n,r){const i=Fp(t);let s=oH(lh(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(ww)))),s}function Av(t){return t.replace(/left|right|bottom|top/g,e=>eH[e])}function lH(t){return{top:0,right:0,bottom:0,left:0,...t}}function iI(t){return typeof t!="number"?lH(t):{top:t,right:t,bottom:t,left:t}}function Iv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}var Nv=typeof document<"u"?S.useLayoutEffect:S.useEffect;const uH={...Tw},cH=uH.useInsertionEffect,dH=cH||(t=>t());function hH(t){const e=S.useRef(()=>{});return dH(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function YS(t,e,n){let{reference:r,floating:i}=t;const s=Md(e),o=Ab(e),a=Pb(o),l=lh(e),u=s==="y",c=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:c,y:r.y-i.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Fp(e)){case"start":p[o]-=m*(n&&u?-1:1);break;case"end":p[o]+=m*(n&&u?-1:1);break}return p}const fH=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:h}=YS(u,r,l),m=r,p={},v=0;for(let _=0;_<a.length;_++){const{name:k,fn:w}=a[_],{x:b,y:P,data:O,reset:j}=await w({x:c,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});c=b??c,h=P??h,p={...p,[k]:{...p[k],...O}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(m=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):j.rects),{x:c,y:h}=YS(u,m,l)),_=-1)}return{x:c,y:h,placement:m,strategy:i,middlewareData:p}};async function pH(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=W0(e,t),v=iI(p),k=a[m?h==="floating"?"reference":"floating":h],w=Iv(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(k)))==null||n?k:k.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),b=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),O=await(s.isElement==null?void 0:s.isElement(P))?await(s.getScale==null?void 0:s.getScale(P))||{x:1,y:1}:{x:1,y:1},j=Iv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:P,strategy:l}):b);return{top:(w.top-j.top+v.top)/O.y,bottom:(j.bottom-w.bottom+v.bottom)/O.y,left:(w.left-j.left+v.left)/O.x,right:(j.right-w.right+v.right)/O.x}}const mH=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=W0(t,e)||{};if(u==null)return{};const h=iI(c),m={x:n,y:r},p=Ab(i),v=Pb(p),_=await o.getDimensions(u),k=p==="y",w=k?"top":"left",b=k?"bottom":"right",P=k?"clientHeight":"clientWidth",O=s.reference[v]+s.reference[p]-m[p]-s.floating[v],j=m[p]-s.reference[p],H=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let A=H?H[P]:0;(!A||!await(o.isElement==null?void 0:o.isElement(H)))&&(A=a.floating[P]||s.floating[v]);const x=O/2-j/2,T=A/2-_[v]/2-1,M=ah(h[w],T),C=ah(h[b],T),I=M,R=A-_[v]-C,W=A/2-_[v]/2+x,Z=nH(I,W,R),X=!l.arrow&&Fp(i)!=null&&W!==Z&&s.reference[v]/2-(W<I?M:C)-_[v]/2<0,re=X?W<I?W-I:W-R:0;return{[p]:m[p]+re,data:{[p]:Z,centerOffset:W-Z-re,...X&&{alignmentOffset:re}},reset:X}}}),gH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:_=!0,...k}=W0(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=lh(i),b=Md(a),P=lh(a)===a,O=await(l.isRTL==null?void 0:l.isRTL(u.floating)),j=m||(P||!_?[Av(a)]:sH(a)),H=v!=="none";!m&&H&&j.push(...aH(a,_,v,O));const A=[a,...j],x=await pH(e,k),T=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&T.push(x[w]),h){const Z=iH(i,o,O);T.push(x[Z[0]],x[Z[1]])}if(M=[...M,{placement:i,overflows:T}],!T.every(Z=>Z<=0)){var C,I;const Z=(((C=s.flip)==null?void 0:C.index)||0)+1,X=A[Z];if(X){var R;const z=h==="alignment"?b!==Md(X):!1,ne=((R=M[0])==null?void 0:R.overflows[0])>0;if(!z||ne)return{data:{index:Z,overflows:M},reset:{placement:X}}}let re=(I=M.filter(z=>z.overflows[0]<=0).sort((z,ne)=>z.overflows[1]-ne.overflows[1])[0])==null?void 0:I.placement;if(!re)switch(p){case"bestFit":{var W;const z=(W=M.filter(ne=>{if(H){const ie=Md(ne.placement);return ie===b||ie==="y"}return!0}).map(ne=>[ne.placement,ne.overflows.filter(ie=>ie>0).reduce((ie,ye)=>ie+ye,0)]).sort((ne,ie)=>ne[1]-ie[1])[0])==null?void 0:W[0];z&&(re=z);break}case"initialPlacement":re=a;break}if(i!==re)return{reset:{placement:re}}}return{}}}};async function vH(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=lh(n),a=Fp(n),l=Md(n)==="y",u=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,h=W0(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(p=a==="end"?v*-1:v),l?{x:p*c,y:m*u}:{x:m*u,y:p*c}}const yH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await vH(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function sI(t){const e=bs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ro(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Pv(n)!==s||Pv(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function Ib(t){return gi(t)?t:t.contextElement}function Od(t){const e=Ib(t);if(!Ro(e))return Io(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=sI(e);let o=(s?Pv(n.width):n.width)/r,a=(s?Pv(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const wH=Io(0);function oI(t){const e=Ki(t);return!Tb()||!e.visualViewport?wH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function bH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ki(t)?!1:e}function vc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Ib(t);let o=Io(1);e&&(r?gi(r)&&(o=Od(r)):o=Od(t));const a=bH(s,n,r)?oI(s):Io(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,h=i.height/o.y;if(s){const m=Ki(s),p=r&&gi(r)?Ki(r):r;let v=m,_=yw(v);for(;_&&r&&p!==v;){const k=Od(_),w=_.getBoundingClientRect(),b=bs(_),P=w.left+(_.clientLeft+parseFloat(b.paddingLeft))*k.x,O=w.top+(_.clientTop+parseFloat(b.paddingTop))*k.y;l*=k.x,u*=k.y,c*=k.x,h*=k.y,l+=P,u+=O,v=Ki(_),_=yw(v)}}return Iv({width:c,height:h,x:l,y:u})}function Nb(t,e){const n=H0(t).scrollLeft;return e?e.left+n:vc(Fo(t)).left+n}function aI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Nb(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function _H(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Fo(r),a=e?$0(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Io(1);const c=Io(0),h=Ro(r);if((h||!h&&!s)&&((Eh(r)!=="body"||Op(o))&&(l=H0(r)),Ro(r))){const p=vc(r);u=Od(r),c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}const m=o&&!h&&!s?aI(o,l,!0):Io(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+m.x,y:n.y*u.y-l.scrollTop*u.y+c.y+m.y}}function EH(t){return Array.from(t.getClientRects())}function xH(t){const e=Fo(t),n=H0(t),r=t.ownerDocument.body,i=nc(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=nc(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Nb(t);const a=-n.scrollTop;return bs(r).direction==="rtl"&&(o+=nc(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function SH(t,e){const n=Ki(t),r=Fo(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=Tb();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function kH(t,e){const n=vc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ro(t)?Od(t):Io(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function GS(t,e,n){let r;if(e==="viewport")r=SH(t,n);else if(e==="document")r=xH(Fo(t));else if(gi(e))r=kH(e,n);else{const i=oI(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Iv(r)}function lI(t,e){const n=ru(t);return n===e||!gi(n)||oh(n)?!1:bs(n).position==="fixed"||lI(n,e)}function LH(t,e){const n=e.get(t);if(n)return n;let r=pp(t,[],!1).filter(a=>gi(a)&&Eh(a)!=="body"),i=null;const s=bs(t).position==="fixed";let o=s?ru(t):t;for(;gi(o)&&!oh(o);){const a=bs(o),l=Cb(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Op(o)&&!l&&lI(t,o))?r=r.filter(c=>c!==o):i=a,o=ru(o)}return e.set(t,r),r}function CH(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?$0(e)?[]:LH(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const h=GS(e,c,i);return u.top=nc(h.top,u.top),u.right=ah(h.right,u.right),u.bottom=ah(h.bottom,u.bottom),u.left=nc(h.left,u.left),u},GS(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function TH(t){const{width:e,height:n}=sI(t);return{width:e,height:n}}function PH(t,e,n){const r=Ro(e),i=Fo(e),s=n==="fixed",o=vc(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Io(0);function u(){l.x=Nb(i)}if(r||!r&&!s)if((Eh(e)!=="body"||Op(i))&&(a=H0(e)),r){const p=vc(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&u();s&&!r&&i&&u();const c=i&&!r&&!s?aI(i,a):Io(0),h=o.left+a.scrollLeft-l.x-c.x,m=o.top+a.scrollTop-l.y-c.y;return{x:h,y:m,width:o.width,height:o.height}}function h1(t){return bs(t).position==="static"}function KS(t,e){if(!Ro(t)||bs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Fo(t)===n&&(n=n.ownerDocument.body),n}function uI(t,e){const n=Ki(t);if($0(t))return n;if(!Ro(t)){let i=ru(t);for(;i&&!oh(i);){if(gi(i)&&!h1(i))return i;i=ru(i)}return n}let r=KS(t,e);for(;r&&X$(r)&&h1(r);)r=KS(r,e);return r&&oh(r)&&h1(r)&&!Cb(r)?n:r||Z$(t)||n}const AH=async function(t){const e=this.getOffsetParent||uI,n=this.getDimensions,r=await n(t.floating);return{reference:PH(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function IH(t){return bs(t).direction==="rtl"}const NH={convertOffsetParentRelativeRectToViewportRelativeRect:_H,getDocumentElement:Fo,getClippingRect:CH,getOffsetParent:uI,getElementRects:AH,getClientRects:EH,getDimensions:TH,getScale:Od,isElement:gi,isRTL:IH};function cI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function DH(t,e){let n=null,r;const i=Fo(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:c,top:h,width:m,height:p}=u;if(a||e(),!m||!p)return;const v=jm(h),_=jm(i.clientWidth-(c+m)),k=jm(i.clientHeight-(h+p)),w=jm(c),P={rootMargin:-v+"px "+-_+"px "+-k+"px "+-w+"px",threshold:nc(0,ah(1,l))||1};let O=!0;function j(H){const A=H[0].intersectionRatio;if(A!==l){if(!O)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!cI(u,t.getBoundingClientRect())&&o(),O=!1}try{n=new IntersectionObserver(j,{...P,root:i.ownerDocument})}catch{n=new IntersectionObserver(j,P)}n.observe(t)}return o(!0),s}function RH(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=Ib(t),c=i||s?[...u?pp(u):[],...pp(e)]:[];c.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const h=u&&a?DH(u,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(w=>{let[b]=w;b&&b.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var P;(P=p)==null||P.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let v,_=l?vc(t):null;l&&k();function k(){const w=vc(t);_&&!cI(_,w)&&n(),_=w,v=requestAnimationFrame(k)}return n(),()=>{var w;c.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),h==null||h(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const MH=yH,OH=gH,QS=mH,FH=(t,e,n)=>{const r=new Map,i={platform:NH,...n},s={...i.platform,_c:r};return fH(t,e,{...i,platform:s})};var xg=typeof document<"u"?S.useLayoutEffect:S.useEffect;function Dv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Dv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function dI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function JS(t,e){const n=dI(t);return Math.round(e*n)/n}function f1(t){const e=S.useRef(t);return xg(()=>{e.current=t}),e}function jH(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[c,h]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=S.useState(r);Dv(m,r)||p(r);const[v,_]=S.useState(null),[k,w]=S.useState(null),b=S.useCallback(z=>{z!==H.current&&(H.current=z,_(z))},[]),P=S.useCallback(z=>{z!==A.current&&(A.current=z,w(z))},[]),O=s||v,j=o||k,H=S.useRef(null),A=S.useRef(null),x=S.useRef(c),T=l!=null,M=f1(l),C=f1(i),I=f1(u),R=S.useCallback(()=>{if(!H.current||!A.current)return;const z={placement:e,strategy:n,middleware:m};C.current&&(z.platform=C.current),FH(H.current,A.current,z).then(ne=>{const ie={...ne,isPositioned:I.current!==!1};W.current&&!Dv(x.current,ie)&&(x.current=ie,Na.flushSync(()=>{h(ie)}))})},[m,e,n,C,I]);xg(()=>{u===!1&&x.current.isPositioned&&(x.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[u]);const W=S.useRef(!1);xg(()=>(W.current=!0,()=>{W.current=!1}),[]),xg(()=>{if(O&&(H.current=O),j&&(A.current=j),O&&j){if(M.current)return M.current(O,j,R);R()}},[O,j,R,M,T]);const Z=S.useMemo(()=>({reference:H,floating:A,setReference:b,setFloating:P}),[b,P]),X=S.useMemo(()=>({reference:O,floating:j}),[O,j]),re=S.useMemo(()=>{const z={position:n,left:0,top:0};if(!X.floating)return z;const ne=JS(X.floating,c.x),ie=JS(X.floating,c.y);return a?{...z,transform:"translate("+ne+"px, "+ie+"px)",...dI(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:ie}},[n,a,X.floating,c.x,c.y]);return S.useMemo(()=>({...c,update:R,refs:Z,elements:X,floatingStyles:re}),[c,R,Z,X,re])}const BH=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?QS({element:r.current,padding:i}).fn(n):{}:r?QS({element:r,padding:i}).fn(n):{}}}},VH=(t,e)=>({...MH(t),options:[t,e]}),UH=(t,e)=>({...OH(t),options:[t,e]}),zH=(t,e)=>({...BH(t),options:[t,e]}),qH={...Tw};let XS=!1,$H=0;const ZS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+$H++;function HH(){const[t,e]=S.useState(()=>XS?ZS():void 0);return Nv(()=>{t==null&&e(ZS())},[]),S.useEffect(()=>{XS=!0},[]),t}const WH=qH.useId,hI=WH||HH,YH=S.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:u=0,strokeWidth:c=0,staticOffset:h,stroke:m,d:p,style:{transform:v,..._}={},...k}=e,w=hI(),[b,P]=S.useState(!1);if(Nv(()=>{if(!i)return;bs(i).direction==="rtl"&&P(!0)},[i]),!i)return null;const[O,j]=r.split("-"),H=O==="top"||O==="bottom";let A=h;(H&&o!=null&&o.x||!H&&o!=null&&o.y)&&(A=null);const x=c*2,T=x/2,M=a/2*(u/-8+1),C=l/2*u/4,I=!!p,R=A&&j==="end"?"bottom":"top";let W=A&&j==="end"?"right":"left";A&&b&&(W=j==="end"?"left":"right");const Z=(s==null?void 0:s.x)!=null?A||s.x:"",X=(s==null?void 0:s.y)!=null?A||s.y:"",re=p||"M0,0"+(" H"+a)+(" L"+(a-M)+","+(l-C))+(" Q"+a/2+","+l+" "+M+","+(l-C))+" Z",z={top:I?"rotate(180deg)":"",left:I?"rotate(90deg)":"rotate(-90deg)",bottom:I?"":"rotate(180deg)",right:I?"rotate(-90deg)":"rotate(90deg)"}[O];return B.jsxs("svg",{...k,"aria-hidden":!0,ref:n,width:I?a:a+x,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[W]:Z,[R]:X,[O]:H||I?"100%":"calc(100% - "+x/2+"px)",transform:[z,v].filter(ne=>!!ne).join(" "),..._},children:[x>0&&B.jsx("path",{clipPath:"url(#"+w+")",fill:"none",stroke:m,strokeWidth:x+(p?0:1),d:re}),B.jsx("path",{stroke:x&&!p?k.fill:"none",d:re}),B.jsx("clipPath",{id:w,children:B.jsx("rect",{x:-T,y:T*(I?-1:1),width:a+x,height:a})})]})});function GH(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var r;(r=t.get(e))==null||r.delete(n)}}}const KH=S.createContext(null),QH=S.createContext(null),JH=()=>{var t;return((t=S.useContext(KH))==null?void 0:t.id)||null},XH=()=>S.useContext(QH);function ZH(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=hI(),s=S.useRef({}),[o]=S.useState(()=>GH()),a=JH()!=null,[l,u]=S.useState(r.reference),c=hH((p,v,_)=>{s.current.openEvent=p?v:void 0,o.emit("openchange",{open:p,event:v,reason:_,nested:a}),n==null||n(p,v,_)}),h=S.useMemo(()=>({setPositionReference:u}),[]),m=S.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return S.useMemo(()=>({dataRef:s,open:e,onOpenChange:c,elements:m,events:o,floatingId:i,refs:h}),[e,c,m,o,i,h])}function eW(t){t===void 0&&(t={});const{nodeId:e}=t,n=ZH({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=S.useState(null),[a,l]=S.useState(null),c=(i==null?void 0:i.domReference)||s,h=S.useRef(null),m=XH();Nv(()=>{c&&(h.current=c)},[c]);const p=jH({...t,elements:{...i,...a&&{reference:a}}}),v=S.useCallback(P=>{const O=gi(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),getClientRects:()=>P.getClientRects(),contextElement:P}:P;l(O),p.refs.setReference(O)},[p.refs]),_=S.useCallback(P=>{(gi(P)||P===null)&&(h.current=P,o(P)),(gi(p.refs.reference.current)||p.refs.reference.current===null||P!==null&&!gi(P))&&p.refs.setReference(P)},[p.refs]),k=S.useMemo(()=>({...p.refs,setReference:_,setPositionReference:v,domReference:h}),[p.refs,_,v]),w=S.useMemo(()=>({...p.elements,domReference:c}),[p.elements,c]),b=S.useMemo(()=>({...p,...r,refs:k,elements:w,nodeId:e}),[p,k,w,e,r]);return Nv(()=>{r.dataRef.current.floatingContext=b;const P=m==null?void 0:m.nodesRef.current.find(O=>O.id===e);P&&(P.context=b)}),S.useMemo(()=>({...p,context:b,refs:k,elements:w}),[p,k,w,b])}/*!
  react-datepicker v8.3.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var bw=function(e,n){return bw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},bw(e,n)};function kr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");bw(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Gt=function(){return Gt=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},Gt.apply(this,arguments)};function So(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var tW=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,s=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return xe.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},nW=function(t,e){var n=S.useRef(null),r=S.useRef(t);r.current=t;var i=S.useCallback(function(s){var o,a=s.composed&&s.composedPath&&s.composedPath().find(function(l){return l instanceof Node})||s.target;n.current&&!n.current.contains(a)&&(e&&a instanceof HTMLElement&&a.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,s))},[e]);return S.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},Y0=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,s=t.style,o=t.ignoreClass,a=nW(n,o);return xe.createElement("div",{className:r,style:s,ref:function(l){a.current=l,i&&(i.current=l)}},e)},Ke;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Ke||(Ke={}));function fI(){var t=typeof window<"u"?window:globalThis;return t}var jp=12;function rn(t){if(t==null)return new Date;var e=typeof t=="string"?O$(t):it(t);return G0(e)?e:new Date}function p1(t,e,n,r,i){i===void 0&&(i=rn());for(var s=uh(n)||uh(Db()),o=Array.isArray(e)?e:[e],a=0,l=o;a<l.length;a++){var u=l[a],c=A$(t,u,i,{locale:s});if(G0(c)&&(!r||t===In(c,u,n)))return c}return null}function G0(t,e){return Sv(t)&&!gc(t,new Date("1/1/1800"))}function In(t,e,n){if(n==="en")return qS(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?uh(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||uh(Db()),qS(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ls(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&In(t,i,r)||""}function rW(t,e,n){if(!t)return"";var r=ls(t,n),i=e?ls(e,n):"";return"".concat(r," - ").concat(i)}function iW(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?ls(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=ls(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function m1(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return bg(_g(Eg(t,a),s),r)}function sW(t){return xb(t)}function oW(t,e){return In(t,"ddd",e)}function Sg(t){return mc(t)}function $l(t,e,n){var r=uh(e||Db());return Aa(t,{locale:r,weekStartsOn:n})}function ba(t){return H3(t)}function vf(t){return z0(t)}function ek(t){return mw(t)}function tk(){return mc(rn())}function nk(t){return q3(t)}function aW(t){return Oz(t)}function lW(t){return $3(t)}function yo(t,e){return t&&e?R$(t,e):!t&&!e}function fi(t,e){return t&&e?N$(t,e):!t&&!e}function Rv(t,e){return t&&e?D$(t,e):!t&&!e}function Yt(t,e){return t&&e?Rz(t,e):!t&&!e}function Gu(t,e){return t&&e?Mq(t,e):!t&&!e}function yf(t,e,n){var r,i=mc(e),s=q3(n);try{r=fp(t,{start:i,end:s})}catch{r=!1}return r}function Db(){var t=fI();return t.__localeId__}function uh(t){if(typeof t=="string"){var e=fI();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function uW(t,e,n){return e(In(t,"EEEE",n))}function cW(t,e){return In(t,"EEEEEE",e)}function dW(t,e){return In(t,"EEE",e)}function Rb(t,e){return In(us(rn(),t),"LLLL",e)}function pI(t,e){return In(us(rn(),t),"LLL",e)}function hW(t,e){return In(ad(rn(),t),"QQQ",e)}function hs(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,u=n.filterDate;return Bp(t,{minDate:r,maxDate:i})||s&&s.some(function(c){return c instanceof Date?Yt(t,c):Yt(t,c.date)})||o&&o.some(function(c){var h=c.start,m=c.end;return fp(t,{start:h,end:m})})||a&&!a.some(function(c){return Yt(t,c)})||l&&!l.some(function(c){var h=c.start,m=c.end;return fp(t,{start:h,end:m})})||u&&!u(rn(t))||!1}function Mb(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return fp(t,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?Yt(t,s):Yt(t,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function mI(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return Bp(t,{minDate:r?H3(r):void 0,maxDate:i?$3(i):void 0})||(s==null?void 0:s.some(function(l){return fi(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return fi(t,l)})||a&&!a(rn(t))||!1}function Bm(t,e,n,r){var i=Dt(t),s=mi(t),o=Dt(e),a=mi(e),l=Dt(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function fW(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates;return Bp(t,{minDate:r,maxDate:i})||s&&s.some(function(a){return fi(a instanceof Date?a:a.date,t)})||o&&!o.some(function(a){return fi(a,t)})||!1}function Vm(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return Bp(t,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(l){return Rv(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Rv(t,l)})||a&&!a(rn(t))||!1}function Um(t,e,n){if(!e||!n||!Sv(e)||!Sv(n))return!1;var r=Dt(e),i=Dt(n);return r<=t&&i>=t}function kg(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,l=new Date(t,0,1);return Bp(l,{minDate:r?z0(r):void 0,maxDate:i?W3(i):void 0})||(s==null?void 0:s.some(function(u){return yo(l,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return yo(l,u)})||a&&!a(rn(l))||!1}function zm(t,e,n,r){var i=Dt(t),s=ec(t),o=Dt(e),a=ec(e),l=Dt(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function Bp(t,e){var n,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(n=i&&ih(t,i)<0||s&&ih(t,s)>0)!==null&&n!==void 0?n:!1}function rk(t,e){return e.some(function(n){return ya(n)===ya(t)&&wa(n)===wa(t)&&ql(n)===ql(t)})}function ik(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,s=n.filterTime;return r&&rk(t,r)||i&&!rk(t,i)||s&&!s(t)||!1}function sk(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=rn();i=bg(i,ya(t)),i=_g(i,wa(t)),i=Eg(i,ql(t));var s=rn();s=bg(s,ya(n)),s=_g(s,wa(n)),s=Eg(s,ql(n));var o=rn();o=bg(o,ya(r)),o=_g(o,wa(r)),o=Eg(o,ql(r));var a;try{a=!fp(i,{start:s,end:o})}catch{a=!1}return a}function ok(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=tc(t,1);return r&&kv(r,s)>0||i&&i.every(function(o){return kv(o,s)>0})||!1}function ak(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Gs(t,1);return r&&kv(s,r)>0||i&&i.every(function(o){return kv(s,o)>0})||!1}function pW(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=z0(t),o=tI(s);return r&&Lv(r,o)>0||i&&i.every(function(a){return Lv(a,o)>0})||!1}function mW(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=W3(t),o=Eb(s,1);return r&&Lv(o,r)>0||i&&i.every(function(a){return Lv(o,a)>0})||!1}function lk(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=sh(t,1);return r&&Cv(r,s)>0||i&&i.every(function(o){return Cv(o,s)>0})||!1}function gW(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,s=i===void 0?jp:i,o=vf(sh(t,s)),a=Tl(o,s).endPeriod,l=r&&Dt(r);return l&&l>a||!1}function uk(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=ga(t,1);return r&&Cv(s,r)>0||i&&i.every(function(o){return Cv(s,o)>0})||!1}function vW(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,s=i===void 0?jp:i,o=ga(t,s),a=Tl(o,s).startPeriod,l=r&&Dt(r);return l&&l<a||!1}function gI(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return ih(i,e)>=0});return FS(r)}else return n?FS(n):e}function vI(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return ih(i,e)<=0});return OS(r)}else return n?OS(n):e}function ck(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=t.length;i<s;i++){var o=t[i];if(va(o)){var a=In(o,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof o=="object"){var u=Object.keys(o),c=(n=u[0])!==null&&n!==void 0?n:"",h=o[c];if(typeof c=="string"&&Array.isArray(h))for(var m=0,p=h.length;m<p;m++){var v=h[m];if(v){var a=In(v,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(c)||(l.push(c),r.set(a,l))}}}}return r}function yW(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function wW(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if(va(i)){var o=In(i,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&yW(a.holidayNames,[s]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?So(So([],l,!0),[s],!1):[s],n.set(o,a)}}}),n}function bW(t,e,n,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=t,u=i[a];u&&(l=Az(l,ya(u)),l=pw(l,wa(u)),l=Dz(l,ql(u)));var c=pw(t,(n+1)*r);nu(l,e)&&gc(l,c)&&u!=null&&o.push(u)}return o}function dk(t){return t<10?"0".concat(t):"".concat(t)}function Tl(t,e){e===void 0&&(e=jp);var n=Math.ceil(Dt(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function _W(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function hk(t){var e=t.getSeconds(),n=t.getMilliseconds();return it(t.getTime()-e*1e3-n)}function EW(t,e){return hk(t).getTime()===hk(e).getTime()}function fk(t){if(!va(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function pk(t,e){if(!va(t)||!va(e))throw new Error("Invalid date received");var n=fk(t),r=fk(e);return gc(n,r)}function yI(t){return t.key===Ke.Space}var xW=function(t){kr(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=xe.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),u=l?a:new Date;if(i!=null&&i.includes(":")){var c=i.split(":"),h=c[0],m=c[1];u.setHours(Number(h)),u.setMinutes(Number(m))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,u)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?S.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):xe.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var u;(u=r.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:i,onChange:function(u){r.onTimeChange(u.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return xe.createElement("div",{className:"react-datepicker__input-time-container"},xe.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),xe.createElement("div",{className:"react-datepicker-time__input-container"},xe.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(S.Component),SW=function(t){kr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=S.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Ke.Space&&(r.preventDefault(),r.key=Ke.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isSameDay=function(r){return Yt(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),hs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return Mb(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Yt(n.props.day,$l(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&Yt(r,$l(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=In(i,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var r,i=n.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=In(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:yf(i,s,o)},n.isInSelectingRange=function(){var r,i=n.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,u=i.selectsDisabledDaysInRange,c=i.startDate,h=i.endDate,m=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||a||l)||!m||!u&&n.isDisabled()?!1:o&&h&&(gc(m,h)||Gu(m,h))?yf(s,m,h):a&&c&&!h&&(nu(m,c)||Gu(m,c))||l&&c&&!h&&(nu(m,c)||Gu(m,c))?yf(s,c,m):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.startDate,a=i.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?Yt(s,l):Yt(s,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.endDate,a=i.selectsEnd,l=i.selectsRange,u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||l?Yt(s,u):Yt(s,o)},n.isRangeStart=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:Yt(s,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:Yt(o,i)},n.isWeekend=function(){var r=Iq(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===mi(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(mi(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(rn())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return An("react-datepicker__day",i,"react-datepicker__day--"+oW(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,u=n.isDisabled()||n.isExcluded()?l:o;return"".concat(u," ").concat(In(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,l=In(i,"MM.dd.yyyy"),u=[];return o.has(l)&&u.push.apply(u,o.get(l).holidayNames),n.isExcluded()&&u.push(a==null?void 0:a.filter(function(c){return c instanceof Date?Yt(c,i):Yt(c==null?void 0:c.date,i)}).map(function(c){if(!(c instanceof Date))return c==null?void 0:c.message})),u.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&Yt(i,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents($S(n.props.day),n.props.day):$S(n.props.day)},n.render=function(){return xe.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&xe.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(S.Component),kW=function(t){kr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=S.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Ke.Space&&(r.preventDefault(),r.key=Ke.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Yt(n.props.date,n.props.selected)&&Yt(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Yt(n.props.date,n.props.selected)&&Yt(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Yt(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,s=n.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,a=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&Yt(this.props.date,this.props.selected)};return xe.createElement("div",{ref:this.weekNumberEl,className:An(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(S.Component),LW=function(t){kr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return hs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,s){for(var o,a,l,u=new Date(r),c=0;c<7;c++){var h=new Date(r);h.setDate(h.getDate()+c);var m=!n.isDisabled(h);if(m){u=h;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(u,i,s),n.props.showWeekPicker&&n.handleDayClick(u,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):sW(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=$s(r,6),s=new Date(r);s<=i;){if(!n.isDisabled(s))return!1;s=$s(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;i.push(xe.createElement(kW,Gt({key:"W"},e.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=$s(r,a);return xe.createElement(SW,Gt({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return $l(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Yt(n.startOfWeek(),n.props.selected)&&Yt(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Yt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return xe.createElement("div",{className:An(n)},this.renderDays())},e}(S.Component),rf,CW=6,Fd={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},g1=(rf={},rf[Fd.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},rf[Fd.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},rf[Fd.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},rf),qm=1;function mk(t,e){return t?Fd.FOUR_COLUMNS:e?Fd.TWO_COLUMNS:Fd.THREE_COLUMNS}var TW=function(t){kr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=So([],Array(12),!0).map(function(){return S.createRef()}),n.QUARTER_REFS=So([],Array(4),!0).map(function(){return S.createRef()}),n.isDisabled=function(r){return hs(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return Mb(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,s;(s=(i=n.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:fi(us(s,r),o)},n.isRangeStartQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Rv(ad(s,r),o)},n.isRangeEndMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:fi(us(s,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:Rv(ad(s,r),a)},n.isInSelectingRangeMonth=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,c=s.startDate,h=s.endDate,m=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||u)||!m?!1:a&&h?Bm(m,h,r,o):l&&c||u&&c&&!h?Bm(c,m,r,o):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.startDate,l=s.selectsStart,u=us(o,r),c=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?fi(u,c):fi(u,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.endDate,l=s.selectsEnd,u=s.selectsRange,c=us(o,r),h=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||u?fi(c,h):fi(c,a)},n.isInSelectingRangeQuarter=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,c=s.startDate,h=s.endDate,m=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||u)||!m?!1:a&&h?zm(m,h,r,o):l&&c||u&&c&&!h?zm(c,m,r,o):!1},n.isWeekInMonth=function(r){var i=n.props.day,s=$s(r,6);return fi(r,i)||fi(s,i)},n.isCurrentMonth=function(r,i){return Dt(r)===Dt(rn())&&i===mi(rn())},n.isCurrentQuarter=function(r,i){return Dt(r)===Dt(rn())&&i===ec(rn())},n.isSelectedMonth=function(r,i,s){return mi(s)===i&&Dt(r)===Dt(s)},n.isSelectMonthInList=function(r,i,s){return s.some(function(o){return n.isSelectedMonth(r,i,o)})},n.isSelectedQuarter=function(r,i,s){return ec(r)===i&&Dt(r)===Dt(s)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,s=0,o=!1,a=$l(ba(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(v){return n.props.showWeekPicker?$l(v,n.props.locale,n.props.calendarStartDay):n.props.preSelection},u=function(v){return n.props.showWeekPicker?$l(v,n.props.locale,n.props.calendarStartDay):n.props.selected},c=n.props.selected?u(n.props.selected):void 0,h=n.props.preSelection?l(n.props.preSelection):void 0;r.push(xe.createElement(LW,Gt({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:a,month:mi(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:c,preSelection:h,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,a=xv(a,1);var m=i&&s>=CW,p=!i&&!n.isWeekInMonth(a);if(m||p)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,i){var s=n.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||n.handleDayClick(ba(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||n.handleDayMouseEnter(ba(o))},n.handleMonthNavigation=function(r,i){var s,o,a,l;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,s){var o,a=n.props,l=a.selected,u=a.preSelection,c=a.setPreSelection,h=a.minDate,m=a.maxDate,p=a.showFourColumnMonthYearPicker,v=a.showTwoColumnMonthYearPicker;if(u){var _=mk(p,v),k=n.getVerticalOffset(_),w=(o=g1[_])===null||o===void 0?void 0:o.grid,b=function(A,x,T){var M,C,I=x,R=T;switch(A){case Ke.ArrowRight:I=Gs(x,qm),R=T===11?0:T+qm;break;case Ke.ArrowLeft:I=tc(x,qm),R=T===0?11:T-qm;break;case Ke.ArrowUp:I=tc(x,k),R=!((M=w==null?void 0:w[0])===null||M===void 0)&&M.includes(T)?T+12-k:T-k;break;case Ke.ArrowDown:I=Gs(x,k),R=!((C=w==null?void 0:w[w.length-1])===null||C===void 0)&&C.includes(T)?T-12+k:T+k;break}return{newCalculatedDate:I,newCalculatedMonth:R}},P=function(A,x,T){for(var M=40,C=A,I=!1,R=0,W=b(C,x,T),Z=W.newCalculatedDate,X=W.newCalculatedMonth;!I;){if(R>=M){Z=x,X=T;break}if(h&&Z<h){C=Ke.ArrowRight;var re=b(C,Z,X);Z=re.newCalculatedDate,X=re.newCalculatedMonth}if(m&&Z>m){C=Ke.ArrowLeft;var re=b(C,Z,X);Z=re.newCalculatedDate,X=re.newCalculatedMonth}if(fW(Z,n.props)){var re=b(C,Z,X);Z=re.newCalculatedDate,X=re.newCalculatedMonth}else I=!0;R++}return{newCalculatedDate:Z,newCalculatedMonth:X}};if(i===Ke.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),c==null||c(l));return}var O=P(i,u,s),j=O.newCalculatedDate,H=O.newCalculatedMonth;switch(i){case Ke.ArrowRight:case Ke.ArrowLeft:case Ke.ArrowUp:case Ke.ArrowDown:n.handleMonthNavigation(H,j);break}}},n.getVerticalOffset=function(r){var i,s;return(s=(i=g1[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,i){var s=n.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,l=r.key;l!==Ke.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,l,i),a&&a(r)},n.onQuarterClick=function(r,i){var s=ad(n.props.day,i);Vm(s,n.props)||n.handleDayClick(ek(s),r)},n.onQuarterMouseEnter=function(r){var i=ad(n.props.day,r);Vm(i,n.props)||n.handleDayMouseEnter(ek(i))},n.handleQuarterNavigation=function(r,i){var s,o,a,l;n.isDisabled(i)||n.isExcluded(i)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case Ke.Enter:n.onQuarterClick(r,i),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case Ke.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,Eb(n.props.preSelection,1));break;case Ke.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,tI(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var i,s=n.props,o=s.day,a=s.minDate,l=s.maxDate,u=s.excludeDates,c=s.includeDates,h=us(o,r);return{isDisabled:(i=(a||l||u||c)&&mI(h,n.props))!==null&&i!==void 0?i:!1,labelDate:h}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.preSelection,u=i.monthClassName,c=u?u(us(s,r)):void 0,h=n.getSelection();return An("react-datepicker__month-text","react-datepicker__month-".concat(r),c,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":h?n.isSelectMonthInList(s,r,h):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(s,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?Bm(o,a,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=mi(n.props.preSelection),s=n.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=ec(n.props.preSelection),s=Vm(n.props.day,n.props),o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(r){var i=n.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,u=i.day,c=i.locale,h=us(u,r),m=n.isDisabled(h)||n.isExcluded(h)?l:o;return"".concat(m," ").concat(In(h,"MMMM yyyy",c))},n.getQuarterClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.selected,u=i.minDate,c=i.maxDate,h=i.excludeDates,m=i.includeDates,p=i.filterDate,v=i.preSelection,_=i.disabledKeyboardNavigation,k=(u||c||h||m||p)&&Vm(ad(s,r),n.props);return An("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":k,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(s,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!_&&v&&n.isSelectedQuarter(s,r,v)&&!k,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?zm(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(s,r)})},n.getMonthContent=function(r){var i=n.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,l=i.day,u=pI(r,a),c=Rb(r,a);return o?o(r,u,c,l):s?c:u},n.getQuarterContent=function(r){var i,s=n.props,o=s.renderQuarterContent,a=s.locale,l=hW(r,a);return(i=o==null?void 0:o(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,u=(r=g1[mk(o,s)])===null||r===void 0?void 0:r.grid;return u==null?void 0:u.map(function(c,h){return xe.createElement("div",{className:"react-datepicker__month-wrapper",key:h},c.map(function(m,p){return xe.createElement("div",{ref:n.MONTH_REFS[m],key:p,onClick:function(v){n.onMonthClick(v,m)},onKeyDown:function(v){yI(v)&&(v.preventDefault(),v.key=Ke.Enter),n.onMonthKeyDown(v,m)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(m)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(m)}:void 0,tabIndex:Number(n.getTabIndex(m)),className:n.getMonthClassNames(m),"aria-disabled":n.isMonthDisabled(m),role:"option","aria-label":n.getAriaLabel(m),"aria-current":n.isCurrentMonth(a,m)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,m,l):void 0},n.getMonthContent(m))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,s=r.selected,o=[1,2,3,4];return xe.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return xe.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(u){n.onQuarterClick(u,a)},onKeyDown:function(u){n.onQuarterKeyDown(u,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":s?n.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,u=r.showWeekPicker;return An("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":u})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,s=n.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return xe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(In(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(S.Component),PW=function(t){kr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return xe.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?xe.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return xe.createElement(Y0,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(S.Component),AW=function(t){kr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,s){return xe.createElement("option",{key:i,value:s},i)})},n.renderSelectMode=function(r){return xe.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return xe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},xe.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),xe.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return xe.createElement(PW,Gt({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,s=[n.renderReadView(!i,r)];return i&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return pI(s,n.props.locale)}:function(s){return Rb(s,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return xe.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(S.Component);function IW(t,e){for(var n=[],r=ba(t),i=ba(e);!nu(r,i);)n.push(rn(r)),r=Gs(r,1);return n}var NW=function(t){kr(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=vw(i),o=yo(r.props.date,i)&&fi(r.props.date,i);return xe.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?xe.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",In(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:IW(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=An({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return xe.createElement(Y0,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(S.Component),DW=function(t){kr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=ba(n.props.minDate),i=ba(n.props.maxDate),s=[];!nu(r,i);){var o=vw(r);s.push(xe.createElement("option",{key:o,value:o},In(r,n.props.dateFormat,n.props.locale))),r=Gs(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return xe.createElement("select",{value:vw(ba(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=In(n.props.date,n.props.dateFormat,n.props.locale);return xe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},xe.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),xe.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return xe.createElement(NW,Gt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=rn(r);yo(n.props.date,i)&&fi(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return xe.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(S.Component),RW=function(t){kr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var i,s;(n.props.minTime||n.props.maxTime)&&sk(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&ik(r,n.props)||(s=(i=n.props).onChange)===null||s===void 0||s.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&EW(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&sk(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&ik(r,n.props)},n.liClasses=function(r){var i,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(ya(r)*3600+wa(r)*60+ql(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,i){var s,o;r.key===Ke.Space&&(r.preventDefault(),r.key=Ke.Enter),(r.key===Ke.ArrowUp||r.key===Ke.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Ke.ArrowDown||r.key===Ke.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Ke.Enter&&n.handleClick(i),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.renderTimes=function(){for(var r,i=[],s=typeof n.props.format=="string"?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||rn(),l=Sg(a),u=n.props.injectTimes&&n.props.injectTimes.sort(function(k,w){return k.getTime()-w.getTime()}),c=60*_W(a),h=c/o,m=0;m<h;m++){var p=pw(l,m*o);if(i.push(p),u){var v=bW(l,p,m,o,u);i=i.concat(v)}}var _=i.reduce(function(k,w){return w.getTime()<=a.getTime()?w:k},i[0]);return i.map(function(k){return xe.createElement("li",{key:k.valueOf(),onClick:n.handleClick.bind(n,k),className:n.liClasses(k),ref:function(w){k===_&&(n.centerLi=w)},onKeyDown:function(w){n.handleOnKeyDown(w,k)},tabIndex:k===_?0:-1,role:"option","aria-selected":n.isSelectedTime(k)?"true":void 0,"aria-disabled":n.isDisabledTime(k)?"true":void 0},In(k,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?xe.createElement(xe.Fragment,null):xe.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},xe.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return xe.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),xe.createElement("div",{className:"react-datepicker__time"},xe.createElement("div",{className:"react-datepicker__time-box"},xe.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(S.Component),gk=3,MW=function(t){kr(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=So([],Array(r.props.yearItemNumber),!0).map(function(){return S.createRef()}),r.isDisabled=function(i){return hs(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return Mb(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,l,u,c=r.props,h=c.date,m=c.yearItemNumber;if(!(h===void 0||m===void 0)){var p=Tl(h,m).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-p<0?r.updateFocusOnPaginate(m-(p-i)):i-p>=m?r.updateFocusOnPaginate(Math.abs(m-(i-p))):(u=(l=r.YEAR_REFS[i-p])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())}},r.isSameDay=function(i,s){return Yt(i,s)},r.isCurrentYear=function(i){return i===Dt(rn())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&yo(vo(rn(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&yo(vo(rn(),i),r.props.endDate)},r.isInRange=function(i){return Um(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,u=s.startDate,c=s.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&c?Um(i,r.selectingDate(),c):a&&u||l&&u&&!c?Um(i,u,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,l=o.selectsStart,u=vo(rn(),i);return l?yo(u,(s=r.selectingDate())!==null&&s!==void 0?s:null):yo(u,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,l=o.selectsEnd,u=o.selectsRange,c=vo(rn(),i);return l||u?yo(c,(s=r.selectingDate())!==null&&s!==void 0?s:null):yo(c,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,o=s.minDate,a=s.maxDate,l=s.excludeDates,u=s.includeDates,c=s.filterDate,h=vf(vo(r.props.date,i)),m=(o||a||l||u||c)&&kg(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Yt(h,vf(r.props.selected))&&Yt(h,vf(r.props.preSelection))&&!m}},r.isSelectedYear=function(i){var s=r.props,o=s.selectsMultiple,a=s.selected,l=s.selectedDates;return o?l==null?void 0:l.some(function(u){return i===Dt(u)}):!a||i===Dt(a)},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(vf(vo(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,l=i.key,u=r.props,c=u.date,h=u.yearItemNumber,m=u.handleOnKeyDown;if(l!==Ke.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case Ke.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case Ke.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,ga(r.props.preSelection,1));break;case Ke.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,sh(r.props.preSelection,1));break;case Ke.ArrowUp:{if(c===void 0||h===void 0||r.props.preSelection==null)break;var p=Tl(c,h).startPeriod,v=gk,_=s-v;if(_<p){var k=h%v;s>=p&&s<p+k?v=k:v+=k,_=s-v}r.handleYearNavigation(_,sh(r.props.preSelection,v));break}case Ke.ArrowDown:{if(c===void 0||h===void 0||r.props.preSelection==null)break;var w=Tl(c,h).endPeriod,v=gk,_=s+v;if(_>w){var k=h%v;s<=w&&s>w-k?v=k:v+=k,_=s+v}r.handleYearNavigation(_,ga(r.props.preSelection,v));break}}m&&m(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.minDate,l=s.maxDate,u=s.excludeDates,c=s.includeDates,h=s.filterDate,m=s.yearClassName;return An("react-datepicker__year-text","react-datepicker__year-".concat(i),o?m==null?void 0:m(vo(o,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(a||l||u||c||h)&&kg(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=Dt(r.props.preSelection),o=kg(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(s===void 0)return null;for(var u=Tl(s,o),c=u.startPeriod,h=u.endPeriod,m=function(_){r.push(xe.createElement("div",{ref:p.YEAR_REFS[_-c],onClick:function(k){n.onYearClick(k,_)},onKeyDown:function(k){yI(k)&&(k.preventDefault(),k.key=Ke.Enter),n.onYearKeyDown(k,_)},tabIndex:Number(p.getYearTabIndex(_)),className:p.getYearClassNames(_),onMouseEnter:p.props.usePointerEvent?void 0:function(k){return a(k,_)},onPointerEnter:p.props.usePointerEvent?function(k){return a(k,_)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(k){return l(k,_)},onPointerLeave:p.props.usePointerEvent?function(k){return l(k,_)}:void 0,key:_,"aria-current":p.isCurrentYear(_)?"date":void 0},p.getYearContent(_)))},p=this,v=c;v<=h;v++)m(v);return xe.createElement("div",{className:"react-datepicker__year"},xe.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(S.Component);function OW(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var o=t+e-s,a=!0;n&&(a=Dt(n)<=o),r&&a&&(a=Dt(r)>=o),a&&i.push(o)}return i}var FW=function(t){kr(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(h){return xe.createElement("div",{className:a===h?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:h,onClick:r.onChange.bind(r,h),"aria-selected":a===h?"true":void 0},a===h?xe.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",h)}),u=r.props.minDate?Dt(r.props.minDate):null,c=r.props.maxDate?Dt(r.props.maxDate):null;return(!c||!r.state.yearsList.find(function(h){return h===c}))&&l.unshift(xe.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},xe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(h){return h===u}))&&l.push(xe.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},xe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(u){return u+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:OW(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=S.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=An({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return xe.createElement(Y0,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(S.Component),jW=function(t){kr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?Dt(n.props.minDate):1900,i=n.props.maxDate?Dt(n.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push(xe.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return xe.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return xe.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},xe.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),xe.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return xe.createElement(FW,Gt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var s,o;(o=(s=n.props).onSelect)===null||o===void 0||o.call(s,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return xe.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(S.Component),BW=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],VW=function(t){var e=(t.className||"").split(/\s+/);return BW.some(function(n){return e.indexOf(n)>=0})},UW=function(t){kr(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;VW(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=gI(r.props),u=vI(r.props),c=rn(),h=a||o||s;return h||(l&&gc(c,l)?l:u&&nu(c,u)?u:c)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Gs(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:tc(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:vo(rn(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,a,l;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!hs(i,r.props))return i;for(var s=ba(i),o=lW(i),a=Mz(o,s),l=null,u=0;u<=a;u++){var c=$s(s,u);if(!hs(c,r.props)){l=c;break}}return l},r.handleMonthChange=function(i){var s,o,a,l=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:vo(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:us(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:vo(us(o,mi(i)),Dt(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=$l(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(xe.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=$s(s,a),u=r.formatWeekday(l,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return xe.createElement("div",{key:a,"aria-label":In(l,"EEEE",r.props.locale),className:An("react-datepicker__day-name",c)},u)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?uW(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?dW(i,s):cW(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:sh(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,o;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,u=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,c=tc(r.state.date,u),h;switch(!0){case r.props.showMonthYearPicker:h=lk(r.state.date,r.props);break;case r.props.showYearPicker:h=gW(r.state.date,r.props);break;case r.props.showQuarterYearPicker:h=pW(r.state.date,r.props);break;default:h=ok(c,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&h||r.props.showTimeSelectOnly)){var m=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],v=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(v=r.decreaseYear),h&&r.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),v=void 0);var _=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,k=r.props,w=k.previousMonthButtonLabel,b=w===void 0?e.defaultProps.previousMonthButtonLabel:w,P=k.previousYearButtonLabel,O=P===void 0?e.defaultProps.previousYearButtonLabel:P,j=r.props,H=j.previousMonthAriaLabel,A=H===void 0?typeof b=="string"?b:"Previous Month":H,x=j.previousYearAriaLabel,T=x===void 0?typeof O=="string"?O:"Previous Year":x;return xe.createElement("button",{type:"button",className:p.join(" "),onClick:v,onKeyDown:r.props.handleOnKeyDown,"aria-label":_?T:A},xe.createElement("span",{className:m.join(" ")},_?O:b))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:ga(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=uk(r.state.date,r.props);break;case r.props.showYearPicker:s=vW(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=mW(r.state.date,r.props);break;default:s=ak(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,h=c.nextMonthButtonLabel,m=h===void 0?e.defaultProps.nextMonthButtonLabel:h,p=c.nextYearButtonLabel,v=p===void 0?e.defaultProps.nextYearButtonLabel:p,_=r.props,k=_.nextMonthAriaLabel,w=k===void 0?typeof m=="string"?m:"Next Month":k,b=_.nextYearAriaLabel,P=b===void 0?typeof v=="string"?v:"Next Year":b;return xe.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?P:w},xe.createElement("span",{className:a.join(" ")},u?v:m))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),xe.createElement("h2",{className:s.join(" ")},In(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return xe.createElement(jW,Gt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Dt(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return xe.createElement(AW,Gt({},e.defaultProps,r.props,{month:mi(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return xe.createElement(DW,Gt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(tk(),i),r.props.setPreSelection&&r.props.setPreSelection(tk())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return xe.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return xe.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),xe.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),xe.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var u=ok(r.state.date,r.props),c=ak(r.state.date,r.props),h=lk(r.state.date,r.props),m=uk(r.state.date,r.props),p=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return xe.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,Gt(Gt({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:c,prevYearButtonDisabled:h,nextYearButtonDisabled:m})),p&&xe.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,u=l===void 0?e.defaultProps.yearItemNumber:l,c=Tl(s,u),h=c.startPeriod,m=c.endPeriod;return xe.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(h," - ").concat(m):Dt(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,l={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ga(r.state.date,l):tc(r.state.date,l),c=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,h=0;h<a;++h){var m=h-c+l,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ga(u,m):Gs(u,m),v="month-".concat(h),_=h<a-1,k=h>0;o.push(xe.createElement("div",{key:v,ref:function(w){r.monthContainer=w??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:p,i:h}),xe.createElement(TW,Gt({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:p,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:h,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:_,monthShowsDuplicateDaysStart:k}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return xe.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),xe.createElement(MW,Gt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return xe.createElement(RW,Gt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&G0(i)&&!!r.props.selected,o=s?"".concat(dk(i.getHours()),":").concat(dk(i.getMinutes())):"";if(r.props.showTimeInput)return xe.createElement(xW,Gt({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=Tl(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,l;return r.props.showYearPicker?l="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=Dt(r.state.date):l="".concat(Rb(mi(r.state.date),r.props.locale)," ").concat(Dt(r.state.date)),xe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return xe.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=S.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:jp}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!Yt(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!fi(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Yt(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||tW;return xe.createElement(Y0,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},xe.createElement("div",{style:{display:"contents"},ref:this.containerRef},xe.createElement(n,{className:An("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(S.Component),zW=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return xe.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i});if(xe.isValidElement(e)){var o=e;return xe.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(r),onClick:function(a){typeof o.props.onClick=="function"&&o.props.onClick(a),typeof i=="function"&&i(a)}})}return xe.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},xe.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},wI=function(t){kr(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return XR.createPortal(this.props.children,this.el)},e}(S.Component),qW="[tabindex], a, button, input, select, textarea",$W=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},bI=function(t){kr(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(qW),1,-1).filter($W)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=S.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?xe.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},xe.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,xe.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(S.Component);function HW(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=S.useRef(null),o=eW(Gt({open:!i,whileElementsMounted:RH,placement:n.popperPlacement,middleware:So([UH({padding:15}),VH(10),zH({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=Gt(Gt({},n),{hidePopper:i,popperProps:Gt(Gt({},o),{arrowRef:s})});return xe.createElement(t,Gt({},a))};return e}var WW=function(t){kr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,s=n.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=n.popperComponent,l=n.targetComponent,u=n.enableTabLoop,c=n.popperOnKeyDown,h=n.portalId,m=n.portalHost,p=n.popperProps,v=n.showArrow,_=void 0;if(!o){var k=An("react-datepicker-popper",r);_=xe.createElement(bI,{enableTabLoop:u},xe.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:k,"data-placement":p.placement,onKeyDown:c},a,v&&xe.createElement(YH,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(_=S.createElement(this.props.popperContainer,{},_)),h&&!o&&(_=xe.createElement(wI,{portalId:h,portalHost:m},_));var w=An("react-datepicker-wrapper",i);return xe.createElement(xe.Fragment,null,xe.createElement("div",{ref:p.refs.setReference,className:w},l),_)},e}(S.Component),YW=HW(WW),vk="react-datepicker-ignore-onclickoutside";function GW(t,e){return t&&e?mi(t)!==mi(e)||Dt(t)!==Dt(e):t!==e}var v1="Date input not valid.",KW=function(t){kr(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:rn()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return G0(a)?So(So([],s,!0),[Gt(Gt({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=gI(r.props),a=vI(r.props),l=o&&gc(s,Sg(o))?o:a&&nu(s,nk(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:ck(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Gt(Gt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Gt(Gt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},r.setBlur=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:y1},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return va(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),r.state.preventFocus||((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),l&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o,a,l,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var h=u[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,u),!h||typeof h.isDefaultPrevented!="function"||h.isDefaultPrevented()))){r.setState({inputValue:(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:null,lastPreSelectChange:QW});var m=r.props,p=m.selectsRange,v=m.startDate,_=m.endDate,k=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,w=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,b=(h==null?void 0:h.target)instanceof HTMLInputElement?h.target.value:"";if(p){var P=b.split("-",2).map(function(C){return C.trim()}),O=P[0],j=P[1],H=p1(O??"",k,r.props.locale,w),A=p1(j??"",k,r.props.locale,w),x=(v==null?void 0:v.getTime())!==(H==null?void 0:H.getTime()),T=(_==null?void 0:_.getTime())!==(A==null?void 0:A.getTime());if(!x&&!T||H&&hs(H,r.props)||A&&hs(A,r.props))return;(a=(o=r.props).onChange)===null||a===void 0||a.call(o,[H,A],h)}else{var M=p1(b,k,r.props.locale,w,(l=r.props.selected)!==null&&l!==void 0?l:void 0);(M||!b)&&r.setSelected(M,h,!0)}}},r.handleSelect=function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,u=a.endDate;l&&!u&&(r.props.swapRange||!pk(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,s,o,a){var l,u,c=i;if(r.props.showYearPicker){if(c!==null&&kg(Dt(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&mI(c,r.props))return}else if(c!==null&&hs(c,r.props))return;var h=r.props,m=h.onChange,p=h.selectsRange,v=h.startDate,_=h.endDate,k=h.selectsMultiple,w=h.selectedDates,b=h.minTime,P=h.swapRange;if(!Gu(r.props.selected,c)||r.props.allowSameDay||p||k)if(c!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=m1(c,{hour:ya(r.props.selected),minute:wa(r.props.selected),second:ql(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&b&&(c=m1(c,{hour:b.getHours(),minute:b.getMinutes(),second:b.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),p){var O=!v&&!_,j=v&&!_,H=v&&_;O?m==null||m([c,null],s):j&&(c===null?m==null||m([null,null],s):pk(c,v)?P?m==null||m([c,v],s):m==null||m([c,null],s):m==null||m([v,c],s)),H&&(m==null||m([c,null],s))}else if(k){if(c!==null)if(!(w!=null&&w.length))m==null||m([c],s);else{var A=w.some(function(T){return Yt(T,c)});if(A){var x=w.filter(function(T){return!Yt(T,c)});m==null||m(x,s)}else m==null||m(So(So([],w,!0),[c],!1),s)}}else m==null||m(c,s);o||((u=(l=r.props).onSelect)===null||u===void 0||u.call(l,c,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){var s=va(r.props.minDate),o=va(r.props.maxDate),a=!0;if(i){var l=Sg(i);if(s&&o)a=yf(i,r.props.minDate,r.props.maxDate);else if(s){var u=Sg(r.props.minDate);a=nu(i,u)||Gu(l,u)}else if(o){var c=nk(r.props.maxDate);a=gc(i,c)||Gu(l,c)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:m1(a,{hour:ya(i),minute:wa(i)});r.setState({preSelection:l}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,l,u,c;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var h=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(h===Ke.ArrowDown||h===Ke.ArrowUp||h===Ke.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(h===Ke.ArrowDown||h===Ke.ArrowUp){i.preventDefault();var m=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(m);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var v=rn(r.state.preSelection);h===Ke.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===y1?(r.handleSelect(v,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(v)):r.setOpen(!1)):h===Ke.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):h===Ke.Tab&&r.setOpen(!1),r.inputOk()||(c=(u=r.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:v1})}},r.onPortalKeyDown=function(i){var s=i.key;s===Ke.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,l,u,c,h=r.props,m=h.minDate,p=h.maxDate,v=h.disabledKeyboardNavigation,_=h.showWeekPicker,k=h.shouldCloseOnSelect,w=h.locale,b=h.calendarStartDay,P=h.adjustDateOnChange,O=h.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!v){var j=i.key,H=i.shiftKey,A=rn(r.state.preSelection),x=function(Z,X){var re=X;switch(Z){case Ke.ArrowRight:re=_?xv(X,1):$s(X,1);break;case Ke.ArrowLeft:re=_?HS(X):M$(X);break;case Ke.ArrowUp:re=HS(X);break;case Ke.ArrowDown:re=xv(X,1);break;case Ke.PageUp:re=H?sh(X,1):tc(X,1);break;case Ke.PageDown:re=H?ga(X,1):Gs(X,1);break;case Ke.Home:re=$l(X,w,b);break;case Ke.End:re=aW(X);break}return re},T=function(Z,X){for(var re=40,z=Z,ne=!1,ie=0,ye=x(Z,X);!ne;){if(ie>=re){ye=X;break}m&&ye<m&&(z=Ke.ArrowRight,ye=hs(m,r.props)?x(z,ye):m),p&&ye>p&&(z=Ke.ArrowLeft,ye=hs(p,r.props)?x(z,ye):p),hs(ye,r.props)?((z===Ke.PageUp||z===Ke.Home)&&(z=Ke.ArrowRight),(z===Ke.PageDown||z===Ke.End)&&(z=Ke.ArrowLeft),ye=x(z,ye)):ne=!0,ie++}return ye};if(j===Ke.Enter){i.preventDefault(),r.handleSelect(A,i),!k&&r.setPreSelection(A);return}else if(j===Ke.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:v1});return}var M=null;switch(j){case Ke.ArrowLeft:case Ke.ArrowRight:case Ke.ArrowUp:case Ke.ArrowDown:case Ke.PageUp:case Ke.PageDown:case Ke.Home:case Ke.End:M=T(j,A);break}if(!M){(c=(u=r.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:v1});return}if(i.preventDefault(),r.setState({lastPreSelectChange:y1}),P&&r.setSelected(M),r.setPreSelection(M),O){var C=mi(A),I=mi(M),R=Dt(A),W=Dt(M);C!==I||R!==W?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===Ke.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:xe.createElement(UW,Gt({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:wW(r.modifyHolidays()),outsideClickIgnoreClass:vk,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,u=l?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(ls(r.props.startDate,{dateFormat:u,locale:a}),". ").concat(r.props.endDate?"End date: "+ls(r.props.endDate,{dateFormat:u,locale:a}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(ls(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?c="Selected year: ".concat(ls(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?c="Selected month: ".concat(ls(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(ls(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):c="Selected date: ".concat(ls(r.props.selected,{dateFormat:u,locale:a})),xe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var i,s,o,a=An(r.props.className,(i={},i[vk]=r.state.open,i)),l=r.props.customInput||xe.createElement("input",{type:"text"}),u=r.props.customInputRef||"ref",c=r.props,h=c.dateFormat,m=h===void 0?e.defaultProps.dateFormat:h,p=c.locale,v=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?rW(r.props.startDate,r.props.endDate,{dateFormat:m,locale:p}):r.props.selectsMultiple?iW((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:m,locale:p}):ls(r.props.selected,{dateFormat:m,locale:p});return S.cloneElement(l,(s={},s[u]=function(_){r.input=_},s.value=v,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=An(l.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,u=i.endDate,c=i.clearButtonTitle,h=i.clearButtonClassName,m=h===void 0?"":h,p=i.ariaLabelClose,v=p===void 0?"Close":p,_=i.selectedDates;return s&&(a!=null||l!=null||u!=null||_!=null&&_.length)?xe.createElement("button",{type:"button",className:An("react-datepicker__close-icon",m,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":v,onClick:r.onClearClick,title:c,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:jp,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,s,o,a;n.inline&&GW(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:ck(this.props.highlightDates)}),!r.focused&&!Gu(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),xe.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&xe.createElement(zW,Gt({icon:i,className:An(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?xe.createElement(bI,{enableTabLoop:this.props.enableTabLoop},xe.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=xe.createElement(wI,Gt({portalId:this.props.portalId},this.props),r)),xe.createElement("div",null,this.renderInputContainer(),r)}return xe.createElement(YW,Gt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(S.Component),QW="input",y1="navigate",_I={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(LN,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",h="month",m="quarter",p="year",v="date",_="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(W){var Z=["th","st","nd","rd"],X=W%100;return"["+W+(Z[(X-20)%10]||Z[X]||Z[0])+"]"}},P=function(W,Z,X){var re=String(W);return!re||re.length>=Z?W:""+Array(Z+1-re.length).join(X)+W},O={s:P,z:function(W){var Z=-W.utcOffset(),X=Math.abs(Z),re=Math.floor(X/60),z=X%60;return(Z<=0?"+":"-")+P(re,2,"0")+":"+P(z,2,"0")},m:function W(Z,X){if(Z.date()<X.date())return-W(X,Z);var re=12*(X.year()-Z.year())+(X.month()-Z.month()),z=Z.clone().add(re,h),ne=X-z<0,ie=Z.clone().add(re+(ne?-1:1),h);return+(-(re+(X-z)/(ne?z-ie:ie-z))||0)},a:function(W){return W<0?Math.ceil(W)||0:Math.floor(W)},p:function(W){return{M:h,y:p,w:c,d:u,D:v,h:l,m:a,s:o,ms:s,Q:m}[W]||String(W||"").toLowerCase().replace(/s$/,"")},u:function(W){return W===void 0}},j="en",H={};H[j]=b;var A="$isDayjsObject",x=function(W){return W instanceof I||!(!W||!W[A])},T=function W(Z,X,re){var z;if(!Z)return j;if(typeof Z=="string"){var ne=Z.toLowerCase();H[ne]&&(z=ne),X&&(H[ne]=X,z=ne);var ie=Z.split("-");if(!z&&ie.length>1)return W(ie[0])}else{var ye=Z.name;H[ye]=Z,z=ye}return!re&&z&&(j=z),z||!re&&j},M=function(W,Z){if(x(W))return W.clone();var X=typeof Z=="object"?Z:{};return X.date=W,X.args=arguments,new I(X)},C=O;C.l=T,C.i=x,C.w=function(W,Z){return M(W,{locale:Z.$L,utc:Z.$u,x:Z.$x,$offset:Z.$offset})};var I=function(){function W(X){this.$L=T(X.locale,null,!0),this.parse(X),this.$x=this.$x||X.x||{},this[A]=!0}var Z=W.prototype;return Z.parse=function(X){this.$d=function(re){var z=re.date,ne=re.utc;if(z===null)return new Date(NaN);if(C.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var ie=z.match(k);if(ie){var ye=ie[2]-1||0,F=(ie[7]||"0").substring(0,3);return ne?new Date(Date.UTC(ie[1],ye,ie[3]||1,ie[4]||0,ie[5]||0,ie[6]||0,F)):new Date(ie[1],ye,ie[3]||1,ie[4]||0,ie[5]||0,ie[6]||0,F)}}return new Date(z)}(X),this.init()},Z.init=function(){var X=this.$d;this.$y=X.getFullYear(),this.$M=X.getMonth(),this.$D=X.getDate(),this.$W=X.getDay(),this.$H=X.getHours(),this.$m=X.getMinutes(),this.$s=X.getSeconds(),this.$ms=X.getMilliseconds()},Z.$utils=function(){return C},Z.isValid=function(){return this.$d.toString()!==_},Z.isSame=function(X,re){var z=M(X);return this.startOf(re)<=z&&z<=this.endOf(re)},Z.isAfter=function(X,re){return M(X)<this.startOf(re)},Z.isBefore=function(X,re){return this.endOf(re)<M(X)},Z.$g=function(X,re,z){return C.u(X)?this[re]:this.set(z,X)},Z.unix=function(){return Math.floor(this.valueOf()/1e3)},Z.valueOf=function(){return this.$d.getTime()},Z.startOf=function(X,re){var z=this,ne=!!C.u(re)||re,ie=C.p(X),ye=function(ve,Se){var ke=C.w(z.$u?Date.UTC(z.$y,Se,ve):new Date(z.$y,Se,ve),z);return ne?ke:ke.endOf(u)},F=function(ve,Se){return C.w(z.toDate()[ve].apply(z.toDate("s"),(ne?[0,0,0,0]:[23,59,59,999]).slice(Se)),z)},Y=this.$W,ee=this.$M,Q=this.$D,ae="set"+(this.$u?"UTC":"");switch(ie){case p:return ne?ye(1,0):ye(31,11);case h:return ne?ye(1,ee):ye(0,ee+1);case c:var de=this.$locale().weekStart||0,he=(Y<de?Y+7:Y)-de;return ye(ne?Q-he:Q+(6-he),ee);case u:case v:return F(ae+"Hours",0);case l:return F(ae+"Minutes",1);case a:return F(ae+"Seconds",2);case o:return F(ae+"Milliseconds",3);default:return this.clone()}},Z.endOf=function(X){return this.startOf(X,!1)},Z.$set=function(X,re){var z,ne=C.p(X),ie="set"+(this.$u?"UTC":""),ye=(z={},z[u]=ie+"Date",z[v]=ie+"Date",z[h]=ie+"Month",z[p]=ie+"FullYear",z[l]=ie+"Hours",z[a]=ie+"Minutes",z[o]=ie+"Seconds",z[s]=ie+"Milliseconds",z)[ne],F=ne===u?this.$D+(re-this.$W):re;if(ne===h||ne===p){var Y=this.clone().set(v,1);Y.$d[ye](F),Y.init(),this.$d=Y.set(v,Math.min(this.$D,Y.daysInMonth())).$d}else ye&&this.$d[ye](F);return this.init(),this},Z.set=function(X,re){return this.clone().$set(X,re)},Z.get=function(X){return this[C.p(X)]()},Z.add=function(X,re){var z,ne=this;X=Number(X);var ie=C.p(re),ye=function(ee){var Q=M(ne);return C.w(Q.date(Q.date()+Math.round(ee*X)),ne)};if(ie===h)return this.set(h,this.$M+X);if(ie===p)return this.set(p,this.$y+X);if(ie===u)return ye(1);if(ie===c)return ye(7);var F=(z={},z[a]=r,z[l]=i,z[o]=n,z)[ie]||1,Y=this.$d.getTime()+X*F;return C.w(Y,this)},Z.subtract=function(X,re){return this.add(-1*X,re)},Z.format=function(X){var re=this,z=this.$locale();if(!this.isValid())return z.invalidDate||_;var ne=X||"YYYY-MM-DDTHH:mm:ssZ",ie=C.z(this),ye=this.$H,F=this.$m,Y=this.$M,ee=z.weekdays,Q=z.months,ae=z.meridiem,de=function(Se,ke,je,Be){return Se&&(Se[ke]||Se(re,ne))||je[ke].slice(0,Be)},he=function(Se){return C.s(ye%12||12,Se,"0")},ve=ae||function(Se,ke,je){var Be=Se<12?"AM":"PM";return je?Be.toLowerCase():Be};return ne.replace(w,function(Se,ke){return ke||function(je){switch(je){case"YY":return String(re.$y).slice(-2);case"YYYY":return C.s(re.$y,4,"0");case"M":return Y+1;case"MM":return C.s(Y+1,2,"0");case"MMM":return de(z.monthsShort,Y,Q,3);case"MMMM":return de(Q,Y);case"D":return re.$D;case"DD":return C.s(re.$D,2,"0");case"d":return String(re.$W);case"dd":return de(z.weekdaysMin,re.$W,ee,2);case"ddd":return de(z.weekdaysShort,re.$W,ee,3);case"dddd":return ee[re.$W];case"H":return String(ye);case"HH":return C.s(ye,2,"0");case"h":return he(1);case"hh":return he(2);case"a":return ve(ye,F,!0);case"A":return ve(ye,F,!1);case"m":return String(F);case"mm":return C.s(F,2,"0");case"s":return String(re.$s);case"ss":return C.s(re.$s,2,"0");case"SSS":return C.s(re.$ms,3,"0");case"Z":return ie}return null}(Se)||ie.replace(":","")})},Z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Z.diff=function(X,re,z){var ne,ie=this,ye=C.p(re),F=M(X),Y=(F.utcOffset()-this.utcOffset())*r,ee=this-F,Q=function(){return C.m(ie,F)};switch(ye){case p:ne=Q()/12;break;case h:ne=Q();break;case m:ne=Q()/3;break;case c:ne=(ee-Y)/6048e5;break;case u:ne=(ee-Y)/864e5;break;case l:ne=ee/i;break;case a:ne=ee/r;break;case o:ne=ee/n;break;default:ne=ee}return z?ne:C.a(ne)},Z.daysInMonth=function(){return this.endOf(h).$D},Z.$locale=function(){return H[this.$L]},Z.locale=function(X,re){if(!X)return this.$L;var z=this.clone(),ne=T(X,re,!0);return ne&&(z.$L=ne),z},Z.clone=function(){return C.w(this.$d,this)},Z.toDate=function(){return new Date(this.valueOf())},Z.toJSON=function(){return this.isValid()?this.toISOString():null},Z.toISOString=function(){return this.$d.toISOString()},Z.toString=function(){return this.$d.toUTCString()},W}(),R=I.prototype;return M.prototype=R,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",h],["$y",p],["$D",v]].forEach(function(W){R[W[1]]=function(Z){return this.$g(Z,W[0],W[1])}}),M.extend=function(W,Z){return W.$i||(W(Z,I,M),W.$i=!0),M},M.locale=T,M.isDayjs=x,M.unix=function(W){return M(1e3*W)},M.en=H[j],M.Ls=H,M.p={},M})})(_I);var JW=_I.exports;const yk=$v(JW),XW=({onSubmit:t,loading:e,error:n,initialData:r})=>{const[i,s]=S.useState({fullName:"",dateOfBirth:"",timeOfBirth:"",state:"",city:"",latitude:void 0,longitude:void 0,email:"",mobile:"",locationName:"",timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,...r}),[o,a]=S.useState(r&&r.dateOfBirth?new Date(r.dateOfBirth):null);S.useEffect(()=>{r&&(s(x=>({...x,...r})),r.dateOfBirth&&a(new Date(r.dateOfBirth)))},[r]);const[l,u]=S.useState({}),[c,h]=S.useState(!1),[m,p]=S.useState(!1),[v,_]=S.useState(!1),[k,w]=S.useState(()=>{try{return JSON.parse(localStorage.getItem("astrobalendar_last_locations")||"[]")}catch{return[]}});S.useRef(null);const[b,P]=S.useState([]);S.useEffect(()=>{fetch("/locations").then(x=>x.json()).then(x=>P(x.locations||[])).catch(()=>P([]))},[]),Array.from(new Set(b.map(x=>x.state))),b.filter(x=>x.state===i.state);const O=x=>{if(!/^(\d{2})\/(\d{2})\/(\d{4})$/.test(x))return!1;const[M,C,I]=x.split("/").map(Number),R=new Date(I,C-1,M);return!(R.getFullYear()!==I||R.getMonth()!==C-1||R.getDate()!==M)},j=x=>{const{name:T,value:M}=x.target;s(C=>({...C,[T]:M})),u(C=>({...C,[T]:""}))},H=x=>{a(x),x?(s(T=>({...T,dateOfBirth:yk(x).format("DD/MM/YYYY")})),u(T=>({...T,dateOfBirth:""}))):s(T=>({...T,dateOfBirth:""}))},A=x=>{x.preventDefault();const T={};if(i.fullName||(T.fullName="Full name is required"),(!i.dateOfBirth||!O(i.dateOfBirth))&&(T.dateOfBirth="Date of birth is required and must be DD/MM/YYYY"),i.timeOfBirth||(T.timeOfBirth="Time of birth is required"),i.city||(T.city="City is required"),i.state||(T.state="State is required"),i.locationName||(T.locationName="Place of birth is required"),i.email||(T.email="Email is required"),i.mobile||(T.mobile="Mobile number is required"),u(T),Object.keys(T).length>0)return;const M=b.find(I=>I.name===i.city&&I.state===i.state);if(i.fullName,i.dateOfBirth,i.timeOfBirth,i.state,i.city,M==null||M.latitude,M==null||M.longitude,i.email,i.mobile,i.city+""+i.state,i.timeZone,!i.latitude||!i.longitude||!i.timeZone)try{const I=i.city.trim().toLowerCase(),R=i.state.trim().toLowerCase(),W=`${I}, ${R}, india`;let X={"sholinghur, tamil nadu, india":{latitude:"13.1132",longitude:"79.4182",timeZone:"Asia/Kolkata"},"sholinghur, arcot, tamil nadu, india":{latitude:"13.1132",longitude:"79.4182",timeZone:"Asia/Kolkata"},"sholinghur, vellore, tamil nadu, india":{latitude:"13.1210",longitude:"79.4182",timeZone:"Asia/Kolkata"},"mumbai, maharashtra, india":{latitude:"19.0760",longitude:"72.8777",timeZone:"Asia/Kolkata"},"delhi, delhi, india":{latitude:"28.7041",longitude:"77.1025",timeZone:"Asia/Kolkata"},"kolkata, west bengal, india":{latitude:"22.5726",longitude:"88.3639",timeZone:"Asia/Kolkata"},"hyderabad, telangana, india":{latitude:"17.3850",longitude:"78.4867",timeZone:"Asia/Kolkata"}}[W];if(console.log("Location lookup keys tried:",[W]),X)s(z=>({...z,latitude:Number(X.latitude),longitude:Number(X.longitude),timeZone:X.timeZone}));else throw new Error("Missing or invalid location")}catch(I){console.error("Error getting location data:",I),T.city="Could not find location data",u(T);return}const C={...i,dateOfBirth:o?yk(o).format("YYYY-MM-DD"):i.dateOfBirth,latitude:i.latitude,longitude:i.longitude,timeZone:i.timeZone};console.log("Submitting birth data:",C),t(C)};return B.jsxs("form",{className:"max-w-lg mx-auto mt-8 bg-purple-950 bg-opacity-90 rounded-2xl shadow-2xl p-8 space-y-8 border border-purple-800",onSubmit:A,"aria-label":"Birth Data Form",title:"Birth Data Form",children:[B.jsx("h2",{className:"text-3xl text-white font-bold mb-6 text-center drop-shadow-lg tracking-wide",children:"Enter Your Birth Data"}),B.jsxs("div",{className:"space-y-8",children:[B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"block text-white text-lg font-bold tracking-wide",title:"Full Name",children:"Full Name"}),B.jsx("input",{type:"text",name:"fullName",value:i.fullName,onChange:j,placeholder:"Enter your full name",className:"w-full px-4 py-3 rounded-lg bg-purple-900/70 text-white placeholder-purple-300 border border-purple-700 focus:outline-none focus:ring-2 focus:ring-yellow-400 text-lg","aria-label":"Full Name",autoComplete:"off"}),B.jsx("p",{className:"text-purple-300 text-sm mt-1",children:"Please enter your full name"}),l.fullName&&B.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.fullName})]}),B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"block text-white text-lg font-bold tracking-wide",title:"Date of Birth",children:"Date of Birth"}),B.jsxs("div",{className:"relative flex items-center",children:[B.jsx("span",{className:"absolute left-3 text-purple-300",title:"Calendar",children:B.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[B.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),B.jsx("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),B.jsx(KW,{selected:o,onChange:H,dateFormat:"dd-MM-yyyy",placeholderText:"DD-MM-YYYY",className:"w-full px-4 py-3 pl-10 rounded-lg bg-purple-900/70 text-white placeholder-purple-300 border border-purple-700 focus:outline-none focus:ring-2 focus:ring-yellow-400 text-lg",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date,isClearable:!0,customInput:B.jsx("input",{type:"text",pattern:"\\d{2}-\\d{2}-\\d{4}",onBlur:()=>{u(o?x=>({...x,dateOfBirth:""}):x=>({...x,dateOfBirth:"Date is required"}))},"aria-label":"Date of Birth",title:"Date of Birth",placeholder:"DD-MM-YYYY",className:"w-full px-4 py-3 rounded-lg bg-purple-900/70 text-white placeholder-purple-300 border border-purple-700 focus:outline-none focus:ring-2 focus:ring-yellow-400 text-lg"})})]}),l.dateOfBirth&&B.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.dateOfBirth})]}),B.jsxs("div",{className:"space-y-2",children:[B.jsx("label",{className:"block text-white text-lg font-bold tracking-wide",children:"Time of Birth"}),B.jsxs("div",{className:"relative flex items-center",children:[B.jsx("span",{className:"absolute left-3 text-purple-300",title:"Clock",children:B.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[B.jsx("circle",{cx:"12",cy:"12",r:"10"}),B.jsx("path",{d:"M12 6v6l4 2"})]})}),B.jsx("input",{type:"time",name:"timeOfBirth",value:i.timeOfBirth,onChange:j,className:"w-full px-4 py-2 pl-10 rounded-lg border border-purple-700 focus:outline-none focus:ring-2 focus:ring-yellow-400 text-white bg-purple-900/70 placeholder-purple-300 text-lg","aria-label":"Time of Birth",title:"Enter time in 24-hour format (e.g., 16:30 for 4:30 PM)",placeholder:"HH:mm",step:"60",pattern:"^([01]?[0-9]|2[0-3]):[0-5][0-9]$",onBlur:x=>{x.target.value?/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(x.target.value)?u(T=>({...T,timeOfBirth:""})):u(T=>({...T,timeOfBirth:"Enter time in 24-hour format (e.g., 16:30)"})):u(T=>({...T,timeOfBirth:"Time is required"}))}})]}),B.jsx("p",{className:"text-purple-400 text-sm mt-1",title:"Enter time in 24-hour format (e.g., 16:30 for 4:30 PM)",children:"Enter time in 24-hour format (e.g., 16:30 for 4:30 PM)"}),l.timeOfBirth&&B.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.timeOfBirth})]}),B.jsx("button",{type:"submit",disabled:e,className:"w-full bg-yellow-500 text-purple-900 font-bold px-6 py-3 rounded-lg hover:bg-yellow-400 transition-all duration-300 shadow-lg hover:shadow-yellow-500/50 disabled:opacity-50 disabled:cursor-not-allowed text-lg tracking-wide",children:e?"Loading...":"Get Prediction"})]})]})},ZW=async t=>{const e=Ws(Ys,"users",t,"birthProfile","profile"),n=await Ip(e);return n.exists()?n.data():null},eY=async(t,e)=>{const n=Ws(Ys,"users",t,"birthProfile","profile");await nh(n,e)},tY=({onPrediction:t})=>{const{user:e,userRole:n}=Mo(),[r,i]=S.useState(null),[s,o]=S.useState(null),[a,l]=S.useState(!1),[u,c]=S.useState(null),[h,m]=S.useState(!1),[p,v]=S.useState(null);S.useEffect(()=>{(async()=>{if(e){const b=await ZW(e.uid);b?(v(b),m(!1)):m(!0)}})()},[e]);const _=async w=>{l(!0),c(null);try{e&&(await eY(e.uid,w),v(w),m(!1));const b=await Cz(w,e,n);if(b.prediction||b.prediction_id)i(JSON.stringify(b.prediction,null,2)),o(b.prediction_id||b.predictionId||null),t&&t(b.prediction);else if(b.success)i(JSON.stringify(b.data,null,2)),o(b.predictionId||null),t&&t(b.data);else throw new Error(b.error||"Prediction failed")}catch(b){console.error("Error fetching prediction:",b),c(b instanceof Error?b.message:"Failed to fetch prediction")}finally{l(!1)}},k=()=>{const w=new ft;w.text("Horoscope Report",10,10);const b=p||{};w.text(`Name: ${b.name||""}`,10,20),w.text(`Date: ${b.dateOfBirth||""}`,10,30),w.text(`Time: ${b.timeOfBirth||""}`,10,40),w.text(`Location: ${b.city||""}, ${b.district||""}, ${b.state||""}`,10,50),w.text("Prediction Result:",10,60),w.text(r||"No result",10,70),s&&w.text(`Prediction ID: ${s}`,10,80),w.save("horoscope.pdf")};return B.jsxs("div",{className:"new-horoscope space-y-8",children:[e&&B.jsxs("div",{className:"mb-4 text-lg text-purple-300",children:["Welcome, ",e.displayName||e.email,"!"]}),p&&!h?B.jsxs("div",{className:"bg-purple-900/40 p-4 rounded-lg mb-4",children:[B.jsx("div",{className:"mb-2",children:"Your birth data is saved:"}),B.jsx("pre",{className:"text-purple-200 text-sm whitespace-pre-wrap",children:JSON.stringify(p,null,2)}),B.jsx("button",{className:"mt-2 px-4 py-2 bg-purple-700 text-white rounded hover:bg-purple-600",onClick:()=>m(!0),children:"Edit Birth Info"})]}):B.jsx(XW,{onSubmit:_,loading:a,error:u,initialData:p}),r&&B.jsxs("div",{className:"result-section mt-6",children:[B.jsx("h3",{className:"text-lg font-bold mb-2",children:"Prediction Result"}),B.jsx("pre",{className:"bg-gray-800 text-white rounded-lg p-4 overflow-x-auto whitespace-pre-wrap",children:r}),s&&B.jsxs("div",{className:"mb-4",children:[B.jsx("strong",{children:"Prediction ID:"})," ",s]}),B.jsx("button",{onClick:k,className:"mt-4 px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600",children:"Export as PDF"})]}),B.jsx(PU,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},nY=({data:t})=>{const e=()=>{const n=new ft;n.text("Your Horoscope",10,10),Object.entries(t).forEach(([r,i],s)=>{Array.isArray(i)?(n.text(`${r}:`,10,20+s*20),i.forEach((o,a)=>{n.text(`- ${o}`,10,30+s*20+a*10)})):n.text(`${r}: ${i}`,10,20+s*20)}),n.save("horoscope.pdf")};return B.jsxs("div",{className:"p-6 bg-white rounded shadow",children:[B.jsx("div",{className:"space-y-6",children:t&&Object.entries(t).map(([n,r])=>B.jsxs("div",{className:"border-t pt-4",children:[B.jsx("h3",{className:"font-semibold text-lg mb-2",children:n}),Array.isArray(r)?B.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.map((i,s)=>B.jsx("li",{className:"text-gray-700",children:i},s))}):typeof r=="object"&&r!==null?B.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([i,s])=>B.jsxs("div",{className:"flex items-center",children:[B.jsxs("span",{className:"font-medium w-24",children:[i,":"]}),B.jsx("span",{className:"text-gray-700",children:s})]},i))}):B.jsx("p",{className:"text-gray-700",children:r})]},n))}),B.jsx("button",{onClick:e,className:"mt-6 bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded",children:"Export to PDF"})]})},rY=({onPrediction:t})=>{const[e,n]=S.useState(null),r=i=>{n(i),t&&t(i)};return B.jsx("div",{className:"flex flex-col min-h-screen",children:B.jsx("main",{className:"flex-1 p-6",children:e?B.jsx(nY,{data:e}):B.jsx(tY,{onPrediction:r})})})},iY={data:{moonSign:"Cancer",ascendant:"Leo",sunSign:"Gemini",nakshatra:"Pushya",rasi:"Karkataka",dasa:"Venus",subDasa:"Mercury",planetaryStrength:"Strong",career:"Creative fields, communications",health:"Good overall health with some digestive issues",relationships:"Strong family bonds, stable partnerships"}},sY={},oY=()=>{const[t,e]=S.useState(!1),[n,r]=S.useState(!0),i=()=>{e(!0),r(!1)};return B.jsx("div",{className:"min-h-screen bg-gradient-to-b from-purple-900 via-black to-black text-white font-sans p-4",children:B.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[B.jsx("div",{className:"mb-4",children:B.jsx("button",{onClick:i,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded",children:"Simulate Error"})}),n?B.jsx(W2,{data:iY.data,onBack:()=>window.history.back(),onError:i}):B.jsx(W2,{data:sY.data,onBack:()=>window.history.back()})]})})},aY=S.createContext({birthDataComplete:!1,loading:!0}),EI=()=>S.useContext(aY),lY=()=>{const{user:t,loading:e}=Mo(),{birthDataComplete:n}=EI(),r=Da(),i=(t==null?void 0:t.displayName)||(t==null?void 0:t.email)||"User",s=async()=>{await D5(ma),r("/")};return e?null:B.jsxs("nav",{className:"w-full bg-yellow-600 shadow-lg py-4 px-6 flex items-center justify-between",children:[B.jsx("h1",{className:"text-2xl font-bold text-white tracking-wide",children:"🔮 AstroBalendar"}),B.jsx("div",{className:"space-x-4 flex items-center",children:t?n?B.jsx(B.Fragment,{children:n?B.jsxs(B.Fragment,{children:[B.jsx(Fu,{to:"/dashboard/client",className:"text-white hover:underline",children:"Dashboard"}),B.jsx(Fu,{to:"/new-horoscope",className:"text-white hover:underline",children:"New Horoscope"}),B.jsx("span",{className:"ml-4 font-semibold text-white bg-yellow-700 px-3 py-1 rounded-lg",children:i}),B.jsx("button",{onClick:s,className:"ml-4 bg-white text-yellow-700 px-4 py-2 rounded font-semibold shadow hover:bg-yellow-100 transition",children:"Logout"})]}):B.jsxs(B.Fragment,{children:[B.jsx(Fu,{to:"/birth-data",className:"text-white hover:underline",children:"Birth Data Entry"}),B.jsx("span",{className:"ml-4 font-semibold text-white bg-yellow-700 px-3 py-1 rounded-lg",children:i}),B.jsx("button",{onClick:s,className:"ml-4 bg-white text-yellow-700 px-4 py-2 rounded font-semibold shadow hover:bg-yellow-100 transition",children:"Logout"})]})}):B.jsxs(B.Fragment,{children:[B.jsx(Fu,{to:"/birth-data",className:"text-white hover:underline",children:"Birth Data Entry"}),B.jsx("span",{className:"ml-4 font-semibold text-white bg-yellow-700 px-3 py-1 rounded-lg",children:i}),B.jsx("button",{onClick:s,className:"ml-4 bg-white text-yellow-700 px-4 py-2 rounded font-semibold shadow hover:bg-yellow-100 transition",children:"Logout"})]}):B.jsxs(B.Fragment,{children:[B.jsx(Fu,{to:"/login",children:B.jsx("button",{type:"button",className:"ml-4 bg-white text-yellow-700 px-4 py-2 rounded font-semibold shadow hover:bg-yellow-100 transition",children:"Login"})}),B.jsx(Fu,{to:"/signup",children:B.jsx("button",{type:"button",className:"ml-2 bg-yellow-700 text-white px-4 py-2 rounded font-semibold shadow hover:bg-yellow-800 transition",children:"Sign Up"})})]})})]})};var xI={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(xI);var uY=xI.exports;const cY=$v(uY),dY=["xxl","xl","lg","md","sm","xs"],hY="xs",SI=S.createContext({prefixes:{},breakpoints:dY,minBreakpoint:hY}),{Consumer:kK,Provider:LK}=SI;function fY(t,e){const{prefixes:n}=S.useContext(SI);return t||n[e]||e}const Lg=S.forwardRef(({bsPrefix:t,className:e,as:n="small",muted:r,...i},s)=>(t=fY(t,"form-text"),B.jsx(n,{...i,ref:s,className:cY(e,t,r&&"text-muted")})));Lg.displayName="FormText";function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function pY(t,e){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mY(t){var e=pY(t,"string");return mp(e)=="symbol"?e:e+""}function Pe(t,e,n){return(e=mY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w1,wk;function gY(){if(wk)return w1;wk=1;var t=function(n,r,i,s,o,a,l,u){if(!n){var c;if(r===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[i,s,o,a,l,u],m=0;c=new Error(r.replace(/%s/g,function(){return h[m++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}};return w1=t,w1}var vY=gY(),yr=kI(vY),It=S.createContext(null);function yY(){yr(!!S.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=S.useContext(It);return yr(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function wY(t,e,n){return Object.keys(t).reduce(function(i,s){return e(i,t[s],s)},n)}function bY(t,e){Object.keys(t).forEach(n=>e(t[n],n))}function _Y(t,e,n,r){var i={},s=(o,a)=>{var l=n[a];l!==e[a]&&(i[a]=l,o(r,l))};return bY(t,s),i}function EY(t,e,n){var r=wY(n,function(s,o,a){return typeof t[a]=="function"&&s.push(google.maps.event.addListener(e,o,t[a])),s},[]);return r}function xY(t){google.maps.event.removeListener(t)}function $t(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(xY)}function qt(t){var{updaterMap:e,eventMap:n,prevProps:r,nextProps:i,instance:s}=t,o=EY(i,s,n);return _Y(e,r,i,s),o}function SY(t){var{children:e,options:n,id:r,mapContainerStyle:i,mapContainerClassName:s,center:o,onClick:a,onDblClick:l,onDrag:u,onDragEnd:c,onDragStart:h,onMouseMove:m,onMouseOut:p,onMouseOver:v,onMouseDown:_,onMouseUp:k,onRightClick:w,onCenterChanged:b,onLoad:P,onUnmount:O}=t,[j,H]=S.useState(null),A=S.useRef(null),[x,T]=S.useState(null),[M,C]=S.useState(null),[I,R]=S.useState(null),[W,Z]=S.useState(null),[X,re]=S.useState(null),[z,ne]=S.useState(null),[ie,ye]=S.useState(null),[F,Y]=S.useState(null),[ee,Q]=S.useState(null),[ae,de]=S.useState(null),[he,ve]=S.useState(null),[Se,ke]=S.useState(null);return S.useEffect(()=>{n&&j!==null&&j.setOptions(n)},[j,n]),S.useEffect(()=>{j!==null&&typeof o<"u"&&j.setCenter(o)},[j,o]),S.useEffect(()=>{j&&l&&(M!==null&&google.maps.event.removeListener(M),C(google.maps.event.addListener(j,"dblclick",l)))},[l]),S.useEffect(()=>{j&&c&&(I!==null&&google.maps.event.removeListener(I),R(google.maps.event.addListener(j,"dragend",c)))},[c]),S.useEffect(()=>{j&&h&&(W!==null&&google.maps.event.removeListener(W),Z(google.maps.event.addListener(j,"dragstart",h)))},[h]),S.useEffect(()=>{j&&_&&(X!==null&&google.maps.event.removeListener(X),re(google.maps.event.addListener(j,"mousedown",_)))},[_]),S.useEffect(()=>{j&&m&&(z!==null&&google.maps.event.removeListener(z),ne(google.maps.event.addListener(j,"mousemove",m)))},[m]),S.useEffect(()=>{j&&p&&(ie!==null&&google.maps.event.removeListener(ie),ye(google.maps.event.addListener(j,"mouseout",p)))},[p]),S.useEffect(()=>{j&&v&&(F!==null&&google.maps.event.removeListener(F),Y(google.maps.event.addListener(j,"mouseover",v)))},[v]),S.useEffect(()=>{j&&k&&(ee!==null&&google.maps.event.removeListener(ee),Q(google.maps.event.addListener(j,"mouseup",k)))},[k]),S.useEffect(()=>{j&&w&&(ae!==null&&google.maps.event.removeListener(ae),de(google.maps.event.addListener(j,"rightclick",w)))},[w]),S.useEffect(()=>{j&&a&&(he!==null&&google.maps.event.removeListener(he),ve(google.maps.event.addListener(j,"click",a)))},[a]),S.useEffect(()=>{j&&u&&(Se!==null&&google.maps.event.removeListener(Se),ke(google.maps.event.addListener(j,"drag",u)))},[u]),S.useEffect(()=>{j&&b&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(j,"center_changed",b)))},[a]),S.useEffect(()=>{var je=A.current===null?null:new google.maps.Map(A.current,n);return H(je),je!==null&&P&&P(je),()=>{je!==null&&O&&O(je)}},[]),B.jsx("div",{id:r,ref:A,style:i,className:s,children:B.jsx(It.Provider,{value:j,children:j!==null?e:null})})}S.memo(SY);function bk(t,e,n,r,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void n(u)}a.done?e(l):Promise.resolve(l).then(r,i)}function LI(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(l){bk(s,r,i,o,a,"next",l)}function a(l){bk(s,r,i,o,a,"throw",l)}o(void 0)})}}function CI(t){var{googleMapsApiKey:e,googleMapsClientId:n,version:r="weekly",language:i,region:s,libraries:o,channel:a,mapIds:l,authReferrerPolicy:u}=t,c=[];return yr(e&&n||!(e&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?c.push("key=".concat(e)):n&&c.push("client=".concat(n)),r&&c.push("v=".concat(r)),i&&c.push("language=".concat(i)),s&&c.push("region=".concat(s)),o&&o.length&&c.push("libraries=".concat(o.sort().join(","))),a&&c.push("channel=".concat(a)),l&&l.length&&c.push("map_ids=".concat(l.join(","))),u&&c.push("auth_referrer_policy=".concat(u)),c.push("loading=async"),c.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(c.join("&"))}var Ku=typeof document<"u";function TI(t){var{url:e,id:n,nonce:r}=t;return Ku?new Promise(function(s,o){var a=document.getElementById(n),l=window;if(a){var u=a.getAttribute("data-state");if(a.src===e&&u!=="error"){if(u==="ready")return s(n);var c=l.initMap,h=a.onerror;l.initMap=function(){c&&c(),s(n)},a.onerror=function(p){h&&h(p),o(p)};return}else a.remove()}var m=document.createElement("script");m.type="text/javascript",m.src=e,m.id=n,m.async=!0,m.nonce=r||"",m.onerror=function(v){m.setAttribute("data-state","error"),o(v)},l.initMap=function(){m.setAttribute("data-state","ready"),s(n)},document.head.appendChild(m)}).catch(i=>{throw console.error("injectScript error: ",i),i}):Promise.reject(new Error("document is undefined"))}function _k(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function PI(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(i,s){return _k(i)||Reflect.apply(e,t,[i,s]),i};var n=t.appendChild.bind(t);t.appendChild=function(i){return _k(i)||Reflect.apply(n,t,[i]),i}}}var sf=!1;function AI(){return B.jsx("div",{children:"Loading..."})}var _w={id:"script-loader",version:"weekly"};class II extends S.PureComponent{constructor(){super(...arguments),Pe(this,"check",null),Pe(this,"state",{loaded:!1}),Pe(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),Pe(this,"isCleaningUp",LI(function*(){function e(n){if(!sf)n();else if(Ku)var r=window.setInterval(function(){sf||(window.clearInterval(r),n())},1)}return new Promise(e)})),Pe(this,"cleanup",()=>{sf=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),Pe(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&PI(),yr(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:CI(this.props)};TI(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(n=>{this.props.onError&&this.props.onError(n),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),Pe(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Ku){if(window.google&&window.google.maps&&!sf){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(n){console.error("Error at injecting script after cleaning up: ",n)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Ku&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Ku){this.cleanup();var e=()=>{this.check||(delete window.google,sf=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return B.jsxs(B.Fragment,{children:[B.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||B.jsx(AI,{})]})}}Pe(II,"defaultProps",_w);function kY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Ob(t,e){if(t==null)return{};var n,r,i=kY(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Ek;function LY(t){var{id:e=_w.id,version:n=_w.version,nonce:r,googleMapsApiKey:i,googleMapsClientId:s,language:o,region:a,libraries:l,preventGoogleFontsLoading:u,channel:c,mapIds:h,authReferrerPolicy:m}=t,p=S.useRef(!1),[v,_]=S.useState(!1),[k,w]=S.useState(void 0);S.useEffect(function(){return p.current=!0,()=>{p.current=!1}},[]),S.useEffect(function(){Ku&&u&&PI()},[u]),S.useEffect(function(){v&&yr(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[v]);var b=CI({version:n,googleMapsApiKey:i,googleMapsClientId:s,language:o,region:a,libraries:l,channel:c,mapIds:h,authReferrerPolicy:m});S.useEffect(function(){if(!Ku)return;function j(){p.current&&(_(!0),Ek=b)}if(window.google&&window.google.maps&&Ek===b){j();return}TI({id:e,url:b,nonce:r}).then(j).catch(function(A){p.current&&w(A),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(i||"-",") or Client ID (").concat(s||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(A)})},[e,b,r]);var P=S.useRef(void 0);return S.useEffect(function(){P.current&&l!==P.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),P.current=l},[l]),{isLoaded:v,loadError:k,url:b}}var CY=["loadingElement","onLoad","onError","onUnmount","children"],TY=B.jsx(AI,{});function PY(t){var{loadingElement:e,onLoad:n,onError:r,onUnmount:i,children:s}=t,o=Ob(t,CY),{isLoaded:a,loadError:l}=LY(o);return S.useEffect(function(){a&&typeof n=="function"&&n()},[a,n]),S.useEffect(function(){l&&typeof r=="function"&&r(l)},[l,r]),S.useEffect(function(){return()=>{i&&i()}},[i]),a?s:e||TY}S.memo(PY);var xk;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(xk||(xk={}));function Sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sk(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var kk={},Lk={options(t,e){t.setOptions(e)}};function AY(t){var{options:e,onLoad:n,onUnmount:r}=t,i=S.useContext(It),[s,o]=S.useState(null);return S.useEffect(()=>{s!==null&&s.setMap(i)},[i]),S.useEffect(()=>{e&&s!==null&&s.setOptions(e)},[s,e]),S.useEffect(()=>{var a=new google.maps.TrafficLayer(Mv(Mv({},e),{},{map:i}));return o(a),n&&n(a),()=>{s!==null&&(r&&r(s),s.setMap(null))}},[]),null}S.memo(AY);class IY extends S.PureComponent{constructor(){super(...arguments),Pe(this,"state",{trafficLayer:null}),Pe(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),Pe(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Mv(Mv({},this.props.options),{},{map:this.context}));this.registeredEvents=qt({updaterMap:Lk,eventMap:kk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:Lk,eventMap:kk,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),$t(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Pe(IY,"contextType",It);function NY(t){var{onLoad:e,onUnmount:n}=t,r=S.useContext(It),[i,s]=S.useState(null);return S.useEffect(()=>{i!==null&&i.setMap(r)},[r]),S.useEffect(()=>{var o=new google.maps.BicyclingLayer;return s(o),o.setMap(r),e&&e(o),()=>{o!==null&&(n&&n(o),o.setMap(null))}},[]),null}S.memo(NY);class DY extends S.PureComponent{constructor(){super(...arguments),Pe(this,"state",{bicyclingLayer:null}),Pe(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Pe(DY,"contextType",It);function RY(t){var{onLoad:e,onUnmount:n}=t,r=S.useContext(It),[i,s]=S.useState(null);return S.useEffect(()=>{i!==null&&i.setMap(r)},[r]),S.useEffect(()=>{var o=new google.maps.TransitLayer;return s(o),o.setMap(r),e&&e(o),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}S.memo(RY);class MY extends S.PureComponent{constructor(){super(...arguments),Pe(this,"state",{transitLayer:null}),Pe(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}Pe(MY,"contextType",It);function Ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ov(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ck(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Tk={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},Pk={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function OY(t){var{options:e,drawingMode:n,onCircleComplete:r,onMarkerComplete:i,onOverlayComplete:s,onPolygonComplete:o,onPolylineComplete:a,onRectangleComplete:l,onLoad:u,onUnmount:c}=t,h=S.useContext(It),[m,p]=S.useState(null),[v,_]=S.useState(null),[k,w]=S.useState(null),[b,P]=S.useState(null),[O,j]=S.useState(null),[H,A]=S.useState(null),[x,T]=S.useState(null);return S.useEffect(()=>{m!==null&&m.setMap(h)},[h]),S.useEffect(()=>{e&&m!==null&&m.setOptions(e)},[m,e]),S.useEffect(()=>{m!==null&&m.setDrawingMode(n??null)},[m,n]),S.useEffect(()=>{m&&r&&(v!==null&&google.maps.event.removeListener(v),_(google.maps.event.addListener(m,"circlecomplete",r)))},[m,r]),S.useEffect(()=>{m&&i&&(k!==null&&google.maps.event.removeListener(k),w(google.maps.event.addListener(m,"markercomplete",i)))},[m,i]),S.useEffect(()=>{m&&s&&(b!==null&&google.maps.event.removeListener(b),P(google.maps.event.addListener(m,"overlaycomplete",s)))},[m,s]),S.useEffect(()=>{m&&o&&(O!==null&&google.maps.event.removeListener(O),j(google.maps.event.addListener(m,"polygoncomplete",o)))},[m,o]),S.useEffect(()=>{m&&a&&(H!==null&&google.maps.event.removeListener(H),A(google.maps.event.addListener(m,"polylinecomplete",a)))},[m,a]),S.useEffect(()=>{m&&l&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(m,"rectanglecomplete",l)))},[m,l]),S.useEffect(()=>{yr(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var M=new google.maps.drawing.DrawingManager(Ov(Ov({},e),{},{map:h}));return n&&M.setDrawingMode(n),r&&_(google.maps.event.addListener(M,"circlecomplete",r)),i&&w(google.maps.event.addListener(M,"markercomplete",i)),s&&P(google.maps.event.addListener(M,"overlaycomplete",s)),o&&j(google.maps.event.addListener(M,"polygoncomplete",o)),a&&A(google.maps.event.addListener(M,"polylinecomplete",a)),l&&T(google.maps.event.addListener(M,"rectanglecomplete",l)),p(M),u&&u(M),()=>{m!==null&&(v&&google.maps.event.removeListener(v),k&&google.maps.event.removeListener(k),b&&google.maps.event.removeListener(b),O&&google.maps.event.removeListener(O),H&&google.maps.event.removeListener(H),x&&google.maps.event.removeListener(x),c&&c(m),m.setMap(null))}},[]),null}S.memo(OY);class FY extends S.PureComponent{constructor(e){super(e),Pe(this,"registeredEvents",[]),Pe(this,"state",{drawingManager:null}),Pe(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),yr(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Ov(Ov({},this.props.options),{},{map:this.context}));this.registeredEvents=qt({updaterMap:Pk,eventMap:Tk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:Pk,eventMap:Tk,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),$t(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}Pe(FY,"contextType",It);function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ik={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},Nk={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Fv={};function jY(t){var{position:e,options:n,clusterer:r,noClustererRedraw:i,children:s,draggable:o,visible:a,animation:l,clickable:u,cursor:c,icon:h,label:m,opacity:p,shape:v,title:_,zIndex:k,onClick:w,onDblClick:b,onDrag:P,onDragEnd:O,onDragStart:j,onMouseOut:H,onMouseOver:A,onMouseUp:x,onMouseDown:T,onRightClick:M,onClickableChanged:C,onCursorChanged:I,onAnimationChanged:R,onDraggableChanged:W,onFlatChanged:Z,onIconChanged:X,onPositionChanged:re,onShapeChanged:z,onTitleChanged:ne,onVisibleChanged:ie,onZindexChanged:ye,onLoad:F,onUnmount:Y}=t,ee=S.useContext(It),[Q,ae]=S.useState(null),[de,he]=S.useState(null),[ve,Se]=S.useState(null),[ke,je]=S.useState(null),[Be,st]=S.useState(null),[_e,oe]=S.useState(null),[gt,tt]=S.useState(null),[Fe,ze]=S.useState(null),[qe,$e]=S.useState(null),[nt,ht]=S.useState(null),[_t,ot]=S.useState(null),[ct,Ft]=S.useState(null),[lt,Ct]=S.useState(null),[He,En]=S.useState(null),[At,Lr]=S.useState(null),[jt,on]=S.useState(null),[Cr,Mt]=S.useState(null),[ni,pn]=S.useState(null),[rr,jr]=S.useState(null),[Jt,ut]=S.useState(null),[Rt,ri]=S.useState(null),[xn,cr]=S.useState(null);S.useEffect(()=>{Q!==null&&Q.setMap(ee)},[ee]),S.useEffect(()=>{typeof n<"u"&&Q!==null&&Q.setOptions(n)},[Q,n]),S.useEffect(()=>{typeof o<"u"&&Q!==null&&Q.setDraggable(o)},[Q,o]),S.useEffect(()=>{e&&Q!==null&&Q.setPosition(e)},[Q,e]),S.useEffect(()=>{typeof a<"u"&&Q!==null&&Q.setVisible(a)},[Q,a]),S.useEffect(()=>{Q==null||Q.setAnimation(l)},[Q,l]),S.useEffect(()=>{Q&&u!==void 0&&Q.setClickable(u)},[Q,u]),S.useEffect(()=>{Q&&c!==void 0&&Q.setCursor(c)},[Q,c]),S.useEffect(()=>{Q&&h!==void 0&&Q.setIcon(h)},[Q,h]),S.useEffect(()=>{Q&&m!==void 0&&Q.setLabel(m)},[Q,m]),S.useEffect(()=>{Q&&p!==void 0&&Q.setOpacity(p)},[Q,p]),S.useEffect(()=>{Q&&v!==void 0&&Q.setShape(v)},[Q,v]),S.useEffect(()=>{Q&&_!==void 0&&Q.setTitle(_)},[Q,_]),S.useEffect(()=>{Q&&k!==void 0&&Q.setZIndex(k)},[Q,k]),S.useEffect(()=>{Q&&b&&(de!==null&&google.maps.event.removeListener(de),he(google.maps.event.addListener(Q,"dblclick",b)))},[b]),S.useEffect(()=>{Q&&O&&(ve!==null&&google.maps.event.removeListener(ve),Se(google.maps.event.addListener(Q,"dragend",O)))},[O]),S.useEffect(()=>{Q&&j&&(ke!==null&&google.maps.event.removeListener(ke),je(google.maps.event.addListener(Q,"dragstart",j)))},[j]),S.useEffect(()=>{Q&&T&&(Be!==null&&google.maps.event.removeListener(Be),st(google.maps.event.addListener(Q,"mousedown",T)))},[T]),S.useEffect(()=>{Q&&H&&(_e!==null&&google.maps.event.removeListener(_e),oe(google.maps.event.addListener(Q,"mouseout",H)))},[H]),S.useEffect(()=>{Q&&A&&(gt!==null&&google.maps.event.removeListener(gt),tt(google.maps.event.addListener(Q,"mouseover",A)))},[A]),S.useEffect(()=>{Q&&x&&(Fe!==null&&google.maps.event.removeListener(Fe),ze(google.maps.event.addListener(Q,"mouseup",x)))},[x]),S.useEffect(()=>{Q&&M&&(qe!==null&&google.maps.event.removeListener(qe),$e(google.maps.event.addListener(Q,"rightclick",M)))},[M]),S.useEffect(()=>{Q&&w&&(nt!==null&&google.maps.event.removeListener(nt),ht(google.maps.event.addListener(Q,"click",w)))},[w]),S.useEffect(()=>{Q&&P&&(_t!==null&&google.maps.event.removeListener(_t),ot(google.maps.event.addListener(Q,"drag",P)))},[P]),S.useEffect(()=>{Q&&C&&(ct!==null&&google.maps.event.removeListener(ct),Ft(google.maps.event.addListener(Q,"clickable_changed",C)))},[C]),S.useEffect(()=>{Q&&I&&(lt!==null&&google.maps.event.removeListener(lt),Ct(google.maps.event.addListener(Q,"cursor_changed",I)))},[I]),S.useEffect(()=>{Q&&R&&(He!==null&&google.maps.event.removeListener(He),En(google.maps.event.addListener(Q,"animation_changed",R)))},[R]),S.useEffect(()=>{Q&&W&&(At!==null&&google.maps.event.removeListener(At),Lr(google.maps.event.addListener(Q,"draggable_changed",W)))},[W]),S.useEffect(()=>{Q&&Z&&(jt!==null&&google.maps.event.removeListener(jt),on(google.maps.event.addListener(Q,"flat_changed",Z)))},[Z]),S.useEffect(()=>{Q&&X&&(Cr!==null&&google.maps.event.removeListener(Cr),Mt(google.maps.event.addListener(Q,"icon_changed",X)))},[X]),S.useEffect(()=>{Q&&re&&(ni!==null&&google.maps.event.removeListener(ni),pn(google.maps.event.addListener(Q,"position_changed",re)))},[re]),S.useEffect(()=>{Q&&z&&(rr!==null&&google.maps.event.removeListener(rr),jr(google.maps.event.addListener(Q,"shape_changed",z)))},[z]),S.useEffect(()=>{Q&&ne&&(Jt!==null&&google.maps.event.removeListener(Jt),ut(google.maps.event.addListener(Q,"title_changed",ne)))},[ne]),S.useEffect(()=>{Q&&ie&&(Rt!==null&&google.maps.event.removeListener(Rt),ri(google.maps.event.addListener(Q,"visible_changed",ie)))},[ie]),S.useEffect(()=>{Q&&ye&&(xn!==null&&google.maps.event.removeListener(xn),cr(google.maps.event.addListener(Q,"zindex_changed",ye)))},[ye]),S.useEffect(()=>{var Qe=jd(jd(jd({},n||Fv),r?Fv:{map:ee}),{},{position:e}),at=new google.maps.Marker(Qe);return r?r.addMarker(at,!!i):at.setMap(ee),e&&at.setPosition(e),typeof a<"u"&&at.setVisible(a),typeof o<"u"&&at.setDraggable(o),typeof u<"u"&&at.setClickable(u),typeof c=="string"&&at.setCursor(c),h&&at.setIcon(h),typeof m<"u"&&at.setLabel(m),typeof p<"u"&&at.setOpacity(p),v&&at.setShape(v),typeof _=="string"&&at.setTitle(_),typeof k=="number"&&at.setZIndex(k),b&&he(google.maps.event.addListener(at,"dblclick",b)),O&&Se(google.maps.event.addListener(at,"dragend",O)),j&&je(google.maps.event.addListener(at,"dragstart",j)),T&&st(google.maps.event.addListener(at,"mousedown",T)),H&&oe(google.maps.event.addListener(at,"mouseout",H)),A&&tt(google.maps.event.addListener(at,"mouseover",A)),x&&ze(google.maps.event.addListener(at,"mouseup",x)),M&&$e(google.maps.event.addListener(at,"rightclick",M)),w&&ht(google.maps.event.addListener(at,"click",w)),P&&ot(google.maps.event.addListener(at,"drag",P)),C&&Ft(google.maps.event.addListener(at,"clickable_changed",C)),I&&Ct(google.maps.event.addListener(at,"cursor_changed",I)),R&&En(google.maps.event.addListener(at,"animation_changed",R)),W&&Lr(google.maps.event.addListener(at,"draggable_changed",W)),Z&&on(google.maps.event.addListener(at,"flat_changed",Z)),X&&Mt(google.maps.event.addListener(at,"icon_changed",X)),re&&pn(google.maps.event.addListener(at,"position_changed",re)),z&&jr(google.maps.event.addListener(at,"shape_changed",z)),ne&&ut(google.maps.event.addListener(at,"title_changed",ne)),ie&&ri(google.maps.event.addListener(at,"visible_changed",ie)),ye&&cr(google.maps.event.addListener(at,"zindex_changed",ye)),ae(at),F&&F(at),()=>{de!==null&&google.maps.event.removeListener(de),ve!==null&&google.maps.event.removeListener(ve),ke!==null&&google.maps.event.removeListener(ke),Be!==null&&google.maps.event.removeListener(Be),_e!==null&&google.maps.event.removeListener(_e),gt!==null&&google.maps.event.removeListener(gt),Fe!==null&&google.maps.event.removeListener(Fe),qe!==null&&google.maps.event.removeListener(qe),nt!==null&&google.maps.event.removeListener(nt),ct!==null&&google.maps.event.removeListener(ct),lt!==null&&google.maps.event.removeListener(lt),He!==null&&google.maps.event.removeListener(He),At!==null&&google.maps.event.removeListener(At),jt!==null&&google.maps.event.removeListener(jt),Cr!==null&&google.maps.event.removeListener(Cr),ni!==null&&google.maps.event.removeListener(ni),Jt!==null&&google.maps.event.removeListener(Jt),Rt!==null&&google.maps.event.removeListener(Rt),xn!==null&&google.maps.event.removeListener(xn),Y&&Y(at),r?r.removeMarker(at,!!i):at&&at.setMap(null)}},[]);var ii=S.useMemo(()=>s?S.Children.map(s,Qe=>{if(!S.isValidElement(Qe))return Qe;var at=Qe;return S.cloneElement(at,{anchor:Q})}):null,[s,Q]);return B.jsx(B.Fragment,{children:ii})||null}S.memo(jY);class BY extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[])}componentDidMount(){var e=this;return LI(function*(){var n=jd(jd(jd({},e.props.options||Fv),e.props.clusterer?Fv:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(n),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=qt({updaterMap:Nk,eventMap:Ik,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:Nk,eventMap:Ik,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),$t(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?S.Children.map(this.props.children,n=>{if(!S.isValidElement(n))return n;var r=n;return S.cloneElement(r,{anchor:this.marker})}):null;return e||null}}Pe(BY,"contextType",It);var VY=function(){function t(e,n){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var n=this.cluster.getClusterer();if(google.maps.event.trigger(n,"click",this.cluster),google.maps.event.trigger(n,"clusterclick",this.cluster),n.getZoomOnClick()){var r=n.getMaxZoom(),i=this.cluster.getBounds(),s=n.getMap();s!==null&&"fitBounds"in s&&s.fitBounds(i),this.timeOut=window.setTimeout(function(){var o=n.getMap();if(o!==null){"fitBounds"in o&&o.fitBounds(i);var a=o.getZoom()||0;r!==null&&a>r&&o.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var n=this.getMap();n!==null&&(this.boundsChangedListener=google.maps.event.addListener(n,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,n,r,i,s,o;if(this.div&&this.center){var a=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,l=this.backgroundPosition.split(" "),u=parseInt(((e=l[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt(((n=l[1])===null||n===void 0?void 0:n.replace(/^\s+|\s+$/g,""))||"0",10),h=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(h!==null?"".concat(h.y,"px"):"0","; left: ").concat(h!==null?"".concat(h.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var m=document.createElement("img");m.alt=a,m.src=this.url,m.width=this.width,m.height=this.height,m.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(m.style.clip="rect(-".concat(c,"px, -").concat(u+this.width,"px, -").concat(c+this.height,", -").concat(u,")"));var p=document.createElement("div");p.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(p.innerText="".concat((i=this.sums)===null||i===void 0?void 0:i.text)),!((s=this.sums)===null||s===void 0)&&s.html&&(p.innerHTML="".concat((o=this.sums)===null||o===void 0?void 0:o.html)),this.div.innerHTML="",this.div.appendChild(m),this.div.appendChild(p),this.div.title=a,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var n=this.cluster.getClusterer().getStyles(),r=n[Math.min(n.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var n=this.getProjection().fromLatLngToDivPixel(e);return n!==null&&(n.x-=this.anchorIcon[1],n.y-=this.anchorIcon[0]),n},t}(),UY=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new VY(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),n=this.getMarkers(),r=0,i=n;r<i.length;r++){var s=i[r],o=s.getPosition();o&&e.extend(o)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var i=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(i-1)+r.lat())/i,(this.center.lng()*(i-1)+r.lng())/i),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var s=this.markers.length,o=this.markerClusterer.getMaxZoom(),a=(n=this.map)===null||n===void 0?void 0:n.getZoom();if(o!==null&&typeof a<"u"&&a>o)e.getMap()!==this.map&&e.setMap(this.map);else if(s<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(s===this.minClusterSize)for(var l=0,u=this.markers;l<u.length;l++){var c=u[l];c.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var n=e.getPosition();if(n)return this.bounds.contains(n)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,n=this.markers.length,r=this.markerClusterer.getMaxZoom(),i=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof i<"u"&&i>r){this.clusterIcon.hide();return}if(n<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var n=0;n<this.markers.length;n++)if(e===this.markers[n])return!0;return!1},t}();function zY(t,e){var n=t.length,r=n.toString().length,i=Math.min(r,e);return{text:n.toString(),index:i,title:""}}var qY=2e3,$Y=500,HY="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",WY="png",YY=[53,56,66,78,90],GY="cluster",NI=function(){function t(e,n,r){n===void 0&&(n=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||HY,this.imageExtension=r.imageExtension||WY,this.imageSizes=r.imageSizes||YY,this.calculator=r.calculator||zY,this.batchSize=r.batchSize||qY,this.batchSizeIE=r.batchSizeIE||$Y,this.clusterClass=r.clusterClass||GY,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,n;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((n=this.getMap())===null||n===void 0?void 0:n.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,n=this.markers;e<n.length;e++){var r=n[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var i=0,s=this.clusters;i<s.length;i++){var o=s[i];o.remove()}this.clusters=[];for(var a=0,l=this.listeners;a<l.length;a++){var u=l[a];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),n=new google.maps.LatLngBounds,r=0,i=e;r<i.length;r++){var s=i[r],o=s.getPosition();o&&n.extend(o)}var a=this.getMap();a!==null&&"fitBounds"in a&&a.fitBounds(n)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,n){this.pushMarkerTo(e),n||this.redraw()},t.prototype.addMarkers=function(e,n){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];i&&this.pushMarkerTo(i)}n||this.redraw()},t.prototype.pushMarkerTo=function(e){var n=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){n.ready&&(e.isAdded=!1,n.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var n=-1;if(this.markers.indexOf)n=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){n=r;break}return n===-1?!1:(e.setMap(null),this.markers.splice(n,1),!0)},t.prototype.removeMarker=function(e,n){var r=this.removeMarker_(e);return!n&&r&&this.repaint(),r},t.prototype.removeMarkers=function(e,n){for(var r=!1,i=0,s=e;i<s.length;i++){var o=s[i];r=r||this.removeMarker_(o)}return!n&&r&&this.repaint(),r},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,i=e;r<i.length;r++){var s=i[r];s.remove()}},0)},t.prototype.getExtendedBounds=function(e){var n=this.getProjection(),r=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var i=n.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(i!==null&&(i.x-=this.gridSize,i.y+=this.gridSize),r!==null){var s=n.fromDivPixelToLatLng(r);s!==null&&e.extend(s)}if(i!==null){var o=n.fromDivPixelToLatLng(i);o!==null&&e.extend(o)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var n=0,r=this.clusters;n<r.length;n++){var i=r[n];i.remove()}this.clusters=[];for(var s=0,o=this.markers;s<o.length;s++){var a=o[s];a.isAdded=!1,e&&a.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,n){var r=6371,i=(n.lat()-e.lat())*Math.PI/180,s=(n.lng()-e.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(n.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return r*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},t.prototype.isMarkerInBounds=function(e,n){var r=e.getPosition();return r?n.contains(r):!1},t.prototype.addToClosestCluster=function(e){for(var n,r=4e4,i=null,s=0,o=this.clusters;s<o.length;s++){var a=o[s];n=a;var l=n.getCenter(),u=e.getPosition();if(l&&u){var c=this.distanceBetweenPoints(l,u);c<r&&(r=c,i=n)}}i&&i.isMarkerInClusterBounds(e)?i.addMarker(e):(n=new UY(this),n.addMarker(e),this.clusters.push(n))},t.prototype.createClusters=function(e){var n=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),i=r!==null&&("getBounds"in r)?r.getBounds():null,s=(r==null?void 0:r.getZoom())||0,o=s>3?new google.maps.LatLngBounds(i==null?void 0:i.getSouthWest(),i==null?void 0:i.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),a=this.getExtendedBounds(o),l=Math.min(e+this.batchSize,this.markers.length),u=e;u<l;u++){var c=this.markers[u];c&&!c.isAdded&&this.isMarkerInBounds(c,a)&&(!this.ignoreHidden||this.ignoreHidden&&c.getVisible())&&this.addToClosestCluster(c)}if(l<this.markers.length)this.timerRefStatic=window.setTimeout(function(){n.createClusters(l)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var h=0,m=this.clusters;h<m.length;h++){var p=m[h];p.updateIcon()}}}},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype){var o=s;this.prototype[o]=i.prototype[o]}return this}).apply(e,[n])},t}();function Dk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Dk(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var as={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},Qt={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},QY={};function JY(t){var{children:e,options:n,averageCenter:r,batchSizeIE:i,calculator:s,clusterClass:o,enableRetinaIcons:a,gridSize:l,ignoreHidden:u,imageExtension:c,imagePath:h,imageSizes:m,maxZoom:p,minimumClusterSize:v,styles:_,title:k,zoomOnClick:w,onClick:b,onClusteringBegin:P,onClusteringEnd:O,onMouseOver:j,onMouseOut:H,onLoad:A,onUnmount:x}=t,[T,M]=S.useState(null),C=S.useContext(It),[I,R]=S.useState(null),[W,Z]=S.useState(null),[X,re]=S.useState(null),[z,ne]=S.useState(null),[ie,ye]=S.useState(null);return S.useEffect(()=>{T&&H&&(z!==null&&google.maps.event.removeListener(z),ne(google.maps.event.addListener(T,as.onMouseOut,H)))},[H]),S.useEffect(()=>{T&&j&&(ie!==null&&google.maps.event.removeListener(ie),ye(google.maps.event.addListener(T,as.onMouseOver,j)))},[j]),S.useEffect(()=>{T&&b&&(I!==null&&google.maps.event.removeListener(I),R(google.maps.event.addListener(T,as.onClick,b)))},[b]),S.useEffect(()=>{T&&P&&(W!==null&&google.maps.event.removeListener(W),Z(google.maps.event.addListener(T,as.onClusteringBegin,P)))},[P]),S.useEffect(()=>{T&&O&&(X!==null&&google.maps.event.removeListener(X),Z(google.maps.event.addListener(T,as.onClusteringEnd,O)))},[O]),S.useEffect(()=>{typeof r<"u"&&T!==null&&Qt.averageCenter(T,r)},[T,r]),S.useEffect(()=>{typeof i<"u"&&T!==null&&Qt.batchSizeIE(T,i)},[T,i]),S.useEffect(()=>{typeof s<"u"&&T!==null&&Qt.calculator(T,s)},[T,s]),S.useEffect(()=>{typeof o<"u"&&T!==null&&Qt.clusterClass(T,o)},[T,o]),S.useEffect(()=>{typeof a<"u"&&T!==null&&Qt.enableRetinaIcons(T,a)},[T,a]),S.useEffect(()=>{typeof l<"u"&&T!==null&&Qt.gridSize(T,l)},[T,l]),S.useEffect(()=>{typeof u<"u"&&T!==null&&Qt.ignoreHidden(T,u)},[T,u]),S.useEffect(()=>{typeof c<"u"&&T!==null&&Qt.imageExtension(T,c)},[T,c]),S.useEffect(()=>{typeof h<"u"&&T!==null&&Qt.imagePath(T,h)},[T,h]),S.useEffect(()=>{typeof m<"u"&&T!==null&&Qt.imageSizes(T,m)},[T,m]),S.useEffect(()=>{typeof p<"u"&&T!==null&&Qt.maxZoom(T,p)},[T,p]),S.useEffect(()=>{typeof v<"u"&&T!==null&&Qt.minimumClusterSize(T,v)},[T,v]),S.useEffect(()=>{typeof _<"u"&&T!==null&&Qt.styles(T,_)},[T,_]),S.useEffect(()=>{typeof k<"u"&&T!==null&&Qt.title(T,k)},[T,k]),S.useEffect(()=>{typeof w<"u"&&T!==null&&Qt.zoomOnClick(T,w)},[T,w]),S.useEffect(()=>{if(C){var F=KY({},n||QY),Y=new NI(C,[],F);return r&&Qt.averageCenter(Y,r),i&&Qt.batchSizeIE(Y,i),s&&Qt.calculator(Y,s),o&&Qt.clusterClass(Y,o),a&&Qt.enableRetinaIcons(Y,a),l&&Qt.gridSize(Y,l),u&&Qt.ignoreHidden(Y,u),c&&Qt.imageExtension(Y,c),h&&Qt.imagePath(Y,h),m&&Qt.imageSizes(Y,m),p&&Qt.maxZoom(Y,p),v&&Qt.minimumClusterSize(Y,v),_&&Qt.styles(Y,_),k&&Qt.title(Y,k),w&&Qt.zoomOnClick(Y,w),H&&ne(google.maps.event.addListener(Y,as.onMouseOut,H)),j&&ye(google.maps.event.addListener(Y,as.onMouseOver,j)),b&&R(google.maps.event.addListener(Y,as.onClick,b)),P&&Z(google.maps.event.addListener(Y,as.onClusteringBegin,P)),O&&re(google.maps.event.addListener(Y,as.onClusteringEnd,O)),M(Y),A&&A(Y),()=>{z!==null&&google.maps.event.removeListener(z),ie!==null&&google.maps.event.removeListener(ie),I!==null&&google.maps.event.removeListener(I),W!==null&&google.maps.event.removeListener(W),X!==null&&google.maps.event.removeListener(X),x&&x(Y)}}},[]),T!==null&&e(T)||null}S.memo(JY);class XY extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[]),Pe(this,"state",{markerClusterer:null}),Pe(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new NI(this.context,[],this.props.options);this.registeredEvents=qt({updaterMap:Qt,eventMap:as,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:Qt,eventMap:as,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),$t(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}Pe(XY,"contextType",It);function Rk(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var DI=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,n=function(c){c.returnValue=!1,c.preventDefault&&c.preventDefault(),e.enableEventPropagation||Rk(c)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var i=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-i.left-i.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var s=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],o=0,a=s;o<a.length;o++){var l=a[o];this.eventListeners.push(google.maps.event.addListener(this.div,l,Rk))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",n),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var n=this.getMap();if(n instanceof google.maps.Map){var r=0,i=0,s=n.getBounds();s&&!s.contains(this.position)&&n.setCenter(this.position);var o=n.getDiv(),a=o.offsetWidth,l=o.offsetHeight,u=this.pixelOffset.width,c=this.pixelOffset.height,h=this.div.offsetWidth,m=this.div.offsetHeight,p=this.infoBoxClearance.width,v=this.infoBoxClearance.height,_=this.getProjection(),k=_.fromLatLngToContainerPixel(this.position);k!==null&&(k.x<-u+p?r=k.x+u-p:k.x+h+u+p>a&&(r=k.x+h+u+p-a),this.alignBottom?k.y<-c+v+m?i=k.y+c-v-m:k.y+c+v>l&&(i=k.y+c+v-l):k.y<-c+v?i=k.y+c-v:k.y+m+c+v>l&&(i=k.y+m+c+v-l)),r===0&&i===0||n.panBy(r,i)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(this.div.style[n]=e[n]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var n=this.div.ownerDocument,r=n&&n.defaultView?n.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var i=this.div.currentStyle;i&&(e.top=parseInt(i.borderTopWidth||"",10)||0,e.bottom=parseInt(i.borderBottomWidth||"",10)||0,e.left=parseInt(i.borderLeftWidth||"",10)||0,e.right=parseInt(i.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),n=e.fromLatLngToDivPixel(this.position);n!==null&&(this.div.style.left=n.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(n.y+this.pixelOffset.height)+"px":this.div.style.top=n.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,n){var r=this;n&&(this.position=n.getPosition(),this.moveListener=google.maps.event.addListener(n,"position_changed",function(){var i=n.getPosition();r.setPosition(i)}),this.mapListener=google.maps.event.addListener(n,"map_changed",function(){r.setMap(n.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,n=this.eventListeners;e<n.length;e++){var r=n[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,n){return(function(i){for(var s in i.prototype)Object.prototype.hasOwnProperty.call(this,s)||(this.prototype[s]=i.prototype[s]);return this}).apply(e,[n])},t}(),ZY=["position"],eG=["position"];function Mk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mk(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Ok={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Fk={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},tG={};function nG(t){var{children:e,anchor:n,options:r,position:i,zIndex:s,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:u,onZindexChanged:c,onLoad:h,onUnmount:m}=t,p=S.useContext(It),[v,_]=S.useState(null),[k,w]=S.useState(null),[b,P]=S.useState(null),[O,j]=S.useState(null),[H,A]=S.useState(null),[x,T]=S.useState(null),M=S.useRef(null);return S.useEffect(()=>{p&&v!==null&&(v.close(),n?v.open(p,n):v.getPosition()&&v.open(p))},[p,v,n]),S.useEffect(()=>{r&&v!==null&&v.setOptions(r)},[v,r]),S.useEffect(()=>{if(i&&v!==null){var C=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);v.setPosition(C)}},[i]),S.useEffect(()=>{typeof s=="number"&&v!==null&&v.setZIndex(s)},[s]),S.useEffect(()=>{v&&o&&(k!==null&&google.maps.event.removeListener(k),w(google.maps.event.addListener(v,"closeclick",o)))},[o]),S.useEffect(()=>{v&&a&&(b!==null&&google.maps.event.removeListener(b),P(google.maps.event.addListener(v,"domready",a)))},[a]),S.useEffect(()=>{v&&l&&(O!==null&&google.maps.event.removeListener(O),j(google.maps.event.addListener(v,"content_changed",l)))},[l]),S.useEffect(()=>{v&&u&&(H!==null&&google.maps.event.removeListener(H),A(google.maps.event.addListener(v,"position_changed",u)))},[u]),S.useEffect(()=>{v&&c&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(v,"zindex_changed",c)))},[c]),S.useEffect(()=>{if(p){var C=r||tG,{position:I}=C,R=Ob(C,ZY),W;I&&!(I instanceof google.maps.LatLng)&&(W=new google.maps.LatLng(I.lat,I.lng));var Z=new DI(jv(jv({},R),W?{position:W}:{}));M.current=document.createElement("div"),_(Z),o&&w(google.maps.event.addListener(Z,"closeclick",o)),a&&P(google.maps.event.addListener(Z,"domready",a)),l&&j(google.maps.event.addListener(Z,"content_changed",l)),u&&A(google.maps.event.addListener(Z,"position_changed",u)),c&&T(google.maps.event.addListener(Z,"zindex_changed",c)),Z.setContent(M.current),n?Z.open(p,n):Z.getPosition()?Z.open(p):yr(!1,"You must provide either an anchor or a position prop for <InfoBox>."),h&&h(Z)}return()=>{v!==null&&(k&&google.maps.event.removeListener(k),O&&google.maps.event.removeListener(O),b&&google.maps.event.removeListener(b),H&&google.maps.event.removeListener(H),x&&google.maps.event.removeListener(x),m&&m(v),v.close())}},[]),M.current?Na.createPortal(S.Children.only(e),M.current):null}S.memo(nG);class rG extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[]),Pe(this,"containerElement",null),Pe(this,"state",{infoBox:null}),Pe(this,"open",(e,n)=>{n?this.context!==null&&e.open(this.context,n):e.getPosition()?this.context!==null&&e.open(this.context):yr(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),Pe(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:n}=e,r=Ob(e,eG),i;n&&!(n instanceof google.maps.LatLng)&&(i=new google.maps.LatLng(n.lat,n.lng));var s=new DI(jv(jv({},r),i?{position:i}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=qt({updaterMap:Fk,eventMap:Ok,prevProps:{},nextProps:this.props,instance:s}),this.setState({infoBox:s},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:n}=this.state;n!==null&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:Fk,eventMap:Ok,prevProps:e,nextProps:this.props,instance:n}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:n}=this.state;n!==null&&(e&&e(n),$t(this.registeredEvents),n.close())}render(){return this.containerElement?Na.createPortal(S.Children.only(this.props.children),this.containerElement):null}}Pe(rG,"contextType",It);var b1,jk;function iG(){return jk||(jk=1,b1=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n}),b1}var sG=iG(),Bk=kI(sG),Vk=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],_1=1,of=8;class Fb{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[n,r]=new Uint8Array(e,0,2);if(n!==219)throw new Error("Data does not appear to be in a KDBush format.");var i=r>>4;if(i!==_1)throw new Error("Got v".concat(i," data when expected v").concat(_1,"."));var s=Vk[r&15];if(!s)throw new Error("Unrecognized array type.");var[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new Fb(a,o,s,e)}constructor(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+n,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var s=Vk.indexOf(this.ArrayType),o=e*2*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,l=(8-a%8)%8;if(s<0)throw new Error("Unexpected typed array class: ".concat(r,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,of,e),this.coords=new this.ArrayType(this.data,of+a+l,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(of+o+a+l),this.ids=new this.IndexArrayType(this.data,of,e),this.coords=new this.ArrayType(this.data,of+a+l,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(_1<<4)+s]),new Uint16Array(this.data,2,1)[0]=n,new Uint32Array(this.data,4,1)[0]=e)}add(e,n){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=n,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return Ew(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,n,r,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:s,coords:o,nodeSize:a}=this,l=[0,s.length-1,0],u=[];l.length;){var c=l.pop()||0,h=l.pop()||0,m=l.pop()||0;if(h-m<=a){for(var p=m;p<=h;p++){var v=o[2*p],_=o[2*p+1];v>=e&&v<=r&&_>=n&&_<=i&&u.push(s[p])}continue}var k=m+h>>1,w=o[2*k],b=o[2*k+1];w>=e&&w<=r&&b>=n&&b<=i&&u.push(s[k]),(c===0?e<=w:n<=b)&&(l.push(m),l.push(k-1),l.push(1-c)),(c===0?r>=w:i>=b)&&(l.push(k+1),l.push(h),l.push(1-c))}return u}within(e,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:s,nodeSize:o}=this,a=[0,i.length-1,0],l=[],u=r*r;a.length;){var c=a.pop()||0,h=a.pop()||0,m=a.pop()||0;if(h-m<=o){for(var p=m;p<=h;p++)Uk(s[2*p],s[2*p+1],e,n)<=u&&l.push(i[p]);continue}var v=m+h>>1,_=s[2*v],k=s[2*v+1];Uk(_,k,e,n)<=u&&l.push(i[v]),(c===0?e-r<=_:n-r<=k)&&(a.push(m),a.push(v-1),a.push(1-c)),(c===0?e+r>=_:n+r>=k)&&(a.push(v+1),a.push(h),a.push(1-c))}return l}}function Ew(t,e,n,r,i,s){if(!(i-r<=n)){var o=r+i>>1;RI(t,e,o,r,i,s),Ew(t,e,n,r,o-1,1-s),Ew(t,e,n,o+1,i,1-s)}}function RI(t,e,n,r,i,s){for(;i>r;){if(i-r>600){var o=i-r+1,a=n-r+1,l=Math.log(o),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(o-u)/o)*(a-o/2<0?-1:1),h=Math.max(r,Math.floor(n-a*u/o+c)),m=Math.min(i,Math.floor(n+(o-a)*u/o+c));RI(t,e,n,h,m,s)}var p=e[2*n+s],v=r,_=i;for(af(t,e,r,n),e[2*i+s]>p&&af(t,e,r,i);v<_;){for(af(t,e,v,_),v++,_--;e[2*v+s]<p;)v++;for(;e[2*_+s]>p;)_--}e[2*r+s]===p?af(t,e,r,_):(_++,af(t,e,_,i)),_<=n&&(r=_+1),n<=_&&(i=_-1)}}function af(t,e,n,r){E1(t,n,r),E1(e,2*n,2*r),E1(e,2*n+1,2*r+1)}function E1(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Uk(t,e,n,r){var i=t-n,s=e-r;return i*i+s*s}var oG={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},zk=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),Du=2,bl=3,x1=4,vl=5,MI=6;class aG{constructor(e){this.options=Object.assign(Object.create(oG),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:n,minZoom:r,maxZoom:i}=this.options;n&&console.time("total time");var s="prepare ".concat(e.length," points");n&&console.time(s),this.points=e;for(var o=[],a=0;a<e.length;a++){var l=e[a];if(l.geometry){var[u,c]=l.geometry.coordinates,h=zk($m(u)),m=zk(Hm(c));o.push(h,m,1/0,a,-1,1),this.options.reduce&&o.push(0)}}var p=this.trees[i+1]=this._createTree(o);n&&console.timeEnd(s);for(var v=i;v>=r;v--){var _=+Date.now();p=this.trees[v]=this._createTree(this._cluster(p,v)),n&&console.log("z%d: %d clusters in %dms",v,p.numItems,+Date.now()-_)}return n&&console.timeEnd("total time"),this}getClusters(e,n){var r=((e[0]+180)%360+360)%360-180,i=Math.max(-90,Math.min(90,e[1])),s=e[2]===180?180:((e[2]+180)%360+360)%360-180,o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,s=180;else if(r>s){var a=this.getClusters([r,i,180,o],n),l=this.getClusters([-180,i,s,o],n);return a.concat(l)}var u=this.trees[this._limitZoom(n)],c=u.range($m(r),Hm(o),$m(s),Hm(i)),h=u.data,m=[];for(var p of c){var v=this.stride*p;m.push(h[v+vl]>1?qk(h,v,this.clusterProps):this.points[h[v+bl]])}return m}getChildren(e){var n=this._getOriginId(e),r=this._getOriginZoom(e),i="No cluster with the specified id.",s=this.trees[r];if(!s)throw new Error(i);var o=s.data;if(n*this.stride>=o.length)throw new Error(i);var a=this.options.radius/(this.options.extent*Math.pow(2,r-1)),l=o[n*this.stride],u=o[n*this.stride+1],c=s.within(l,u,a),h=[];for(var m of c){var p=m*this.stride;o[p+x1]===e&&h.push(o[p+vl]>1?qk(o,p,this.clusterProps):this.points[o[p+bl]])}if(h.length===0)throw new Error(i);return h}getLeaves(e,n,r){n=n||10,r=r||0;var i=[];return this._appendLeaves(i,e,n,r,0),i}getTile(e,n,r){var i=this.trees[this._limitZoom(e)],s=Math.pow(2,e),{extent:o,radius:a}=this.options,l=a/o,u=(r-l)/s,c=(r+1+l)/s,h={features:[]};return this._addTileFeatures(i.range((n-l)/s,u,(n+1+l)/s,c),i.data,n,r,s,h),n===0&&this._addTileFeatures(i.range(1-l/s,u,1,c),i.data,s,r,s,h),n===s-1&&this._addTileFeatures(i.range(0,u,l/s,c),i.data,-1,r,s,h),h.features.length?h:null}getClusterExpansionZoom(e){for(var n=this._getOriginZoom(e)-1;n<=this.options.maxZoom;){var r=this.getChildren(e);if(n++,r.length!==1)break;e=r[0].properties.cluster_id}return n}_appendLeaves(e,n,r,i,s){var o=this.getChildren(n);for(var a of o){var l=a.properties;if(l&&l.cluster?s+l.point_count<=i?s+=l.point_count:s=this._appendLeaves(e,l.cluster_id,r,i,s):s<i?s++:e.push(a),e.length===r)break}return s}_createTree(e){for(var n=new Fb(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)n.add(e[r],e[r+1]);return n.finish(),n.data=e,n}_addTileFeatures(e,n,r,i,s,o){for(var a of e){var l=a*this.stride,u=n[l+vl]>1,c=void 0,h=void 0,m=void 0;if(u)c=OI(n,l,this.clusterProps),h=n[l],m=n[l+1];else{var p=this.points[n[l+bl]];c=p.properties;var[v,_]=p.geometry.coordinates;h=$m(v),m=Hm(_)}var k={type:1,geometry:[[Math.round(this.options.extent*(h*s-r)),Math.round(this.options.extent*(m*s-i))]],tags:c},w=void 0;u||this.options.generateId?w=n[l+bl]:w=this.points[n[l+bl]].id,w!==void 0&&(k.id=w),o.features.push(k)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,n){for(var{radius:r,extent:i,reduce:s,minPoints:o}=this.options,a=r/(i*Math.pow(2,n)),l=e.data,u=[],c=this.stride,h=0;h<l.length;h+=c)if(!(l[h+Du]<=n)){l[h+Du]=n;var m=l[h],p=l[h+1],v=e.within(l[h],l[h+1],a),_=l[h+vl],k=_;for(var w of v){var b=w*c;l[b+Du]>n&&(k+=l[b+vl])}if(k>_&&k>=o){var P=m*_,O=p*_,j=void 0,H=-1,A=((h/c|0)<<5)+(n+1)+this.points.length;for(var x of v){var T=x*c;if(!(l[T+Du]<=n)){l[T+Du]=n;var M=l[T+vl];P+=l[T]*M,O+=l[T+1]*M,l[T+x1]=A,s&&(j||(j=this._map(l,h,!0),H=this.clusterProps.length,this.clusterProps.push(j)),s(j,this._map(l,T)))}}l[h+x1]=A,u.push(P/k,O/k,1/0,A,-1,k),s&&u.push(H)}else{for(var C=0;C<c;C++)u.push(l[h+C]);if(k>1)for(var I of v){var R=I*c;if(!(l[R+Du]<=n)){l[R+Du]=n;for(var W=0;W<c;W++)u.push(l[R+W])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,n,r){if(e[n+vl]>1){var i=this.clusterProps[e[n+MI]];return r?Object.assign({},i):i}var s=this.points[e[n+bl]].properties,o=this.options.map(s);return r&&o===s?Object.assign({},o):o}}function qk(t,e,n){return{type:"Feature",id:t[e+bl],properties:OI(t,e,n),geometry:{type:"Point",coordinates:[lG(t[e]),uG(t[e+1])]}}}function OI(t,e,n){var r=t[e+vl],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,s=t[e+MI],o=s===-1?{}:Object.assign({},n[s]);return Object.assign(o,{cluster:!0,cluster_id:t[e+bl],point_count:r,point_count_abbreviated:i})}function $m(t){return t/360+.5}function Hm(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function lG(t){return(t-.5)*360}function uG(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function cG(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}class $i{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,n){this.isAdvancedMarker(e)?e.map=n:e.setMap(n)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class xw{constructor(e){var{markers:n,position:r}=e;this.markers=n,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var n of this.markers)e.extend($i.getPosition(n));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>$i.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&($i.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class dG{constructor(e){var{maxZoom:n=16}=e;this.maxZoom=n}noop(e){var{markers:n}=e;return hG(n)}}var hG=t=>{var e=t.map(n=>new xw({position:$i.getPosition(n),markers:[n]}));return e};class fG extends dG{constructor(e){var{maxZoom:n,radius:r=60}=e,i=cG(e,["maxZoom","radius"]);super({maxZoom:n}),this.state={zoom:-1},this.superCluster=new aG(Object.assign({maxZoom:this.maxZoom,radius:r},i))}calculate(e){var n=!1,r={zoom:e.map.getZoom()};if(!Bk(e.markers,this.markers)){n=!0,this.markers=[...e.markers];var i=this.markers.map(s=>{var o=$i.getPosition(s),a=[o.lng(),o.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:a},properties:{marker:s}}});this.superCluster.load(i)}return n||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(n=!Bk(this.state,r)),this.state=r,n&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:n}}cluster(e){var{map:n}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(n.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[n,r]},properties:i}=e;if(i.cluster)return new xw({markers:this.superCluster.getLeaves(i.cluster_id,1/0).map(o=>o.properties.marker),position:{lat:r,lng:n}});var s=i.marker;return new xw({markers:[s],position:$i.getPosition(s)})}}class pG{constructor(e,n){this.markers={sum:e.length};var r=n.map(s=>s.count),i=r.reduce((s,o)=>s+o,0);this.clusters={count:n.length,markers:{mean:i/n.length,sum:i,min:Math.min(...r),max:Math.max(...r)}}}}class mG{render(e,n,r){var{count:i,position:s}=e,o=i>Math.max(10,n.clusters.markers.mean)?"#ff0000":"#0000ff",a='<svg fill="'.concat(o,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(i,`</text>
</svg>`),l="Cluster of ".concat(i," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+i;if($i.isAdvancedMarkerAvailable(r)){var c=new DOMParser,h=c.parseFromString(a,"image/svg+xml").documentElement;h.setAttribute("transform","translate(0 25)");var m={map:r,position:s,zIndex:u,title:l,content:h};return new google.maps.marker.AdvancedMarkerElement(m)}var p={position:s,zIndex:u,title:l,icon:{url:"data:image/svg+xml;base64,".concat(btoa(a)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(p)}}function gG(t,e){for(var n in e.prototype)t.prototype[n]=e.prototype[n]}class jb{constructor(){gG(jb,google.maps.OverlayView)}}var Rf;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Rf||(Rf={}));var vG=(t,e,n)=>{n.fitBounds(e.bounds)};class yG extends jb{constructor(e){var{map:n,markers:r=[],algorithmOptions:i={},algorithm:s=new fG(i),renderer:o=new mG,onClusterClick:a=vG}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=s,this.renderer=o,this.onClusterClick=a,n&&this.setMap(n)}addMarker(e,n){this.markers.includes(e)||(this.markers.push(e),n||this.render())}addMarkers(e,n){e.forEach(r=>{this.addMarker(r,!0)}),n||this.render()}removeMarker(e,n){var r=this.markers.indexOf(e);return r===-1?!1:($i.setMap(e,null),this.markers.splice(r,1),n||this.render(),!0)}removeMarkers(e,n){var r=!1;return e.forEach(i=>{r=this.removeMarker(i,!0)||r}),r&&!n&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Rf.CLUSTERING_BEGIN,this);var{clusters:n,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var i=new Set;for(var s of n)s.markers.length==1&&i.add(s.markers[0]);var o=[];for(var a of this.clusters)a.marker!=null&&(a.markers.length==1?i.has(a.marker)||$i.setMap(a.marker,null):o.push(a.marker));this.clusters=n,this.renderClusters(),requestAnimationFrame(()=>o.forEach(l=>$i.setMap(l,null)))}google.maps.event.trigger(this,Rf.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>$i.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new pG(this.markers,this.clusters),n=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,n),r.markers.forEach(i=>$i.setMap(i,null)),this.onClusterClick&&r.marker.addListener("click",i=>{google.maps.event.trigger(this,Rf.CLUSTER_CLICK,r),this.onClusterClick(i,r,n)})),$i.setMap(r.marker,n)})}}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wG(t){var e=yY(),[n,r]=S.useState(null);return S.useEffect(()=>{if(e&&n===null){var i=new yG(Hk(Hk({},t),{},{map:e}));r(i)}},[e]),n}function bG(t){var{children:e,options:n}=t,r=wG(n);return r!==null?e(r):null}S.memo(bG);var Wk={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},Yk={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function _G(t){var{children:e,anchor:n,options:r,position:i,zIndex:s,onCloseClick:o,onDomReady:a,onContentChanged:l,onPositionChanged:u,onZindexChanged:c,onLoad:h,onUnmount:m}=t,p=S.useContext(It),[v,_]=S.useState(null),[k,w]=S.useState(null),[b,P]=S.useState(null),[O,j]=S.useState(null),[H,A]=S.useState(null),[x,T]=S.useState(null),M=S.useRef(null);return S.useEffect(()=>{v!==null&&(v.close(),n?v.open(p,n):v.getPosition()&&v.open(p))},[p,v,n]),S.useEffect(()=>{r&&v!==null&&v.setOptions(r)},[v,r]),S.useEffect(()=>{i&&v!==null&&v.setPosition(i)},[i]),S.useEffect(()=>{typeof s=="number"&&v!==null&&v.setZIndex(s)},[s]),S.useEffect(()=>{v&&o&&(k!==null&&google.maps.event.removeListener(k),w(google.maps.event.addListener(v,"closeclick",o)))},[o]),S.useEffect(()=>{v&&a&&(b!==null&&google.maps.event.removeListener(b),P(google.maps.event.addListener(v,"domready",a)))},[a]),S.useEffect(()=>{v&&l&&(O!==null&&google.maps.event.removeListener(O),j(google.maps.event.addListener(v,"content_changed",l)))},[l]),S.useEffect(()=>{v&&u&&(H!==null&&google.maps.event.removeListener(H),A(google.maps.event.addListener(v,"position_changed",u)))},[u]),S.useEffect(()=>{v&&c&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(v,"zindex_changed",c)))},[c]),S.useEffect(()=>{var C=new google.maps.InfoWindow(r);return _(C),M.current=document.createElement("div"),o&&w(google.maps.event.addListener(C,"closeclick",o)),a&&P(google.maps.event.addListener(C,"domready",a)),l&&j(google.maps.event.addListener(C,"content_changed",l)),u&&A(google.maps.event.addListener(C,"position_changed",u)),c&&T(google.maps.event.addListener(C,"zindex_changed",c)),C.setContent(M.current),i&&C.setPosition(i),s&&C.setZIndex(s),n?C.open(p,n):C.getPosition()?C.open(p):yr(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),h&&h(C),()=>{k&&google.maps.event.removeListener(k),O&&google.maps.event.removeListener(O),b&&google.maps.event.removeListener(b),H&&google.maps.event.removeListener(H),x&&google.maps.event.removeListener(x),m&&m(C),C.close()}},[]),M.current?Na.createPortal(S.Children.only(e),M.current):null}S.memo(_G);class EG extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[]),Pe(this,"containerElement",null),Pe(this,"state",{infoWindow:null}),Pe(this,"open",(e,n)=>{n?e.open(this.context,n):e.getPosition()?e.open(this.context):yr(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),Pe(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=qt({updaterMap:Yk,eventMap:Wk,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:Yk,eventMap:Wk,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&($t(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Na.createPortal(S.Children.only(this.props.children),this.containerElement):null}}Pe(EG,"contextType",It);function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Kk={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},Qk={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},xG={};function SG(t){var{options:e,draggable:n,editable:r,visible:i,path:s,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:c,onMouseOut:h,onMouseOver:m,onMouseUp:p,onRightClick:v,onClick:_,onDrag:k,onLoad:w,onUnmount:b}=t,P=S.useContext(It),[O,j]=S.useState(null),[H,A]=S.useState(null),[x,T]=S.useState(null),[M,C]=S.useState(null),[I,R]=S.useState(null),[W,Z]=S.useState(null),[X,re]=S.useState(null),[z,ne]=S.useState(null),[ie,ye]=S.useState(null),[F,Y]=S.useState(null),[ee,Q]=S.useState(null),[ae,de]=S.useState(null);return S.useEffect(()=>{O!==null&&O.setMap(P)},[P]),S.useEffect(()=>{typeof e<"u"&&O!==null&&O.setOptions(e)},[O,e]),S.useEffect(()=>{typeof n<"u"&&O!==null&&O.setDraggable(n)},[O,n]),S.useEffect(()=>{typeof r<"u"&&O!==null&&O.setEditable(r)},[O,r]),S.useEffect(()=>{typeof i<"u"&&O!==null&&O.setVisible(i)},[O,i]),S.useEffect(()=>{typeof s<"u"&&O!==null&&O.setPath(s)},[O,s]),S.useEffect(()=>{O&&o&&(H!==null&&google.maps.event.removeListener(H),A(google.maps.event.addListener(O,"dblclick",o)))},[o]),S.useEffect(()=>{O&&a&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(O,"dragend",a)))},[a]),S.useEffect(()=>{O&&l&&(M!==null&&google.maps.event.removeListener(M),C(google.maps.event.addListener(O,"dragstart",l)))},[l]),S.useEffect(()=>{O&&u&&(I!==null&&google.maps.event.removeListener(I),R(google.maps.event.addListener(O,"mousedown",u)))},[u]),S.useEffect(()=>{O&&c&&(W!==null&&google.maps.event.removeListener(W),Z(google.maps.event.addListener(O,"mousemove",c)))},[c]),S.useEffect(()=>{O&&h&&(X!==null&&google.maps.event.removeListener(X),re(google.maps.event.addListener(O,"mouseout",h)))},[h]),S.useEffect(()=>{O&&m&&(z!==null&&google.maps.event.removeListener(z),ne(google.maps.event.addListener(O,"mouseover",m)))},[m]),S.useEffect(()=>{O&&p&&(ie!==null&&google.maps.event.removeListener(ie),ye(google.maps.event.addListener(O,"mouseup",p)))},[p]),S.useEffect(()=>{O&&v&&(F!==null&&google.maps.event.removeListener(F),Y(google.maps.event.addListener(O,"rightclick",v)))},[v]),S.useEffect(()=>{O&&_&&(ee!==null&&google.maps.event.removeListener(ee),Q(google.maps.event.addListener(O,"click",_)))},[_]),S.useEffect(()=>{O&&k&&(ae!==null&&google.maps.event.removeListener(ae),de(google.maps.event.addListener(O,"drag",k)))},[k]),S.useEffect(()=>{var he=new google.maps.Polyline(Bv(Bv({},e||xG),{},{map:P}));return s&&he.setPath(s),typeof i<"u"&&he.setVisible(i),typeof r<"u"&&he.setEditable(r),typeof n<"u"&&he.setDraggable(n),o&&A(google.maps.event.addListener(he,"dblclick",o)),a&&T(google.maps.event.addListener(he,"dragend",a)),l&&C(google.maps.event.addListener(he,"dragstart",l)),u&&R(google.maps.event.addListener(he,"mousedown",u)),c&&Z(google.maps.event.addListener(he,"mousemove",c)),h&&re(google.maps.event.addListener(he,"mouseout",h)),m&&ne(google.maps.event.addListener(he,"mouseover",m)),p&&ye(google.maps.event.addListener(he,"mouseup",p)),v&&Y(google.maps.event.addListener(he,"rightclick",v)),_&&Q(google.maps.event.addListener(he,"click",_)),k&&de(google.maps.event.addListener(he,"drag",k)),j(he),w&&w(he),()=>{H!==null&&google.maps.event.removeListener(H),x!==null&&google.maps.event.removeListener(x),M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),W!==null&&google.maps.event.removeListener(W),X!==null&&google.maps.event.removeListener(X),z!==null&&google.maps.event.removeListener(z),ie!==null&&google.maps.event.removeListener(ie),F!==null&&google.maps.event.removeListener(F),ee!==null&&google.maps.event.removeListener(ee),b&&b(he),he.setMap(null)}},[]),null}S.memo(SG);class kG extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[]),Pe(this,"state",{polyline:null}),Pe(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Bv(Bv({},this.props.options),{},{map:this.context}));this.registeredEvents=qt({updaterMap:Qk,eventMap:Kk,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:Qk,eventMap:Kk,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),$t(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}Pe(kG,"contextType",It);function Jk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Zk={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},eL={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function LG(t){var{options:e,draggable:n,editable:r,visible:i,path:s,paths:o,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:c,onMouseMove:h,onMouseOut:m,onMouseOver:p,onMouseUp:v,onRightClick:_,onClick:k,onDrag:w,onLoad:b,onUnmount:P,onEdit:O}=t,j=S.useContext(It),[H,A]=S.useState(null),[x,T]=S.useState(null),[M,C]=S.useState(null),[I,R]=S.useState(null),[W,Z]=S.useState(null),[X,re]=S.useState(null),[z,ne]=S.useState(null),[ie,ye]=S.useState(null),[F,Y]=S.useState(null),[ee,Q]=S.useState(null),[ae,de]=S.useState(null),[he,ve]=S.useState(null);return S.useEffect(()=>{H!==null&&H.setMap(j)},[j]),S.useEffect(()=>{typeof e<"u"&&H!==null&&H.setOptions(e)},[H,e]),S.useEffect(()=>{typeof n<"u"&&H!==null&&H.setDraggable(n)},[H,n]),S.useEffect(()=>{typeof r<"u"&&H!==null&&H.setEditable(r)},[H,r]),S.useEffect(()=>{typeof i<"u"&&H!==null&&H.setVisible(i)},[H,i]),S.useEffect(()=>{typeof s<"u"&&H!==null&&H.setPath(s)},[H,s]),S.useEffect(()=>{typeof o<"u"&&H!==null&&H.setPaths(o)},[H,o]),S.useEffect(()=>{H&&typeof a=="function"&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(H,"dblclick",a)))},[a]),S.useEffect(()=>{H&&(google.maps.event.addListener(H.getPath(),"insert_at",()=>{O==null||O(H)}),google.maps.event.addListener(H.getPath(),"set_at",()=>{O==null||O(H)}),google.maps.event.addListener(H.getPath(),"remove_at",()=>{O==null||O(H)}))},[H,O]),S.useEffect(()=>{H&&typeof l=="function"&&(M!==null&&google.maps.event.removeListener(M),C(google.maps.event.addListener(H,"dragend",l)))},[l]),S.useEffect(()=>{H&&typeof u=="function"&&(I!==null&&google.maps.event.removeListener(I),R(google.maps.event.addListener(H,"dragstart",u)))},[u]),S.useEffect(()=>{H&&typeof c=="function"&&(W!==null&&google.maps.event.removeListener(W),Z(google.maps.event.addListener(H,"mousedown",c)))},[c]),S.useEffect(()=>{H&&typeof h=="function"&&(X!==null&&google.maps.event.removeListener(X),re(google.maps.event.addListener(H,"mousemove",h)))},[h]),S.useEffect(()=>{H&&typeof m=="function"&&(z!==null&&google.maps.event.removeListener(z),ne(google.maps.event.addListener(H,"mouseout",m)))},[m]),S.useEffect(()=>{H&&typeof p=="function"&&(ie!==null&&google.maps.event.removeListener(ie),ye(google.maps.event.addListener(H,"mouseover",p)))},[p]),S.useEffect(()=>{H&&typeof v=="function"&&(F!==null&&google.maps.event.removeListener(F),Y(google.maps.event.addListener(H,"mouseup",v)))},[v]),S.useEffect(()=>{H&&typeof _=="function"&&(ee!==null&&google.maps.event.removeListener(ee),Q(google.maps.event.addListener(H,"rightclick",_)))},[_]),S.useEffect(()=>{H&&typeof k=="function"&&(ae!==null&&google.maps.event.removeListener(ae),de(google.maps.event.addListener(H,"click",k)))},[k]),S.useEffect(()=>{H&&typeof w=="function"&&(he!==null&&google.maps.event.removeListener(he),ve(google.maps.event.addListener(H,"drag",w)))},[w]),S.useEffect(()=>{var Se=new google.maps.Polygon(Xk(Xk({},e),{},{map:j}));return s&&Se.setPath(s),o&&Se.setPaths(o),typeof i<"u"&&Se.setVisible(i),typeof r<"u"&&Se.setEditable(r),typeof n<"u"&&Se.setDraggable(n),a&&T(google.maps.event.addListener(Se,"dblclick",a)),l&&C(google.maps.event.addListener(Se,"dragend",l)),u&&R(google.maps.event.addListener(Se,"dragstart",u)),c&&Z(google.maps.event.addListener(Se,"mousedown",c)),h&&re(google.maps.event.addListener(Se,"mousemove",h)),m&&ne(google.maps.event.addListener(Se,"mouseout",m)),p&&ye(google.maps.event.addListener(Se,"mouseover",p)),v&&Y(google.maps.event.addListener(Se,"mouseup",v)),_&&Q(google.maps.event.addListener(Se,"rightclick",_)),k&&de(google.maps.event.addListener(Se,"click",k)),w&&ve(google.maps.event.addListener(Se,"drag",w)),A(Se),b&&b(Se),()=>{x!==null&&google.maps.event.removeListener(x),M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),W!==null&&google.maps.event.removeListener(W),X!==null&&google.maps.event.removeListener(X),z!==null&&google.maps.event.removeListener(z),ie!==null&&google.maps.event.removeListener(ie),F!==null&&google.maps.event.removeListener(F),ee!==null&&google.maps.event.removeListener(ee),ae!==null&&google.maps.event.removeListener(ae),P&&P(Se),Se.setMap(null)}},[]),null}S.memo(LG);class CG extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=qt({updaterMap:eL,eventMap:Zk,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:eL,eventMap:Zk,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),$t(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}Pe(CG,"contextType",It);function tL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var nL={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},rL={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function TG(t){var{options:e,bounds:n,draggable:r,editable:i,visible:s,onDblClick:o,onDragEnd:a,onDragStart:l,onMouseDown:u,onMouseMove:c,onMouseOut:h,onMouseOver:m,onMouseUp:p,onRightClick:v,onClick:_,onDrag:k,onBoundsChanged:w,onLoad:b,onUnmount:P}=t,O=S.useContext(It),[j,H]=S.useState(null),[A,x]=S.useState(null),[T,M]=S.useState(null),[C,I]=S.useState(null),[R,W]=S.useState(null),[Z,X]=S.useState(null),[re,z]=S.useState(null),[ne,ie]=S.useState(null),[ye,F]=S.useState(null),[Y,ee]=S.useState(null),[Q,ae]=S.useState(null),[de,he]=S.useState(null),[ve,Se]=S.useState(null);return S.useEffect(()=>{j!==null&&j.setMap(O)},[O]),S.useEffect(()=>{typeof e<"u"&&j!==null&&j.setOptions(e)},[j,e]),S.useEffect(()=>{typeof r<"u"&&j!==null&&j.setDraggable(r)},[j,r]),S.useEffect(()=>{typeof i<"u"&&j!==null&&j.setEditable(i)},[j,i]),S.useEffect(()=>{typeof s<"u"&&j!==null&&j.setVisible(s)},[j,s]),S.useEffect(()=>{typeof n<"u"&&j!==null&&j.setBounds(n)},[j,n]),S.useEffect(()=>{j&&o&&(A!==null&&google.maps.event.removeListener(A),x(google.maps.event.addListener(j,"dblclick",o)))},[o]),S.useEffect(()=>{j&&a&&(T!==null&&google.maps.event.removeListener(T),M(google.maps.event.addListener(j,"dragend",a)))},[a]),S.useEffect(()=>{j&&l&&(C!==null&&google.maps.event.removeListener(C),I(google.maps.event.addListener(j,"dragstart",l)))},[l]),S.useEffect(()=>{j&&u&&(R!==null&&google.maps.event.removeListener(R),W(google.maps.event.addListener(j,"mousedown",u)))},[u]),S.useEffect(()=>{j&&c&&(Z!==null&&google.maps.event.removeListener(Z),X(google.maps.event.addListener(j,"mousemove",c)))},[c]),S.useEffect(()=>{j&&h&&(re!==null&&google.maps.event.removeListener(re),z(google.maps.event.addListener(j,"mouseout",h)))},[h]),S.useEffect(()=>{j&&m&&(ne!==null&&google.maps.event.removeListener(ne),ie(google.maps.event.addListener(j,"mouseover",m)))},[m]),S.useEffect(()=>{j&&p&&(ye!==null&&google.maps.event.removeListener(ye),F(google.maps.event.addListener(j,"mouseup",p)))},[p]),S.useEffect(()=>{j&&v&&(Y!==null&&google.maps.event.removeListener(Y),ee(google.maps.event.addListener(j,"rightclick",v)))},[v]),S.useEffect(()=>{j&&_&&(Q!==null&&google.maps.event.removeListener(Q),ae(google.maps.event.addListener(j,"click",_)))},[_]),S.useEffect(()=>{j&&k&&(de!==null&&google.maps.event.removeListener(de),he(google.maps.event.addListener(j,"drag",k)))},[k]),S.useEffect(()=>{j&&w&&(ve!==null&&google.maps.event.removeListener(ve),Se(google.maps.event.addListener(j,"bounds_changed",w)))},[w]),S.useEffect(()=>{var ke=new google.maps.Rectangle(Vv(Vv({},e),{},{map:O}));return typeof s<"u"&&ke.setVisible(s),typeof i<"u"&&ke.setEditable(i),typeof r<"u"&&ke.setDraggable(r),typeof n<"u"&&ke.setBounds(n),o&&x(google.maps.event.addListener(ke,"dblclick",o)),a&&M(google.maps.event.addListener(ke,"dragend",a)),l&&I(google.maps.event.addListener(ke,"dragstart",l)),u&&W(google.maps.event.addListener(ke,"mousedown",u)),c&&X(google.maps.event.addListener(ke,"mousemove",c)),h&&z(google.maps.event.addListener(ke,"mouseout",h)),m&&ie(google.maps.event.addListener(ke,"mouseover",m)),p&&F(google.maps.event.addListener(ke,"mouseup",p)),v&&ee(google.maps.event.addListener(ke,"rightclick",v)),_&&ae(google.maps.event.addListener(ke,"click",_)),k&&he(google.maps.event.addListener(ke,"drag",k)),w&&Se(google.maps.event.addListener(ke,"bounds_changed",w)),H(ke),b&&b(ke),()=>{A!==null&&google.maps.event.removeListener(A),T!==null&&google.maps.event.removeListener(T),C!==null&&google.maps.event.removeListener(C),R!==null&&google.maps.event.removeListener(R),Z!==null&&google.maps.event.removeListener(Z),re!==null&&google.maps.event.removeListener(re),ne!==null&&google.maps.event.removeListener(ne),ye!==null&&google.maps.event.removeListener(ye),Y!==null&&google.maps.event.removeListener(Y),Q!==null&&google.maps.event.removeListener(Q),de!==null&&google.maps.event.removeListener(de),ve!==null&&google.maps.event.removeListener(ve),P&&P(ke),ke.setMap(null)}},[]),null}S.memo(TG);class PG extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[]),Pe(this,"state",{rectangle:null}),Pe(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Vv(Vv({},this.props.options),{},{map:this.context}));this.registeredEvents=qt({updaterMap:rL,eventMap:nL,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:rL,eventMap:nL,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),$t(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}Pe(PG,"contextType",It);function iL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var sL={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},oL={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},AG={};function IG(t){var{options:e,center:n,radius:r,draggable:i,editable:s,visible:o,onDblClick:a,onDragEnd:l,onDragStart:u,onMouseDown:c,onMouseMove:h,onMouseOut:m,onMouseOver:p,onMouseUp:v,onRightClick:_,onClick:k,onDrag:w,onCenterChanged:b,onRadiusChanged:P,onLoad:O,onUnmount:j}=t,H=S.useContext(It),[A,x]=S.useState(null),[T,M]=S.useState(null),[C,I]=S.useState(null),[R,W]=S.useState(null),[Z,X]=S.useState(null),[re,z]=S.useState(null),[ne,ie]=S.useState(null),[ye,F]=S.useState(null),[Y,ee]=S.useState(null),[Q,ae]=S.useState(null),[de,he]=S.useState(null),[ve,Se]=S.useState(null),[ke,je]=S.useState(null),[Be,st]=S.useState(null);return S.useEffect(()=>{A!==null&&A.setMap(H)},[H]),S.useEffect(()=>{typeof e<"u"&&A!==null&&A.setOptions(e)},[A,e]),S.useEffect(()=>{typeof i<"u"&&A!==null&&A.setDraggable(i)},[A,i]),S.useEffect(()=>{typeof s<"u"&&A!==null&&A.setEditable(s)},[A,s]),S.useEffect(()=>{typeof o<"u"&&A!==null&&A.setVisible(o)},[A,o]),S.useEffect(()=>{typeof r=="number"&&A!==null&&A.setRadius(r)},[A,r]),S.useEffect(()=>{typeof n<"u"&&A!==null&&A.setCenter(n)},[A,n]),S.useEffect(()=>{A&&a&&(T!==null&&google.maps.event.removeListener(T),M(google.maps.event.addListener(A,"dblclick",a)))},[a]),S.useEffect(()=>{A&&l&&(C!==null&&google.maps.event.removeListener(C),I(google.maps.event.addListener(A,"dragend",l)))},[l]),S.useEffect(()=>{A&&u&&(R!==null&&google.maps.event.removeListener(R),W(google.maps.event.addListener(A,"dragstart",u)))},[u]),S.useEffect(()=>{A&&c&&(Z!==null&&google.maps.event.removeListener(Z),X(google.maps.event.addListener(A,"mousedown",c)))},[c]),S.useEffect(()=>{A&&h&&(re!==null&&google.maps.event.removeListener(re),z(google.maps.event.addListener(A,"mousemove",h)))},[h]),S.useEffect(()=>{A&&m&&(ne!==null&&google.maps.event.removeListener(ne),ie(google.maps.event.addListener(A,"mouseout",m)))},[m]),S.useEffect(()=>{A&&p&&(ye!==null&&google.maps.event.removeListener(ye),F(google.maps.event.addListener(A,"mouseover",p)))},[p]),S.useEffect(()=>{A&&v&&(Y!==null&&google.maps.event.removeListener(Y),ee(google.maps.event.addListener(A,"mouseup",v)))},[v]),S.useEffect(()=>{A&&_&&(Q!==null&&google.maps.event.removeListener(Q),ae(google.maps.event.addListener(A,"rightclick",_)))},[_]),S.useEffect(()=>{A&&k&&(de!==null&&google.maps.event.removeListener(de),he(google.maps.event.addListener(A,"click",k)))},[k]),S.useEffect(()=>{A&&w&&(ve!==null&&google.maps.event.removeListener(ve),Se(google.maps.event.addListener(A,"drag",w)))},[w]),S.useEffect(()=>{A&&b&&(ke!==null&&google.maps.event.removeListener(ke),je(google.maps.event.addListener(A,"center_changed",b)))},[k]),S.useEffect(()=>{A&&P&&(Be!==null&&google.maps.event.removeListener(Be),st(google.maps.event.addListener(A,"radius_changed",P)))},[P]),S.useEffect(()=>{var _e=new google.maps.Circle(Uv(Uv({},e||AG),{},{map:H}));return typeof r=="number"&&_e.setRadius(r),typeof n<"u"&&_e.setCenter(n),typeof r=="number"&&_e.setRadius(r),typeof o<"u"&&_e.setVisible(o),typeof s<"u"&&_e.setEditable(s),typeof i<"u"&&_e.setDraggable(i),a&&M(google.maps.event.addListener(_e,"dblclick",a)),l&&I(google.maps.event.addListener(_e,"dragend",l)),u&&W(google.maps.event.addListener(_e,"dragstart",u)),c&&X(google.maps.event.addListener(_e,"mousedown",c)),h&&z(google.maps.event.addListener(_e,"mousemove",h)),m&&ie(google.maps.event.addListener(_e,"mouseout",m)),p&&F(google.maps.event.addListener(_e,"mouseover",p)),v&&ee(google.maps.event.addListener(_e,"mouseup",v)),_&&ae(google.maps.event.addListener(_e,"rightclick",_)),k&&he(google.maps.event.addListener(_e,"click",k)),w&&Se(google.maps.event.addListener(_e,"drag",w)),b&&je(google.maps.event.addListener(_e,"center_changed",b)),P&&st(google.maps.event.addListener(_e,"radius_changed",P)),x(_e),O&&O(_e),()=>{T!==null&&google.maps.event.removeListener(T),C!==null&&google.maps.event.removeListener(C),R!==null&&google.maps.event.removeListener(R),Z!==null&&google.maps.event.removeListener(Z),re!==null&&google.maps.event.removeListener(re),ne!==null&&google.maps.event.removeListener(ne),ye!==null&&google.maps.event.removeListener(ye),Y!==null&&google.maps.event.removeListener(Y),Q!==null&&google.maps.event.removeListener(Q),de!==null&&google.maps.event.removeListener(de),ke!==null&&google.maps.event.removeListener(ke),Be!==null&&google.maps.event.removeListener(Be),j&&j(_e),_e.setMap(null)}},[]),null}S.memo(IG);class NG extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[]),Pe(this,"state",{circle:null}),Pe(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Uv(Uv({},this.props.options),{},{map:this.context}));this.registeredEvents=qt({updaterMap:oL,eventMap:sL,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:oL,eventMap:sL,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),$t(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}Pe(NG,"contextType",It);function aL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var lL={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},uL={add(t,e){t.add(e)},addgeojson(t,e,n){t.addGeoJson(e,n)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,n,r){t.loadGeoJson(e,n,r)},overridestyle(t,e,n){t.overrideStyle(e,n)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function DG(t){var{options:e,onClick:n,onDblClick:r,onMouseDown:i,onMouseMove:s,onMouseOut:o,onMouseOver:a,onMouseUp:l,onRightClick:u,onAddFeature:c,onRemoveFeature:h,onRemoveProperty:m,onSetGeometry:p,onSetProperty:v,onLoad:_,onUnmount:k}=t,w=S.useContext(It),[b,P]=S.useState(null),[O,j]=S.useState(null),[H,A]=S.useState(null),[x,T]=S.useState(null),[M,C]=S.useState(null),[I,R]=S.useState(null),[W,Z]=S.useState(null),[X,re]=S.useState(null),[z,ne]=S.useState(null),[ie,ye]=S.useState(null),[F,Y]=S.useState(null),[ee,Q]=S.useState(null),[ae,de]=S.useState(null),[he,ve]=S.useState(null);return S.useEffect(()=>{b!==null&&b.setMap(w)},[w]),S.useEffect(()=>{b&&r&&(O!==null&&google.maps.event.removeListener(O),j(google.maps.event.addListener(b,"dblclick",r)))},[r]),S.useEffect(()=>{b&&i&&(H!==null&&google.maps.event.removeListener(H),A(google.maps.event.addListener(b,"mousedown",i)))},[i]),S.useEffect(()=>{b&&s&&(x!==null&&google.maps.event.removeListener(x),T(google.maps.event.addListener(b,"mousemove",s)))},[s]),S.useEffect(()=>{b&&o&&(M!==null&&google.maps.event.removeListener(M),C(google.maps.event.addListener(b,"mouseout",o)))},[o]),S.useEffect(()=>{b&&a&&(I!==null&&google.maps.event.removeListener(I),R(google.maps.event.addListener(b,"mouseover",a)))},[a]),S.useEffect(()=>{b&&l&&(W!==null&&google.maps.event.removeListener(W),Z(google.maps.event.addListener(b,"mouseup",l)))},[l]),S.useEffect(()=>{b&&u&&(X!==null&&google.maps.event.removeListener(X),re(google.maps.event.addListener(b,"rightclick",u)))},[u]),S.useEffect(()=>{b&&n&&(z!==null&&google.maps.event.removeListener(z),ne(google.maps.event.addListener(b,"click",n)))},[n]),S.useEffect(()=>{b&&c&&(ie!==null&&google.maps.event.removeListener(ie),ye(google.maps.event.addListener(b,"addfeature",c)))},[c]),S.useEffect(()=>{b&&h&&(F!==null&&google.maps.event.removeListener(F),Y(google.maps.event.addListener(b,"removefeature",h)))},[h]),S.useEffect(()=>{b&&m&&(ee!==null&&google.maps.event.removeListener(ee),Q(google.maps.event.addListener(b,"removeproperty",m)))},[m]),S.useEffect(()=>{b&&p&&(ae!==null&&google.maps.event.removeListener(ae),de(google.maps.event.addListener(b,"setgeometry",p)))},[p]),S.useEffect(()=>{b&&v&&(he!==null&&google.maps.event.removeListener(he),ve(google.maps.event.addListener(b,"setproperty",v)))},[v]),S.useEffect(()=>{if(w!==null){var Se=new google.maps.Data(zv(zv({},e),{},{map:w}));r&&j(google.maps.event.addListener(Se,"dblclick",r)),i&&A(google.maps.event.addListener(Se,"mousedown",i)),s&&T(google.maps.event.addListener(Se,"mousemove",s)),o&&C(google.maps.event.addListener(Se,"mouseout",o)),a&&R(google.maps.event.addListener(Se,"mouseover",a)),l&&Z(google.maps.event.addListener(Se,"mouseup",l)),u&&re(google.maps.event.addListener(Se,"rightclick",u)),n&&ne(google.maps.event.addListener(Se,"click",n)),c&&ye(google.maps.event.addListener(Se,"addfeature",c)),h&&Y(google.maps.event.addListener(Se,"removefeature",h)),m&&Q(google.maps.event.addListener(Se,"removeproperty",m)),p&&de(google.maps.event.addListener(Se,"setgeometry",p)),v&&ve(google.maps.event.addListener(Se,"setproperty",v)),P(Se),_&&_(Se)}return()=>{b&&(O!==null&&google.maps.event.removeListener(O),H!==null&&google.maps.event.removeListener(H),x!==null&&google.maps.event.removeListener(x),M!==null&&google.maps.event.removeListener(M),I!==null&&google.maps.event.removeListener(I),W!==null&&google.maps.event.removeListener(W),X!==null&&google.maps.event.removeListener(X),z!==null&&google.maps.event.removeListener(z),ie!==null&&google.maps.event.removeListener(ie),F!==null&&google.maps.event.removeListener(F),ee!==null&&google.maps.event.removeListener(ee),ae!==null&&google.maps.event.removeListener(ae),he!==null&&google.maps.event.removeListener(he),k&&k(b),b.setMap(null))}},[]),null}S.memo(DG);class RG extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[]),Pe(this,"state",{data:null}),Pe(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(zv(zv({},this.props.options),{},{map:this.context}));this.registeredEvents=qt({updaterMap:uL,eventMap:lL,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:uL,eventMap:lL,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),$t(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}Pe(RG,"contextType",It);function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var hL={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},fL={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class MG extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[]),Pe(this,"state",{kmlLayer:null}),Pe(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(dL(dL({},this.props.options),{},{map:this.context}));this.registeredEvents=qt({updaterMap:fL,eventMap:hL,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:fL,eventMap:hL,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),$t(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}Pe(MG,"contextType",It);function FI(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function OG(t,e){return new e(t.lat,t.lng)}function FG(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function jG(t,e,n){return t instanceof e?t:n(t,e)}function BG(t,e,n){return t instanceof e?t:n(t,e)}function VG(t,e,n){var r=t&&t.fromLatLngToDivPixel(n.getNorthEast()),i=t&&t.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-i.x-e.x,"px"),height:"".concat(i.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function UG(t,e,n){var r=t&&t.fromLatLngToDivPixel(n);if(r){var{x:i,y:s}=r;return{left:"".concat(i+e.x,"px"),top:"".concat(s+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function jI(t,e,n,r){return n!==void 0?VG(t,e,BG(n,google.maps.LatLngBounds,FG)):UG(t,e,jG(r,google.maps.LatLng,OG))}function zG(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function pL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $G(t,e,n,r,i){class s extends google.maps.OverlayView{constructor(a,l,u,c){super(),this.container=a,this.pane=l,this.position=u,this.bounds=c}onAdd(){var a,l=(a=this.getPanes())===null||a===void 0?void 0:a[this.pane];l==null||l.appendChild(this.container)}draw(){var a=this.getProjection(),l=qG({},this.container?FI(this.container,i):{x:0,y:0}),u=jI(a,l,this.bounds,this.position);for(var[c,h]of Object.entries(u))this.container.style[c]=h}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new s(t,e,n,r)}function mL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gL(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function vL(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function WG(t){var{position:e,bounds:n,mapPaneName:r,zIndex:i,onLoad:s,onUnmount:o,getPixelPositionOffset:a,children:l}=t,u=S.useContext(It),c=S.useMemo(()=>{var m=document.createElement("div");return m.style.position="absolute",m},[]),h=S.useMemo(()=>$G(c,r,e,n,a),[c,r,e,n]);return S.useEffect(()=>(s==null||s(h),h==null||h.setMap(u),()=>{o==null||o(h),h==null||h.setMap(null)}),[u,h]),S.useEffect(()=>{c.style.zIndex="".concat(i)},[i,c]),Na.createPortal(l,c)}S.memo(WG);class xh extends S.PureComponent{constructor(e){super(e),Pe(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),Pe(this,"updatePane",()=>{var r=this.props.mapPaneName,i=this.overlayView.getPanes();yr(!!r,"OverlayView requires props.mapPaneName but got %s",r),i?this.setState({paneEl:i[r]}):this.setState({paneEl:null})}),Pe(this,"onAdd",()=>{var r,i;this.updatePane(),(r=(i=this.props).onLoad)===null||r===void 0||r.call(i,this.overlayView)}),Pe(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),i=HG({x:0,y:0},this.containerRef.current?FI(this.containerRef.current,this.props.getPixelPositionOffset):{}),s=jI(r,i,this.props.bounds,this.props.position);if(!zG(s,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var o,a,l,u;this.setState({containerStyle:{top:(o=s.top)!==null&&o!==void 0?o:0,left:(a=s.left)!==null&&a!==void 0?a:0,width:(l=s.width)!==null&&l!==void 0?l:0,height:(u=s.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),Pe(this,"draw",()=>{this.onPositionElement()}),Pe(this,"onRemove",()=>{var r,i;this.setState(()=>({paneEl:null})),(r=(i=this.props).onUnmount)===null||r===void 0||r.call(i,this.overlayView)}),this.containerRef=S.createRef();var n=new google.maps.OverlayView;n.onAdd=this.onAdd,n.draw=this.draw,n.onRemove=this.onRemove,this.overlayView=n}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var n=gL(e.position),r=gL(this.props.position),i=vL(e.bounds),s=vL(this.props.bounds);(n!==r||i!==s)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Na.createPortal(B.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:S.Children.only(this.props.children)}),e):null}}Pe(xh,"FLOAT_PANE","floatPane");Pe(xh,"MAP_PANE","mapPane");Pe(xh,"MARKER_LAYER","markerLayer");Pe(xh,"OVERLAY_LAYER","overlayLayer");Pe(xh,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");Pe(xh,"contextType",It);function YG(){}function yL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var bL={onDblClick:"dblclick",onClick:"click"},_L={opacity(t,e){t.setOpacity(e)}};function GG(t){var{url:e,bounds:n,options:r,visible:i}=t,s=S.useContext(It),o=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),a=S.useMemo(()=>new google.maps.GroundOverlay(e,o,r),[]);return S.useEffect(()=>{a!==null&&a.setMap(s)},[s]),S.useEffect(()=>{typeof e<"u"&&a!==null&&(a.set("url",e),a.setMap(s))},[a,e]),S.useEffect(()=>{typeof i<"u"&&a!==null&&a.setOpacity(i?1:0)},[a,i]),S.useEffect(()=>{var l=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));typeof n<"u"&&a!==null&&(a.set("bounds",l),a.setMap(s))},[a,n]),null}S.memo(GG);class BI extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[]),Pe(this,"state",{groundOverlay:null}),Pe(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){yr(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,wL(wL({},this.props.options),{},{map:this.context}));this.registeredEvents=qt({updaterMap:_L,eventMap:bL,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:_L,eventMap:bL,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}Pe(BI,"defaultProps",{onLoad:YG});Pe(BI,"contextType",It);function EL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(n),!0).forEach(function(r){Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var xL={},SL={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function KG(t){var{data:e,onLoad:n,onUnmount:r,options:i}=t,s=S.useContext(It),[o,a]=S.useState(null);return S.useEffect(()=>{google.maps.visualization||yr(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),S.useEffect(()=>{yr(!!e,"data property is required in HeatmapLayer %s",e)},[e]),S.useEffect(()=>{o!==null&&o.setMap(s)},[s]),S.useEffect(()=>{i&&o!==null&&o.setOptions(i)},[o,i]),S.useEffect(()=>{var l=new google.maps.visualization.HeatmapLayer(qv(qv({},i),{},{data:e,map:s}));return a(l),n&&n(l),()=>{o!==null&&(r&&r(o),o.setMap(null))}},[]),null}S.memo(KG);class QG extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[]),Pe(this,"state",{heatmapLayer:null}),Pe(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){yr(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),yr(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(qv(qv({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=qt({updaterMap:SL,eventMap:xL,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){$t(this.registeredEvents),this.registeredEvents=qt({updaterMap:SL,eventMap:xL,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),$t(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}Pe(QG,"contextType",It);var kL={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},LL={register(t,e,n){t.registerPanoProvider(e,n)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class JG extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[]),Pe(this,"state",{streetViewPanorama:null}),Pe(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,n,r=(e=(n=this.context)===null||n===void 0?void 0:n.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=qt({updaterMap:LL,eventMap:kL,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:LL,eventMap:kL,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),$t(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}Pe(JG,"contextType",It);class XG extends S.PureComponent{constructor(){super(...arguments),Pe(this,"state",{streetViewService:null}),Pe(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}Pe(XG,"contextType",It);var CL={onDirectionsChanged:"directions_changed"},TL={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class ZG extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[]),Pe(this,"state",{directionsRenderer:null}),Pe(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=qt({updaterMap:TL,eventMap:CL,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:TL,eventMap:CL,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),$t(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}Pe(ZG,"contextType",It);var PL={onPlacesChanged:"places_changed"},AL={bounds(t,e){t.setBounds(e)}};class eK extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[]),Pe(this,"containerElement",S.createRef()),Pe(this,"state",{searchBox:null}),Pe(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(yr(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var n=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=qt({updaterMap:AL,eventMap:PL,prevProps:{},nextProps:this.props,instance:n}),this.setState(function(){return{searchBox:n}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&($t(this.registeredEvents),this.registeredEvents=qt({updaterMap:AL,eventMap:PL,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),$t(this.registeredEvents))}render(){return B.jsx("div",{ref:this.containerElement,children:S.Children.only(this.props.children)})}}Pe(eK,"contextType",It);var IL={onPlaceChanged:"place_changed"},NL={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class Bb extends S.PureComponent{constructor(){super(...arguments),Pe(this,"registeredEvents",[]),Pe(this,"containerElement",S.createRef()),Pe(this,"state",{autocomplete:null}),Pe(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;yr(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var n=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(n){var r=new google.maps.places.Autocomplete(n,this.props.options);this.registeredEvents=qt({updaterMap:NL,eventMap:IL,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){$t(this.registeredEvents),this.registeredEvents=qt({updaterMap:NL,eventMap:IL,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&$t(this.registeredEvents)}render(){return B.jsx("div",{ref:this.containerElement,className:this.props.className,children:S.Children.only(this.props.children)})}}Pe(Bb,"defaultProps",{className:""});Pe(Bb,"contextType",It);const tK=()=>{const t=Da(),{user:e,userRole:n,loading:r}=Mo(),{birthDataComplete:i,loading:s}=EI(),[o,a]=S.useState({fullName:(e==null?void 0:e.displayName)||"",gender:"",dob:"",tob:"",pob:"",latitude:"",longitude:"",mobile:"",email:(e==null?void 0:e.email)||"",address:""}),l=S.useRef(null),[u,c]=S.useState(!1),[h,m]=S.useState((e==null?void 0:e.emailVerified)||!1),[p,v]=S.useState(""),[_,k]=S.useState(!1);S.useEffect(()=>{if(!(r||s)){if(!e){t("/login");return}i&&t(n==="astrologer"?"/dashboard/astrologer":n==="student"?"/dashboard/student":"/dashboard/client")}},[e,n,r,s,i,t]),S.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(A=>{a(x=>({...x,latitude:A.coords.latitude.toString(),longitude:A.coords.longitude.toString()}))},()=>{},{enableHighAccuracy:!0})},[]);const w=A=>{a({...o,[A.target.name]:A.target.value}),p&&v("")},b=A=>{l.current=A},P=()=>{if(l.current){const A=l.current.getPlace();if(A&&A.geometry&&A.geometry.location&&typeof A.geometry.location.lat=="function"&&typeof A.geometry.location.lng=="function"){const x=A.geometry.location.lat(),T=A.geometry.location.lng();x!==void 0&&T!==void 0&&a(M=>({...M,pob:A.formatted_address||A.name||"",latitude:x.toString(),longitude:T.toString()}))}}},O=A=>{if(!/^(\d{2})\/(\d{2})\/(\d{4})$/.test(A))return!1;const[T,M,C]=A.split("/").map(Number),I=new Date(C,M-1,T);return I.getFullYear()===C&&I.getMonth()===M-1&&I.getDate()===T},j=async A=>{if(v(""),A.preventDefault(),v(""),!o.fullName.trim()){v("Full name is required.");return}if(!o.dob.trim()||!O(o.dob.trim())){v("Date of birth is required and must be in DD/MM/YYYY format.");return}if(!o.tob.trim()){v("Time of birth is required.");return}if(!o.pob.trim()){v("Place of birth is required.");return}k(!0);try{await nh(Ws(Ys,"birthdata",e.uid),{fullName:o.fullName,gender:o.gender,dob:o.dob,tob:o.tob,pob:o.pob,latitude:o.latitude,longitude:o.longitude,mobile:o.mobile,email:o.email,address:o.address,uid:e.uid,createdAt:new Date().toISOString()}),await nh(Ws(Ys,"users",e.uid),{verified:!0},{merge:!0}),t(n==="astrologer"?"/dashboard/astrologer":n==="student"?"/dashboard/student":"/dashboard/client")}catch{v("Failed to save birth data.")}k(!1)};return B.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-yellow-100 via-yellow-50 to-yellow-200",children:B.jsxs("div",{className:"w-full max-w-md mx-auto p-8 bg-white rounded-3xl shadow-2xl mt-16 mb-12",children:[B.jsx("h2",{className:"text-2xl font-bold text-yellow-900 mb-6 text-center",children:"Enter Your Birth Data"}),B.jsx(II,{googleMapsApiKey:"AIzaSyBKPYeumm5w2MOaDm8SywAPNhQNX3j_mAc",libraries:["places"],onLoad:()=>c(!0),children:B.jsxs("form",{onSubmit:j,children:[B.jsxs("div",{children:[B.jsx("h3",{className:"text-lg font-bold mb-4 text-yellow-800",children:"Personal Details"}),B.jsxs("div",{className:"mb-4",children:[B.jsxs("label",{className:"block font-bold mb-1 text-yellow-800",htmlFor:"fullName",children:["Full Name",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsx("input",{id:"fullName",name:"fullName",placeholder:"Enter your full name",value:o.fullName,onChange:w,required:!0,className:"w-full px-4 py-3 rounded-lg border border-yellow-200 focus:outline-yellow-500"}),B.jsx(Lg,{className:"text-xs text-yellow-700",children:"Please enter your full name"})]}),B.jsxs("div",{className:"flex gap-4 mb-4",children:[B.jsxs("label",{className:"block font-bold mb-1 text-yellow-800",htmlFor:"gender",children:["Gender",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsxs("select",{id:"gender",name:"gender",value:o.gender,onChange:w,required:!0,className:"flex-1 px-4 py-3 rounded-lg border border-yellow-200 focus:outline-yellow-500",title:"Gender",children:[B.jsx("option",{value:"",children:"Select Gender"}),B.jsx("option",{value:"Male",children:"Male"}),B.jsx("option",{value:"Female",children:"Female"}),B.jsx("option",{value:"Other",children:"Other"})]})]})]}),B.jsxs("div",{children:[B.jsx("h3",{className:"text-lg font-bold mb-4 text-yellow-800",children:"Birth Details"}),B.jsxs("div",{className:"flex gap-4 mb-4",children:[B.jsxs("label",{className:"block font-bold mb-1 text-yellow-800",htmlFor:"dob",children:["Date of Birth",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsx("input",{id:"dob",name:"dob",type:"text",placeholder:"DD/MM/YYYY",value:o.dob,onChange:w,pattern:"^(0[1-9]|[12][0-9]|3[01])/(0[1-9]|1[0-2])/\\d{4}$",required:!0,className:"flex-1 px-4 py-3 rounded-lg border border-yellow-200 focus:outline-yellow-500",maxLength:10}),B.jsx(Lg,{className:"text-xs text-yellow-700",children:"Enter date in DD/MM/YYYY format"}),o.dob&&!/^\d{2}\/\d{2}\/\d{4}$/.test(o.dob)&&B.jsx("div",{className:"text-red-600 text-xs mt-1",children:"Date must be DD/MM/YYYY"}),B.jsxs("label",{className:"block font-bold mb-1 text-yellow-800",htmlFor:"tob",children:["Time of Birth",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsx("input",{id:"tob",name:"tob",type:"text",placeholder:"HH:mm (24 hour)",value:o.tob,onChange:w,pattern:"^(?:[01]\\d|2[0-3]):[0-5]\\d$",required:!0,className:"flex-1 px-4 py-3 rounded-lg border border-yellow-200 focus:outline-yellow-500",maxLength:5}),B.jsx(Lg,{className:"text-xs text-yellow-700",children:"Enter time in 24 hour format (e.g., 16:30 for 4:30 PM)"}),o.tob&&!/^(?:[01]\d|2[0-3]):[0-5]\d$/.test(o.tob)&&B.jsx("div",{className:"text-red-600 text-xs mt-1",children:"Time must be in 24-hour HH:mm format"})]}),B.jsxs("div",{className:"mb-4",children:[B.jsx("label",{className:"block font-bold mb-2 text-yellow-800",children:"Place of Birth"}),p&&p.includes("Google Maps")?B.jsx("input",{name:"pob",value:o.pob,onChange:w,className:"w-full px-4 py-3 rounded-lg border border-yellow-200 focus:outline-yellow-500",placeholder:"Enter place of birth manually"}):B.jsx(Bb,{onLoad:b,onPlaceChanged:P,children:B.jsx("input",{name:"pob",value:o.pob,onChange:w,required:!0,placeholder:"Enter place of birth (autocomplete)",className:"w-full px-4 py-3 rounded-lg border border-yellow-200 focus:outline-yellow-500"})})]}),B.jsx("input",{type:"hidden",name:"latitude",value:o.latitude,readOnly:!0}),B.jsx("input",{type:"hidden",name:"longitude",value:o.longitude,readOnly:!0})]}),B.jsxs("div",{children:[B.jsx("h3",{className:"text-lg font-bold mb-4 text-yellow-800",children:"Contact Information"}),B.jsxs("div",{className:"flex gap-4 mb-4",children:[B.jsxs("label",{className:"block font-bold mb-1 text-yellow-800",htmlFor:"mobile",children:["Mobile Number",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsx("input",{id:"mobile",name:"mobile",placeholder:"Enter your mobile number",value:o.mobile,onChange:w,required:!0,maxLength:10,className:"flex-1 px-4 py-3 rounded-lg border border-yellow-200 focus:outline-yellow-500"})]}),B.jsx("input",{name:"email",placeholder:"Email",value:o.email,disabled:!0,readOnly:!0,className:"px-4 py-3 rounded-lg border border-yellow-200 bg-yellow-50 text-yellow-900 mb-4"}),B.jsxs("label",{className:"block font-bold mb-1 text-yellow-800",htmlFor:"address",children:["Full Address",B.jsx("span",{className:"text-red-500",children:"*"})]}),B.jsx("input",{id:"address",name:"address",placeholder:"Enter your full address",value:o.address,onChange:w,required:!0,className:"px-4 py-3 rounded-lg border border-yellow-200 focus:outline-yellow-500"})]}),p&&B.jsx("div",{className:"bg-red-100 text-red-800 rounded-lg px-4 py-3 text-center font-semibold",children:p}),B.jsx("button",{type:"submit",disabled:_,className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-3 rounded-xl shadow transition mt-2",children:"Submit"})]})})]})})};class nK extends S.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){var r,i,s;console.error("🔥 FULL ERROR:",{error:e,message:e.message,stack:e.stack,componentStack:n.componentStack,timestamp:new Date().toISOString(),location:window.location.href,route:window.location.pathname,params:new URLSearchParams(window.location.search).toString(),userAgent:navigator.userAgent}),console.error("🧠 ERROR INFO:",{errorInfo:n,componentStack:n.componentStack,fileName:(s=(i=(r=n.componentStack)==null?void 0:r.split(`
`)[0])==null?void 0:i.split("(")[1])==null?void 0:s.split(":")[0]}),this.props.onError&&this.props.onError(e,n),this.setState({hasError:!0,errorInfo:`Error: ${e.message}
Stack: ${e.stack||"No stack trace available"}`})}render(){return this.state.hasError?B.jsxs("div",{className:"error-boundary",children:[B.jsx("h1",{children:"Something went wrong"}),B.jsx("p",{children:this.state.errorInfo}),B.jsx("button",{onClick:()=>this.setState({hasError:!1}),children:"Try again"})]}):this.props.children}}function rK(){const[t,e]=S.useState(null);return B.jsx(nK,{children:B.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-yellow-200 via-yellow-100 to-yellow-300 text-yellow-900 font-sans flex flex-col",children:[window.location.pathname!=="/"&&B.jsx(lY,{}),B.jsxs("div",{className:"flex-1 w-full max-w-7xl mx-auto px-4 py-6",children:[B.jsx("main",{className:"p-0",children:B.jsx(rB,{children:B.jsxs(qM,{children:[B.jsx(di,{path:"/birthdata",element:B.jsx(Qh,{children:B.jsx(tK,{})})}),B.jsx(di,{path:"/",element:B.jsx(aB,{})}),B.jsx(di,{path:"/calendar",element:B.jsx(lB,{})}),B.jsx(di,{path:"/login",element:B.jsx(dB,{})}),B.jsx(di,{path:"/signup",element:B.jsx(fB,{})}),B.jsx(di,{path:"/role-selection",element:B.jsx(mB,{})}),B.jsx(di,{path:"/prediction",element:B.jsx(gB,{prediction:t})}),B.jsx(di,{path:"/chat",element:B.jsx(GV,{})}),B.jsx(di,{path:"/test-prediction",element:B.jsx(oY,{})}),B.jsx(di,{path:"/new-horoscope",element:B.jsx(Qh,{children:B.jsx(rY,{})})}),B.jsx(di,{path:"/dashboard/astrologer",element:B.jsx(Qh,{children:B.jsx(Jy,{role:"astrologer",children:B.jsx(iB,{})})})}),B.jsx(di,{path:"/dashboard/student",element:B.jsx(Qh,{children:B.jsx(Jy,{role:"student",children:B.jsx(oB,{})})})}),B.jsx(di,{path:"/dashboard/client",element:B.jsx(Qh,{children:B.jsx(Jy,{role:"client",children:B.jsx(sB,{})})})}),B.jsx(di,{path:"*",element:B.jsxs("div",{className:"text-center py-8 text-red-500",children:[B.jsx("h2",{children:"404 - Page Not Found"}),B.jsx(Fu,{to:"/",className:"text-blue-400 hover:text-blue-300",children:"Go back to home"})]})})]})})}),B.jsx("footer",{className:"text-center text-xs text-gray-400 py-6",children:"2025 AstroBalendar | Privacy | Terms | Contact"})]})]})})}S1.createRoot(document.getElementById("root")).render(B.jsx(QM,{children:B.jsx(xe.StrictMode,{children:B.jsx(rK,{})})}));export{dn as _,LN as c,$v as g};
//# sourceMappingURL=index-wWPU97iO.js.map
