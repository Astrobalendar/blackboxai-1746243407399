var YC=Object.defineProperty;var GC=(t,e,n)=>e in t?YC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Qe=(t,e,n)=>GC(t,typeof e!="symbol"?e+"":e,n);function KC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var QC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iT={exports:{}},b0={},sT={exports:{}},Ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=Symbol.for("react.element"),JC=Symbol.for("react.portal"),XC=Symbol.for("react.fragment"),ZC=Symbol.for("react.strict_mode"),eN=Symbol.for("react.profiler"),tN=Symbol.for("react.provider"),nN=Symbol.for("react.context"),rN=Symbol.for("react.forward_ref"),iN=Symbol.for("react.suspense"),sN=Symbol.for("react.memo"),oN=Symbol.for("react.lazy"),U_=Symbol.iterator;function aN(t){return t===null||typeof t!="object"?null:(t=U_&&t[U_]||t["@@iterator"],typeof t=="function"?t:null)}var oT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aT=Object.assign,lT={};function Qh(t,e,n){this.props=t,this.context=e,this.refs=lT,this.updater=n||oT}Qh.prototype.isReactComponent={};Qh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uT(){}uT.prototype=Qh.prototype;function ew(t,e,n){this.props=t,this.context=e,this.refs=lT,this.updater=n||oT}var tw=ew.prototype=new uT;tw.constructor=ew;aT(tw,Qh.prototype);tw.isPureReactComponent=!0;var z_=Array.isArray,cT=Object.prototype.hasOwnProperty,nw={current:null},hT={key:!0,ref:!0,__self:!0,__source:!0};function fT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)cT.call(e,r)&&!hT.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:sp,type:t,key:s,ref:o,props:i,_owner:nw.current}}function lN(t,e){return{$$typeof:sp,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rw(t){return typeof t=="object"&&t!==null&&t.$$typeof===sp}function uN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var q_=/\/+/g;function zv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uN(""+t.key):e.toString(36)}function Rm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case sp:case JC:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+zv(o,0):r,z_(i)?(n="",t!=null&&(n=t.replace(q_,"$&/")+"/"),Rm(i,e,n,"",function(u){return u})):i!=null&&(rw(i)&&(i=lN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(q_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",z_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+zv(s,a);o+=Rm(s,e,n,l,i)}else if(l=aN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+zv(s,a++),o+=Rm(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Zp(t,e,n){if(t==null)return t;var r=[],i=0;return Rm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function cN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var oi={current:null},Lm={transition:null},hN={ReactCurrentDispatcher:oi,ReactCurrentBatchConfig:Lm,ReactCurrentOwner:nw};function dT(){throw Error("act(...) is not supported in production builds of React.")}Ct.Children={map:Zp,forEach:function(t,e,n){Zp(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zp(t,function(){e++}),e},toArray:function(t){return Zp(t,function(e){return e})||[]},only:function(t){if(!rw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ct.Component=Qh;Ct.Fragment=XC;Ct.Profiler=eN;Ct.PureComponent=ew;Ct.StrictMode=ZC;Ct.Suspense=iN;Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hN;Ct.act=dT;Ct.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=aT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=nw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)cT.call(e,l)&&!hT.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:sp,type:t.type,key:i,ref:s,props:r,_owner:o}};Ct.createContext=function(t){return t={$$typeof:nN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tN,_context:t},t.Consumer=t};Ct.createElement=fT;Ct.createFactory=function(t){var e=fT.bind(null,t);return e.type=t,e};Ct.createRef=function(){return{current:null}};Ct.forwardRef=function(t){return{$$typeof:rN,render:t}};Ct.isValidElement=rw;Ct.lazy=function(t){return{$$typeof:oN,_payload:{_status:-1,_result:t},_init:cN}};Ct.memo=function(t,e){return{$$typeof:sN,type:t,compare:e===void 0?null:e}};Ct.startTransition=function(t){var e=Lm.transition;Lm.transition={};try{t()}finally{Lm.transition=e}};Ct.unstable_act=dT;Ct.useCallback=function(t,e){return oi.current.useCallback(t,e)};Ct.useContext=function(t){return oi.current.useContext(t)};Ct.useDebugValue=function(){};Ct.useDeferredValue=function(t){return oi.current.useDeferredValue(t)};Ct.useEffect=function(t,e){return oi.current.useEffect(t,e)};Ct.useId=function(){return oi.current.useId()};Ct.useImperativeHandle=function(t,e,n){return oi.current.useImperativeHandle(t,e,n)};Ct.useInsertionEffect=function(t,e){return oi.current.useInsertionEffect(t,e)};Ct.useLayoutEffect=function(t,e){return oi.current.useLayoutEffect(t,e)};Ct.useMemo=function(t,e){return oi.current.useMemo(t,e)};Ct.useReducer=function(t,e,n){return oi.current.useReducer(t,e,n)};Ct.useRef=function(t){return oi.current.useRef(t)};Ct.useState=function(t){return oi.current.useState(t)};Ct.useSyncExternalStore=function(t,e,n){return oi.current.useSyncExternalStore(t,e,n)};Ct.useTransition=function(){return oi.current.useTransition()};Ct.version="18.3.1";sT.exports=Ct;var se=sT.exports;const be=_0(se),iw=KC({__proto__:null,default:be},[se]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN=se,dN=Symbol.for("react.element"),pN=Symbol.for("react.fragment"),mN=Object.prototype.hasOwnProperty,gN=fN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vN={key:!0,ref:!0,__self:!0,__source:!0};function pT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)mN.call(e,r)&&!vN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:dN,type:t,key:s,ref:o,props:i,_owner:gN.current}}b0.Fragment=pN;b0.jsx=pT;b0.jsxs=pT;iT.exports=b0;var U=iT.exports,e1={},mT={exports:{}},qi={},gT={exports:{}},vT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,te){var ie=H.length;H.push(te);e:for(;0<ie;){var Se=ie-1>>>1,F=H[Se];if(0<i(F,te))H[Se]=te,H[ie]=F,ie=Se;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var te=H[0],ie=H.pop();if(ie!==te){H[0]=ie;e:for(var Se=0,F=H.length,G=F>>>1;Se<G;){var ee=2*(Se+1)-1,oe=H[ee],ce=ee+1,me=H[ce];if(0>i(oe,ie))ce<F&&0>i(me,oe)?(H[Se]=me,H[ce]=ie,Se=ce):(H[Se]=oe,H[ee]=ie,Se=ee);else if(ce<F&&0>i(me,ie))H[Se]=me,H[ce]=ie,Se=ce;else break e}}return te}function i(H,te){var ie=H.sortIndex-te.sortIndex;return ie!==0?ie:H.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,g=3,p=!1,_=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(H){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=H)r(u),te.sortIndex=te.expirationTime,e(l,te);else break;te=n(u)}}function j(H){if(S=!1,A(H),!_)if(n(l)!==null)_=!0,Q(Y);else{var te=n(u);te!==null&&re(j,te.startTime-H)}}function Y(H,te){_=!1,S&&(S=!1,y(k),k=-1),p=!0;var ie=g;try{for(A(te),d=n(l);d!==null&&(!(d.expirationTime>te)||H&&!x());){var Se=d.callback;if(typeof Se=="function"){d.callback=null,g=d.priorityLevel;var F=Se(d.expirationTime<=te);te=t.unstable_now(),typeof F=="function"?d.callback=F:d===n(l)&&r(l),A(te)}else r(l);d=n(l)}if(d!==null)var G=!0;else{var ee=n(u);ee!==null&&re(j,ee.startTime-te),G=!1}return G}finally{d=null,g=ie,p=!1}}var J=!1,N=null,k=-1,D=5,L=-1;function x(){return!(t.unstable_now()-L<D)}function I(){if(N!==null){var H=t.unstable_now();L=H;var te=!0;try{te=N(!0,H)}finally{te?R():(J=!1,N=null)}}else J=!1}var R;if(typeof b=="function")R=function(){b(I)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,X=$.port2;$.port1.onmessage=I,R=function(){X.postMessage(null)}}else R=function(){T(I,0)};function Q(H){N=H,J||(J=!0,R())}function re(H,te){k=T(function(){H(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,Q(Y))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var te=3;break;default:te=g}var ie=g;g=te;try{return H()}finally{g=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,te){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ie=g;g=H;try{return te()}finally{g=ie}},t.unstable_scheduleCallback=function(H,te,ie){var Se=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Se+ie:Se):ie=Se,H){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ie+F,H={id:c++,callback:te,priorityLevel:H,startTime:ie,expirationTime:F,sortIndex:-1},ie>Se?(H.sortIndex=ie,e(u,H),n(l)===null&&H===n(u)&&(S?(y(k),k=-1):S=!0,re(j,ie-Se))):(H.sortIndex=F,e(l,H),_||p||(_=!0,Q(Y))),H},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(H){var te=g;return function(){var ie=g;g=te;try{return H.apply(this,arguments)}finally{g=ie}}}})(vT);gT.exports=vT;var yN=gT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wN=se,zi=yN;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yT=new Set,Td={};function ac(t,e){Th(t,e),Th(t+"Capture",e)}function Th(t,e){for(Td[t]=e,t=0;t<e.length;t++)yT.add(e[t])}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),t1=Object.prototype.hasOwnProperty,_N=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H_={},W_={};function bN(t){return t1.call(W_,t)?!0:t1.call(H_,t)?!1:_N.test(t)?W_[t]=!0:(H_[t]=!0,!1)}function SN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EN(t,e,n,r){if(e===null||typeof e>"u"||SN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ai(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ar[t]=new ai(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ar[e]=new ai(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ar[t]=new ai(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ar[t]=new ai(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ar[t]=new ai(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ar[t]=new ai(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ar[t]=new ai(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ar[t]=new ai(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ar[t]=new ai(t,5,!1,t.toLowerCase(),null,!1,!1)});var sw=/[\-:]([a-z])/g;function ow(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sw,ow);Ar[e]=new ai(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sw,ow);Ar[e]=new ai(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sw,ow);Ar[e]=new ai(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ar[t]=new ai(t,1,!1,t.toLowerCase(),null,!1,!1)});Ar.xlinkHref=new ai("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ar[t]=new ai(t,1,!1,t.toLowerCase(),null,!0,!0)});function aw(t,e,n,r){var i=Ar.hasOwnProperty(e)?Ar[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EN(e,n,i,r)&&(n=null),r||i===null?bN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Aa=wN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,em=Symbol.for("react.element"),Xc=Symbol.for("react.portal"),Zc=Symbol.for("react.fragment"),lw=Symbol.for("react.strict_mode"),n1=Symbol.for("react.profiler"),wT=Symbol.for("react.provider"),_T=Symbol.for("react.context"),uw=Symbol.for("react.forward_ref"),r1=Symbol.for("react.suspense"),i1=Symbol.for("react.suspense_list"),cw=Symbol.for("react.memo"),hl=Symbol.for("react.lazy"),bT=Symbol.for("react.offscreen"),$_=Symbol.iterator;function Cf(t){return t===null||typeof t!="object"?null:(t=$_&&t[$_]||t["@@iterator"],typeof t=="function"?t:null)}var An=Object.assign,qv;function Yf(t){if(qv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qv=e&&e[1]||""}return`
`+qv+t}var Hv=!1;function Wv(t,e){if(!t||Hv)return"";Hv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Hv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yf(t):""}function xN(t){switch(t.tag){case 5:return Yf(t.type);case 16:return Yf("Lazy");case 13:return Yf("Suspense");case 19:return Yf("SuspenseList");case 0:case 2:case 15:return t=Wv(t.type,!1),t;case 11:return t=Wv(t.type.render,!1),t;case 1:return t=Wv(t.type,!0),t;default:return""}}function s1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zc:return"Fragment";case Xc:return"Portal";case n1:return"Profiler";case lw:return"StrictMode";case r1:return"Suspense";case i1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _T:return(t.displayName||"Context")+".Consumer";case wT:return(t._context.displayName||"Context")+".Provider";case uw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cw:return e=t.displayName||null,e!==null?e:s1(t.type)||"Memo";case hl:e=t._payload,t=t._init;try{return s1(t(e))}catch{}}return null}function TN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return s1(e);case 8:return e===lw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ST(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kN(t){var e=ST(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function tm(t){t._valueTracker||(t._valueTracker=kN(t))}function ET(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=ST(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function o1(t,e){var n=e.checked;return An({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Y_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xT(t,e){e=e.checked,e!=null&&aw(t,"checked",e,!1)}function a1(t,e){xT(t,e);var n=Vl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?l1(t,e.type,n):e.hasOwnProperty("defaultValue")&&l1(t,e.type,Vl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function G_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function l1(t,e,n){(e!=="number"||hg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gf=Array.isArray;function ch(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function u1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return An({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function K_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(je(92));if(Gf(n)){if(1<n.length)throw Error(je(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vl(n)}}function TT(t,e){var n=Vl(e.value),r=Vl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Q_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function c1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nm,AT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nm=nm||document.createElement("div"),nm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AN=["Webkit","ms","Moz","O"];Object.keys(rd).forEach(function(t){AN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rd[e]=rd[t]})});function PT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||rd.hasOwnProperty(t)&&rd[t]?(""+e).trim():e+"px"}function IT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=PT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var PN=An({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h1(t,e){if(e){if(PN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function f1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var d1=null;function hw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var p1=null,hh=null,fh=null;function J_(t){if(t=lp(t)){if(typeof p1!="function")throw Error(je(280));var e=t.stateNode;e&&(e=k0(e),p1(t.stateNode,t.type,e))}}function CT(t){hh?fh?fh.push(t):fh=[t]:hh=t}function NT(){if(hh){var t=hh,e=fh;if(fh=hh=null,J_(t),e)for(t=0;t<e.length;t++)J_(e[t])}}function DT(t,e){return t(e)}function RT(){}var $v=!1;function LT(t,e,n){if($v)return t(e,n);$v=!0;try{return DT(t,e,n)}finally{$v=!1,(hh!==null||fh!==null)&&(RT(),NT())}}function Ad(t,e){var n=t.stateNode;if(n===null)return null;var r=k0(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(je(231,e,typeof n));return n}var m1=!1;if(ga)try{var Nf={};Object.defineProperty(Nf,"passive",{get:function(){m1=!0}}),window.addEventListener("test",Nf,Nf),window.removeEventListener("test",Nf,Nf)}catch{m1=!1}function IN(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var id=!1,fg=null,dg=!1,g1=null,CN={onError:function(t){id=!0,fg=t}};function NN(t,e,n,r,i,s,o,a,l){id=!1,fg=null,IN.apply(CN,arguments)}function DN(t,e,n,r,i,s,o,a,l){if(NN.apply(this,arguments),id){if(id){var u=fg;id=!1,fg=null}else throw Error(je(198));dg||(dg=!0,g1=u)}}function lc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function OT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function X_(t){if(lc(t)!==t)throw Error(je(188))}function RN(t){var e=t.alternate;if(!e){if(e=lc(t),e===null)throw Error(je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return X_(i),t;if(s===r)return X_(i),e;s=s.sibling}throw Error(je(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(je(189))}}if(n.alternate!==r)throw Error(je(190))}if(n.tag!==3)throw Error(je(188));return n.stateNode.current===n?t:e}function MT(t){return t=RN(t),t!==null?FT(t):null}function FT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FT(t);if(e!==null)return e;t=t.sibling}return null}var jT=zi.unstable_scheduleCallback,Z_=zi.unstable_cancelCallback,LN=zi.unstable_shouldYield,ON=zi.unstable_requestPaint,zn=zi.unstable_now,MN=zi.unstable_getCurrentPriorityLevel,fw=zi.unstable_ImmediatePriority,VT=zi.unstable_UserBlockingPriority,pg=zi.unstable_NormalPriority,FN=zi.unstable_LowPriority,BT=zi.unstable_IdlePriority,S0=null,bo=null;function jN(t){if(bo&&typeof bo.onCommitFiberRoot=="function")try{bo.onCommitFiberRoot(S0,t,void 0,(t.current.flags&128)===128)}catch{}}var Ls=Math.clz32?Math.clz32:UN,VN=Math.log,BN=Math.LN2;function UN(t){return t>>>=0,t===0?32:31-(VN(t)/BN|0)|0}var rm=64,im=4194304;function Kf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Kf(a):(s&=o,s!==0&&(r=Kf(s)))}else o=n&~i,o!==0?r=Kf(o):s!==0&&(r=Kf(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ls(e),i=1<<n,r|=t[n],e&=~i;return r}function zN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ls(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=zN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function v1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UT(){var t=rm;return rm<<=1,!(rm&4194240)&&(rm=64),t}function Yv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function op(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ls(e),t[e]=n}function HN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ls(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function dw(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ls(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var rn=0;function zT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qT,pw,HT,WT,$T,y1=!1,sm=[],Sl=null,El=null,xl=null,Pd=new Map,Id=new Map,dl=[],WN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eb(t,e){switch(t){case"focusin":case"focusout":Sl=null;break;case"dragenter":case"dragleave":El=null;break;case"mouseover":case"mouseout":xl=null;break;case"pointerover":case"pointerout":Pd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Id.delete(e.pointerId)}}function Df(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=lp(e),e!==null&&pw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function $N(t,e,n,r,i){switch(e){case"focusin":return Sl=Df(Sl,t,e,n,r,i),!0;case"dragenter":return El=Df(El,t,e,n,r,i),!0;case"mouseover":return xl=Df(xl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pd.set(s,Df(Pd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Id.set(s,Df(Id.get(s)||null,t,e,n,r,i)),!0}return!1}function YT(t){var e=Pu(t.target);if(e!==null){var n=lc(e);if(n!==null){if(e=n.tag,e===13){if(e=OT(n),e!==null){t.blockedOn=e,$T(t.priority,function(){HT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Om(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=w1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);d1=r,n.target.dispatchEvent(r),d1=null}else return e=lp(n),e!==null&&pw(e),t.blockedOn=n,!1;e.shift()}return!0}function tb(t,e,n){Om(t)&&n.delete(e)}function YN(){y1=!1,Sl!==null&&Om(Sl)&&(Sl=null),El!==null&&Om(El)&&(El=null),xl!==null&&Om(xl)&&(xl=null),Pd.forEach(tb),Id.forEach(tb)}function Rf(t,e){t.blockedOn===e&&(t.blockedOn=null,y1||(y1=!0,zi.unstable_scheduleCallback(zi.unstable_NormalPriority,YN)))}function Cd(t){function e(i){return Rf(i,t)}if(0<sm.length){Rf(sm[0],t);for(var n=1;n<sm.length;n++){var r=sm[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sl!==null&&Rf(Sl,t),El!==null&&Rf(El,t),xl!==null&&Rf(xl,t),Pd.forEach(e),Id.forEach(e),n=0;n<dl.length;n++)r=dl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<dl.length&&(n=dl[0],n.blockedOn===null);)YT(n),n.blockedOn===null&&dl.shift()}var dh=Aa.ReactCurrentBatchConfig,gg=!0;function GN(t,e,n,r){var i=rn,s=dh.transition;dh.transition=null;try{rn=1,mw(t,e,n,r)}finally{rn=i,dh.transition=s}}function KN(t,e,n,r){var i=rn,s=dh.transition;dh.transition=null;try{rn=4,mw(t,e,n,r)}finally{rn=i,dh.transition=s}}function mw(t,e,n,r){if(gg){var i=w1(t,e,n,r);if(i===null)ry(t,e,r,vg,n),eb(t,r);else if($N(i,t,e,n,r))r.stopPropagation();else if(eb(t,r),e&4&&-1<WN.indexOf(t)){for(;i!==null;){var s=lp(i);if(s!==null&&qT(s),s=w1(t,e,n,r),s===null&&ry(t,e,r,vg,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ry(t,e,r,null,n)}}var vg=null;function w1(t,e,n,r){if(vg=null,t=hw(r),t=Pu(t),t!==null)if(e=lc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=OT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vg=t,null}function GT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MN()){case fw:return 1;case VT:return 4;case pg:case FN:return 16;case BT:return 536870912;default:return 16}default:return 16}}var gl=null,gw=null,Mm=null;function KT(){if(Mm)return Mm;var t,e=gw,n=e.length,r,i="value"in gl?gl.value:gl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Mm=i.slice(t,1<r?1-r:void 0)}function Fm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function om(){return!0}function nb(){return!1}function Hi(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?om:nb,this.isPropagationStopped=nb,this}return An(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=om)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=om)},persist:function(){},isPersistent:om}),e}var Jh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vw=Hi(Jh),ap=An({},Jh,{view:0,detail:0}),QN=Hi(ap),Gv,Kv,Lf,E0=An({},ap,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yw,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lf&&(Lf&&t.type==="mousemove"?(Gv=t.screenX-Lf.screenX,Kv=t.screenY-Lf.screenY):Kv=Gv=0,Lf=t),Gv)},movementY:function(t){return"movementY"in t?t.movementY:Kv}}),rb=Hi(E0),JN=An({},E0,{dataTransfer:0}),XN=Hi(JN),ZN=An({},ap,{relatedTarget:0}),Qv=Hi(ZN),eD=An({},Jh,{animationName:0,elapsedTime:0,pseudoElement:0}),tD=Hi(eD),nD=An({},Jh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rD=Hi(nD),iD=An({},Jh,{data:0}),ib=Hi(iD),sD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aD[t])?!!e[t]:!1}function yw(){return lD}var uD=An({},ap,{key:function(t){if(t.key){var e=sD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yw,charCode:function(t){return t.type==="keypress"?Fm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cD=Hi(uD),hD=An({},E0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sb=Hi(hD),fD=An({},ap,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yw}),dD=Hi(fD),pD=An({},Jh,{propertyName:0,elapsedTime:0,pseudoElement:0}),mD=Hi(pD),gD=An({},E0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vD=Hi(gD),yD=[9,13,27,32],ww=ga&&"CompositionEvent"in window,sd=null;ga&&"documentMode"in document&&(sd=document.documentMode);var wD=ga&&"TextEvent"in window&&!sd,QT=ga&&(!ww||sd&&8<sd&&11>=sd),ob=" ",ab=!1;function JT(t,e){switch(t){case"keyup":return yD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eh=!1;function _D(t,e){switch(t){case"compositionend":return XT(e);case"keypress":return e.which!==32?null:(ab=!0,ob);case"textInput":return t=e.data,t===ob&&ab?null:t;default:return null}}function bD(t,e){if(eh)return t==="compositionend"||!ww&&JT(t,e)?(t=KT(),Mm=gw=gl=null,eh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return QT&&e.locale!=="ko"?null:e.data;default:return null}}var SD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SD[t.type]:e==="textarea"}function ZT(t,e,n,r){CT(r),e=yg(e,"onChange"),0<e.length&&(n=new vw("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var od=null,Nd=null;function ED(t){c4(t,0)}function x0(t){var e=rh(t);if(ET(e))return t}function xD(t,e){if(t==="change")return e}var e4=!1;if(ga){var Jv;if(ga){var Xv="oninput"in document;if(!Xv){var ub=document.createElement("div");ub.setAttribute("oninput","return;"),Xv=typeof ub.oninput=="function"}Jv=Xv}else Jv=!1;e4=Jv&&(!document.documentMode||9<document.documentMode)}function cb(){od&&(od.detachEvent("onpropertychange",t4),Nd=od=null)}function t4(t){if(t.propertyName==="value"&&x0(Nd)){var e=[];ZT(e,Nd,t,hw(t)),LT(ED,e)}}function TD(t,e,n){t==="focusin"?(cb(),od=e,Nd=n,od.attachEvent("onpropertychange",t4)):t==="focusout"&&cb()}function kD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return x0(Nd)}function AD(t,e){if(t==="click")return x0(e)}function PD(t,e){if(t==="input"||t==="change")return x0(e)}function ID(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var js=typeof Object.is=="function"?Object.is:ID;function Dd(t,e){if(js(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!t1.call(e,i)||!js(t[i],e[i]))return!1}return!0}function hb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fb(t,e){var n=hb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hb(n)}}function n4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?n4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function r4(){for(var t=window,e=hg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hg(t.document)}return e}function _w(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CD(t){var e=r4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&n4(n.ownerDocument.documentElement,n)){if(r!==null&&_w(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=fb(n,s);var o=fb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ND=ga&&"documentMode"in document&&11>=document.documentMode,th=null,_1=null,ad=null,b1=!1;function db(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;b1||th==null||th!==hg(r)||(r=th,"selectionStart"in r&&_w(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ad&&Dd(ad,r)||(ad=r,r=yg(_1,"onSelect"),0<r.length&&(e=new vw("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=th)))}function am(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var nh={animationend:am("Animation","AnimationEnd"),animationiteration:am("Animation","AnimationIteration"),animationstart:am("Animation","AnimationStart"),transitionend:am("Transition","TransitionEnd")},Zv={},i4={};ga&&(i4=document.createElement("div").style,"AnimationEvent"in window||(delete nh.animationend.animation,delete nh.animationiteration.animation,delete nh.animationstart.animation),"TransitionEvent"in window||delete nh.transitionend.transition);function T0(t){if(Zv[t])return Zv[t];if(!nh[t])return t;var e=nh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in i4)return Zv[t]=e[n];return t}var s4=T0("animationend"),o4=T0("animationiteration"),a4=T0("animationstart"),l4=T0("transitionend"),u4=new Map,pb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xl(t,e){u4.set(t,e),ac(e,[t])}for(var ey=0;ey<pb.length;ey++){var ty=pb[ey],DD=ty.toLowerCase(),RD=ty[0].toUpperCase()+ty.slice(1);Xl(DD,"on"+RD)}Xl(s4,"onAnimationEnd");Xl(o4,"onAnimationIteration");Xl(a4,"onAnimationStart");Xl("dblclick","onDoubleClick");Xl("focusin","onFocus");Xl("focusout","onBlur");Xl(l4,"onTransitionEnd");Th("onMouseEnter",["mouseout","mouseover"]);Th("onMouseLeave",["mouseout","mouseover"]);Th("onPointerEnter",["pointerout","pointerover"]);Th("onPointerLeave",["pointerout","pointerover"]);ac("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ac("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ac("onBeforeInput",["compositionend","keypress","textInput","paste"]);ac("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ac("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ac("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qf));function mb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,DN(r,e,void 0,t),t.currentTarget=null}function c4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;mb(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;mb(i,a,u),s=l}}}if(dg)throw t=g1,dg=!1,g1=null,t}function yn(t,e){var n=e[k1];n===void 0&&(n=e[k1]=new Set);var r=t+"__bubble";n.has(r)||(h4(e,t,2,!1),n.add(r))}function ny(t,e,n){var r=0;e&&(r|=4),h4(n,t,r,e)}var lm="_reactListening"+Math.random().toString(36).slice(2);function Rd(t){if(!t[lm]){t[lm]=!0,yT.forEach(function(n){n!=="selectionchange"&&(LD.has(n)||ny(n,!1,t),ny(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[lm]||(e[lm]=!0,ny("selectionchange",!1,e))}}function h4(t,e,n,r){switch(GT(e)){case 1:var i=GN;break;case 4:i=KN;break;default:i=mw}n=i.bind(null,e,n,t),i=void 0,!m1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ry(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Pu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}LT(function(){var u=s,c=hw(n),d=[];e:{var g=u4.get(t);if(g!==void 0){var p=vw,_=t;switch(t){case"keypress":if(Fm(n)===0)break e;case"keydown":case"keyup":p=cD;break;case"focusin":_="focus",p=Qv;break;case"focusout":_="blur",p=Qv;break;case"beforeblur":case"afterblur":p=Qv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=XN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=dD;break;case s4:case o4:case a4:p=tD;break;case l4:p=mD;break;case"scroll":p=QN;break;case"wheel":p=vD;break;case"copy":case"cut":case"paste":p=rD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=sb}var S=(e&4)!==0,T=!S&&t==="scroll",y=S?g!==null?g+"Capture":null:g;S=[];for(var b=u,A;b!==null;){A=b;var j=A.stateNode;if(A.tag===5&&j!==null&&(A=j,y!==null&&(j=Ad(b,y),j!=null&&S.push(Ld(b,j,A)))),T)break;b=b.return}0<S.length&&(g=new p(g,_,null,n,c),d.push({event:g,listeners:S}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",g&&n!==d1&&(_=n.relatedTarget||n.fromElement)&&(Pu(_)||_[va]))break e;if((p||g)&&(g=c.window===c?c:(g=c.ownerDocument)?g.defaultView||g.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=u,_=_?Pu(_):null,_!==null&&(T=lc(_),_!==T||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(S=rb,j="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(S=sb,j="onPointerLeave",y="onPointerEnter",b="pointer"),T=p==null?g:rh(p),A=_==null?g:rh(_),g=new S(j,b+"leave",p,n,c),g.target=T,g.relatedTarget=A,j=null,Pu(c)===u&&(S=new S(y,b+"enter",_,n,c),S.target=A,S.relatedTarget=T,j=S),T=j,p&&_)t:{for(S=p,y=_,b=0,A=S;A;A=Uc(A))b++;for(A=0,j=y;j;j=Uc(j))A++;for(;0<b-A;)S=Uc(S),b--;for(;0<A-b;)y=Uc(y),A--;for(;b--;){if(S===y||y!==null&&S===y.alternate)break t;S=Uc(S),y=Uc(y)}S=null}else S=null;p!==null&&gb(d,g,p,S,!1),_!==null&&T!==null&&gb(d,T,_,S,!0)}}e:{if(g=u?rh(u):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var Y=xD;else if(lb(g))if(e4)Y=PD;else{Y=kD;var J=TD}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(Y=AD);if(Y&&(Y=Y(t,u))){ZT(d,Y,n,c);break e}J&&J(t,g,u),t==="focusout"&&(J=g._wrapperState)&&J.controlled&&g.type==="number"&&l1(g,"number",g.value)}switch(J=u?rh(u):window,t){case"focusin":(lb(J)||J.contentEditable==="true")&&(th=J,_1=u,ad=null);break;case"focusout":ad=_1=th=null;break;case"mousedown":b1=!0;break;case"contextmenu":case"mouseup":case"dragend":b1=!1,db(d,n,c);break;case"selectionchange":if(ND)break;case"keydown":case"keyup":db(d,n,c)}var N;if(ww)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else eh?JT(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(QT&&n.locale!=="ko"&&(eh||k!=="onCompositionStart"?k==="onCompositionEnd"&&eh&&(N=KT()):(gl=c,gw="value"in gl?gl.value:gl.textContent,eh=!0)),J=yg(u,k),0<J.length&&(k=new ib(k,t,null,n,c),d.push({event:k,listeners:J}),N?k.data=N:(N=XT(n),N!==null&&(k.data=N)))),(N=wD?_D(t,n):bD(t,n))&&(u=yg(u,"onBeforeInput"),0<u.length&&(c=new ib("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=N))}c4(d,e)})}function Ld(t,e,n){return{instance:t,listener:e,currentTarget:n}}function yg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ad(t,n),s!=null&&r.unshift(Ld(t,s,i)),s=Ad(t,e),s!=null&&r.push(Ld(t,s,i))),t=t.return}return r}function Uc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gb(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Ad(n,s),l!=null&&o.unshift(Ld(n,l,a))):i||(l=Ad(n,s),l!=null&&o.push(Ld(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var OD=/\r\n?/g,MD=/\u0000|\uFFFD/g;function vb(t){return(typeof t=="string"?t:""+t).replace(OD,`
`).replace(MD,"")}function um(t,e,n){if(e=vb(e),vb(t)!==e&&n)throw Error(je(425))}function wg(){}var S1=null,E1=null;function x1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var T1=typeof setTimeout=="function"?setTimeout:void 0,FD=typeof clearTimeout=="function"?clearTimeout:void 0,yb=typeof Promise=="function"?Promise:void 0,jD=typeof queueMicrotask=="function"?queueMicrotask:typeof yb<"u"?function(t){return yb.resolve(null).then(t).catch(VD)}:T1;function VD(t){setTimeout(function(){throw t})}function iy(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Cd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cd(e)}function Tl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xh=Math.random().toString(36).slice(2),mo="__reactFiber$"+Xh,Od="__reactProps$"+Xh,va="__reactContainer$"+Xh,k1="__reactEvents$"+Xh,BD="__reactListeners$"+Xh,UD="__reactHandles$"+Xh;function Pu(t){var e=t[mo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[va]||n[mo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wb(t);t!==null;){if(n=t[mo])return n;t=wb(t)}return e}t=n,n=t.parentNode}return null}function lp(t){return t=t[mo]||t[va],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function k0(t){return t[Od]||null}var A1=[],ih=-1;function Zl(t){return{current:t}}function _n(t){0>ih||(t.current=A1[ih],A1[ih]=null,ih--)}function pn(t,e){ih++,A1[ih]=t.current,t.current=e}var Bl={},Wr=Zl(Bl),wi=Zl(!1),$u=Bl;function kh(t,e){var n=t.type.contextTypes;if(!n)return Bl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function _i(t){return t=t.childContextTypes,t!=null}function _g(){_n(wi),_n(Wr)}function _b(t,e,n){if(Wr.current!==Bl)throw Error(je(168));pn(Wr,e),pn(wi,n)}function f4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(je(108,TN(t)||"Unknown",i));return An({},n,r)}function bg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bl,$u=Wr.current,pn(Wr,t),pn(wi,wi.current),!0}function bb(t,e,n){var r=t.stateNode;if(!r)throw Error(je(169));n?(t=f4(t,e,$u),r.__reactInternalMemoizedMergedChildContext=t,_n(wi),_n(Wr),pn(Wr,t)):_n(wi),pn(wi,n)}var Zo=null,A0=!1,sy=!1;function d4(t){Zo===null?Zo=[t]:Zo.push(t)}function zD(t){A0=!0,d4(t)}function eu(){if(!sy&&Zo!==null){sy=!0;var t=0,e=rn;try{var n=Zo;for(rn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zo=null,A0=!1}catch(i){throw Zo!==null&&(Zo=Zo.slice(t+1)),jT(fw,eu),i}finally{rn=e,sy=!1}}return null}var sh=[],oh=0,Sg=null,Eg=0,rs=[],is=0,Yu=null,ra=1,ia="";function Eu(t,e){sh[oh++]=Eg,sh[oh++]=Sg,Sg=t,Eg=e}function p4(t,e,n){rs[is++]=ra,rs[is++]=ia,rs[is++]=Yu,Yu=t;var r=ra;t=ia;var i=32-Ls(r)-1;r&=~(1<<i),n+=1;var s=32-Ls(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ra=1<<32-Ls(e)+i|n<<i|r,ia=s+t}else ra=1<<s|n<<i|r,ia=t}function bw(t){t.return!==null&&(Eu(t,1),p4(t,1,0))}function Sw(t){for(;t===Sg;)Sg=sh[--oh],sh[oh]=null,Eg=sh[--oh],sh[oh]=null;for(;t===Yu;)Yu=rs[--is],rs[is]=null,ia=rs[--is],rs[is]=null,ra=rs[--is],rs[is]=null}var Bi=null,ji=null,bn=!1,Ns=null;function m4(t,e){var n=as(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bi=t,ji=Tl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bi=t,ji=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yu!==null?{id:ra,overflow:ia}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=as(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bi=t,ji=null,!0):!1;default:return!1}}function P1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function I1(t){if(bn){var e=ji;if(e){var n=e;if(!Sb(t,e)){if(P1(t))throw Error(je(418));e=Tl(n.nextSibling);var r=Bi;e&&Sb(t,e)?m4(r,n):(t.flags=t.flags&-4097|2,bn=!1,Bi=t)}}else{if(P1(t))throw Error(je(418));t.flags=t.flags&-4097|2,bn=!1,Bi=t}}}function Eb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bi=t}function cm(t){if(t!==Bi)return!1;if(!bn)return Eb(t),bn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!x1(t.type,t.memoizedProps)),e&&(e=ji)){if(P1(t))throw g4(),Error(je(418));for(;e;)m4(t,e),e=Tl(e.nextSibling)}if(Eb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ji=Tl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ji=null}}else ji=Bi?Tl(t.stateNode.nextSibling):null;return!0}function g4(){for(var t=ji;t;)t=Tl(t.nextSibling)}function Ah(){ji=Bi=null,bn=!1}function Ew(t){Ns===null?Ns=[t]:Ns.push(t)}var qD=Aa.ReactCurrentBatchConfig;function Of(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(je(309));var r=n.stateNode}if(!r)throw Error(je(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(je(284));if(!n._owner)throw Error(je(290,t))}return t}function hm(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xb(t){var e=t._init;return e(t._payload)}function v4(t){function e(y,b){if(t){var A=y.deletions;A===null?(y.deletions=[b],y.flags|=16):A.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Il(y,b),y.index=0,y.sibling=null,y}function s(y,b,A){return y.index=A,t?(A=y.alternate,A!==null?(A=A.index,A<b?(y.flags|=2,b):A):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,A,j){return b===null||b.tag!==6?(b=fy(A,y.mode,j),b.return=y,b):(b=i(b,A),b.return=y,b)}function l(y,b,A,j){var Y=A.type;return Y===Zc?c(y,b,A.props.children,j,A.key):b!==null&&(b.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===hl&&xb(Y)===b.type)?(j=i(b,A.props),j.ref=Of(y,b,A),j.return=y,j):(j=Hm(A.type,A.key,A.props,null,y.mode,j),j.ref=Of(y,b,A),j.return=y,j)}function u(y,b,A,j){return b===null||b.tag!==4||b.stateNode.containerInfo!==A.containerInfo||b.stateNode.implementation!==A.implementation?(b=dy(A,y.mode,j),b.return=y,b):(b=i(b,A.children||[]),b.return=y,b)}function c(y,b,A,j,Y){return b===null||b.tag!==7?(b=Fu(A,y.mode,j,Y),b.return=y,b):(b=i(b,A),b.return=y,b)}function d(y,b,A){if(typeof b=="string"&&b!==""||typeof b=="number")return b=fy(""+b,y.mode,A),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case em:return A=Hm(b.type,b.key,b.props,null,y.mode,A),A.ref=Of(y,null,b),A.return=y,A;case Xc:return b=dy(b,y.mode,A),b.return=y,b;case hl:var j=b._init;return d(y,j(b._payload),A)}if(Gf(b)||Cf(b))return b=Fu(b,y.mode,A,null),b.return=y,b;hm(y,b)}return null}function g(y,b,A,j){var Y=b!==null?b.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return Y!==null?null:a(y,b,""+A,j);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case em:return A.key===Y?l(y,b,A,j):null;case Xc:return A.key===Y?u(y,b,A,j):null;case hl:return Y=A._init,g(y,b,Y(A._payload),j)}if(Gf(A)||Cf(A))return Y!==null?null:c(y,b,A,j,null);hm(y,A)}return null}function p(y,b,A,j,Y){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(A)||null,a(b,y,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case em:return y=y.get(j.key===null?A:j.key)||null,l(b,y,j,Y);case Xc:return y=y.get(j.key===null?A:j.key)||null,u(b,y,j,Y);case hl:var J=j._init;return p(y,b,A,J(j._payload),Y)}if(Gf(j)||Cf(j))return y=y.get(A)||null,c(b,y,j,Y,null);hm(b,j)}return null}function _(y,b,A,j){for(var Y=null,J=null,N=b,k=b=0,D=null;N!==null&&k<A.length;k++){N.index>k?(D=N,N=null):D=N.sibling;var L=g(y,N,A[k],j);if(L===null){N===null&&(N=D);break}t&&N&&L.alternate===null&&e(y,N),b=s(L,b,k),J===null?Y=L:J.sibling=L,J=L,N=D}if(k===A.length)return n(y,N),bn&&Eu(y,k),Y;if(N===null){for(;k<A.length;k++)N=d(y,A[k],j),N!==null&&(b=s(N,b,k),J===null?Y=N:J.sibling=N,J=N);return bn&&Eu(y,k),Y}for(N=r(y,N);k<A.length;k++)D=p(N,y,k,A[k],j),D!==null&&(t&&D.alternate!==null&&N.delete(D.key===null?k:D.key),b=s(D,b,k),J===null?Y=D:J.sibling=D,J=D);return t&&N.forEach(function(x){return e(y,x)}),bn&&Eu(y,k),Y}function S(y,b,A,j){var Y=Cf(A);if(typeof Y!="function")throw Error(je(150));if(A=Y.call(A),A==null)throw Error(je(151));for(var J=Y=null,N=b,k=b=0,D=null,L=A.next();N!==null&&!L.done;k++,L=A.next()){N.index>k?(D=N,N=null):D=N.sibling;var x=g(y,N,L.value,j);if(x===null){N===null&&(N=D);break}t&&N&&x.alternate===null&&e(y,N),b=s(x,b,k),J===null?Y=x:J.sibling=x,J=x,N=D}if(L.done)return n(y,N),bn&&Eu(y,k),Y;if(N===null){for(;!L.done;k++,L=A.next())L=d(y,L.value,j),L!==null&&(b=s(L,b,k),J===null?Y=L:J.sibling=L,J=L);return bn&&Eu(y,k),Y}for(N=r(y,N);!L.done;k++,L=A.next())L=p(N,y,k,L.value,j),L!==null&&(t&&L.alternate!==null&&N.delete(L.key===null?k:L.key),b=s(L,b,k),J===null?Y=L:J.sibling=L,J=L);return t&&N.forEach(function(I){return e(y,I)}),bn&&Eu(y,k),Y}function T(y,b,A,j){if(typeof A=="object"&&A!==null&&A.type===Zc&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case em:e:{for(var Y=A.key,J=b;J!==null;){if(J.key===Y){if(Y=A.type,Y===Zc){if(J.tag===7){n(y,J.sibling),b=i(J,A.props.children),b.return=y,y=b;break e}}else if(J.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===hl&&xb(Y)===J.type){n(y,J.sibling),b=i(J,A.props),b.ref=Of(y,J,A),b.return=y,y=b;break e}n(y,J);break}else e(y,J);J=J.sibling}A.type===Zc?(b=Fu(A.props.children,y.mode,j,A.key),b.return=y,y=b):(j=Hm(A.type,A.key,A.props,null,y.mode,j),j.ref=Of(y,b,A),j.return=y,y=j)}return o(y);case Xc:e:{for(J=A.key;b!==null;){if(b.key===J)if(b.tag===4&&b.stateNode.containerInfo===A.containerInfo&&b.stateNode.implementation===A.implementation){n(y,b.sibling),b=i(b,A.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=dy(A,y.mode,j),b.return=y,y=b}return o(y);case hl:return J=A._init,T(y,b,J(A._payload),j)}if(Gf(A))return _(y,b,A,j);if(Cf(A))return S(y,b,A,j);hm(y,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,A),b.return=y,y=b):(n(y,b),b=fy(A,y.mode,j),b.return=y,y=b),o(y)):n(y,b)}return T}var Ph=v4(!0),y4=v4(!1),xg=Zl(null),Tg=null,ah=null,xw=null;function Tw(){xw=ah=Tg=null}function kw(t){var e=xg.current;_n(xg),t._currentValue=e}function C1(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ph(t,e){Tg=t,xw=ah=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yi=!0),t.firstContext=null)}function cs(t){var e=t._currentValue;if(xw!==t)if(t={context:t,memoizedValue:e,next:null},ah===null){if(Tg===null)throw Error(je(308));ah=t,Tg.dependencies={lanes:0,firstContext:t}}else ah=ah.next=t;return e}var Iu=null;function Aw(t){Iu===null?Iu=[t]:Iu.push(t)}function w4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Aw(e)):(n.next=i.next,i.next=n),e.interleaved=n,ya(t,r)}function ya(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fl=!1;function Pw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function la(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function kl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ya(t,n)}return i=r.interleaved,i===null?(e.next=e,Aw(r)):(e.next=i.next,i.next=e),r.interleaved=e,ya(t,n)}function jm(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dw(t,n)}}function Tb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kg(t,e,n,r){var i=t.updateQueue;fl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var g=a.lane,p=a.eventTime;if((r&g)===g){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,S=a;switch(g=e,p=n,S.tag){case 1:if(_=S.payload,typeof _=="function"){d=_.call(p,d,g);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=S.payload,g=typeof _=="function"?_.call(p,d,g):_,g==null)break e;d=An({},d,g);break e;case 2:fl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else p={eventTime:p,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ku|=o,t.lanes=o,t.memoizedState=d}}function kb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(je(191,i));i.call(r)}}}var up={},So=Zl(up),Md=Zl(up),Fd=Zl(up);function Cu(t){if(t===up)throw Error(je(174));return t}function Iw(t,e){switch(pn(Fd,e),pn(Md,t),pn(So,up),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:c1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=c1(e,t)}_n(So),pn(So,e)}function Ih(){_n(So),_n(Md),_n(Fd)}function b4(t){Cu(Fd.current);var e=Cu(So.current),n=c1(e,t.type);e!==n&&(pn(Md,t),pn(So,n))}function Cw(t){Md.current===t&&(_n(So),_n(Md))}var xn=Zl(0);function Ag(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oy=[];function Nw(){for(var t=0;t<oy.length;t++)oy[t]._workInProgressVersionPrimary=null;oy.length=0}var Vm=Aa.ReactCurrentDispatcher,ay=Aa.ReactCurrentBatchConfig,Gu=0,kn=null,or=null,mr=null,Pg=!1,ld=!1,jd=0,HD=0;function Rr(){throw Error(je(321))}function Dw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!js(t[n],e[n]))return!1;return!0}function Rw(t,e,n,r,i,s){if(Gu=s,kn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vm.current=t===null||t.memoizedState===null?GD:KD,t=n(r,i),ld){s=0;do{if(ld=!1,jd=0,25<=s)throw Error(je(301));s+=1,mr=or=null,e.updateQueue=null,Vm.current=QD,t=n(r,i)}while(ld)}if(Vm.current=Ig,e=or!==null&&or.next!==null,Gu=0,mr=or=kn=null,Pg=!1,e)throw Error(je(300));return t}function Lw(){var t=jd!==0;return jd=0,t}function co(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?kn.memoizedState=mr=t:mr=mr.next=t,mr}function hs(){if(or===null){var t=kn.alternate;t=t!==null?t.memoizedState:null}else t=or.next;var e=mr===null?kn.memoizedState:mr.next;if(e!==null)mr=e,or=t;else{if(t===null)throw Error(je(310));or=t,t={memoizedState:or.memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},mr===null?kn.memoizedState=mr=t:mr=mr.next=t}return mr}function Vd(t,e){return typeof e=="function"?e(t):e}function ly(t){var e=hs(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=or,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Gu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,kn.lanes|=c,Ku|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,js(r,e.memoizedState)||(yi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,kn.lanes|=s,Ku|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function uy(t){var e=hs(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);js(s,e.memoizedState)||(yi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function S4(){}function E4(t,e){var n=kn,r=hs(),i=e(),s=!js(r.memoizedState,i);if(s&&(r.memoizedState=i,yi=!0),r=r.queue,Ow(k4.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||mr!==null&&mr.memoizedState.tag&1){if(n.flags|=2048,Bd(9,T4.bind(null,n,r,i,e),void 0,null),gr===null)throw Error(je(349));Gu&30||x4(n,e,i)}return i}function x4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=kn.updateQueue,e===null?(e={lastEffect:null,stores:null},kn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function T4(t,e,n,r){e.value=n,e.getSnapshot=r,A4(e)&&P4(t)}function k4(t,e,n){return n(function(){A4(e)&&P4(t)})}function A4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!js(t,n)}catch{return!0}}function P4(t){var e=ya(t,1);e!==null&&Os(e,t,1,-1)}function Ab(t){var e=co();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:t},e.queue=t,t=t.dispatch=YD.bind(null,kn,t),[e.memoizedState,t]}function Bd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=kn.updateQueue,e===null?(e={lastEffect:null,stores:null},kn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function I4(){return hs().memoizedState}function Bm(t,e,n,r){var i=co();kn.flags|=t,i.memoizedState=Bd(1|e,n,void 0,r===void 0?null:r)}function P0(t,e,n,r){var i=hs();r=r===void 0?null:r;var s=void 0;if(or!==null){var o=or.memoizedState;if(s=o.destroy,r!==null&&Dw(r,o.deps)){i.memoizedState=Bd(e,n,s,r);return}}kn.flags|=t,i.memoizedState=Bd(1|e,n,s,r)}function Pb(t,e){return Bm(8390656,8,t,e)}function Ow(t,e){return P0(2048,8,t,e)}function C4(t,e){return P0(4,2,t,e)}function N4(t,e){return P0(4,4,t,e)}function D4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function R4(t,e,n){return n=n!=null?n.concat([t]):null,P0(4,4,D4.bind(null,e,t),n)}function Mw(){}function L4(t,e){var n=hs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function O4(t,e){var n=hs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function M4(t,e,n){return Gu&21?(js(n,e)||(n=UT(),kn.lanes|=n,Ku|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yi=!0),t.memoizedState=n)}function WD(t,e){var n=rn;rn=n!==0&&4>n?n:4,t(!0);var r=ay.transition;ay.transition={};try{t(!1),e()}finally{rn=n,ay.transition=r}}function F4(){return hs().memoizedState}function $D(t,e,n){var r=Pl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},j4(t))V4(e,n);else if(n=w4(t,e,n,r),n!==null){var i=si();Os(n,t,r,i),B4(n,e,r)}}function YD(t,e,n){var r=Pl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(j4(t))V4(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,js(a,o)){var l=e.interleaved;l===null?(i.next=i,Aw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=w4(t,e,i,r),n!==null&&(i=si(),Os(n,t,r,i),B4(n,e,r))}}function j4(t){var e=t.alternate;return t===kn||e!==null&&e===kn}function V4(t,e){ld=Pg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function B4(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,dw(t,n)}}var Ig={readContext:cs,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},GD={readContext:cs,useCallback:function(t,e){return co().memoizedState=[t,e===void 0?null:e],t},useContext:cs,useEffect:Pb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bm(4194308,4,D4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bm(4,2,t,e)},useMemo:function(t,e){var n=co();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=co();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$D.bind(null,kn,t),[r.memoizedState,t]},useRef:function(t){var e=co();return t={current:t},e.memoizedState=t},useState:Ab,useDebugValue:Mw,useDeferredValue:function(t){return co().memoizedState=t},useTransition:function(){var t=Ab(!1),e=t[0];return t=WD.bind(null,t[1]),co().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=kn,i=co();if(bn){if(n===void 0)throw Error(je(407));n=n()}else{if(n=e(),gr===null)throw Error(je(349));Gu&30||x4(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Pb(k4.bind(null,r,s,t),[t]),r.flags|=2048,Bd(9,T4.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=co(),e=gr.identifierPrefix;if(bn){var n=ia,r=ra;n=(r&~(1<<32-Ls(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=jd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=HD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},KD={readContext:cs,useCallback:L4,useContext:cs,useEffect:Ow,useImperativeHandle:R4,useInsertionEffect:C4,useLayoutEffect:N4,useMemo:O4,useReducer:ly,useRef:I4,useState:function(){return ly(Vd)},useDebugValue:Mw,useDeferredValue:function(t){var e=hs();return M4(e,or.memoizedState,t)},useTransition:function(){var t=ly(Vd)[0],e=hs().memoizedState;return[t,e]},useMutableSource:S4,useSyncExternalStore:E4,useId:F4,unstable_isNewReconciler:!1},QD={readContext:cs,useCallback:L4,useContext:cs,useEffect:Ow,useImperativeHandle:R4,useInsertionEffect:C4,useLayoutEffect:N4,useMemo:O4,useReducer:uy,useRef:I4,useState:function(){return uy(Vd)},useDebugValue:Mw,useDeferredValue:function(t){var e=hs();return or===null?e.memoizedState=t:M4(e,or.memoizedState,t)},useTransition:function(){var t=uy(Vd)[0],e=hs().memoizedState;return[t,e]},useMutableSource:S4,useSyncExternalStore:E4,useId:F4,unstable_isNewReconciler:!1};function Ps(t,e){if(t&&t.defaultProps){e=An({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function N1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:An({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var I0={isMounted:function(t){return(t=t._reactInternals)?lc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=si(),i=Pl(t),s=la(r,i);s.payload=e,n!=null&&(s.callback=n),e=kl(t,s,i),e!==null&&(Os(e,t,i,r),jm(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=si(),i=Pl(t),s=la(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=kl(t,s,i),e!==null&&(Os(e,t,i,r),jm(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=si(),r=Pl(t),i=la(n,r);i.tag=2,e!=null&&(i.callback=e),e=kl(t,i,r),e!==null&&(Os(e,t,r,n),jm(e,t,r))}};function Ib(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Dd(n,r)||!Dd(i,s):!0}function U4(t,e,n){var r=!1,i=Bl,s=e.contextType;return typeof s=="object"&&s!==null?s=cs(s):(i=_i(e)?$u:Wr.current,r=e.contextTypes,s=(r=r!=null)?kh(t,i):Bl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=I0,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Cb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&I0.enqueueReplaceState(e,e.state,null)}function D1(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Pw(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=cs(s):(s=_i(e)?$u:Wr.current,i.context=kh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(N1(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&I0.enqueueReplaceState(i,i.state,null),kg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ch(t,e){try{var n="",r=e;do n+=xN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function cy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function R1(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JD=typeof WeakMap=="function"?WeakMap:Map;function z4(t,e,n){n=la(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ng||(Ng=!0,q1=r),R1(t,e)},n}function q4(t,e,n){n=la(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){R1(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){R1(t,e),typeof r!="function"&&(Al===null?Al=new Set([this]):Al.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Nb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=hR.bind(null,t,e,n),e.then(t,t))}function Db(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=la(-1,1),e.tag=2,kl(n,e,1))),n.lanes|=1),t)}var XD=Aa.ReactCurrentOwner,yi=!1;function ei(t,e,n,r){e.child=t===null?y4(e,null,n,r):Ph(e,t.child,n,r)}function Lb(t,e,n,r,i){n=n.render;var s=e.ref;return ph(e,i),r=Rw(t,e,n,r,s,i),n=Lw(),t!==null&&!yi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wa(t,e,i)):(bn&&n&&bw(e),e.flags|=1,ei(t,e,r,i),e.child)}function Ob(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Hw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,H4(t,e,s,r,i)):(t=Hm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dd,n(o,r)&&t.ref===e.ref)return wa(t,e,i)}return e.flags|=1,t=Il(s,r),t.ref=e.ref,t.return=e,e.child=t}function H4(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Dd(s,r)&&t.ref===e.ref)if(yi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(yi=!0);else return e.lanes=t.lanes,wa(t,e,i)}return L1(t,e,n,r,i)}function W4(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(uh,Mi),Mi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pn(uh,Mi),Mi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,pn(uh,Mi),Mi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,pn(uh,Mi),Mi|=r;return ei(t,e,i,n),e.child}function $4(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function L1(t,e,n,r,i){var s=_i(n)?$u:Wr.current;return s=kh(e,s),ph(e,i),n=Rw(t,e,n,r,s,i),r=Lw(),t!==null&&!yi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wa(t,e,i)):(bn&&r&&bw(e),e.flags|=1,ei(t,e,n,i),e.child)}function Mb(t,e,n,r,i){if(_i(n)){var s=!0;bg(e)}else s=!1;if(ph(e,i),e.stateNode===null)Um(t,e),U4(e,n,r),D1(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=cs(u):(u=_i(n)?$u:Wr.current,u=kh(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Cb(e,o,r,u),fl=!1;var g=e.memoizedState;o.state=g,kg(e,r,o,i),l=e.memoizedState,a!==r||g!==l||wi.current||fl?(typeof c=="function"&&(N1(e,n,c,r),l=e.memoizedState),(a=fl||Ib(e,n,a,r,g,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_4(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ps(e.type,a),o.props=u,d=e.pendingProps,g=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=cs(l):(l=_i(n)?$u:Wr.current,l=kh(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||g!==l)&&Cb(e,o,r,l),fl=!1,g=e.memoizedState,o.state=g,kg(e,r,o,i);var _=e.memoizedState;a!==d||g!==_||wi.current||fl?(typeof p=="function"&&(N1(e,n,p,r),_=e.memoizedState),(u=fl||Ib(e,n,u,r,g,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return O1(t,e,n,r,s,i)}function O1(t,e,n,r,i,s){$4(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&bb(e,n,!1),wa(t,e,s);r=e.stateNode,XD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ph(e,t.child,null,s),e.child=Ph(e,null,a,s)):ei(t,e,a,s),e.memoizedState=r.state,i&&bb(e,n,!0),e.child}function Y4(t){var e=t.stateNode;e.pendingContext?_b(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_b(t,e.context,!1),Iw(t,e.containerInfo)}function Fb(t,e,n,r,i){return Ah(),Ew(i),e.flags|=256,ei(t,e,n,r),e.child}var M1={dehydrated:null,treeContext:null,retryLane:0};function F1(t){return{baseLanes:t,cachePool:null,transitions:null}}function G4(t,e,n){var r=e.pendingProps,i=xn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pn(xn,i&1),t===null)return I1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=D0(o,r,0,null),t=Fu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=F1(n),e.memoizedState=M1,t):Fw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ZD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Il(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Il(a,s):(s=Fu(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?F1(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=M1,r}return s=t.child,t=s.sibling,r=Il(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fw(t,e){return e=D0({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fm(t,e,n,r){return r!==null&&Ew(r),Ph(e,t.child,null,n),t=Fw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=cy(Error(je(422))),fm(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=D0({mode:"visible",children:r.children},i,0,null),s=Fu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ph(e,t.child,null,o),e.child.memoizedState=F1(o),e.memoizedState=M1,s);if(!(e.mode&1))return fm(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(je(419)),r=cy(s,r,void 0),fm(t,e,o,r)}if(a=(o&t.childLanes)!==0,yi||a){if(r=gr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ya(t,i),Os(r,t,i,-1))}return qw(),r=cy(Error(je(421))),fm(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ji=Tl(i.nextSibling),Bi=e,bn=!0,Ns=null,t!==null&&(rs[is++]=ra,rs[is++]=ia,rs[is++]=Yu,ra=t.id,ia=t.overflow,Yu=e),e=Fw(e,r.children),e.flags|=4096,e)}function jb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),C1(t.return,e,n)}function hy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function K4(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ei(t,e,r.children,n),r=xn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jb(t,n,e);else if(t.tag===19)jb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pn(xn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ag(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),hy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ag(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}hy(e,!0,n,null,s);break;case"together":hy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Um(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ku|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,n=Il(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Il(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function eR(t,e,n){switch(e.tag){case 3:Y4(e),Ah();break;case 5:b4(e);break;case 1:_i(e.type)&&bg(e);break;case 4:Iw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pn(xg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pn(xn,xn.current&1),e.flags|=128,null):n&e.child.childLanes?G4(t,e,n):(pn(xn,xn.current&1),t=wa(t,e,n),t!==null?t.sibling:null);pn(xn,xn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return K4(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pn(xn,xn.current),r)break;return null;case 22:case 23:return e.lanes=0,W4(t,e,n)}return wa(t,e,n)}var Q4,j1,J4,X4;Q4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};j1=function(){};J4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Cu(So.current);var s=null;switch(n){case"input":i=o1(t,i),r=o1(t,r),s=[];break;case"select":i=An({},i,{value:void 0}),r=An({},r,{value:void 0}),s=[];break;case"textarea":i=u1(t,i),r=u1(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=wg)}h1(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Td.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Td.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&yn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};X4=function(t,e,n,r){n!==r&&(e.flags|=4)};function Mf(t,e){if(!bn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tR(t,e,n){var r=e.pendingProps;switch(Sw(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lr(e),null;case 1:return _i(e.type)&&_g(),Lr(e),null;case 3:return r=e.stateNode,Ih(),_n(wi),_n(Wr),Nw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ns!==null&&($1(Ns),Ns=null))),j1(t,e),Lr(e),null;case 5:Cw(e);var i=Cu(Fd.current);if(n=e.type,t!==null&&e.stateNode!=null)J4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(je(166));return Lr(e),null}if(t=Cu(So.current),cm(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[mo]=e,r[Od]=s,t=(e.mode&1)!==0,n){case"dialog":yn("cancel",r),yn("close",r);break;case"iframe":case"object":case"embed":yn("load",r);break;case"video":case"audio":for(i=0;i<Qf.length;i++)yn(Qf[i],r);break;case"source":yn("error",r);break;case"img":case"image":case"link":yn("error",r),yn("load",r);break;case"details":yn("toggle",r);break;case"input":Y_(r,s),yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},yn("invalid",r);break;case"textarea":K_(r,s),yn("invalid",r)}h1(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&um(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&um(r.textContent,a,t),i=["children",""+a]):Td.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&yn("scroll",r)}switch(n){case"input":tm(r),G_(r,s,!0);break;case"textarea":tm(r),Q_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[mo]=e,t[Od]=r,Q4(t,e,!1,!1),e.stateNode=t;e:{switch(o=f1(n,r),n){case"dialog":yn("cancel",t),yn("close",t),i=r;break;case"iframe":case"object":case"embed":yn("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qf.length;i++)yn(Qf[i],t);i=r;break;case"source":yn("error",t),i=r;break;case"img":case"image":case"link":yn("error",t),yn("load",t),i=r;break;case"details":yn("toggle",t),i=r;break;case"input":Y_(t,r),i=o1(t,r),yn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=An({},r,{value:void 0}),yn("invalid",t);break;case"textarea":K_(t,r),i=u1(t,r),yn("invalid",t);break;default:i=r}h1(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?IT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&AT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kd(t,l):typeof l=="number"&&kd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Td.hasOwnProperty(s)?l!=null&&s==="onScroll"&&yn("scroll",t):l!=null&&aw(t,s,l,o))}switch(n){case"input":tm(t),G_(t,r,!1);break;case"textarea":tm(t),Q_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ch(t,!!r.multiple,s,!1):r.defaultValue!=null&&ch(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=wg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lr(e),null;case 6:if(t&&e.stateNode!=null)X4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(je(166));if(n=Cu(Fd.current),Cu(So.current),cm(e)){if(r=e.stateNode,n=e.memoizedProps,r[mo]=e,(s=r.nodeValue!==n)&&(t=Bi,t!==null))switch(t.tag){case 3:um(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&um(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mo]=e,e.stateNode=r}return Lr(e),null;case 13:if(_n(xn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bn&&ji!==null&&e.mode&1&&!(e.flags&128))g4(),Ah(),e.flags|=98560,s=!1;else if(s=cm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[mo]=e}else Ah(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lr(e),s=!1}else Ns!==null&&($1(Ns),Ns=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xn.current&1?ur===0&&(ur=3):qw())),e.updateQueue!==null&&(e.flags|=4),Lr(e),null);case 4:return Ih(),j1(t,e),t===null&&Rd(e.stateNode.containerInfo),Lr(e),null;case 10:return kw(e.type._context),Lr(e),null;case 17:return _i(e.type)&&_g(),Lr(e),null;case 19:if(_n(xn),s=e.memoizedState,s===null)return Lr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Mf(s,!1);else{if(ur!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ag(t),o!==null){for(e.flags|=128,Mf(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pn(xn,xn.current&1|2),e.child}t=t.sibling}s.tail!==null&&zn()>Nh&&(e.flags|=128,r=!0,Mf(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ag(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Mf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!bn)return Lr(e),null}else 2*zn()-s.renderingStartTime>Nh&&n!==1073741824&&(e.flags|=128,r=!0,Mf(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=zn(),e.sibling=null,n=xn.current,pn(xn,r?n&1|2:n&1),e):(Lr(e),null);case 22:case 23:return zw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mi&1073741824&&(Lr(e),e.subtreeFlags&6&&(e.flags|=8192)):Lr(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function nR(t,e){switch(Sw(e),e.tag){case 1:return _i(e.type)&&_g(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ih(),_n(wi),_n(Wr),Nw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cw(e),null;case 13:if(_n(xn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));Ah()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _n(xn),null;case 4:return Ih(),null;case 10:return kw(e.type._context),null;case 22:case 23:return zw(),null;case 24:return null;default:return null}}var dm=!1,Ur=!1,rR=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function lh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ln(t,e,r)}else n.current=null}function V1(t,e,n){try{n()}catch(r){Ln(t,e,r)}}var Vb=!1;function iR(t,e){if(S1=gg,t=r4(),_w(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,g=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)g=d,d=p;for(;;){if(d===t)break t;if(g===n&&++u===i&&(a=o),g===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=g,g=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(E1={focusedElem:t,selectionRange:n},gg=!1,Ze=e;Ze!==null;)if(e=Ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ze=t;else for(;Ze!==null;){e=Ze;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var S=_.memoizedProps,T=_.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?S:Ps(e.type,S),T);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(j){Ln(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Ze=t;break}Ze=e.return}return _=Vb,Vb=!1,_}function ud(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&V1(e,n,s)}i=i.next}while(i!==r)}}function C0(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function B1(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Z4(t){var e=t.alternate;e!==null&&(t.alternate=null,Z4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[mo],delete e[Od],delete e[k1],delete e[BD],delete e[UD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function e3(t){return t.tag===5||t.tag===3||t.tag===4}function Bb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function U1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=wg));else if(r!==4&&(t=t.child,t!==null))for(U1(t,e,n),t=t.sibling;t!==null;)U1(t,e,n),t=t.sibling}function z1(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(z1(t,e,n),t=t.sibling;t!==null;)z1(t,e,n),t=t.sibling}var Er=null,Cs=!1;function sl(t,e,n){for(n=n.child;n!==null;)t3(t,e,n),n=n.sibling}function t3(t,e,n){if(bo&&typeof bo.onCommitFiberUnmount=="function")try{bo.onCommitFiberUnmount(S0,n)}catch{}switch(n.tag){case 5:Ur||lh(n,e);case 6:var r=Er,i=Cs;Er=null,sl(t,e,n),Er=r,Cs=i,Er!==null&&(Cs?(t=Er,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Er.removeChild(n.stateNode));break;case 18:Er!==null&&(Cs?(t=Er,n=n.stateNode,t.nodeType===8?iy(t.parentNode,n):t.nodeType===1&&iy(t,n),Cd(t)):iy(Er,n.stateNode));break;case 4:r=Er,i=Cs,Er=n.stateNode.containerInfo,Cs=!0,sl(t,e,n),Er=r,Cs=i;break;case 0:case 11:case 14:case 15:if(!Ur&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&V1(n,e,o),i=i.next}while(i!==r)}sl(t,e,n);break;case 1:if(!Ur&&(lh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ln(n,e,a)}sl(t,e,n);break;case 21:sl(t,e,n);break;case 22:n.mode&1?(Ur=(r=Ur)||n.memoizedState!==null,sl(t,e,n),Ur=r):sl(t,e,n);break;default:sl(t,e,n)}}function Ub(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rR),e.forEach(function(r){var i=dR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ts(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Er=a.stateNode,Cs=!1;break e;case 3:Er=a.stateNode.containerInfo,Cs=!0;break e;case 4:Er=a.stateNode.containerInfo,Cs=!0;break e}a=a.return}if(Er===null)throw Error(je(160));t3(s,o,i),Er=null,Cs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ln(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)n3(e,t),e=e.sibling}function n3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ts(e,t),ao(t),r&4){try{ud(3,t,t.return),C0(3,t)}catch(S){Ln(t,t.return,S)}try{ud(5,t,t.return)}catch(S){Ln(t,t.return,S)}}break;case 1:Ts(e,t),ao(t),r&512&&n!==null&&lh(n,n.return);break;case 5:if(Ts(e,t),ao(t),r&512&&n!==null&&lh(n,n.return),t.flags&32){var i=t.stateNode;try{kd(i,"")}catch(S){Ln(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&xT(i,s),f1(a,o);var u=f1(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?IT(i,d):c==="dangerouslySetInnerHTML"?AT(i,d):c==="children"?kd(i,d):aw(i,c,d,u)}switch(a){case"input":a1(i,s);break;case"textarea":TT(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ch(i,!!s.multiple,p,!1):g!==!!s.multiple&&(s.defaultValue!=null?ch(i,!!s.multiple,s.defaultValue,!0):ch(i,!!s.multiple,s.multiple?[]:"",!1))}i[Od]=s}catch(S){Ln(t,t.return,S)}}break;case 6:if(Ts(e,t),ao(t),r&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){Ln(t,t.return,S)}}break;case 3:if(Ts(e,t),ao(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cd(e.containerInfo)}catch(S){Ln(t,t.return,S)}break;case 4:Ts(e,t),ao(t);break;case 13:Ts(e,t),ao(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Bw=zn())),r&4&&Ub(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ur=(u=Ur)||c,Ts(e,t),Ur=u):Ts(e,t),ao(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ze=t,c=t.child;c!==null;){for(d=Ze=c;Ze!==null;){switch(g=Ze,p=g.child,g.tag){case 0:case 11:case 14:case 15:ud(4,g,g.return);break;case 1:lh(g,g.return);var _=g.stateNode;if(typeof _.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(S){Ln(r,n,S)}}break;case 5:lh(g,g.return);break;case 22:if(g.memoizedState!==null){qb(d);continue}}p!==null?(p.return=g,Ze=p):qb(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=PT("display",o))}catch(S){Ln(t,t.return,S)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(S){Ln(t,t.return,S)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ts(e,t),ao(t),r&4&&Ub(t);break;case 21:break;default:Ts(e,t),ao(t)}}function ao(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(e3(n)){var r=n;break e}n=n.return}throw Error(je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(kd(i,""),r.flags&=-33);var s=Bb(t);z1(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Bb(t);U1(t,a,o);break;default:throw Error(je(161))}}catch(l){Ln(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sR(t,e,n){Ze=t,r3(t)}function r3(t,e,n){for(var r=(t.mode&1)!==0;Ze!==null;){var i=Ze,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||dm;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ur;a=dm;var u=Ur;if(dm=o,(Ur=l)&&!u)for(Ze=i;Ze!==null;)o=Ze,l=o.child,o.tag===22&&o.memoizedState!==null?Hb(i):l!==null?(l.return=o,Ze=l):Hb(i);for(;s!==null;)Ze=s,r3(s),s=s.sibling;Ze=i,dm=a,Ur=u}zb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ze=s):zb(t)}}function zb(t){for(;Ze!==null;){var e=Ze;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ur||C0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ur)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ps(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&kb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}kb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Cd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}Ur||e.flags&512&&B1(e)}catch(g){Ln(e,e.return,g)}}if(e===t){Ze=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ze=n;break}Ze=e.return}}function qb(t){for(;Ze!==null;){var e=Ze;if(e===t){Ze=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ze=n;break}Ze=e.return}}function Hb(t){for(;Ze!==null;){var e=Ze;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{C0(4,e)}catch(l){Ln(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ln(e,i,l)}}var s=e.return;try{B1(e)}catch(l){Ln(e,s,l)}break;case 5:var o=e.return;try{B1(e)}catch(l){Ln(e,o,l)}}}catch(l){Ln(e,e.return,l)}if(e===t){Ze=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ze=a;break}Ze=e.return}}var oR=Math.ceil,Cg=Aa.ReactCurrentDispatcher,jw=Aa.ReactCurrentOwner,ls=Aa.ReactCurrentBatchConfig,qt=0,gr=null,rr=null,kr=0,Mi=0,uh=Zl(0),ur=0,Ud=null,Ku=0,N0=0,Vw=0,cd=null,vi=null,Bw=0,Nh=1/0,Xo=null,Ng=!1,q1=null,Al=null,pm=!1,vl=null,Dg=0,hd=0,H1=null,zm=-1,qm=0;function si(){return qt&6?zn():zm!==-1?zm:zm=zn()}function Pl(t){return t.mode&1?qt&2&&kr!==0?kr&-kr:qD.transition!==null?(qm===0&&(qm=UT()),qm):(t=rn,t!==0||(t=window.event,t=t===void 0?16:GT(t.type)),t):1}function Os(t,e,n,r){if(50<hd)throw hd=0,H1=null,Error(je(185));op(t,n,r),(!(qt&2)||t!==gr)&&(t===gr&&(!(qt&2)&&(N0|=n),ur===4&&pl(t,kr)),bi(t,r),n===1&&qt===0&&!(e.mode&1)&&(Nh=zn()+500,A0&&eu()))}function bi(t,e){var n=t.callbackNode;qN(t,e);var r=mg(t,t===gr?kr:0);if(r===0)n!==null&&Z_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Z_(n),e===1)t.tag===0?zD(Wb.bind(null,t)):d4(Wb.bind(null,t)),jD(function(){!(qt&6)&&eu()}),n=null;else{switch(zT(r)){case 1:n=fw;break;case 4:n=VT;break;case 16:n=pg;break;case 536870912:n=BT;break;default:n=pg}n=h3(n,i3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function i3(t,e){if(zm=-1,qm=0,qt&6)throw Error(je(327));var n=t.callbackNode;if(mh()&&t.callbackNode!==n)return null;var r=mg(t,t===gr?kr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rg(t,r);else{e=r;var i=qt;qt|=2;var s=o3();(gr!==t||kr!==e)&&(Xo=null,Nh=zn()+500,Mu(t,e));do try{uR();break}catch(a){s3(t,a)}while(!0);Tw(),Cg.current=s,qt=i,rr!==null?e=0:(gr=null,kr=0,e=ur)}if(e!==0){if(e===2&&(i=v1(t),i!==0&&(r=i,e=W1(t,i))),e===1)throw n=Ud,Mu(t,0),pl(t,r),bi(t,zn()),n;if(e===6)pl(t,r);else{if(i=t.current.alternate,!(r&30)&&!aR(i)&&(e=Rg(t,r),e===2&&(s=v1(t),s!==0&&(r=s,e=W1(t,s))),e===1))throw n=Ud,Mu(t,0),pl(t,r),bi(t,zn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(je(345));case 2:xu(t,vi,Xo);break;case 3:if(pl(t,r),(r&130023424)===r&&(e=Bw+500-zn(),10<e)){if(mg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){si(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=T1(xu.bind(null,t,vi,Xo),e);break}xu(t,vi,Xo);break;case 4:if(pl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ls(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=zn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oR(r/1960))-r,10<r){t.timeoutHandle=T1(xu.bind(null,t,vi,Xo),r);break}xu(t,vi,Xo);break;case 5:xu(t,vi,Xo);break;default:throw Error(je(329))}}}return bi(t,zn()),t.callbackNode===n?i3.bind(null,t):null}function W1(t,e){var n=cd;return t.current.memoizedState.isDehydrated&&(Mu(t,e).flags|=256),t=Rg(t,e),t!==2&&(e=vi,vi=n,e!==null&&$1(e)),t}function $1(t){vi===null?vi=t:vi.push.apply(vi,t)}function aR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!js(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pl(t,e){for(e&=~Vw,e&=~N0,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ls(e),r=1<<n;t[n]=-1,e&=~r}}function Wb(t){if(qt&6)throw Error(je(327));mh();var e=mg(t,0);if(!(e&1))return bi(t,zn()),null;var n=Rg(t,e);if(t.tag!==0&&n===2){var r=v1(t);r!==0&&(e=r,n=W1(t,r))}if(n===1)throw n=Ud,Mu(t,0),pl(t,e),bi(t,zn()),n;if(n===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xu(t,vi,Xo),bi(t,zn()),null}function Uw(t,e){var n=qt;qt|=1;try{return t(e)}finally{qt=n,qt===0&&(Nh=zn()+500,A0&&eu())}}function Qu(t){vl!==null&&vl.tag===0&&!(qt&6)&&mh();var e=qt;qt|=1;var n=ls.transition,r=rn;try{if(ls.transition=null,rn=1,t)return t()}finally{rn=r,ls.transition=n,qt=e,!(qt&6)&&eu()}}function zw(){Mi=uh.current,_n(uh)}function Mu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,FD(n)),rr!==null)for(n=rr.return;n!==null;){var r=n;switch(Sw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&_g();break;case 3:Ih(),_n(wi),_n(Wr),Nw();break;case 5:Cw(r);break;case 4:Ih();break;case 13:_n(xn);break;case 19:_n(xn);break;case 10:kw(r.type._context);break;case 22:case 23:zw()}n=n.return}if(gr=t,rr=t=Il(t.current,null),kr=Mi=e,ur=0,Ud=null,Vw=N0=Ku=0,vi=cd=null,Iu!==null){for(e=0;e<Iu.length;e++)if(n=Iu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Iu=null}return t}function s3(t,e){do{var n=rr;try{if(Tw(),Vm.current=Ig,Pg){for(var r=kn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pg=!1}if(Gu=0,mr=or=kn=null,ld=!1,jd=0,jw.current=null,n===null||n.return===null){ur=1,Ud=e,rr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=kr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var g=c.alternate;g?(c.updateQueue=g.updateQueue,c.memoizedState=g.memoizedState,c.lanes=g.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Db(o);if(p!==null){p.flags&=-257,Rb(p,o,a,s,e),p.mode&1&&Nb(s,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var S=new Set;S.add(l),e.updateQueue=S}else _.add(l);break e}else{if(!(e&1)){Nb(s,u,e),qw();break e}l=Error(je(426))}}else if(bn&&a.mode&1){var T=Db(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Rb(T,o,a,s,e),Ew(Ch(l,a));break e}}s=l=Ch(l,a),ur!==4&&(ur=2),cd===null?cd=[s]:cd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=z4(s,l,e);Tb(s,y);break e;case 1:a=l;var b=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Al===null||!Al.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=q4(s,a,e);Tb(s,j);break e}}s=s.return}while(s!==null)}l3(n)}catch(Y){e=Y,rr===n&&n!==null&&(rr=n=n.return);continue}break}while(!0)}function o3(){var t=Cg.current;return Cg.current=Ig,t===null?Ig:t}function qw(){(ur===0||ur===3||ur===2)&&(ur=4),gr===null||!(Ku&268435455)&&!(N0&268435455)||pl(gr,kr)}function Rg(t,e){var n=qt;qt|=2;var r=o3();(gr!==t||kr!==e)&&(Xo=null,Mu(t,e));do try{lR();break}catch(i){s3(t,i)}while(!0);if(Tw(),qt=n,Cg.current=r,rr!==null)throw Error(je(261));return gr=null,kr=0,ur}function lR(){for(;rr!==null;)a3(rr)}function uR(){for(;rr!==null&&!LN();)a3(rr)}function a3(t){var e=c3(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,e===null?l3(t):rr=e,jw.current=null}function l3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nR(n,e),n!==null){n.flags&=32767,rr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ur=6,rr=null;return}}else if(n=tR(n,e,Mi),n!==null){rr=n;return}if(e=e.sibling,e!==null){rr=e;return}rr=e=t}while(e!==null);ur===0&&(ur=5)}function xu(t,e,n){var r=rn,i=ls.transition;try{ls.transition=null,rn=1,cR(t,e,n,r)}finally{ls.transition=i,rn=r}return null}function cR(t,e,n,r){do mh();while(vl!==null);if(qt&6)throw Error(je(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(HN(t,s),t===gr&&(rr=gr=null,kr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pm||(pm=!0,h3(pg,function(){return mh(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ls.transition,ls.transition=null;var o=rn;rn=1;var a=qt;qt|=4,jw.current=null,iR(t,n),n3(n,t),CD(E1),gg=!!S1,E1=S1=null,t.current=n,sR(n),ON(),qt=a,rn=o,ls.transition=s}else t.current=n;if(pm&&(pm=!1,vl=t,Dg=i),s=t.pendingLanes,s===0&&(Al=null),jN(n.stateNode),bi(t,zn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ng)throw Ng=!1,t=q1,q1=null,t;return Dg&1&&t.tag!==0&&mh(),s=t.pendingLanes,s&1?t===H1?hd++:(hd=0,H1=t):hd=0,eu(),null}function mh(){if(vl!==null){var t=zT(Dg),e=ls.transition,n=rn;try{if(ls.transition=null,rn=16>t?16:t,vl===null)var r=!1;else{if(t=vl,vl=null,Dg=0,qt&6)throw Error(je(331));var i=qt;for(qt|=4,Ze=t.current;Ze!==null;){var s=Ze,o=s.child;if(Ze.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ze=u;Ze!==null;){var c=Ze;switch(c.tag){case 0:case 11:case 15:ud(8,c,s)}var d=c.child;if(d!==null)d.return=c,Ze=d;else for(;Ze!==null;){c=Ze;var g=c.sibling,p=c.return;if(Z4(c),c===u){Ze=null;break}if(g!==null){g.return=p,Ze=g;break}Ze=p}}}var _=s.alternate;if(_!==null){var S=_.child;if(S!==null){_.child=null;do{var T=S.sibling;S.sibling=null,S=T}while(S!==null)}}Ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ze=o;else e:for(;Ze!==null;){if(s=Ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ud(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Ze=y;break e}Ze=s.return}}var b=t.current;for(Ze=b;Ze!==null;){o=Ze;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,Ze=A;else e:for(o=b;Ze!==null;){if(a=Ze,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:C0(9,a)}}catch(Y){Ln(a,a.return,Y)}if(a===o){Ze=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,Ze=j;break e}Ze=a.return}}if(qt=i,eu(),bo&&typeof bo.onPostCommitFiberRoot=="function")try{bo.onPostCommitFiberRoot(S0,t)}catch{}r=!0}return r}finally{rn=n,ls.transition=e}}return!1}function $b(t,e,n){e=Ch(n,e),e=z4(t,e,1),t=kl(t,e,1),e=si(),t!==null&&(op(t,1,e),bi(t,e))}function Ln(t,e,n){if(t.tag===3)$b(t,t,n);else for(;e!==null;){if(e.tag===3){$b(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Al===null||!Al.has(r))){t=Ch(n,t),t=q4(e,t,1),e=kl(e,t,1),t=si(),e!==null&&(op(e,1,t),bi(e,t));break}}e=e.return}}function hR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=si(),t.pingedLanes|=t.suspendedLanes&n,gr===t&&(kr&n)===n&&(ur===4||ur===3&&(kr&130023424)===kr&&500>zn()-Bw?Mu(t,0):Vw|=n),bi(t,e)}function u3(t,e){e===0&&(t.mode&1?(e=im,im<<=1,!(im&130023424)&&(im=4194304)):e=1);var n=si();t=ya(t,e),t!==null&&(op(t,e,n),bi(t,n))}function fR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),u3(t,n)}function dR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(je(314))}r!==null&&r.delete(e),u3(t,n)}var c3;c3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||wi.current)yi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return yi=!1,eR(t,e,n);yi=!!(t.flags&131072)}else yi=!1,bn&&e.flags&1048576&&p4(e,Eg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Um(t,e),t=e.pendingProps;var i=kh(e,Wr.current);ph(e,n),i=Rw(null,e,r,t,i,n);var s=Lw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_i(r)?(s=!0,bg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pw(e),i.updater=I0,e.stateNode=i,i._reactInternals=e,D1(e,r,t,n),e=O1(null,e,r,!0,s,n)):(e.tag=0,bn&&s&&bw(e),ei(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Um(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=mR(r),t=Ps(r,t),i){case 0:e=L1(null,e,r,t,n);break e;case 1:e=Mb(null,e,r,t,n);break e;case 11:e=Lb(null,e,r,t,n);break e;case 14:e=Ob(null,e,r,Ps(r.type,t),n);break e}throw Error(je(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ps(r,i),L1(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ps(r,i),Mb(t,e,r,i,n);case 3:e:{if(Y4(e),t===null)throw Error(je(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_4(t,e),kg(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ch(Error(je(423)),e),e=Fb(t,e,r,n,i);break e}else if(r!==i){i=Ch(Error(je(424)),e),e=Fb(t,e,r,n,i);break e}else for(ji=Tl(e.stateNode.containerInfo.firstChild),Bi=e,bn=!0,Ns=null,n=y4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ah(),r===i){e=wa(t,e,n);break e}ei(t,e,r,n)}e=e.child}return e;case 5:return b4(e),t===null&&I1(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,x1(r,i)?o=null:s!==null&&x1(r,s)&&(e.flags|=32),$4(t,e),ei(t,e,o,n),e.child;case 6:return t===null&&I1(e),null;case 13:return G4(t,e,n);case 4:return Iw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ph(e,null,r,n):ei(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ps(r,i),Lb(t,e,r,i,n);case 7:return ei(t,e,e.pendingProps,n),e.child;case 8:return ei(t,e,e.pendingProps.children,n),e.child;case 12:return ei(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,pn(xg,r._currentValue),r._currentValue=o,s!==null)if(js(s.value,o)){if(s.children===i.children&&!wi.current){e=wa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=la(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),C1(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(je(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),C1(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ei(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ph(e,n),i=cs(i),r=r(i),e.flags|=1,ei(t,e,r,n),e.child;case 14:return r=e.type,i=Ps(r,e.pendingProps),i=Ps(r.type,i),Ob(t,e,r,i,n);case 15:return H4(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ps(r,i),Um(t,e),e.tag=1,_i(r)?(t=!0,bg(e)):t=!1,ph(e,n),U4(e,r,i),D1(e,r,i,n),O1(null,e,r,!0,t,n);case 19:return K4(t,e,n);case 22:return W4(t,e,n)}throw Error(je(156,e.tag))};function h3(t,e){return jT(t,e)}function pR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(t,e,n,r){return new pR(t,e,n,r)}function Hw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mR(t){if(typeof t=="function")return Hw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uw)return 11;if(t===cw)return 14}return 2}function Il(t,e){var n=t.alternate;return n===null?(n=as(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Hm(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Hw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zc:return Fu(n.children,i,s,e);case lw:o=8,i|=8;break;case n1:return t=as(12,n,e,i|2),t.elementType=n1,t.lanes=s,t;case r1:return t=as(13,n,e,i),t.elementType=r1,t.lanes=s,t;case i1:return t=as(19,n,e,i),t.elementType=i1,t.lanes=s,t;case bT:return D0(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wT:o=10;break e;case _T:o=9;break e;case uw:o=11;break e;case cw:o=14;break e;case hl:o=16,r=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=as(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Fu(t,e,n,r){return t=as(7,t,r,e),t.lanes=n,t}function D0(t,e,n,r){return t=as(22,t,r,e),t.elementType=bT,t.lanes=n,t.stateNode={isHidden:!1},t}function fy(t,e,n){return t=as(6,t,null,e),t.lanes=n,t}function dy(t,e,n){return e=as(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gR(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yv(0),this.expirationTimes=Yv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ww(t,e,n,r,i,s,o,a,l){return t=new gR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=as(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pw(s),t}function vR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xc,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function f3(t){if(!t)return Bl;t=t._reactInternals;e:{if(lc(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_i(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var n=t.type;if(_i(n))return f4(t,n,e)}return e}function d3(t,e,n,r,i,s,o,a,l){return t=Ww(n,r,!0,t,i,s,o,a,l),t.context=f3(null),n=t.current,r=si(),i=Pl(n),s=la(r,i),s.callback=e??null,kl(n,s,i),t.current.lanes=i,op(t,i,r),bi(t,r),t}function R0(t,e,n,r){var i=e.current,s=si(),o=Pl(i);return n=f3(n),e.context===null?e.context=n:e.pendingContext=n,e=la(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=kl(i,e,o),t!==null&&(Os(t,i,o,s),jm(t,i,o)),o}function Lg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Yb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $w(t,e){Yb(t,e),(t=t.alternate)&&Yb(t,e)}function yR(){return null}var p3=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yw(t){this._internalRoot=t}L0.prototype.render=Yw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));R0(t,e,null,null)};L0.prototype.unmount=Yw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qu(function(){R0(null,t,null,null)}),e[va]=null}};function L0(t){this._internalRoot=t}L0.prototype.unstable_scheduleHydration=function(t){if(t){var e=WT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<dl.length&&e!==0&&e<dl[n].priority;n++);dl.splice(n,0,t),n===0&&YT(t)}};function Gw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function O0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Gb(){}function wR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Lg(o);s.call(u)}}var o=d3(e,r,t,0,null,!1,!1,"",Gb);return t._reactRootContainer=o,t[va]=o.current,Rd(t.nodeType===8?t.parentNode:t),Qu(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Lg(l);a.call(u)}}var l=Ww(t,0,!1,null,null,!1,!1,"",Gb);return t._reactRootContainer=l,t[va]=l.current,Rd(t.nodeType===8?t.parentNode:t),Qu(function(){R0(e,l,n,r)}),l}function M0(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Lg(o);a.call(l)}}R0(e,o,t,i)}else o=wR(n,e,t,i,r);return Lg(o)}qT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Kf(e.pendingLanes);n!==0&&(dw(e,n|1),bi(e,zn()),!(qt&6)&&(Nh=zn()+500,eu()))}break;case 13:Qu(function(){var r=ya(t,1);if(r!==null){var i=si();Os(r,t,1,i)}}),$w(t,1)}};pw=function(t){if(t.tag===13){var e=ya(t,134217728);if(e!==null){var n=si();Os(e,t,134217728,n)}$w(t,134217728)}};HT=function(t){if(t.tag===13){var e=Pl(t),n=ya(t,e);if(n!==null){var r=si();Os(n,t,e,r)}$w(t,e)}};WT=function(){return rn};$T=function(t,e){var n=rn;try{return rn=t,e()}finally{rn=n}};p1=function(t,e,n){switch(e){case"input":if(a1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=k0(r);if(!i)throw Error(je(90));ET(r),a1(r,i)}}}break;case"textarea":TT(t,n);break;case"select":e=n.value,e!=null&&ch(t,!!n.multiple,e,!1)}};DT=Uw;RT=Qu;var _R={usingClientEntryPoint:!1,Events:[lp,rh,k0,CT,NT,Uw]},Ff={findFiberByHostInstance:Pu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bR={bundleType:Ff.bundleType,version:Ff.version,rendererPackageName:Ff.rendererPackageName,rendererConfig:Ff.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Aa.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MT(t),t===null?null:t.stateNode},findFiberByHostInstance:Ff.findFiberByHostInstance||yR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mm.isDisabled&&mm.supportsFiber)try{S0=mm.inject(bR),bo=mm}catch{}}qi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_R;qi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gw(e))throw Error(je(200));return vR(t,e,null,n)};qi.createRoot=function(t,e){if(!Gw(t))throw Error(je(299));var n=!1,r="",i=p3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ww(t,1,!1,null,null,n,!1,r,i),t[va]=e.current,Rd(t.nodeType===8?t.parentNode:t),new Yw(e)};qi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=MT(e),t=t===null?null:t.stateNode,t};qi.flushSync=function(t){return Qu(t)};qi.hydrate=function(t,e,n){if(!O0(e))throw Error(je(200));return M0(null,t,e,!0,n)};qi.hydrateRoot=function(t,e,n){if(!Gw(t))throw Error(je(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=p3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=d3(e,null,t,1,n??null,i,!1,s,o),t[va]=e.current,Rd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new L0(e)};qi.render=function(t,e,n){if(!O0(e))throw Error(je(200));return M0(null,t,e,!1,n)};qi.unmountComponentAtNode=function(t){if(!O0(t))throw Error(je(40));return t._reactRootContainer?(Qu(function(){M0(null,null,t,!1,function(){t._reactRootContainer=null,t[va]=null})}),!0):!1};qi.unstable_batchedUpdates=Uw;qi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!O0(n))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return M0(t,e,n,!1,r)};qi.version="18.3.1-next-f1338f8080-20240426";function m3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m3)}catch(t){console.error(t)}}m3(),mT.exports=qi;var Kw=mT.exports;const SR=_0(Kw);var Kb=Kw;e1.createRoot=Kb.createRoot,e1.hydrateRoot=Kb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zd(){return zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zd.apply(this,arguments)}var yl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(yl||(yl={}));const Qb="popstate";function ER(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Y1("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Og(i)}return TR(e,n,null,t)}function Gn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function g3(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xR(){return Math.random().toString(36).substr(2,8)}function Jb(t,e){return{usr:t.state,key:t.key,idx:e}}function Y1(t,e,n,r){return n===void 0&&(n=null),zd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zh(e):e,{state:n,key:e&&e.key||r||xR()})}function Og(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function TR(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=yl.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(zd({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=yl.Pop;let T=c(),y=T==null?null:T-u;u=T,l&&l({action:a,location:S.location,delta:y})}function g(T,y){a=yl.Push;let b=Y1(S.location,T,y);u=c()+1;let A=Jb(b,u),j=S.createHref(b);try{o.pushState(A,"",j)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;i.location.assign(j)}s&&l&&l({action:a,location:S.location,delta:1})}function p(T,y){a=yl.Replace;let b=Y1(S.location,T,y);u=c();let A=Jb(b,u),j=S.createHref(b);o.replaceState(A,"",j),s&&l&&l({action:a,location:S.location,delta:0})}function _(T){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof T=="string"?T:Og(T);return b=b.replace(/ $/,"%20"),Gn(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let S={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Qb,d),l=T,()=>{i.removeEventListener(Qb,d),l=null}},createHref(T){return e(i,T)},createURL:_,encodeLocation(T){let y=_(T);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:g,replace:p,go(T){return o.go(T)}};return S}var Xb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xb||(Xb={}));function kR(t,e,n){return n===void 0&&(n="/"),AR(t,e,n)}function AR(t,e,n,r){let i=typeof e=="string"?Zh(e):e,s=Qw(i.pathname||"/",n);if(s==null)return null;let o=v3(t);PR(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=BR(s);a=FR(o[l],u)}return a}function v3(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Gn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Cl([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Gn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),v3(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:OR(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of y3(s.path))i(s,o,l)}),e}function y3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=y3(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function PR(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MR(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const IR=/^:[\w-]+$/,CR=3,NR=2,DR=1,RR=10,LR=-2,Zb=t=>t==="*";function OR(t,e){let n=t.split("/"),r=n.length;return n.some(Zb)&&(r+=LR),e&&(r+=NR),n.filter(i=>!Zb(i)).reduce((i,s)=>i+(IR.test(s)?CR:s===""?DR:RR),r)}function MR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function FR(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=jR({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),g=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Cl([s,d.pathname]),pathnameBase:HR(Cl([s,d.pathnameBase])),route:g}),d.pathnameBase!=="/"&&(s=Cl([s,d.pathnameBase]))}return o}function jR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VR(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:g,isOptional:p}=c;if(g==="*"){let S=a[d]||"";o=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const _=a[d];return p&&!_?u[g]=void 0:u[g]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function VR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),g3(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function BR(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return g3(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Qw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function UR(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Zh(t):t;return{pathname:n?n.startsWith("/")?n:zR(n,e):e,search:WR(r),hash:$R(i)}}function zR(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function py(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jw(t,e){let n=qR(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Xw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Zh(t):(i=zd({},t),Gn(!i.pathname||!i.pathname.includes("?"),py("?","pathname","search",i)),Gn(!i.pathname||!i.pathname.includes("#"),py("#","pathname","hash",i)),Gn(!i.search||!i.search.includes("#"),py("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),d-=1;i.pathname=g.join("/")}a=d>=0?e[d]:"/"}let l=UR(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Cl=t=>t.join("/").replace(/\/\/+/g,"/"),HR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$R=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function YR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const w3=["post","put","patch","delete"];new Set(w3);const GR=["get",...w3];new Set(GR);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qd(){return qd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(this,arguments)}const Zw=se.createContext(null),KR=se.createContext(null),tu=se.createContext(null),F0=se.createContext(null),nu=se.createContext({outlet:null,matches:[],isDataRoute:!1}),_3=se.createContext(null);function QR(t,e){let{relative:n}=e===void 0?{}:e;ef()||Gn(!1);let{basename:r,navigator:i}=se.useContext(tu),{hash:s,pathname:o,search:a}=S3(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Cl([r,o])),i.createHref({pathname:l,search:a,hash:s})}function ef(){return se.useContext(F0)!=null}function uc(){return ef()||Gn(!1),se.useContext(F0).location}function b3(t){se.useContext(tu).static||se.useLayoutEffect(t)}function cc(){let{isDataRoute:t}=se.useContext(nu);return t?uL():JR()}function JR(){ef()||Gn(!1);let t=se.useContext(Zw),{basename:e,future:n,navigator:r}=se.useContext(tu),{matches:i}=se.useContext(nu),{pathname:s}=uc(),o=JSON.stringify(Jw(i,n.v7_relativeSplatPath)),a=se.useRef(!1);return b3(()=>{a.current=!0}),se.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Xw(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Cl([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}function S3(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=se.useContext(tu),{matches:i}=se.useContext(nu),{pathname:s}=uc(),o=JSON.stringify(Jw(i,r.v7_relativeSplatPath));return se.useMemo(()=>Xw(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function XR(t,e){return ZR(t,e)}function ZR(t,e,n,r){ef()||Gn(!1);let{navigator:i,static:s}=se.useContext(tu),{matches:o}=se.useContext(nu),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=uc(),d;if(e){var g;let y=typeof e=="string"?Zh(e):e;u==="/"||(g=y.pathname)!=null&&g.startsWith(u)||Gn(!1),d=y}else d=c;let p=d.pathname||"/",_=p;if(u!=="/"){let y=u.replace(/^\//,"").split("/");_="/"+p.replace(/^\//,"").split("/").slice(y.length).join("/")}let S=kR(t,{pathname:_}),T=iL(S&&S.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Cl([u,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Cl([u,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&T?se.createElement(F0.Provider,{value:{location:qd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:yl.Pop}},T):T}function eL(){let t=lL(),e=YR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),n?se.createElement("pre",{style:i},n):null,null)}const tL=se.createElement(eL,null);class nL extends se.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?se.createElement(nu.Provider,{value:this.props.routeContext},se.createElement(_3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rL(t){let{routeContext:e,match:n,children:r}=t,i=se.useContext(Zw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),se.createElement(nu.Provider,{value:e},r)}function iL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||Gn(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:g,errors:p}=n,_=d.route.loader&&g[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||_){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,g)=>{let p,_=!1,S=null,T=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,S=d.route.errorElement||tL,l&&(u<0&&g===0?(cL("route-fallback"),_=!0,T=null):u===g&&(_=!0,T=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,g+1)),b=()=>{let A;return p?A=S:_?A=T:d.route.Component?A=se.createElement(d.route.Component,null):d.route.element?A=d.route.element:A=c,se.createElement(rL,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:n!=null},children:A})};return n&&(d.route.ErrorBoundary||d.route.errorElement||g===0)?se.createElement(nL,{location:n.location,revalidation:n.revalidation,component:S,error:p,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var E3=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(E3||{}),x3=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(x3||{});function sL(t){let e=se.useContext(Zw);return e||Gn(!1),e}function oL(t){let e=se.useContext(KR);return e||Gn(!1),e}function aL(t){let e=se.useContext(nu);return e||Gn(!1),e}function T3(t){let e=aL(),n=e.matches[e.matches.length-1];return n.route.id||Gn(!1),n.route.id}function lL(){var t;let e=se.useContext(_3),n=oL(),r=T3();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function uL(){let{router:t}=sL(E3.UseNavigateStable),e=T3(x3.UseNavigateStable),n=se.useRef(!1);return b3(()=>{n.current=!0}),se.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,qd({fromRouteId:e},s)))},[t,e])}const eS={};function cL(t,e,n){eS[t]||(eS[t]=!0)}function hL(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Wm(t){let{to:e,replace:n,state:r,relative:i}=t;ef()||Gn(!1);let{future:s,static:o}=se.useContext(tu),{matches:a}=se.useContext(nu),{pathname:l}=uc(),u=cc(),c=Xw(e,Jw(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return se.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function Zr(t){Gn(!1)}function fL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=yl.Pop,navigator:s,static:o=!1,future:a}=t;ef()&&Gn(!1);let l=e.replace(/^\/*/,"/"),u=se.useMemo(()=>({basename:l,navigator:s,static:o,future:qd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Zh(r));let{pathname:c="/",search:d="",hash:g="",state:p=null,key:_="default"}=r,S=se.useMemo(()=>{let T=Qw(c,l);return T==null?null:{location:{pathname:T,search:d,hash:g,state:p,key:_},navigationType:i}},[l,c,d,g,p,_,i]);return S==null?null:se.createElement(tu.Provider,{value:u},se.createElement(F0.Provider,{children:n,value:S}))}function dL(t){let{children:e,location:n}=t;return XR(G1(e),n)}new Promise(()=>{});function G1(t,e){e===void 0&&(e=[]);let n=[];return se.Children.forEach(t,(r,i)=>{if(!se.isValidElement(r))return;let s=[...e,i];if(r.type===se.Fragment){n.push.apply(n,G1(r.props.children,s));return}r.type!==Zr&&Gn(!1),!r.props.index||!r.props.children||Gn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=G1(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function K1(){return K1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K1.apply(this,arguments)}function pL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function mL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function gL(t,e){return t.button===0&&(!e||e==="_self")&&!mL(t)}const vL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yL="6";try{window.__reactRouterVersion=yL}catch{}const wL="startTransition",tS=iw[wL];function _L(t){let{basename:e,children:n,future:r,window:i}=t,s=se.useRef();s.current==null&&(s.current=ER({window:i,v5Compat:!0}));let o=s.current,[a,l]=se.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=se.useCallback(d=>{u&&tS?tS(()=>l(d)):l(d)},[l,u]);return se.useLayoutEffect(()=>o.listen(c),[o,c]),se.useEffect(()=>hL(r),[r]),se.createElement(fL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const bL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",SL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cl=se.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,g=pL(e,vL),{basename:p}=se.useContext(tu),_,S=!1;if(typeof u=="string"&&SL.test(u)&&(_=u,bL))try{let A=new URL(window.location.href),j=u.startsWith("//")?new URL(A.protocol+u):new URL(u),Y=Qw(j.pathname,p);j.origin===A.origin&&Y!=null?u=Y+j.search+j.hash:S=!0}catch{}let T=QR(u,{relative:i}),y=EL(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function b(A){r&&r(A),A.defaultPrevented||y(A)}return se.createElement("a",K1({},g,{href:_||T,onClick:S||s?r:b,ref:n,target:l}))});var nS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nS||(nS={}));var rS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(rS||(rS={}));function EL(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=cc(),u=uc(),c=S3(t,{relative:o});return se.useCallback(d=>{if(gL(d,n)){d.preventDefault();let g=r!==void 0?r:Og(u)===Og(c);l(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}const xL=()=>{};var iS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},A3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let g=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(g=64)),r.push(n[c],n[d],n[g],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(k3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new kL;const g=s<<2|a>>4;if(r.push(g),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AL=function(t){const e=k3(t);return A3.encodeByteArray(e,!0)},Mg=function(t){return AL(t).replace(/\./g,"")},P3=function(t){try{return A3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=()=>PL().__FIREBASE_DEFAULTS__,CL=()=>{if(typeof process>"u"||typeof iS>"u")return;const t=iS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&P3(t[1]);return e&&JSON.parse(e)},j0=()=>{try{return xL()||IL()||CL()||NL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},I3=t=>{var e,n;return(n=(e=j0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},DL=t=>{const e=I3(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},C3=()=>{var t;return(t=j0())===null||t===void 0?void 0:t.config},N3=t=>{var e;return(e=j0())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mg(JSON.stringify(n)),Mg(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($r())}function ML(){var t;const e=(t=j0())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BL(){const t=$r();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function UL(){return!ML()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zL(){try{return typeof indexedDB=="object"}catch{return!1}}function qL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL="FirebaseError";class Pa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=HL,Object.setPrototypeOf(this,Pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cp.prototype.create)}}class cp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?WL(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Pa(i,a,r)}}function WL(t,e){return t.replace($L,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $L=/\{\$([^}]+)}/g;function YL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ju(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(sS(s)&&sS(o)){if(!Ju(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function GL(t,e){const n=new KL(t,e);return n.subscribe.bind(n)}class KL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");QL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=my),i.error===void 0&&(i.error=my),i.complete===void 0&&(i.complete=my);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function my(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t){return t.endsWith(".cloudworkstations.dev")}async function D3(t){return(await fetch(t,{credentials:"include"})).ok}class Xu{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JL=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new RL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZL(e))try{this.getOrInitializeService({instanceIdentifier:Tu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Tu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Tu){return this.instances.has(e)}getOptions(e=Tu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Tu){return this.component?this.component.multipleInstances?e:Tu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function XL(t){return t===Tu?void 0:t}function ZL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new JL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Rt||(Rt={}));const t6={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},n6=Rt.INFO,r6={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},i6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=r6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e5{constructor(e){this.name=e,this._logLevel=n6,this._logHandler=i6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const s6=(t,e)=>e.some(n=>t instanceof n);let oS,aS;function o6(){return oS||(oS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a6(){return aS||(aS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R3=new WeakMap,Q1=new WeakMap,L3=new WeakMap,gy=new WeakMap,t5=new WeakMap;function l6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Nl(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&R3.set(n,t)}).catch(()=>{}),t5.set(e,t),e}function u6(t){if(Q1.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Q1.set(t,e)}let J1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Q1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||L3.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function c6(t){J1=t(J1)}function h6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vy(this),e,...n);return L3.set(r,e.sort?e.sort():[e]),Nl(r)}:a6().includes(t)?function(...e){return t.apply(vy(this),e),Nl(R3.get(this))}:function(...e){return Nl(t.apply(vy(this),e))}}function f6(t){return typeof t=="function"?h6(t):(t instanceof IDBTransaction&&u6(t),s6(t,o6())?new Proxy(t,J1):t)}function Nl(t){if(t instanceof IDBRequest)return l6(t);if(gy.has(t))return gy.get(t);const e=f6(t);return e!==t&&(gy.set(t,e),t5.set(e,t)),e}const vy=t=>t5.get(t);function d6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Nl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Nl(o.result),l.oldVersion,l.newVersion,Nl(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const p6=["get","getKey","getAll","getAllKeys","count"],m6=["put","add","delete","clear"],yy=new Map;function lS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yy.get(e))return yy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=m6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||p6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return yy.set(e,s),s}c6(t=>({...t,get:(e,n,r)=>lS(e,n)||t.get(e,n,r),has:(e,n)=>!!lS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(v6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function v6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const X1="@firebase/app",uS="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new e5("@firebase/app"),y6="@firebase/app-compat",w6="@firebase/analytics-compat",_6="@firebase/analytics",b6="@firebase/app-check-compat",S6="@firebase/app-check",E6="@firebase/auth",x6="@firebase/auth-compat",T6="@firebase/database",k6="@firebase/data-connect",A6="@firebase/database-compat",P6="@firebase/functions",I6="@firebase/functions-compat",C6="@firebase/installations",N6="@firebase/installations-compat",D6="@firebase/messaging",R6="@firebase/messaging-compat",L6="@firebase/performance",O6="@firebase/performance-compat",M6="@firebase/remote-config",F6="@firebase/remote-config-compat",j6="@firebase/storage",V6="@firebase/storage-compat",B6="@firebase/firestore",U6="@firebase/vertexai",z6="@firebase/firestore-compat",q6="firebase",H6="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="[DEFAULT]",W6={[X1]:"fire-core",[y6]:"fire-core-compat",[_6]:"fire-analytics",[w6]:"fire-analytics-compat",[S6]:"fire-app-check",[b6]:"fire-app-check-compat",[E6]:"fire-auth",[x6]:"fire-auth-compat",[T6]:"fire-rtdb",[k6]:"fire-data-connect",[A6]:"fire-rtdb-compat",[P6]:"fire-fn",[I6]:"fire-fn-compat",[C6]:"fire-iid",[N6]:"fire-iid-compat",[D6]:"fire-fcm",[R6]:"fire-fcm-compat",[L6]:"fire-perf",[O6]:"fire-perf-compat",[M6]:"fire-rc",[F6]:"fire-rc-compat",[j6]:"fire-gcs",[V6]:"fire-gcs-compat",[B6]:"fire-fst",[z6]:"fire-fst-compat",[U6]:"fire-vertex","fire-js":"fire-js",[q6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg=new Map,$6=new Map,e2=new Map;function cS(t,e){try{t.container.addComponent(e)}catch(n){_a.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dh(t){const e=t.name;if(e2.has(e))return _a.debug(`There were multiple attempts to register component ${e}.`),!1;e2.set(e,t);for(const n of Fg.values())cS(n,t);for(const n of $6.values())cS(n,t);return!0}function n5(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dl=new cp("app","Firebase",Y6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf=H6;function O3(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Z1,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dl.create("bad-app-name",{appName:String(i)});if(n||(n=C3()),!n)throw Dl.create("no-options");const s=Fg.get(i);if(s){if(Ju(n,s.options)&&Ju(r,s.config))return s;throw Dl.create("duplicate-app",{appName:i})}const o=new e6(i);for(const l of e2.values())o.addComponent(l);const a=new G6(n,r,o);return Fg.set(i,a),a}function M3(t=Z1){const e=Fg.get(t);if(!e&&t===Z1&&C3())return O3();if(!e)throw Dl.create("no-app",{appName:t});return e}function Rl(t,e,n){var r;let i=(r=W6[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_a.warn(a.join(" "));return}Dh(new Xu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6="firebase-heartbeat-database",Q6=1,Hd="firebase-heartbeat-store";let wy=null;function F3(){return wy||(wy=d6(K6,Q6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dl.create("idb-open",{originalErrorMessage:t.message})})),wy}async function J6(t){try{const n=(await F3()).transaction(Hd),r=await n.objectStore(Hd).get(j3(t));return await n.done,r}catch(e){if(e instanceof Pa)_a.warn(e.message);else{const n=Dl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_a.warn(n.message)}}}async function hS(t,e){try{const r=(await F3()).transaction(Hd,"readwrite");await r.objectStore(Hd).put(e,j3(t)),await r.done}catch(n){if(n instanceof Pa)_a.warn(n.message);else{const r=Dl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_a.warn(r.message)}}}function j3(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=1024,Z6=30;class eO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Z6){const o=rO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_a.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fS(),{heartbeatsToSend:r,unsentEntries:i}=tO(this._heartbeatsCache.heartbeats),s=Mg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return _a.warn(n),""}}}function fS(){return new Date().toISOString().substring(0,10)}function tO(t,e=X6){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zL()?qL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await J6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return hS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dS(t){return Mg(JSON.stringify({version:2,heartbeats:t})).length}function rO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){Dh(new Xu("platform-logger",e=>new g6(e),"PRIVATE")),Dh(new Xu("heartbeat",e=>new eO(e),"PRIVATE")),Rl(X1,uS,t),Rl(X1,uS,"esm2017"),Rl("fire-js","")}iO("");function r5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function V3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const B3=V3,U3=new cp("auth","Firebase",V3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=new e5("@firebase/auth");function sO(t,...e){jg.logLevel<=Rt.WARN&&jg.warn(`Auth (${nf}): ${t}`,...e)}function $m(t,...e){jg.logLevel<=Rt.ERROR&&jg.error(`Auth (${nf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t,...e){throw s5(t,...e)}function Si(t,...e){return s5(t,...e)}function i5(t,e,n){const r=Object.assign(Object.assign({},B3()),{[e]:n});return new cp("auth","Firebase",r).create(e,{appName:t.name})}function ua(t){return i5(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function oO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ao(t,"argument-error"),i5(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function s5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return U3.create(t,...e)}function et(t,e,...n){if(!t)throw s5(e,...n)}function sa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $m(e),new Error(e)}function ba(t,e){t||sa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function z3(){return pS()==="http:"||pS()==="https:"}function pS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z3()||jL()||"connection"in navigator)?navigator.onLine:!0}function lO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.shortDelay=e,this.longDelay=n,ba(n>e,"Short delay should be less than long delay!"),this.isMobile=OL()||VL()}get(){return aO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t,e){ba(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hO=new hp(3e4,6e4);function zs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ds(t,e,n,r,i={}){return H3(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=tf(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return FL()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&V0(t.emulatorConfig.host)&&(u.credentials="include"),q3.fetch()(await W3(t,t.config.apiHost,n,a),u)})}async function H3(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},uO),e);try{const i=new dO(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Jf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Jf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Jf(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw i5(t,c,u);Ao(t,c)}}catch(i){if(i instanceof Pa)throw i;Ao(t,"network-request-failed",{message:String(i)})}}async function fp(t,e,n,r,i={}){const s=await ds(t,e,n,r,i);return"mfaPendingCredential"in s&&Ao(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function W3(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?o5(t.config,i):`${t.config.apiScheme}://${i}`;return cO.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function fO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Si(this.auth,"network-request-failed")),hO.get())})}}function Jf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Si(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t){return t!==void 0&&t.getResponse!==void 0}function gS(t){return t!==void 0&&t.enterprise!==void 0}class $3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t){return(await ds(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function Y3(t,e){return ds(t,"GET","/v2/recaptchaConfig",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(t,e){return ds(t,"POST","/v1/accounts:delete",e)}async function Vg(t,e){return ds(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G3(t,e=!1){const n=Ti(t),r=await n.getIdToken(e),i=a5(r);et(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:fd(_y(i.auth_time)),issuedAtTime:fd(_y(i.iat)),expirationTime:fd(_y(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function _y(t){return Number(t)*1e3}function a5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $m("JWT malformed, contained fewer than 3 sections"),null;try{const i=P3(n);return i?JSON.parse(i):($m("Failed to decode base64 JWT payload"),null)}catch(i){return $m("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function vS(t){const e=a5(t);return et(e,"internal-error"),et(typeof e.exp<"u","internal-error"),et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pa&&gO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fd(this.lastLoginAt),this.creationTime=fd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Rh(t,Vg(n,{idToken:r}));et(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Q3(s.providerUserInfo):[],a=yO(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new n2(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function K3(t){const e=Ti(t);await Bg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Q3(t){return t.map(e=>{var{providerId:n}=e,r=r5(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(t,e){const n=await H3(t,{},async()=>{const r=tf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await W3(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",q3.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _O(t,e){return ds(t,"POST","/v2/accounts:revokeToken",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){et(e.idToken,"internal-error"),et(typeof e.idToken<"u","internal-error"),et(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){et(e.length!==0,"internal-error");const n=vS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await wO(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new gh;return r&&(et(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(et(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(et(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new gh,this.toJSON())}_performRefresh(){return sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t,e){et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ds{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=r5(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new n2(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Rh(this,this.stsTokenManager.getToken(this.auth,e));return et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return G3(this,e)}reload(){return K3(this)}_assign(e){this!==e&&(et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ds(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Bg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fi(this.auth.app))return Promise.reject(ua(this.auth));const e=await this.getIdToken();return await Rh(this,mO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:A,emailVerified:j,isAnonymous:Y,providerData:J,stsTokenManager:N}=n;et(A&&N,e,"internal-error");const k=gh.fromJSON(this.name,N);et(typeof A=="string",e,"internal-error"),ol(d,e.name),ol(g,e.name),et(typeof j=="boolean",e,"internal-error"),et(typeof Y=="boolean",e,"internal-error"),ol(p,e.name),ol(_,e.name),ol(S,e.name),ol(T,e.name),ol(y,e.name),ol(b,e.name);const D=new Ds({uid:A,auth:e,email:g,emailVerified:j,displayName:d,isAnonymous:Y,photoURL:_,phoneNumber:p,tenantId:S,stsTokenManager:k,createdAt:y,lastLoginAt:b});return J&&Array.isArray(J)&&(D.providerData=J.map(L=>Object.assign({},L))),T&&(D._redirectEventId=T),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new gh;i.updateFromServerResponse(n);const s=new Ds({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Bg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];et(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Q3(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new gh;a.updateFromIdToken(r);const l=new Ds({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new n2(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=new Map;function oa(t){ba(t instanceof Function,"Expected a class definition");let e=yS.get(t);return e?(ba(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}J3.type="NONE";const r2=J3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t,e,n){return`firebase:${t}:${e}:${n}`}class vh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ym(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ym("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vg(this.auth,{idToken:e}).catch(()=>{});return n?Ds._fromGetAccountInfoResponse(this.auth,n,e):null}return Ds._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new vh(oa(r2),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||oa(r2);const o=Ym(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){let d;if(typeof c=="string"){const g=await Vg(e,{idToken:c}).catch(()=>{});if(!g)break;d=await Ds._fromGetAccountInfoResponse(e,g,c)}else d=Ds._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new vh(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new vh(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(X3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rk(e))return"Blackberry";if(ik(e))return"Webos";if(Z3(e))return"Safari";if((e.includes("chrome/")||ek(e))&&!e.includes("edge/"))return"Chrome";if(nk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function X3(t=$r()){return/firefox\//i.test(t)}function Z3(t=$r()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ek(t=$r()){return/crios\//i.test(t)}function tk(t=$r()){return/iemobile/i.test(t)}function nk(t=$r()){return/android/i.test(t)}function rk(t=$r()){return/blackberry/i.test(t)}function ik(t=$r()){return/webos/i.test(t)}function l5(t=$r()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function bO(t=$r()){var e;return l5(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SO(){return BL()&&document.documentMode===10}function sk(t=$r()){return l5(t)||nk(t)||ik(t)||rk(t)||/windows phone/i.test(t)||tk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t,e=[]){let n;switch(t){case"Browser":n=wS($r());break;case"Worker":n=`${wS($r())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${nf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(t,e={}){return ds(t,"GET","/v2/passwordPolicy",zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=6;class kO{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:TO,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _S(this),this.idTokenSubscription=new _S(this),this.beforeStateQueue=new EO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oa(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await vh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vg(this,{idToken:e}),r=await Ds._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fi(this.app))return Promise.reject(ua(this));const n=e?Ti(e):null;return n&&et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fi(this.app)?Promise.reject(ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fi(this.app)?Promise.reject(ua(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(oa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await xO(this),n=new kO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _O(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oa(e)||this._popupRedirectResolver;et(n,this,"argument-error"),this.redirectPersistenceManager=await vh.create(this,[oa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ok(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&sO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function qs(t){return Ti(t)}class _S{constructor(e){this.auth=e,this.observer=null,this.addObserver=GL(n=>this.observer=n)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PO(t){dp=t}function u5(t){return dp.loadJS(t)}function IO(){return dp.recaptchaV2Script}function CO(){return dp.recaptchaEnterpriseScript}function NO(){return dp.gapiScript}function ak(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=500,RO=6e4,gm=1e12;class LO{constructor(e){this.auth=e,this.counter=gm,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new FO(e,this.auth.name,n||{})),this.counter++,r}reset(e){var n;const r=e||gm;(n=this._widgets.get(r))===null||n===void 0||n.delete(),this._widgets.delete(r)}getResponse(e){var n;const r=e||gm;return((n=this._widgets.get(r))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const r=e||gm;return(n=this._widgets.get(r))===null||n===void 0||n.execute(),""}}class OO{constructor(){this.enterprise=new MO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class MO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FO{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;et(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=jO(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},RO)},DO))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function jO(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const VO="recaptcha-enterprise",dd="NO_RECAPTCHA";class lk{constructor(e){this.type=VO,this.auth=qs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Y3(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new $3(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;gS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(dd)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OO().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&gS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=CO();l.length!==0&&(l+=a),u5(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function jf(t,e,n,r=!1,i=!1){const s=new lk(t);let o;if(i)o=dd;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Gm(t,e,n,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await jf(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await jf(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){const a=await jf(t,e,n);return r(t,a).catch(async l=>{var u;if(((u=t._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const c=await jf(t,e,n,!1,!0);return r(t,c)}return Promise.reject(l)})}else{const a=await jf(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}async function BO(t){const e=qs(t),n=await Y3(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new $3(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new lk(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(t,e){const n=n5(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ju(s,e??{}))return i;Ao(i,"already-initialized")}return n.initialize({options:e})}function UO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oa);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ck(t,e,n){const r=qs(t);et(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=hk(e),{host:o,port:a}=zO(e),l=a===null?"":`:${a}`,u={url:`${s}//${o}${l}/`},c=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),et(Ju(u,r.config.emulator)&&Ju(c,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,qO(),V0(o)&&D3(`${s}//${o}${l}`)}function hk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zO(t){const e=hk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:bS(o)}}}function bS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sa("not implemented")}_getIdTokenResponse(e){return sa("not implemented")}_linkToIdToken(e,n){return sa("not implemented")}_getReauthenticationResolver(e){return sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(t,e){return fp(t,"POST","/v1/accounts:signInWithIdp",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="http://localhost";class Ul extends B0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ao("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=r5(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ul(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return yh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yh(e,n)}buildRequest(){const e={requestUri:HO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SS(t,e){return ds(t,"POST","/v1/accounts:sendVerificationCode",zs(t,e))}async function WO(t,e){return fp(t,"POST","/v1/accounts:signInWithPhoneNumber",zs(t,e))}async function $O(t,e){const n=await fp(t,"POST","/v1/accounts:signInWithPhoneNumber",zs(t,e));if(n.temporaryProof)throw Jf(t,"account-exists-with-different-credential",n);return n}const YO={USER_NOT_FOUND:"user-not-found"};async function GO(t,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return fp(t,"POST","/v1/accounts:signInWithPhoneNumber",zs(t,n),YO)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends B0{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new wh({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new wh({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return WO(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return $O(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return GO(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!n&&!i&&!s?null:new wh({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends c5{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends pp{constructor(){super("facebook.com")}static credential(e){return Ul._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";ea.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends pp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ul._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return go.credential(n,r)}catch{return null}}}go.GOOGLE_SIGN_IN_METHOD="google.com";go.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends pp{constructor(){super("github.com")}static credential(e){return Ul._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.GITHUB_SIGN_IN_METHOD="github.com";ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends pp{constructor(){super("twitter.com")}static credential(e,n){return Ul._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return na.credential(n,r)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KO(t,e){return fp(t,"POST","/v1/accounts:signUp",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ds._fromIdTokenResponse(e,r,i),o=ES(r);return new Zu({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ES(r);return new Zu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ES(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug extends Pa{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ug.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ug(e,n,r,i)}}function fk(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ug._fromErrorAndOperation(t,s,e,r):s})}async function QO(t,e,n=!1){const r=await Rh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Zu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(t,e,n=!1){const{auth:r}=t;if(Fi(r.app))return Promise.reject(ua(r));const i="reauthenticate";try{const s=await Rh(t,fk(r,i,e,t),n);et(s.idToken,r,"internal-error");const o=a5(s.idToken);et(o,r,"internal-error");const{sub:a}=o;return et(t.uid===a,r,"user-mismatch"),Zu._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ao(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(t,e,n=!1){if(Fi(t.app))return Promise.reject(ua(t));const r="signIn",i=await fk(t,r,e),s=await Zu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function pk(t,e){return dk(qs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(t){const e=qs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mk(t,e,n){if(Fi(t.app))return Promise.reject(ua(t));const r=qs(t),o=await Gm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KO,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&XO(t),l}),a=await Zu._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e){return ds(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ti(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Rh(r,ZO(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function vk(t,e,n,r){return Ti(t).onIdTokenChanged(e,n,r)}function yk(t,e,n){return Ti(t).beforeAuthStateChanged(e,n)}function h5(t,e,n,r){return Ti(t).onAuthStateChanged(e,n,r)}function wk(t){return Ti(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t,e){return ds(t,"POST","/v2/accounts/mfaEnrollment:start",zs(t,e))}const zg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zg,"1"),this.storage.removeItem(zg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM=1e3,tM=10;class bk extends _k{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);SO()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tM):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bk.type="LOCAL";const Sk=bk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek extends _k{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ek.type="SESSION";const f5=Ek;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new U0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await nM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}U0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=d5("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const g=d;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return window}function iM(t){nr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(){return typeof nr().WorkerGlobalScope<"u"&&typeof nr().importScripts=="function"}async function sM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aM(){return p5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="firebaseLocalStorageDb",lM=1,qg="firebaseLocalStorage",Tk="fbase_key";class mp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function z0(t,e){return t.transaction([qg],e?"readwrite":"readonly").objectStore(qg)}function uM(){const t=indexedDB.deleteDatabase(xk);return new mp(t).toPromise()}function i2(){const t=indexedDB.open(xk,lM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qg,{keyPath:Tk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qg)?e(r):(r.close(),await uM(),e(await i2()))})})}async function TS(t,e,n){const r=z0(t,!0).put({[Tk]:e,value:n});return new mp(r).toPromise()}async function cM(t,e){const n=z0(t,!1).get(e),r=await new mp(n).toPromise();return r===void 0?null:r.value}function kS(t,e){const n=z0(t,!0).delete(e);return new mp(n).toPromise()}const hM=800,fM=3;class kk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await i2(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=U0._getInstance(aM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sM(),!this.activeServiceWorker)return;this.sender=new rM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await i2();return await TS(e,zg,"1"),await kS(e,zg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=z0(i,!1).getAll();return new mp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kk.type="LOCAL";const Ak=kk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t,e){return ds(t,"POST","/v2/accounts/mfaSignIn:start",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by=ak("rcb"),dM=new hp(3e4,6e4);class pM{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=nr().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return et(mM(n),e,"argument-error"),this.shouldResolveImmediately(n)&&mS(nr().grecaptcha)?Promise.resolve(nr().grecaptcha):new Promise((r,i)=>{const s=nr().setTimeout(()=>{i(Si(e,"network-request-failed"))},dM.get());nr()[by]=()=>{nr().clearTimeout(s),delete nr()[by];const a=nr().grecaptcha;if(!a||!mS(a)){i(Si(e,"internal-error"));return}const l=a.render;a.render=(u,c)=>{const d=l(u,c);return this.counter++,d},this.hostLanguage=n,r(a)};const o=`${IO()}?${tf({onload:by,render:"explicit",hl:n})}`;u5(o).catch(()=>{clearTimeout(s),i(Si(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=nr().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function mM(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class gM{async load(e){return new LO(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="recaptcha",vM={theme:"light",type:"image"};class Pk{constructor(e,n,r=Object.assign({},vM)){this.parameters=r,this.type=pd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qs(e),this.isInvisible=this.parameters.size==="invisible",et(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;et(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new gM:new pM,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){et(!this.parameters.sitekey,this.auth,"argument-error"),et(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),et(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=nr()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){et(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){et(z3()&&!p5(),this.auth,"internal-error"),await yM(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await pO(this.auth);et(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return et(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function yM(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=wh._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function Ik(t,e,n){if(Fi(t.app))return Promise.reject(ua(t));const r=qs(t),i=await _M(r,e,Ti(n));return new wM(i,s=>pk(r,s))}async function _M(t,e,n){var r;if(!t._getRecaptchaConfig())try{await BO(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const s=i.session;if("phoneNumber"in i){et(s.type==="enroll",t,"internal-error");const o={idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Gm(t,o,"mfaSmsEnrollment",async(c,d)=>{if(d.phoneEnrollmentInfo.captchaResponse===dd){et((n==null?void 0:n.type)===pd,c,"argument-error");const g=await Sy(c,d,n);return xS(c,g)}return xS(c,d)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).phoneSessionInfo.sessionInfo}else{et(s.type==="signin",t,"internal-error");const o=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;et(o,t,"missing-multi-factor-info");const a={mfaPendingCredential:s.credential,mfaEnrollmentId:o,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Gm(t,a,"mfaSmsSignIn",async(d,g)=>{if(g.phoneSignInInfo.captchaResponse===dd){et((n==null?void 0:n.type)===pd,d,"argument-error");const p=await Sy(d,g,n);return AS(d,p)}return AS(d,g)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneResponseInfo.sessionInfo}}else{const s={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Gm(t,s,"sendVerificationCode",async(u,c)=>{if(c.captchaResponse===dd){et((n==null?void 0:n.type)===pd,u,"argument-error");const d=await Sy(u,c,n);return SS(u,d)}return SS(u,c)},"PHONE_PROVIDER").catch(u=>Promise.reject(u))).sessionInfo}}finally{n==null||n._reset()}}async function Sy(t,e,n){et(n.type===pd,t,"argument-error");const r=await n.verify();et(typeof r=="string",t,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const s=i.phoneEnrollmentInfo.phoneNumber,o=i.phoneEnrollmentInfo.captchaResponse,a=i.phoneEnrollmentInfo.clientType,l=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:s,recaptchaToken:r,captchaResponse:o,clientType:a,recaptchaVersion:l}}),i}else if("phoneSignInInfo"in i){const s=i.phoneSignInInfo.captchaResponse,o=i.phoneSignInInfo.clientType,a=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:s,clientType:o,recaptchaVersion:a}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t,e){return e?oa(e):(et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5 extends B0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bM(t){return dk(t.auth,new m5(t),t.bypassAuthState)}function SM(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),JO(n,new m5(t),t.bypassAuthState)}async function EM(t){const{auth:e,user:n}=t;return et(n,e,"internal-error"),QO(n,new m5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bM;case"linkViaPopup":case"linkViaRedirect":return EM;case"reauthViaPopup":case"reauthViaRedirect":return SM;default:Ao(this.auth,"internal-error")}}resolve(e){ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new hp(2e3,1e4);async function Dk(t,e,n){if(Fi(t.app))return Promise.reject(Si(t,"operation-not-supported-in-this-environment"));const r=qs(t);oO(t,e,c5);const i=Ck(r,n);return new Nu(r,"signInViaPopup",e,i).executeNotNull()}class Nu extends Nk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Nu.currentPopupAction&&Nu.currentPopupAction.cancel(),Nu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return et(e,this.auth,"internal-error"),e}async onExecution(){ba(this.filter.length===1,"Popup operations only handle one event");const e=d5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xM.get())};e()}}Nu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="pendingRedirect",Km=new Map;class kM extends Nk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Km.get(this.auth._key());if(!e){try{const r=await AM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Km.set(this.auth._key(),e)}return this.bypassAuthState||Km.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AM(t,e){const n=CM(e),r=IM(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function PM(t,e){Km.set(t._key(),e)}function IM(t){return oa(t._redirectPersistence)}function CM(t){return Ym(TM,t.config.apiKey,t.name)}async function NM(t,e,n=!1){if(Fi(t.app))return Promise.reject(ua(t));const r=qs(t),i=Ck(r,e),o=await new kM(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=10*60*1e3;class RM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Rk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Si(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DM&&this.cachedEventUids.clear(),this.cachedEventUids.has(PS(e))}saveEventToCache(e){this.cachedEventUids.add(PS(e)),this.lastProcessedEventTime=Date.now()}}function PS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Rk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(t,e={}){return ds(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FM=/^https?/;async function jM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OM(t);for(const n of e)try{if(VM(n))return}catch{}Ao(t,"unauthorized-domain")}function VM(t){const e=t2(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!FM.test(n))return!1;if(MM.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=new hp(3e4,6e4);function IS(){const t=nr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UM(t){return new Promise((e,n)=>{var r,i,s;function o(){IS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{IS(),n(Si(t,"network-request-failed"))},timeout:BM.get()})}if(!((i=(r=nr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=nr().gapi)===null||s===void 0)&&s.load)o();else{const a=ak("iframefcb");return nr()[a]=()=>{gapi.load?o():n(Si(t,"network-request-failed"))},u5(`${NO()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qm=null,e})}let Qm=null;function zM(t){return Qm=Qm||UM(t),Qm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM=new hp(5e3,15e3),HM="__/auth/iframe",WM="emulator/auth/iframe",$M={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GM(t){const e=t.config;et(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?o5(e,WM):`https://${t.config.authDomain}/${HM}`,r={apiKey:e.apiKey,appName:t.name,v:nf},i=YM.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tf(r).slice(1)}`}async function KM(t){const e=await zM(t),n=nr().gapi;return et(n,t,"internal-error"),e.open({where:document.body,url:GM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$M,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Si(t,"network-request-failed"),a=nr().setTimeout(()=>{s(o)},qM.get());function l(){nr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JM=500,XM=600,ZM="_blank",e8="http://localhost";class CS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function t8(t,e,n,r=JM,i=XM){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},QM),{width:r.toString(),height:i.toString(),top:s,left:o}),u=$r().toLowerCase();n&&(a=ek(u)?ZM:n),X3(u)&&(e=e||e8,l.scrollbars="yes");const c=Object.entries(l).reduce((g,[p,_])=>`${g}${p}=${_},`,"");if(bO(u)&&a!=="_self")return n8(e||"",a),new CS(null);const d=window.open(e||"",a,c);et(d,t,"popup-blocked");try{d.focus()}catch{}return new CS(d)}function n8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r8="__/auth/handler",i8="emulator/auth/handler",s8=encodeURIComponent("fac");async function NS(t,e,n,r,i,s){et(t.config.authDomain,t,"auth-domain-config-required"),et(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:nf,eventId:i};if(e instanceof c5){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",YL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof pp){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${s8}=${encodeURIComponent(l)}`:"";return`${o8(t)}?${tf(a).slice(1)}${u}`}function o8({config:t}){return t.emulator?o5(t,i8):`https://${t.authDomain}/${r8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="webStorageSupport";class a8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=f5,this._completeRedirectFn=NM,this._overrideRedirectResult=PM}async _openPopup(e,n,r,i){var s;ba((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await NS(e,n,r,t2(),i);return t8(e,o,d5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await NS(e,n,r,t2(),i);return iM(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ba(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await KM(e),r=new RM(e);return n.register("authEvent",i=>(et(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ey,{type:Ey},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ey];o!==void 0&&n(!!o),Ao(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sk()||Z3()||l5()}}const Lk=a8;var DS="@firebase/auth",RS="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c8(t){Dh(new Xu("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;et(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ok(t)},u=new AO(r,i,s,l);return UO(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dh(new Xu("auth-internal",e=>{const n=qs(e.getProvider("auth").getImmediate());return(r=>new l8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Rl(DS,RS,u8(t)),Rl(DS,RS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=5*60,f8=N3("authIdTokenMaxAge")||h8;let LS=null;const d8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>f8)return;const i=n==null?void 0:n.token;LS!==i&&(LS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ok(t=M3()){const e=n5(t,"auth");if(e.isInitialized())return e.getImmediate();const n=uk(t,{popupRedirectResolver:Lk,persistence:[Ak,Sk,f5]}),r=N3("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=d8(s.toString());yk(n,o,()=>o(n.currentUser)),vk(n,a=>o(a))}}const i=I3("auth");return i&&ck(n,`http://${i}`),n}function p8(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}PO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Si("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",p8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c8("Browser");const m8=Object.freeze(Object.defineProperty({__proto__:null,AuthCredential:B0,FacebookAuthProvider:ea,GithubAuthProvider:ta,GoogleAuthProvider:go,OAuthCredential:Ul,PhoneAuthCredential:wh,RecaptchaVerifier:Pk,TwitterAuthProvider:na,beforeAuthStateChanged:yk,browserLocalPersistence:Sk,browserPopupRedirectResolver:Lk,browserSessionPersistence:f5,connectAuthEmulator:ck,createUserWithEmailAndPassword:mk,getAuth:Ok,getIdTokenResult:G3,inMemoryPersistence:r2,indexedDBLocalPersistence:Ak,initializeAuth:uk,onAuthStateChanged:h5,onIdTokenChanged:vk,prodErrorMap:B3,reload:K3,signInWithCredential:pk,signInWithPhoneNumber:Ik,signInWithPopup:Dk,signOut:wk,updateProfile:gk},Symbol.toStringTag,{value:"Module"}));var g8="firebase",v8="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rl(g8,v8,"app");var OS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ll,Mk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,k){function D(){}D.prototype=k.prototype,N.D=k.prototype,N.prototype=new D,N.prototype.constructor=N,N.C=function(L,x,I){for(var R=Array(arguments.length-2),$=2;$<arguments.length;$++)R[$-2]=arguments[$];return k.prototype[x].apply(L,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,k,D){D||(D=0);var L=Array(16);if(typeof k=="string")for(var x=0;16>x;++x)L[x]=k.charCodeAt(D++)|k.charCodeAt(D++)<<8|k.charCodeAt(D++)<<16|k.charCodeAt(D++)<<24;else for(x=0;16>x;++x)L[x]=k[D++]|k[D++]<<8|k[D++]<<16|k[D++]<<24;k=N.g[0],D=N.g[1],x=N.g[2];var I=N.g[3],R=k+(I^D&(x^I))+L[0]+3614090360&4294967295;k=D+(R<<7&4294967295|R>>>25),R=I+(x^k&(D^x))+L[1]+3905402710&4294967295,I=k+(R<<12&4294967295|R>>>20),R=x+(D^I&(k^D))+L[2]+606105819&4294967295,x=I+(R<<17&4294967295|R>>>15),R=D+(k^x&(I^k))+L[3]+3250441966&4294967295,D=x+(R<<22&4294967295|R>>>10),R=k+(I^D&(x^I))+L[4]+4118548399&4294967295,k=D+(R<<7&4294967295|R>>>25),R=I+(x^k&(D^x))+L[5]+1200080426&4294967295,I=k+(R<<12&4294967295|R>>>20),R=x+(D^I&(k^D))+L[6]+2821735955&4294967295,x=I+(R<<17&4294967295|R>>>15),R=D+(k^x&(I^k))+L[7]+4249261313&4294967295,D=x+(R<<22&4294967295|R>>>10),R=k+(I^D&(x^I))+L[8]+1770035416&4294967295,k=D+(R<<7&4294967295|R>>>25),R=I+(x^k&(D^x))+L[9]+2336552879&4294967295,I=k+(R<<12&4294967295|R>>>20),R=x+(D^I&(k^D))+L[10]+4294925233&4294967295,x=I+(R<<17&4294967295|R>>>15),R=D+(k^x&(I^k))+L[11]+2304563134&4294967295,D=x+(R<<22&4294967295|R>>>10),R=k+(I^D&(x^I))+L[12]+1804603682&4294967295,k=D+(R<<7&4294967295|R>>>25),R=I+(x^k&(D^x))+L[13]+4254626195&4294967295,I=k+(R<<12&4294967295|R>>>20),R=x+(D^I&(k^D))+L[14]+2792965006&4294967295,x=I+(R<<17&4294967295|R>>>15),R=D+(k^x&(I^k))+L[15]+1236535329&4294967295,D=x+(R<<22&4294967295|R>>>10),R=k+(x^I&(D^x))+L[1]+4129170786&4294967295,k=D+(R<<5&4294967295|R>>>27),R=I+(D^x&(k^D))+L[6]+3225465664&4294967295,I=k+(R<<9&4294967295|R>>>23),R=x+(k^D&(I^k))+L[11]+643717713&4294967295,x=I+(R<<14&4294967295|R>>>18),R=D+(I^k&(x^I))+L[0]+3921069994&4294967295,D=x+(R<<20&4294967295|R>>>12),R=k+(x^I&(D^x))+L[5]+3593408605&4294967295,k=D+(R<<5&4294967295|R>>>27),R=I+(D^x&(k^D))+L[10]+38016083&4294967295,I=k+(R<<9&4294967295|R>>>23),R=x+(k^D&(I^k))+L[15]+3634488961&4294967295,x=I+(R<<14&4294967295|R>>>18),R=D+(I^k&(x^I))+L[4]+3889429448&4294967295,D=x+(R<<20&4294967295|R>>>12),R=k+(x^I&(D^x))+L[9]+568446438&4294967295,k=D+(R<<5&4294967295|R>>>27),R=I+(D^x&(k^D))+L[14]+3275163606&4294967295,I=k+(R<<9&4294967295|R>>>23),R=x+(k^D&(I^k))+L[3]+4107603335&4294967295,x=I+(R<<14&4294967295|R>>>18),R=D+(I^k&(x^I))+L[8]+1163531501&4294967295,D=x+(R<<20&4294967295|R>>>12),R=k+(x^I&(D^x))+L[13]+2850285829&4294967295,k=D+(R<<5&4294967295|R>>>27),R=I+(D^x&(k^D))+L[2]+4243563512&4294967295,I=k+(R<<9&4294967295|R>>>23),R=x+(k^D&(I^k))+L[7]+1735328473&4294967295,x=I+(R<<14&4294967295|R>>>18),R=D+(I^k&(x^I))+L[12]+2368359562&4294967295,D=x+(R<<20&4294967295|R>>>12),R=k+(D^x^I)+L[5]+4294588738&4294967295,k=D+(R<<4&4294967295|R>>>28),R=I+(k^D^x)+L[8]+2272392833&4294967295,I=k+(R<<11&4294967295|R>>>21),R=x+(I^k^D)+L[11]+1839030562&4294967295,x=I+(R<<16&4294967295|R>>>16),R=D+(x^I^k)+L[14]+4259657740&4294967295,D=x+(R<<23&4294967295|R>>>9),R=k+(D^x^I)+L[1]+2763975236&4294967295,k=D+(R<<4&4294967295|R>>>28),R=I+(k^D^x)+L[4]+1272893353&4294967295,I=k+(R<<11&4294967295|R>>>21),R=x+(I^k^D)+L[7]+4139469664&4294967295,x=I+(R<<16&4294967295|R>>>16),R=D+(x^I^k)+L[10]+3200236656&4294967295,D=x+(R<<23&4294967295|R>>>9),R=k+(D^x^I)+L[13]+681279174&4294967295,k=D+(R<<4&4294967295|R>>>28),R=I+(k^D^x)+L[0]+3936430074&4294967295,I=k+(R<<11&4294967295|R>>>21),R=x+(I^k^D)+L[3]+3572445317&4294967295,x=I+(R<<16&4294967295|R>>>16),R=D+(x^I^k)+L[6]+76029189&4294967295,D=x+(R<<23&4294967295|R>>>9),R=k+(D^x^I)+L[9]+3654602809&4294967295,k=D+(R<<4&4294967295|R>>>28),R=I+(k^D^x)+L[12]+3873151461&4294967295,I=k+(R<<11&4294967295|R>>>21),R=x+(I^k^D)+L[15]+530742520&4294967295,x=I+(R<<16&4294967295|R>>>16),R=D+(x^I^k)+L[2]+3299628645&4294967295,D=x+(R<<23&4294967295|R>>>9),R=k+(x^(D|~I))+L[0]+4096336452&4294967295,k=D+(R<<6&4294967295|R>>>26),R=I+(D^(k|~x))+L[7]+1126891415&4294967295,I=k+(R<<10&4294967295|R>>>22),R=x+(k^(I|~D))+L[14]+2878612391&4294967295,x=I+(R<<15&4294967295|R>>>17),R=D+(I^(x|~k))+L[5]+4237533241&4294967295,D=x+(R<<21&4294967295|R>>>11),R=k+(x^(D|~I))+L[12]+1700485571&4294967295,k=D+(R<<6&4294967295|R>>>26),R=I+(D^(k|~x))+L[3]+2399980690&4294967295,I=k+(R<<10&4294967295|R>>>22),R=x+(k^(I|~D))+L[10]+4293915773&4294967295,x=I+(R<<15&4294967295|R>>>17),R=D+(I^(x|~k))+L[1]+2240044497&4294967295,D=x+(R<<21&4294967295|R>>>11),R=k+(x^(D|~I))+L[8]+1873313359&4294967295,k=D+(R<<6&4294967295|R>>>26),R=I+(D^(k|~x))+L[15]+4264355552&4294967295,I=k+(R<<10&4294967295|R>>>22),R=x+(k^(I|~D))+L[6]+2734768916&4294967295,x=I+(R<<15&4294967295|R>>>17),R=D+(I^(x|~k))+L[13]+1309151649&4294967295,D=x+(R<<21&4294967295|R>>>11),R=k+(x^(D|~I))+L[4]+4149444226&4294967295,k=D+(R<<6&4294967295|R>>>26),R=I+(D^(k|~x))+L[11]+3174756917&4294967295,I=k+(R<<10&4294967295|R>>>22),R=x+(k^(I|~D))+L[2]+718787259&4294967295,x=I+(R<<15&4294967295|R>>>17),R=D+(I^(x|~k))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+k&4294967295,N.g[1]=N.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+x&4294967295,N.g[3]=N.g[3]+I&4294967295}r.prototype.u=function(N,k){k===void 0&&(k=N.length);for(var D=k-this.blockSize,L=this.B,x=this.h,I=0;I<k;){if(x==0)for(;I<=D;)i(this,N,I),I+=this.blockSize;if(typeof N=="string"){for(;I<k;)if(L[x++]=N.charCodeAt(I++),x==this.blockSize){i(this,L),x=0;break}}else for(;I<k;)if(L[x++]=N[I++],x==this.blockSize){i(this,L),x=0;break}}this.h=x,this.o+=k},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var k=1;k<N.length-8;++k)N[k]=0;var D=8*this.o;for(k=N.length-8;k<N.length;++k)N[k]=D&255,D/=256;for(this.u(N),N=Array(16),k=D=0;4>k;++k)for(var L=0;32>L;L+=8)N[D++]=this.g[k]>>>L&255;return N};function s(N,k){var D=a;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=k(N)}function o(N,k){this.h=k;for(var D=[],L=!0,x=N.length-1;0<=x;x--){var I=N[x]|0;L&&I==k||(D[x]=I,L=!1)}this.g=D}var a={};function l(N){return-128<=N&&128>N?s(N,function(k){return new o([k|0],0>k?-1:0)}):new o([N|0],0>N?-1:0)}function u(N){if(isNaN(N)||!isFinite(N))return d;if(0>N)return T(u(-N));for(var k=[],D=1,L=0;N>=D;L++)k[L]=N/D|0,D*=4294967296;return new o(k,0)}function c(N,k){if(N.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(N.charAt(0)=="-")return T(c(N.substring(1),k));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=u(Math.pow(k,8)),L=d,x=0;x<N.length;x+=8){var I=Math.min(8,N.length-x),R=parseInt(N.substring(x,x+I),k);8>I?(I=u(Math.pow(k,I)),L=L.j(I).add(u(R))):(L=L.j(D),L=L.add(u(R)))}return L}var d=l(0),g=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-T(this).m();for(var N=0,k=1,D=0;D<this.g.length;D++){var L=this.i(D);N+=(0<=L?L:4294967296+L)*k,k*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(_(this))return"0";if(S(this))return"-"+T(this).toString(N);for(var k=u(Math.pow(N,6)),D=this,L="";;){var x=j(D,k).g;D=y(D,x.j(k));var I=((0<D.g.length?D.g[0]:D.h)>>>0).toString(N);if(D=x,_(D))return I+L;for(;6>I.length;)I="0"+I;L=I+L}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function _(N){if(N.h!=0)return!1;for(var k=0;k<N.g.length;k++)if(N.g[k]!=0)return!1;return!0}function S(N){return N.h==-1}t.l=function(N){return N=y(this,N),S(N)?-1:_(N)?0:1};function T(N){for(var k=N.g.length,D=[],L=0;L<k;L++)D[L]=~N.g[L];return new o(D,~N.h).add(g)}t.abs=function(){return S(this)?T(this):this},t.add=function(N){for(var k=Math.max(this.g.length,N.g.length),D=[],L=0,x=0;x<=k;x++){var I=L+(this.i(x)&65535)+(N.i(x)&65535),R=(I>>>16)+(this.i(x)>>>16)+(N.i(x)>>>16);L=R>>>16,I&=65535,R&=65535,D[x]=R<<16|I}return new o(D,D[D.length-1]&-2147483648?-1:0)};function y(N,k){return N.add(T(k))}t.j=function(N){if(_(this)||_(N))return d;if(S(this))return S(N)?T(this).j(T(N)):T(T(this).j(N));if(S(N))return T(this.j(T(N)));if(0>this.l(p)&&0>N.l(p))return u(this.m()*N.m());for(var k=this.g.length+N.g.length,D=[],L=0;L<2*k;L++)D[L]=0;for(L=0;L<this.g.length;L++)for(var x=0;x<N.g.length;x++){var I=this.i(L)>>>16,R=this.i(L)&65535,$=N.i(x)>>>16,X=N.i(x)&65535;D[2*L+2*x]+=R*X,b(D,2*L+2*x),D[2*L+2*x+1]+=I*X,b(D,2*L+2*x+1),D[2*L+2*x+1]+=R*$,b(D,2*L+2*x+1),D[2*L+2*x+2]+=I*$,b(D,2*L+2*x+2)}for(L=0;L<k;L++)D[L]=D[2*L+1]<<16|D[2*L];for(L=k;L<2*k;L++)D[L]=0;return new o(D,0)};function b(N,k){for(;(N[k]&65535)!=N[k];)N[k+1]+=N[k]>>>16,N[k]&=65535,k++}function A(N,k){this.g=N,this.h=k}function j(N,k){if(_(k))throw Error("division by zero");if(_(N))return new A(d,d);if(S(N))return k=j(T(N),k),new A(T(k.g),T(k.h));if(S(k))return k=j(N,T(k)),new A(T(k.g),k.h);if(30<N.g.length){if(S(N)||S(k))throw Error("slowDivide_ only works with positive integers.");for(var D=g,L=k;0>=L.l(N);)D=Y(D),L=Y(L);var x=J(D,1),I=J(L,1);for(L=J(L,2),D=J(D,2);!_(L);){var R=I.add(L);0>=R.l(N)&&(x=x.add(D),I=R),L=J(L,1),D=J(D,1)}return k=y(N,x.j(k)),new A(x,k)}for(x=d;0<=N.l(k);){for(D=Math.max(1,Math.floor(N.m()/k.m())),L=Math.ceil(Math.log(D)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),I=u(D),R=I.j(k);S(R)||0<R.l(N);)D-=L,I=u(D),R=I.j(k);_(I)&&(I=g),x=x.add(I),N=y(N,R)}return new A(x,N)}t.A=function(N){return j(this,N).h},t.and=function(N){for(var k=Math.max(this.g.length,N.g.length),D=[],L=0;L<k;L++)D[L]=this.i(L)&N.i(L);return new o(D,this.h&N.h)},t.or=function(N){for(var k=Math.max(this.g.length,N.g.length),D=[],L=0;L<k;L++)D[L]=this.i(L)|N.i(L);return new o(D,this.h|N.h)},t.xor=function(N){for(var k=Math.max(this.g.length,N.g.length),D=[],L=0;L<k;L++)D[L]=this.i(L)^N.i(L);return new o(D,this.h^N.h)};function Y(N){for(var k=N.g.length+1,D=[],L=0;L<k;L++)D[L]=N.i(L)<<1|N.i(L-1)>>>31;return new o(D,N.h)}function J(N,k){var D=k>>5;k%=32;for(var L=N.g.length-D,x=[],I=0;I<L;I++)x[I]=0<k?N.i(I+D)>>>k|N.i(I+D+1)<<32-k:N.i(I+D);return new o(x,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Mk=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Ll=o}).apply(typeof OS<"u"?OS:typeof self<"u"?self:typeof window<"u"?window:{});var vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fk,Xf,jk,Jm,s2,Vk,Bk,Uk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,C){return f==Array.prototype||f==Object.prototype||(f[E]=C.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof vm=="object"&&vm];for(var E=0;E<f.length;++E){var C=f[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(f,E){if(E)e:{var C=r;f=f.split(".");for(var z=0;z<f.length-1;z++){var fe=f[z];if(!(fe in C))break e;C=C[fe]}f=f[f.length-1],z=C[f],E=E(z),E!=z&&E!=null&&e(C,f,{configurable:!0,writable:!0,value:E})}}function s(f,E){f instanceof String&&(f+="");var C=0,z=!1,fe={next:function(){if(!z&&C<f.length){var ye=C++;return{value:E(ye,f[ye]),done:!1}}return z=!0,{done:!0,value:void 0}}};return fe[Symbol.iterator]=function(){return fe},fe}i("Array.prototype.values",function(f){return f||function(){return s(this,function(E,C){return C})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function u(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function c(f,E,C){return f.call.apply(f.bind,arguments)}function d(f,E,C){if(!f)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var fe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(fe,z),f.apply(E,fe)}}return function(){return f.apply(E,arguments)}}function g(f,E,C){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,g.apply(null,arguments)}function p(f,E){var C=Array.prototype.slice.call(arguments,1);return function(){var z=C.slice();return z.push.apply(z,arguments),f.apply(this,z)}}function _(f,E){function C(){}C.prototype=E.prototype,f.aa=E.prototype,f.prototype=new C,f.prototype.constructor=f,f.Qb=function(z,fe,ye){for(var Oe=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)Oe[bt-2]=arguments[bt];return E.prototype[fe].apply(z,Oe)}}function S(f){const E=f.length;if(0<E){const C=Array(E);for(let z=0;z<E;z++)C[z]=f[z];return C}return[]}function T(f,E){for(let C=1;C<arguments.length;C++){const z=arguments[C];if(l(z)){const fe=f.length||0,ye=z.length||0;f.length=fe+ye;for(let Oe=0;Oe<ye;Oe++)f[fe+Oe]=z[Oe]}else f.push(z)}}class y{constructor(E,C){this.i=E,this.j=C,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function b(f){return/^[\s\xa0]*$/.test(f)}function A(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function j(f){return j[" "](f),f}j[" "]=function(){};var Y=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function J(f,E,C){for(const z in f)E.call(C,f[z],z,f)}function N(f,E){for(const C in f)E.call(void 0,f[C],C,f)}function k(f){const E={};for(const C in f)E[C]=f[C];return E}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,E){let C,z;for(let fe=1;fe<arguments.length;fe++){z=arguments[fe];for(C in z)f[C]=z[C];for(let ye=0;ye<D.length;ye++)C=D[ye],Object.prototype.hasOwnProperty.call(z,C)&&(f[C]=z[C])}}function x(f){var E=1;f=f.split(":");const C=[];for(;0<E&&f.length;)C.push(f.shift()),E--;return f.length&&C.push(f.join(":")),C}function I(f){a.setTimeout(()=>{throw f},0)}function R(){var f=te;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class ${constructor(){this.h=this.g=null}add(E,C){const z=X.get();z.set(E,C),this.h?this.h.next=z:this.g=z,this.h=z}}var X=new y(()=>new Q,f=>f.reset());class Q{constructor(){this.next=this.g=this.h=null}set(E,C){this.h=E,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let re,H=!1,te=new $,ie=()=>{const f=a.Promise.resolve(void 0);re=()=>{f.then(Se)}};var Se=()=>{for(var f;f=R();){try{f.h.call(f.g)}catch(C){I(C)}var E=X;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}H=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const C=()=>{};a.addEventListener("test",C,E),a.removeEventListener("test",C,E)}catch{}return f}();function oe(f,E){if(G.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var C=this.type=f.type,z=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(Y){e:{try{j(E.nodeName);var fe=!0;break e}catch{}fe=!1}fe||(E=null)}}else C=="mouseover"?E=f.fromElement:C=="mouseout"&&(E=f.toElement);this.relatedTarget=E,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ce[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&oe.aa.h.call(this)}}_(oe,G);var ce={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),_e=0;function we(f,E,C,z,fe){this.listener=f,this.proxy=null,this.src=E,this.type=C,this.capture=!!z,this.ha=fe,this.key=++_e,this.da=this.fa=!1}function Ne(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function De(f){this.src=f,this.g={},this.h=0}De.prototype.add=function(f,E,C,z,fe){var ye=f.toString();f=this.g[ye],f||(f=this.g[ye]=[],this.h++);var Oe=Ve(f,E,z,fe);return-1<Oe?(E=f[Oe],C||(E.fa=!1)):(E=new we(E,this.src,ye,!!z,fe),E.fa=C,f.push(E)),E};function Be(f,E){var C=E.type;if(C in f.g){var z=f.g[C],fe=Array.prototype.indexOf.call(z,E,void 0),ye;(ye=0<=fe)&&Array.prototype.splice.call(z,fe,1),ye&&(Ne(E),f.g[C].length==0&&(delete f.g[C],f.h--))}}function Ve(f,E,C,z){for(var fe=0;fe<f.length;++fe){var ye=f[fe];if(!ye.da&&ye.listener==E&&ye.capture==!!C&&ye.ha==z)return fe}return-1}var ot="closure_lm_"+(1e6*Math.random()|0),ke={};function ne(f,E,C,z,fe){if(Array.isArray(E)){for(var ye=0;ye<E.length;ye++)ne(f,E[ye],C,z,fe);return null}return C=_t(C),f&&f[me]?f.K(E,C,u(z)?!!z.capture:!1,fe):yt(f,E,C,!1,z,fe)}function yt(f,E,C,z,fe,ye){if(!E)throw Error("Invalid event type");var Oe=u(fe)?!!fe.capture:!!fe,bt=it(f);if(bt||(f[ot]=bt=new De(f)),C=bt.add(E,C,z,Oe,ye),C.proxy)return C;if(z=nt(),C.proxy=z,z.src=f,z.listener=C,f.addEventListener)ee||(fe=Oe),fe===void 0&&(fe=!1),f.addEventListener(E.toString(),z,fe);else if(f.attachEvent)f.attachEvent($e(E.toString()),z);else if(f.addListener&&f.removeListener)f.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return C}function nt(){function f(C){return E.call(f.src,f.listener,C)}const E=He;return f}function Me(f,E,C,z,fe){if(Array.isArray(E))for(var ye=0;ye<E.length;ye++)Me(f,E[ye],C,z,fe);else z=u(z)?!!z.capture:!!z,C=_t(C),f&&f[me]?(f=f.i,E=String(E).toString(),E in f.g&&(ye=f.g[E],C=Ve(ye,C,z,fe),-1<C&&(Ne(ye[C]),Array.prototype.splice.call(ye,C,1),ye.length==0&&(delete f.g[E],f.h--)))):f&&(f=it(f))&&(E=f.g[E.toString()],f=-1,E&&(f=Ve(E,C,z,fe)),(C=-1<f?E[f]:null)&&Ue(C))}function Ue(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[me])Be(E.i,f);else{var C=f.type,z=f.proxy;E.removeEventListener?E.removeEventListener(C,z,f.capture):E.detachEvent?E.detachEvent($e(C),z):E.addListener&&E.removeListener&&E.removeListener(z),(C=it(E))?(Be(C,f),C.h==0&&(C.src=null,E[ot]=null)):Ne(f)}}}function $e(f){return f in ke?ke[f]:ke[f]="on"+f}function He(f,E){if(f.da)f=!0;else{E=new oe(E,this);var C=f.listener,z=f.ha||f.src;f.fa&&Ue(f),f=C.call(z,E)}return f}function it(f){return f=f[ot],f instanceof De?f:null}var mt="__closure_events_fn_"+(1e9*Math.random()>>>0);function _t(f){return typeof f=="function"?f:(f[mt]||(f[mt]=function(E){return f.handleEvent(E)}),f[mt])}function st(){F.call(this),this.i=new De(this),this.M=this,this.F=null}_(st,F),st.prototype[me]=!0,st.prototype.removeEventListener=function(f,E,C,z){Me(this,f,E,C,z)};function dt(f,E){var C,z=f.F;if(z)for(C=[];z;z=z.F)C.push(z);if(f=f.M,z=E.type||E,typeof E=="string")E=new G(E,f);else if(E instanceof G)E.target=E.target||f;else{var fe=E;E=new G(z,f),L(E,fe)}if(fe=!0,C)for(var ye=C.length-1;0<=ye;ye--){var Oe=E.g=C[ye];fe=jt(Oe,z,!0,E)&&fe}if(Oe=E.g=f,fe=jt(Oe,z,!0,E)&&fe,fe=jt(Oe,z,!1,E)&&fe,C)for(ye=0;ye<C.length;ye++)Oe=E.g=C[ye],fe=jt(Oe,z,!1,E)&&fe}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var C=f.g[E],z=0;z<C.length;z++)Ne(C[z]);delete f.g[E],f.h--}}this.F=null},st.prototype.K=function(f,E,C,z){return this.i.add(String(f),E,!1,C,z)},st.prototype.L=function(f,E,C,z){return this.i.add(String(f),E,!0,C,z)};function jt(f,E,C,z){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var fe=!0,ye=0;ye<E.length;++ye){var Oe=E[ye];if(Oe&&!Oe.da&&Oe.capture==C){var bt=Oe.listener,Nt=Oe.ha||Oe.src;Oe.fa&&Be(f.i,Oe),fe=bt.call(Nt,z)!==!1&&fe}}return fe&&!z.defaultPrevented}function ft(f,E,C){if(typeof f=="function")C&&(f=g(f,C));else if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:a.setTimeout(f,E||0)}function At(f){f.g=ft(()=>{f.g=null,f.i&&(f.i=!1,At(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class Ye extends F{constructor(E,C){super(),this.m=E,this.l=C,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:At(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function In(f){F.call(this),this.h=f,this.g={}}_(In,F);var Ot=[];function li(f){J(f.g,function(E,C){this.g.hasOwnProperty(C)&&Ue(E)},f),f.g={}}In.prototype.N=function(){In.aa.N.call(this),li(this)},In.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wt=a.JSON.stringify,cn=a.JSON.parse,Wi=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Mt(){}Mt.prototype.h=null;function Ys(f){return f.h||(f.h=f.i())}function mn(){}var yr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ai(){G.call(this,"d")}_(Ai,G);function hn(){G.call(this,"c")}_(hn,G);var lt={},Vt=null;function $i(){return Vt=Vt||new st}lt.La="serverreachability";function Qn(f){G.call(this,lt.La,f)}_(Qn,G);function Ir(f){const E=$i();dt(E,new Qn(E))}lt.STAT_EVENT="statevent";function Pi(f,E){G.call(this,lt.STAT_EVENT,f),this.stat=E}_(Pi,G);function Xe(f){const E=$i();dt(E,new Pi(E,f))}lt.Ma="timingevent";function ui(f,E){G.call(this,lt.Ma,f),this.size=E}_(ui,G);function Cr(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},E)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function Fn(f,E,C,z,fe,ye){f.info(function(){if(f.g)if(ye)for(var Oe="",bt=ye.split("&"),Nt=0;Nt<bt.length;Nt++){var St=bt[Nt].split("=");if(1<St.length){var Kt=St[0];St=St[1];var an=Kt.split("_");Oe=2<=an.length&&an[1]=="type"?Oe+(Kt+"="+St+"&"):Oe+(Kt+"=redacted&")}}else Oe=null;else Oe=ye;return"XMLHTTP REQ ("+z+") [attempt "+fe+"]: "+E+`
`+C+`
`+Oe})}function Cn(f,E,C,z,fe,ye,Oe){f.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+fe+"]: "+E+`
`+C+`
`+ye+" "+Oe})}function Xn(f,E,C,z){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+ps(f,C)+(z?" "+z:"")})}function Ca(f,E){f.info(function(){return"TIMEOUT: "+E})}Jn.prototype.info=function(){};function ps(f,E){if(!f.g)return E;if(!E)return null;try{var C=JSON.parse(E);if(C){for(f=0;f<C.length;f++)if(Array.isArray(C[f])){var z=C[f];if(!(2>z.length)){var fe=z[1];if(Array.isArray(fe)&&!(1>fe.length)){var ye=fe[0];if(ye!="noop"&&ye!="stop"&&ye!="close")for(var Oe=1;Oe<fe.length;Oe++)fe[Oe]=""}}}}return Wt(C)}catch{return E}}var Nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yr;function Gr(){}_(Gr,Mt),Gr.prototype.g=function(){return new XMLHttpRequest},Gr.prototype.i=function(){return{}},Yr=new Gr;function jn(f,E,C,z){this.j=f,this.i=E,this.l=C,this.R=z||1,this.U=new In(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ii}function Ii(){this.i=null,this.g="",this.h=!1}var Gs={},Ks={};function Qs(f,E,C){f.L=1,f.v=jo(Kr(E)),f.m=C,f.P=!0,Ro(f,null)}function Ro(f,E){f.F=Date.now(),Na(f),f.A=Kr(f.v);var C=f.A,z=f.R;Array.isArray(z)||(z=[String(z)]),gt(C.i,"t",z),f.C=0,C=f.j.J,f.h=new Ii,f.g=O(f.j,C?E:null,!f.m),0<f.O&&(f.M=new Ye(g(f.Y,f,f.g),f.O)),E=f.U,C=f.g,z=f.ca;var fe="readystatechange";Array.isArray(fe)||(fe&&(Ot[0]=fe.toString()),fe=Ot);for(var ye=0;ye<fe.length;ye++){var Oe=ne(C,fe[ye],z||E.handleEvent,!1,E.h||E);if(!Oe)break;E.g[Oe.key]=Oe}E=f.H?k(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Ir(),Fn(f.i,f.u,f.A,f.l,f.R,f.m)}jn.prototype.ca=function(f){f=f.target;const E=this.M;E&&ir(f)==3?E.j():this.Y(f)},jn.prototype.Y=function(f){try{if(f==this.g)e:{const an=ir(this.g);var E=this.g.Ba();const Ss=this.g.Z();if(!(3>an)&&(an!=3||this.g&&(this.h.h||this.g.oa()||kc(this.g)))){this.J||an!=4||E==7||(E==8||0>=Ss?Ir(3):Ir(2)),Js(this);var C=this.g.Z();this.X=C;t:if(Lo(this)){var z=kc(this.g);f="";var fe=z.length,ye=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ms(this),Xs(this);var Oe="";break t}this.h.i=new a.TextDecoder}for(E=0;E<fe;E++)this.h.h=!0,f+=this.h.i.decode(z[E],{stream:!(ye&&E==fe-1)});z.length=0,this.h.g+=f,this.C=0,Oe=this.h.g}else Oe=this.g.oa();if(this.o=C==200,Cn(this.i,this.u,this.A,this.l,this.R,an,C),this.o){if(this.T&&!this.K){t:{if(this.g){var bt,Nt=this.g;if((bt=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(bt)){var St=bt;break t}}St=null}if(C=St)Xn(this.i,this.l,C,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oo(this,C);else{this.o=!1,this.s=3,Xe(12),ms(this),Xs(this);break e}}if(this.P){C=!0;let _r;for(;!this.J&&this.C<Oe.length;)if(_r=vc(this,Oe),_r==Ks){an==4&&(this.s=4,Xe(14),C=!1),Xn(this.i,this.l,null,"[Incomplete Response]");break}else if(_r==Gs){this.s=4,Xe(15),Xn(this.i,this.l,Oe,"[Invalid Chunk]"),C=!1;break}else Xn(this.i,this.l,_r,null),Oo(this,_r);if(Lo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),an!=4||Oe.length!=0||this.h.h||(this.s=1,Xe(16),C=!1),this.o=this.o&&C,!C)Xn(this.i,this.l,Oe,"[Invalid Chunked Response]"),ms(this),Xs(this);else if(0<Oe.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+Oe.length),Wa(Kt),Kt.M=!0,Xe(11))}}else Xn(this.i,this.l,Oe,null),Oo(this,Oe);an==4&&ms(this),this.o&&!this.J&&(an==4?ro(this.j,this):(this.o=!1,Na(this)))}else to(this.g),C==400&&0<Oe.indexOf("Unknown SID")?(this.s=3,Xe(12)):(this.s=0,Xe(13)),ms(this),Xs(this)}}}catch{}finally{}};function Lo(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function vc(f,E){var C=f.C,z=E.indexOf(`
`,C);return z==-1?Ks:(C=Number(E.substring(C,z)),isNaN(C)?Gs:(z+=1,z+C>E.length?Ks:(E=E.slice(z,z+C),f.C=z+C,E)))}jn.prototype.cancel=function(){this.J=!0,ms(this)};function Na(f){f.S=Date.now()+f.I,yc(f,f.I)}function yc(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Cr(g(f.ba,f),E)}function Js(f){f.B&&(a.clearTimeout(f.B),f.B=null)}jn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Ca(this.i,this.A),this.L!=2&&(Ir(),Xe(17)),ms(this),this.s=2,Xs(this)):yc(this,this.S-f)};function Xs(f){f.j.G==0||f.J||ro(f.j,f)}function ms(f){Js(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,li(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function Oo(f,E){try{var C=f.j;if(C.G!=0&&(C.g==f||iu(C.h,f))){if(!f.K&&iu(C.h,f)&&C.G==3){try{var z=C.Da.g.parse(E)}catch{z=null}if(Array.isArray(z)&&z.length==3){var fe=z;if(fe[0]==0){e:if(!C.u){if(C.g)if(C.g.F+3e3<f.F)bs(C),Ua(C);else break e;qo(C),Xe(18)}}else C.za=fe[1],0<C.za-C.T&&37500>fe[2]&&C.F&&C.v==0&&!C.C&&(C.C=Cr(g(C.Za,C),6e3));if(1>=Mo(C.h)&&C.ca){try{C.ca()}catch{}C.ca=void 0}}else Dr(C,11)}else if((f.K||C.g==f)&&bs(C),!b(E))for(fe=C.Da.g.parse(E),E=0;E<fe.length;E++){let St=fe[E];if(C.T=St[0],St=St[1],C.G==2)if(St[0]=="c"){C.K=St[1],C.ia=St[2];const Kt=St[3];Kt!=null&&(C.la=Kt,C.j.info("VER="+C.la));const an=St[4];an!=null&&(C.Aa=an,C.j.info("SVER="+C.Aa));const Ss=St[5];Ss!=null&&typeof Ss=="number"&&0<Ss&&(z=1.5*Ss,C.L=z,C.j.info("backChannelRequestTimeoutMs_="+z)),z=C;const _r=f.g;if(_r){const io=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(io){var ye=z.h;ye.g||io.indexOf("spdy")==-1&&io.indexOf("quic")==-1&&io.indexOf("h2")==-1||(ye.j=ye.l,ye.g=new Set,ye.h&&(gn(ye,ye.h),ye.h=null))}if(z.D){const so=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;so&&(z.ya=so,Xt(z.I,z.D,so))}}C.G=3,C.l&&C.l.ua(),C.ba&&(C.R=Date.now()-f.F,C.j.info("Handshake RTT: "+C.R+"ms")),z=C;var Oe=f;if(z.qa=v(z,z.J?z.ia:null,z.W),Oe.K){su(z.h,Oe);var bt=Oe,Nt=z.L;Nt&&(bt.I=Nt),bt.B&&(Js(bt),Na(bt)),z.g=Oe}else Ha(z);0<C.i.length&&za(C)}else St[0]!="stop"&&St[0]!="close"||Dr(C,7);else C.G==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?Dr(C,7):_s(C):St[0]!="noop"&&C.l&&C.l.ta(St),C.v=0)}}Ir(4)}catch{}}var ff=class{constructor(f,E){this.g=f,this.map=E}};function ru(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Mo(f){return f.h?1:f.g?f.g.size:0}function iu(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function gn(f,E){f.g?f.g.add(E):f.h=E}function su(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}ru.prototype.cancel=function(){if(this.i=ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ou(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const C of f.g.values())E=E.concat(C.D);return E}return S(f.i)}function _c(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var E=[],C=f.length,z=0;z<C;z++)E.push(f[z]);return E}E=[],C=0;for(z in f)E[C++]=f[z];return E}function au(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var E=[];f=f.length;for(var C=0;C<f;C++)E.push(C);return E}E=[],C=0;for(const z in f)E[C++]=z;return E}}}function bc(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var C=au(f),z=_c(f),fe=z.length,ye=0;ye<fe;ye++)E.call(void 0,z[ye],C&&C[ye],f)}var hi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(f,E){if(f){f=f.split("&");for(var C=0;C<f.length;C++){var z=f[C].indexOf("="),fe=null;if(0<=z){var ye=f[C].substring(0,z);fe=f[C].substring(z+1)}else ye=f[C];E(ye,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function Nn(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Nn){this.h=f.h,Fo(this,f.j),this.o=f.o,this.g=f.g,Ra(this,f.s),this.l=f.l;var E=f.i,C=new Zs;C.i=E.i,E.g&&(C.g=new Map(E.g),C.h=E.h),lu(this,C),this.m=f.m}else f&&(E=String(f).match(hi))?(this.h=!1,Fo(this,E[1]||"",!0),this.o=Vo(E[2]||""),this.g=Vo(E[3]||"",!0),Ra(this,E[4]),this.l=Vo(E[5]||"",!0),lu(this,E[6]||"",!0),this.m=Vo(E[7]||"")):(this.h=!1,this.i=new Zs(null,this.h))}Nn.prototype.toString=function(){var f=[],E=this.j;E&&f.push(gs(E,Sc,!0),":");var C=this.g;return(C||E=="file")&&(f.push("//"),(E=this.o)&&f.push(gs(E,Sc,!0),"@"),f.push(encodeURIComponent(String(C)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.s,C!=null&&f.push(":",String(C))),(C=this.l)&&(this.g&&C.charAt(0)!="/"&&f.push("/"),f.push(gs(C,C.charAt(0)=="/"?vs:pf,!0))),(C=this.i.toString())&&f.push("?",C),(C=this.m)&&f.push("#",gs(C,Oa)),f.join("")};function Kr(f){return new Nn(f)}function Fo(f,E,C){f.j=C?Vo(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function Ra(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function lu(f,E,C){E instanceof Zs?(f.i=E,mf(f.i,f.h)):(C||(E=gs(E,La)),f.i=new Zs(E,f.h))}function Xt(f,E,C){f.i.set(E,C)}function jo(f){return Xt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Vo(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function gs(f,E,C){return typeof f=="string"?(f=encodeURI(f).replace(E,df),C&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function df(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Sc=/[#\/\?@]/g,pf=/[#\?:]/g,vs=/[#\?]/g,La=/[#\?@]/g,Oa=/#/g;function Zs(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function vn(f){f.g||(f.g=new Map,f.h=0,f.i&&Da(f.i,function(E,C){f.add(decodeURIComponent(E.replace(/\+/g," ")),C)}))}t=Zs.prototype,t.add=function(f,E){vn(this),this.i=null,f=eo(this,f);var C=this.g.get(f);return C||this.g.set(f,C=[]),C.push(E),this.h+=1,this};function Ec(f,E){vn(f),E=eo(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function uu(f,E){return vn(f),E=eo(f,E),f.g.has(E)}t.forEach=function(f,E){vn(this),this.g.forEach(function(C,z){C.forEach(function(fe){f.call(E,fe,z,this)},this)},this)},t.na=function(){vn(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),C=[];for(let z=0;z<E.length;z++){const fe=f[z];for(let ye=0;ye<fe.length;ye++)C.push(E[z])}return C},t.V=function(f){vn(this);let E=[];if(typeof f=="string")uu(this,f)&&(E=E.concat(this.g.get(eo(this,f))));else{f=Array.from(this.g.values());for(let C=0;C<f.length;C++)E=E.concat(f[C])}return E},t.set=function(f,E){return vn(this),this.i=null,f=eo(this,f),uu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function gt(f,E,C){Ec(f,E),0<C.length&&(f.i=null,f.g.set(eo(f,E),S(C)),f.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var C=0;C<E.length;C++){var z=E[C];const ye=encodeURIComponent(String(z)),Oe=this.V(z);for(z=0;z<Oe.length;z++){var fe=ye;Oe[z]!==""&&(fe+="="+encodeURIComponent(String(Oe[z]))),f.push(fe)}}return this.i=f.join("&")};function eo(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function mf(f,E){E&&!f.j&&(vn(f),f.i=null,f.g.forEach(function(C,z){var fe=z.toLowerCase();z!=fe&&(Ec(this,z),gt(this,fe,C))},f)),f.j=E}function Yi(f,E){const C=new Jn;if(a.Image){const z=new Image;z.onload=p(Ci,C,"TestLoadImage: loaded",!0,E,z),z.onerror=p(Ci,C,"TestLoadImage: error",!1,E,z),z.onabort=p(Ci,C,"TestLoadImage: abort",!1,E,z),z.ontimeout=p(Ci,C,"TestLoadImage: timeout",!1,E,z),a.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=f}else E(!1)}function xc(f,E){const C=new Jn,z=new AbortController,fe=setTimeout(()=>{z.abort(),Ci(C,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:z.signal}).then(ye=>{clearTimeout(fe),ye.ok?Ci(C,"TestPingServer: ok",!0,E):Ci(C,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(fe),Ci(C,"TestPingServer: error",!1,E)})}function Ci(f,E,C,z,fe){try{fe&&(fe.onload=null,fe.onerror=null,fe.onabort=null,fe.ontimeout=null),z(C)}catch{}}function Ma(){this.g=new Wi}function cu(f,E,C){const z=C||"";try{bc(f,function(fe,ye){let Oe=fe;u(fe)&&(Oe=Wt(fe)),E.push(z+ye+"="+encodeURIComponent(Oe))})}catch(fe){throw E.push(z+"type="+encodeURIComponent("_badmap")),fe}}function Fa(f){this.l=f.Ub||null,this.j=f.eb||!1}_(Fa,Mt),Fa.prototype.g=function(){return new ja(this.l,this.j)},Fa.prototype.i=function(f){return function(){return f}}({});function ja(f,E){st.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(ja,st),t=ja.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,Ni(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||a).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Ni(this)),this.g&&(this.readyState=3,Ni(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tc(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tc(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?ys(this):Ni(this),this.readyState==3&&Tc(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,ys(this))},t.Qa=function(f){this.g&&(this.response=f,ys(this))},t.ga=function(){this.g&&ys(this)};function ys(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Ni(f)}t.setRequestHeader=function(f,E){this.u.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var C=E.next();!C.done;)C=C.value,f.push(C[0]+": "+C[1]),C=E.next();return f.join(`\r
`)};function Ni(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ws(f){let E="";return J(f,function(C,z){E+=z,E+=":",E+=C,E+=`\r
`}),E}function hu(f,E,C){e:{for(z in C){var z=!1;break e}z=!0}z||(C=ws(C),typeof f=="string"?C!=null&&encodeURIComponent(String(C)):Xt(f,E,C))}function Gt(f){st.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Gt,st);var fu=/^https?$/i,Va=["POST","PUT"];t=Gt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,E,C,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yr.g(),this.v=this.o?Ys(this.o):Ys(Yr),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(ye){du(this,ye);return}if(f=C||"",C=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var fe in z)C.set(fe,z[fe]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ye of z.keys())C.set(ye,z.get(ye));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(C.keys()).find(ye=>ye.toLowerCase()=="content-type"),fe=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Va,E,void 0))||z||fe||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ye,Oe]of C)this.g.setRequestHeader(ye,Oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Di(this),this.u=!0,this.g.send(f),this.u=!1}catch(ye){du(this,ye)}};function du(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,pu(f),Bo(f)}function pu(f){f.A||(f.A=!0,dt(f,"complete"),dt(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,dt(this,"complete"),dt(this,"abort"),Bo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bo(this,!0)),Gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?mu(this):this.bb())},t.bb=function(){mu(this)};function mu(f){if(f.h&&typeof o<"u"&&(!f.v[1]||ir(f)!=4||f.Z()!=2)){if(f.u&&ir(f)==4)ft(f.Ea,0,f);else if(dt(f,"readystatechange"),ir(f)==4){f.h=!1;try{const Oe=f.Z();e:switch(Oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var C;if(!(C=E)){var z;if(z=Oe===0){var fe=String(f.D).match(hi)[1]||null;!fe&&a.self&&a.self.location&&(fe=a.self.location.protocol.slice(0,-1)),z=!fu.test(fe?fe.toLowerCase():"")}C=z}if(C)dt(f,"complete"),dt(f,"success");else{f.m=6;try{var ye=2<ir(f)?f.g.statusText:""}catch{ye=""}f.l=ye+" ["+f.Z()+"]",pu(f)}}finally{Bo(f)}}}}function Bo(f,E){if(f.g){Di(f);const C=f.g,z=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||dt(f,"ready");try{C.onreadystatechange=z}catch{}}}function Di(f){f.I&&(a.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function ir(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),cn(E)}};function kc(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function to(f){const E={};f=(f.g&&2<=ir(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<f.length;z++){if(b(f[z]))continue;var C=x(f[z]);const fe=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ye=E[fe]||[];E[fe]=ye,ye.push(C)}N(E,function(z){return z.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wr(f,E,C){return C&&C.internalChannelParams&&C.internalChannelParams[f]||E}function Ba(f){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wr("baseRetryDelayMs",5e3,f),this.cb=wr("retryDelaySeedMs",1e4,f),this.Wa=wr("forwardChannelMaxRetries",2,f),this.wa=wr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ru(f&&f.concurrentRequestLimit),this.Da=new Ma,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ba.prototype,t.la=8,t.G=1,t.connect=function(f,E,C,z){Xe(0),this.W=f,this.H=E||{},C&&z!==void 0&&(this.H.OSID=C,this.H.OAID=z),this.F=this.X,this.I=v(this,null,this.W),za(this)};function _s(f){if(Uo(f),f.G==3){var E=f.U++,C=Kr(f.I);if(Xt(C,"SID",f.K),Xt(C,"RID",E),Xt(C,"TYPE","terminate"),no(f,C),E=new jn(f,f.j,E),E.L=2,E.v=jo(Kr(C)),C=!1,a.navigator&&a.navigator.sendBeacon)try{C=a.navigator.sendBeacon(E.v.toString(),"")}catch{}!C&&a.Image&&(new Image().src=E.v,C=!0),C||(E.g=O(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Na(E)}Ya(f)}function Ua(f){f.g&&(Wa(f),f.g.cancel(),f.g=null)}function Uo(f){Ua(f),f.u&&(a.clearTimeout(f.u),f.u=null),bs(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function za(f){if(!wc(f.h)&&!f.s){f.s=!0;var E=f.Ga;re||ie(),H||(re(),H=!0),te.add(E,f),f.B=0}}function gu(f,E){return Mo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Cr(g(f.Ga,f,E),$a(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const fe=new jn(this,this.j,f);let ye=this.o;if(this.S&&(ye?(ye=k(ye),L(ye,this.S)):ye=this.S),this.m!==null||this.O||(fe.H=ye,ye=null),this.P)e:{for(var E=0,C=0;C<this.i.length;C++){t:{var z=this.i[C];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(E+=z,4096<E){E=C;break e}if(E===4096||C===this.i.length-1){E=C+1;break e}}E=1e3}else E=1e3;E=zo(this,fe,E),C=Kr(this.I),Xt(C,"RID",f),Xt(C,"CVER",22),this.D&&Xt(C,"X-HTTP-Session-Id",this.D),no(this,C),ye&&(this.O?E="headers="+encodeURIComponent(String(ws(ye)))+"&"+E:this.m&&hu(C,this.m,ye)),gn(this.h,fe),this.Ua&&Xt(C,"TYPE","init"),this.P?(Xt(C,"$req",E),Xt(C,"SID","null"),fe.T=!0,Qs(fe,C,null)):Qs(fe,C,E),this.G=2}}else this.G==3&&(f?qa(this,f):this.i.length==0||wc(this.h)||qa(this))};function qa(f,E){var C;E?C=E.l:C=f.U++;const z=Kr(f.I);Xt(z,"SID",f.K),Xt(z,"RID",C),Xt(z,"AID",f.T),no(f,z),f.m&&f.o&&hu(z,f.m,f.o),C=new jn(f,f.j,C,f.B+1),f.m===null&&(C.H=f.o),E&&(f.i=E.D.concat(f.i)),E=zo(f,C,1e3),C.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),gn(f.h,C),Qs(C,z,E)}function no(f,E){f.H&&J(f.H,function(C,z){Xt(E,z,C)}),f.l&&bc({},function(C,z){Xt(E,z,C)})}function zo(f,E,C){C=Math.min(f.i.length,C);var z=f.l?g(f.l.Na,f.l,f):null;e:{var fe=f.i;let ye=-1;for(;;){const Oe=["count="+C];ye==-1?0<C?(ye=fe[0].g,Oe.push("ofs="+ye)):ye=0:Oe.push("ofs="+ye);let bt=!0;for(let Nt=0;Nt<C;Nt++){let St=fe[Nt].g;const Kt=fe[Nt].map;if(St-=ye,0>St)ye=Math.max(0,fe[Nt].g-100),bt=!1;else try{cu(Kt,Oe,"req"+St+"_")}catch{z&&z(Kt)}}if(bt){z=Oe.join("&");break e}}}return f=f.i.splice(0,C),E.D=f,z}function Ha(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;re||ie(),H||(re(),H=!0),te.add(E,f),f.v=0}}function qo(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Cr(g(f.Fa,f),$a(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Ac(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Cr(g(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xe(10),Ua(this),Ac(this))};function Wa(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function Ac(f){f.g=new jn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Kr(f.qa);Xt(E,"RID","rpc"),Xt(E,"SID",f.K),Xt(E,"AID",f.T),Xt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&Xt(E,"TO",f.ja),Xt(E,"TYPE","xmlhttp"),no(f,E),f.m&&f.o&&hu(E,f.m,f.o),f.L&&(f.g.I=f.L);var C=f.g;f=f.ia,C.L=1,C.v=jo(Kr(E)),C.m=null,C.P=!0,Ro(C,f)}t.Za=function(){this.C!=null&&(this.C=null,Ua(this),qo(this),Xe(19))};function bs(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function ro(f,E){var C=null;if(f.g==E){bs(f),Wa(f),f.g=null;var z=2}else if(iu(f.h,E))C=E.D,su(f.h,E),z=1;else return;if(f.G!=0){if(E.o)if(z==1){C=E.m?E.m.length:0,E=Date.now()-E.F;var fe=f.B;z=$i(),dt(z,new ui(z,C)),za(f)}else Ha(f);else if(fe=E.s,fe==3||fe==0&&0<E.X||!(z==1&&gu(f,E)||z==2&&qo(f)))switch(C&&0<C.length&&(E=f.h,E.i=E.i.concat(C)),fe){case 1:Dr(f,5);break;case 4:Dr(f,10);break;case 3:Dr(f,6);break;default:Dr(f,2)}}}function $a(f,E){let C=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(C*=2),C*E}function Dr(f,E){if(f.j.info("Error code "+E),E==2){var C=g(f.fb,f),z=f.Xa;const fe=!z;z=new Nn(z||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Fo(z,"https"),jo(z),fe?Yi(z.toString(),C):xc(z.toString(),C)}else Xe(2);f.G=0,f.l&&f.l.sa(E),Ya(f),Uo(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Xe(2)):(this.j.info("Failed to ping google.com"),Xe(1))};function Ya(f){if(f.G=0,f.ka=[],f.l){const E=ou(f.h);(E.length!=0||f.i.length!=0)&&(T(f.ka,E),T(f.ka,f.i),f.h.i.length=0,S(f.i),f.i.length=0),f.l.ra()}}function v(f,E,C){var z=C instanceof Nn?Kr(C):new Nn(C);if(z.g!="")E&&(z.g=E+"."+z.g),Ra(z,z.s);else{var fe=a.location;z=fe.protocol,E=E?E+"."+fe.hostname:fe.hostname,fe=+fe.port;var ye=new Nn(null);z&&Fo(ye,z),E&&(ye.g=E),fe&&Ra(ye,fe),C&&(ye.l=C),z=ye}return C=f.D,E=f.ya,C&&E&&Xt(z,C,E),Xt(z,"VER",f.la),no(f,z),z}function O(f,E,C){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new Gt(new Fa({eb:C})):new Gt(f.pa),E.Ha(f.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Z(){}t=Z.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ae(){}ae.prototype.g=function(f,E){return new de(f,E)};function de(f,E){st.call(this),this.g=new Ba(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!b(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!b(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new qe(this)}_(de,st),de.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},de.prototype.close=function(){_s(this.g)},de.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var C={};C.__data__=f,f=C}else this.u&&(C={},C.__data__=Wt(f),f=C);E.i.push(new ff(E.Ya++,f)),E.G==3&&za(E)},de.prototype.N=function(){this.g.l=null,delete this.j,_s(this.g),delete this.g,de.aa.N.call(this)};function Te(f){Ai.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const C in E){f=C;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}_(Te,Ai);function Le(){hn.call(this),this.status=1}_(Le,hn);function qe(f){this.g=f}_(qe,Z),qe.prototype.ua=function(){dt(this.g,"a")},qe.prototype.ta=function(f){dt(this.g,new Te(f))},qe.prototype.sa=function(f){dt(this.g,new Le)},qe.prototype.ra=function(){dt(this.g,"b")},ae.prototype.createWebChannel=ae.prototype.g,de.prototype.send=de.prototype.o,de.prototype.open=de.prototype.m,de.prototype.close=de.prototype.close,Uk=function(){return new ae},Bk=function(){return $i()},Vk=lt,s2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Nr.NO_ERROR=0,Nr.TIMEOUT=8,Nr.HTTP_ERROR=6,Jm=Nr,ci.COMPLETE="complete",jk=ci,mn.EventType=yr,yr.OPEN="a",yr.CLOSE="b",yr.ERROR="c",yr.MESSAGE="d",st.prototype.listen=st.prototype.K,Xf=mn,Gt.prototype.listenOnce=Gt.prototype.L,Gt.prototype.getLastError=Gt.prototype.Ka,Gt.prototype.getLastErrorCode=Gt.prototype.Ba,Gt.prototype.getStatus=Gt.prototype.Z,Gt.prototype.getResponseJson=Gt.prototype.Oa,Gt.prototype.getResponseText=Gt.prototype.oa,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Ha,Fk=Gt}).apply(typeof vm<"u"?vm:typeof self<"u"?self:typeof window<"u"?window:{});const MS="@firebase/firestore",FS="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Br.UNAUTHENTICATED=new Br(null),Br.GOOGLE_CREDENTIALS=new Br("google-credentials-uid"),Br.FIRST_PARTY=new Br("first-party-uid"),Br.MOCK_USER=new Br("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new e5("@firebase/firestore");function Wc(){return ec.logLevel}function Je(t,...e){if(ec.logLevel<=Rt.DEBUG){const n=e.map(g5);ec.debug(`Firestore (${rf}): ${t}`,...n)}}function Sa(t,...e){if(ec.logLevel<=Rt.ERROR){const n=e.map(g5);ec.error(`Firestore (${rf}): ${t}`,...n)}}function Lh(t,...e){if(ec.logLevel<=Rt.WARN){const n=e.map(g5);ec.warn(`Firestore (${rf}): ${t}`,...n)}}function g5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,zk(t,r,n)}function zk(t,e,n){let r=`FIRESTORE (${rf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Sa(r),new Error(r)}function Jt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||zk(e,i,r)}function xt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends Pa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Br.UNAUTHENTICATED))}shutdown(){}}class w8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _8{constructor(e){this.t=e,this.currentUser=Br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Jt(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ol;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ol,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Je("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ol)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Jt(typeof r.accessToken=="string",31837,{l:r}),new qk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jt(e===null||typeof e=="string",2055,{h:e}),new Br(e)}}class b8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Br.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class S8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new b8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Br.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Jt(this.o===void 0,3512);const r=s=>{s.error!=null&&Je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,Je("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{Je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):Je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jS(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Jt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=x8(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Pt(t,e){return t<e?-1:t>e?1:0}function o2(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Pt(r,i);{const s=Hk(),o=T8(s.encode(VS(t,n)),s.encode(VS(e,n)));return o!==0?o:Pt(r,i)}}n+=r>65535?2:1}return Pt(t.length,e.length)}function VS(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function T8(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Pt(t[n],e[n]);return Pt(t.length,e.length)}function Oh(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=-62135596800,US=1e6;class cr{static now(){return cr.fromMillis(Date.now())}static fromDate(e){return cr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*US);return new cr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ct(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<BS)throw new ct(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ct(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/US}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-BS;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static fromTimestamp(e){return new wt(e)}static min(){return new wt(new cr(0,0))}static max(){return new wt(new cr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zS="__name__";class ho{constructor(e,n,r){n===void 0?n=0:n>e.length&&vt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&vt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ho.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ho?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ho.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Pt(e.length,n.length)}static compareSegments(e,n){const r=ho.isNumericId(e),i=ho.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ho.extractNumericId(e).compare(ho.extractNumericId(n)):o2(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ll.fromString(e.substring(4,e.length-2))}}class On extends ho{construct(e,n,r){return new On(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ct(Fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new On(n)}static emptyPath(){return new On([])}}const k8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tr extends ho{construct(e,n,r){return new Tr(e,n,r)}static isValidIdentifier(e){return k8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zS}static keyField(){return new Tr([zS])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ct(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ct(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ct(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ct(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tr(n)}static emptyPath(){return new Tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht(On.fromString(e))}static fromName(e){return new ht(On.fromString(e).popFirst(5))}static empty(){return new ht(On.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&On.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return On.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new On(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=-1;function A8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=wt.fromTimestamp(r===1e9?new cr(n+1,0):new cr(n,r));return new zl(i,ht.empty(),e)}function P8(t){return new zl(t.readTime,t.key,Wd)}class zl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zl(wt.min(),ht.empty(),Wd)}static max(){return new zl(wt.max(),ht.empty(),Wd)}}function I8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ht.comparator(t.documentKey,e.documentKey),n!==0?n:Pt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t){if(t.code!==Fe.FAILED_PRECONDITION||t.message!==C8)throw t;Je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ce((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ce?n:Ce.resolve(n)}catch(n){return Ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ce.reject(n)}static resolve(e){return new Ce((n,r)=>{n(e)})}static reject(e){return new Ce((n,r)=>{r(e)})}static waitFor(e){return new Ce((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=Ce.resolve(!1);for(const r of e)n=n.next(i=>i?Ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new Ce((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new Ce((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function D8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function of(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}q0.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=-1;function H0(t){return t==null}function Hg(t){return t===0&&1/t==-1/0}function R8(t){return typeof t=="number"&&Number.isInteger(t)&&!Hg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="";function L8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=qS(e)),e=O8(t.get(n),e);return qS(e)}function O8(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case $k:n+="";break;default:n+=s}}return n}function qS(t){return t+$k+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,n){this.comparator=e,this.root=n||xr.EMPTY}insert(e,n){return new Pn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,xr.BLACK,null,null))}remove(e){return new Pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ym(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ym(this.root,e,this.comparator,!1)}getReverseIterator(){return new ym(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ym(this.root,e,this.comparator,!0)}}class ym{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??xr.RED,this.left=i??xr.EMPTY,this.right=s??xr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new xr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return xr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}xr.EMPTY=null,xr.RED=!0,xr.BLACK=!1;xr.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new xr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.comparator=e,this.data=new Pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new WS(this.data.getIterator())}getIteratorFrom(e){return new WS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof hr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new hr(this.comparator);return n.data=e,n}}class WS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.fields=e,e.sort(Tr.comparator)}static empty(){return new Rs([])}unionWith(e){let n=new hr(Tr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Rs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oh(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Gk("Invalid base64 string: "+s):s}}(e);return new Pr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const M8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ql(t){if(Jt(!!t,39018),typeof t=="string"){let e=0;const n=M8.exec(t);if(Jt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Un(t.seconds),nanos:Un(t.nanos)}}function Un(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hl(t){return typeof t=="string"?Pr.fromBase64String(t):Pr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk="server_timestamp",Qk="__type__",Jk="__previous_value__",Xk="__local_write_time__";function y5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Qk])===null||n===void 0?void 0:n.stringValue)===Kk}function W0(t){const e=t.mapValue.fields[Jk];return y5(e)?W0(e):e}function $d(t){const e=ql(t.mapValue.fields[Xk].timestampValue);return new cr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F8{constructor(e,n,r,i,s,o,a,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=c}}const Wg="(default)";class Yd{constructor(e,n){this.projectId=e,this.database=n||Wg}static empty(){return new Yd("","")}get isDefaultDatabase(){return this.database===Wg}isEqual(e){return e instanceof Yd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk="__type__",j8="__max__",wm={mapValue:{}},eA="__vector__",$g="value";function Wl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?y5(t)?4:B8(t)?9007199254740991:V8(t)?10:11:vt(28295,{value:t})}function Po(t,e){if(t===e)return!0;const n=Wl(t);if(n!==Wl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $d(t).isEqual($d(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ql(i.timestampValue),a=ql(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Hl(i.bytesValue).isEqual(Hl(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Un(i.geoPointValue.latitude)===Un(s.geoPointValue.latitude)&&Un(i.geoPointValue.longitude)===Un(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Un(i.integerValue)===Un(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Un(i.doubleValue),a=Un(s.doubleValue);return o===a?Hg(o)===Hg(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Oh(t.arrayValue.values||[],e.arrayValue.values||[],Po);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(HS(o)!==HS(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Po(o[l],a[l])))return!1;return!0}(t,e);default:return vt(52216,{left:t})}}function Gd(t,e){return(t.values||[]).find(n=>Po(n,e))!==void 0}function Mh(t,e){if(t===e)return 0;const n=Wl(t),r=Wl(e);if(n!==r)return Pt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Un(s.integerValue||s.doubleValue),l=Un(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return $S(t.timestampValue,e.timestampValue);case 4:return $S($d(t),$d(e));case 5:return o2(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Hl(s),l=Hl(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Pt(a[u],l[u]);if(c!==0)return c}return Pt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Pt(Un(s.latitude),Un(o.latitude));return a!==0?a:Pt(Un(s.longitude),Un(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return YS(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,c;const d=s.fields||{},g=o.fields||{},p=(a=d[$g])===null||a===void 0?void 0:a.arrayValue,_=(l=g[$g])===null||l===void 0?void 0:l.arrayValue,S=Pt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0);return S!==0?S:YS(p,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===wm.mapValue&&o===wm.mapValue)return 0;if(s===wm.mapValue)return 1;if(o===wm.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const g=o2(l[d],c[d]);if(g!==0)return g;const p=Mh(a[l[d]],u[c[d]]);if(p!==0)return p}return Pt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw vt(23264,{Pe:n})}}function $S(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pt(t,e);const n=ql(t),r=ql(e),i=Pt(n.seconds,r.seconds);return i!==0?i:Pt(n.nanos,r.nanos)}function YS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Mh(n[i],r[i]);if(s)return s}return Pt(n.length,r.length)}function Fh(t){return a2(t)}function a2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ql(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hl(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ht.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=a2(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${a2(n.fields[o])}`;return i+"}"}(t.mapValue):vt(61005,{value:t})}function Xm(t){switch(Wl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=W0(t);return e?16+Xm(e):16;case 5:return 2*t.stringValue.length;case 6:return Hl(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Xm(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return hc(r.fields,(s,o)=>{i+=s.length+Xm(o)}),i}(t.mapValue);default:throw vt(13486,{value:t})}}function l2(t){return!!t&&"integerValue"in t}function w5(t){return!!t&&"arrayValue"in t}function GS(t){return!!t&&"nullValue"in t}function KS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zm(t){return!!t&&"mapValue"in t}function V8(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Zk])===null||n===void 0?void 0:n.stringValue)===eA}function md(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return hc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=md(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=md(t.arrayValue.values[n]);return e}return Object.assign({},t)}function B8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===j8}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.value=e}static empty(){return new os({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=md(n)}setAll(e){let n=Tr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=md(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Po(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hc(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new os(md(this.value))}}function tA(t){const e=[];return hc(t.fields,(n,r)=>{const i=new Tr([n]);if(Zm(r)){const s=tA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Rs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new zr(e,0,wt.min(),wt.min(),wt.min(),os.empty(),0)}static newFoundDocument(e,n,r,i){return new zr(e,1,n,wt.min(),r,i,0)}static newNoDocument(e,n){return new zr(e,2,n,wt.min(),wt.min(),os.empty(),0)}static newUnknownDocument(e,n){return new zr(e,3,n,wt.min(),wt.min(),os.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=os.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=os.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.position=e,this.inclusive=n}}function QS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ht.comparator(ht.fromName(o.referenceValue),n.key):r=Mh(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function JS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Po(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n="asc"){this.field=e,this.dir=n}}function U8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{}class lr extends nA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new q8(e,n,r):n==="array-contains"?new $8(e,r):n==="in"?new Y8(e,r):n==="not-in"?new G8(e,r):n==="array-contains-any"?new K8(e,r):new lr(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new H8(e,r):new W8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Mh(n,this.value)):n!==null&&Wl(this.value)===Wl(n)&&this.matchesComparison(Mh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Io extends nA{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Io(e,n)}matches(e){return rA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function rA(t){return t.op==="and"}function iA(t){return z8(t)&&rA(t)}function z8(t){for(const e of t.filters)if(e instanceof Io)return!1;return!0}function u2(t){if(t instanceof lr)return t.field.canonicalString()+t.op.toString()+Fh(t.value);if(iA(t))return t.filters.map(e=>u2(e)).join(",");{const e=t.filters.map(n=>u2(n)).join(",");return`${t.op}(${e})`}}function sA(t,e){return t instanceof lr?function(r,i){return i instanceof lr&&r.op===i.op&&r.field.isEqual(i.field)&&Po(r.value,i.value)}(t,e):t instanceof Io?function(r,i){return i instanceof Io&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&sA(o,i.filters[a]),!0):!1}(t,e):void vt(19439)}function oA(t){return t instanceof lr?function(n){return`${n.field.canonicalString()} ${n.op} ${Fh(n.value)}`}(t):t instanceof Io?function(n){return n.op.toString()+" {"+n.getFilters().map(oA).join(" ,")+"}"}(t):"Filter"}class q8 extends lr{constructor(e,n,r){super(e,n,r),this.key=ht.fromName(r.referenceValue)}matches(e){const n=ht.comparator(e.key,this.key);return this.matchesComparison(n)}}class H8 extends lr{constructor(e,n){super(e,"in",n),this.keys=aA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class W8 extends lr{constructor(e,n){super(e,"not-in",n),this.keys=aA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ht.fromName(r.referenceValue))}class $8 extends lr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return w5(n)&&Gd(n.arrayValue,this.value)}}class Y8 extends lr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gd(this.value.arrayValue,n)}}class G8 extends lr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gd(this.value.arrayValue,n)}}class K8 extends lr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!w5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q8{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Ie=null}}function XS(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Q8(t,e,n,r,i,s,o)}function _5(t){const e=xt(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>u2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),H0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Fh(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Fh(r)).join(",")),e.Ie=n}return e.Ie}function b5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!U8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!JS(t.startAt,e.startAt)&&JS(t.endAt,e.endAt)}function c2(t){return ht.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function J8(t,e,n,r,i,s,o,a){return new $0(t,e,n,r,i,s,o,a)}function S5(t){return new $0(t)}function ZS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function X8(t){return t.collectionGroup!==null}function gd(t){const e=xt(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new hr(Tr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new Gg(s,r))}),n.has(Tr.keyField().canonicalString())||e.Ee.push(new Gg(Tr.keyField(),r))}return e.Ee}function Eo(t){const e=xt(t);return e.de||(e.de=Z8(e,gd(t))),e.de}function Z8(t,e){if(t.limitType==="F")return XS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Gg(i.field,s)});const n=t.endAt?new Yg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yg(t.startAt.position,t.startAt.inclusive):null;return XS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function h2(t,e,n){return new $0(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Y0(t,e){return b5(Eo(t),Eo(e))&&t.limitType===e.limitType}function lA(t){return`${_5(Eo(t))}|lt:${t.limitType}`}function $c(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>oA(i)).join(", ")}]`),H0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Fh(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Fh(i)).join(",")),`Target(${r})`}(Eo(t))}; limitType=${t.limitType})`}function G0(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ht.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of gd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=QS(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,gd(r),i)||r.endAt&&!function(o,a,l){const u=QS(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,gd(r),i))}(t,e)}function e7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uA(t){return(e,n)=>{let r=!1;for(const i of gd(t)){const s=t7(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function t7(t,e,n){const r=t.field.isKeyField()?ht.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Mh(l,u):vt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hc(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Yk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7=new Pn(ht.comparator);function Ea(){return n7}const cA=new Pn(ht.comparator);function Zf(...t){let e=cA;for(const n of t)e=e.insert(n.key,n);return e}function hA(t){let e=cA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Du(){return vd()}function fA(){return vd()}function vd(){return new fc(t=>t.toString(),(t,e)=>t.isEqual(e))}const r7=new Pn(ht.comparator),i7=new hr(ht.comparator);function Lt(...t){let e=i7;for(const n of t)e=e.add(n);return e}const s7=new hr(Pt);function o7(){return s7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hg(e)?"-0":e}}function dA(t){return{integerValue:""+t}}function a7(t,e){return R8(e)?dA(e):E5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(){this._=void 0}}function l7(t,e,n){return t instanceof Kg?function(i,s){const o={fields:{[Qk]:{stringValue:Kk},[Xk]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&y5(s)&&(s=W0(s)),s&&(o.fields[Jk]=s),{mapValue:o}}(n,e):t instanceof Kd?mA(t,e):t instanceof Qd?gA(t,e):function(i,s){const o=pA(i,s),a=eE(o)+eE(i.Re);return l2(o)&&l2(i.Re)?dA(a):E5(i.serializer,a)}(t,e)}function u7(t,e,n){return t instanceof Kd?mA(t,e):t instanceof Qd?gA(t,e):n}function pA(t,e){return t instanceof Qg?function(r){return l2(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Kg extends K0{}class Kd extends K0{constructor(e){super(),this.elements=e}}function mA(t,e){const n=vA(e);for(const r of t.elements)n.some(i=>Po(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qd extends K0{constructor(e){super(),this.elements=e}}function gA(t,e){let n=vA(e);for(const r of t.elements)n=n.filter(i=>!Po(i,r));return{arrayValue:{values:n}}}class Qg extends K0{constructor(e,n){super(),this.serializer=e,this.Re=n}}function eE(t){return Un(t.integerValue||t.doubleValue)}function vA(t){return w5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function c7(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Kd&&i instanceof Kd||r instanceof Qd&&i instanceof Qd?Oh(r.elements,i.elements,Po):r instanceof Qg&&i instanceof Qg?Po(r.Re,i.Re):r instanceof Kg&&i instanceof Kg}(t.transform,e.transform)}class h7{constructor(e,n){this.version=e,this.transformResults=n}}class ca{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ca}static exists(e){return new ca(void 0,e)}static updateTime(e){return new ca(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Q0{}function yA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _A(t.key,ca.none()):new gp(t.key,t.data,ca.none());{const n=t.data,r=os.empty();let i=new hr(Tr.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new dc(t.key,r,new Rs(i.toArray()),ca.none())}}function f7(t,e,n){t instanceof gp?function(i,s,o){const a=i.value.clone(),l=nE(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof dc?function(i,s,o){if(!eg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=nE(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(wA(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function yd(t,e,n,r){return t instanceof gp?function(s,o,a,l){if(!eg(s.precondition,o))return a;const u=s.value.clone(),c=rE(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof dc?function(s,o,a,l){if(!eg(s.precondition,o))return a;const u=rE(s.fieldTransforms,l,o),c=o.data;return c.setAll(wA(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return eg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function d7(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=pA(r.transform,i||null);s!=null&&(n===null&&(n=os.empty()),n.set(r.field,s))}return n||null}function tE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oh(r,i,(s,o)=>c7(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gp extends Q0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dc extends Q0{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function wA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function nE(t,e,n){const r=new Map;Jt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,u7(o,a,n[i]))}return r}function rE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,l7(s,o,e))}return r}class _A extends Q0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p7 extends Q0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&f7(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=fA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=yA(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Lt())}isEqual(e){return this.batchId===e.batchId&&Oh(this.mutations,e.mutations,(n,r)=>tE(n,r))&&Oh(this.baseMutations,e.baseMutations,(n,r)=>tE(n,r))}}class x5{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Jt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return r7}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new x5(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tr,Ft;function y7(t){switch(t){case Fe.OK:return vt(64938);case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0;default:return vt(15467,{code:t})}}function bA(t){if(t===void 0)return Sa("GRPC error has no .code"),Fe.UNKNOWN;switch(t){case tr.OK:return Fe.OK;case tr.CANCELLED:return Fe.CANCELLED;case tr.UNKNOWN:return Fe.UNKNOWN;case tr.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case tr.INTERNAL:return Fe.INTERNAL;case tr.UNAVAILABLE:return Fe.UNAVAILABLE;case tr.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case tr.NOT_FOUND:return Fe.NOT_FOUND;case tr.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case tr.ABORTED:return Fe.ABORTED;case tr.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case tr.DATA_LOSS:return Fe.DATA_LOSS;default:return vt(39323,{code:t})}}(Ft=tr||(tr={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new Ll([4294967295,4294967295],0);function iE(t){const e=Hk().encode(t),n=new Mk;return n.update(e),new Uint8Array(n.digest())}function sE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ll([n,r],0),new Ll([i,s],0)]}class T5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ed(`Invalid padding: ${n}`);if(r<0)throw new ed(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ed(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ed(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ll.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Ll.fromNumber(r)));return i.compare(w7)===1&&(i=new Ll([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=iE(e),[r,i]=sE(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);if(!this.be(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new T5(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.pe===0)return;const n=iE(e),[r,i]=sE(n);for(let s=0;s<this.hashCount;s++){const o=this.we(r,i,s);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ed extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,vp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new J0(wt.min(),i,new Pn(Pt),Ea(),Lt())}}class vp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vp(r,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class SA{constructor(e,n){this.targetId=e,this.Ce=n}}class EA{constructor(e,n,r=Pr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class oE{constructor(){this.Fe=0,this.Me=aE(),this.xe=Pr.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Lt(),n=Lt(),r=Lt();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:vt(38017,{changeType:s})}}),new vp(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=aE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Jt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class _7{constructor(e){this.ze=e,this.je=new Map,this.He=Ea(),this.Je=_m(),this.Ye=_m(),this.Ze=new Pn(Pt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:vt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(c2(s))if(r===0){const o=new ht(s.path);this.tt(n,o,zr.newNoDocument(o,wt.min()))}else Jt(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const a=this.ct(e),l=a?this.lt(a,e,o):1;if(l!==0){this.st(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Hl(r).toUint8Array()}catch(l){if(l instanceof Gk)return Lh("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new T5(o,i,s)}catch(l){return Lh(l instanceof ed?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.ze.Pt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,o)=>{const a=this._t(o);if(a){if(s.current&&c2(a.target)){const l=new ht(a.target.path);this.Et(l).has(o)||this.dt(o,l)||this.tt(o,l,zr.newNoDocument(l,e))}s.Le&&(n.set(o,s.qe()),s.Qe())}});let r=Lt();this.Ye.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.He.forEach((s,o)=>o.setReadTime(e));const i=new J0(e,n,this.Ze,this.He,r);return this.He=Ea(),this.Je=_m(),this.Ye=_m(),this.Ze=new Pn(Pt),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new oE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new hr(Pt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new hr(Pt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Je("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new oE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function _m(){return new Pn(ht.comparator)}function aE(){return new Pn(ht.comparator)}const b7={asc:"ASCENDING",desc:"DESCENDING"},S7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E7={and:"AND",or:"OR"};class x7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function f2(t,e){return t.useProto3Json||H0(e)?e:{value:e}}function Jg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function T7(t,e){return Jg(t,e.toTimestamp())}function xo(t){return Jt(!!t,49232),wt.fromTimestamp(function(n){const r=ql(n);return new cr(r.seconds,r.nanos)}(t))}function k5(t,e){return d2(t,e).canonicalString()}function d2(t,e){const n=function(i){return new On(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TA(t){const e=On.fromString(t);return Jt(CA(e),10190,{key:e.toString()}),e}function p2(t,e){return k5(t.databaseId,e.path)}function xy(t,e){const n=TA(e);if(n.get(1)!==t.databaseId.projectId)throw new ct(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ct(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ht(AA(n))}function kA(t,e){return k5(t.databaseId,e)}function k7(t){const e=TA(t);return e.length===4?On.emptyPath():AA(e)}function m2(t){return new On(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AA(t){return Jt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function lE(t,e,n){return{name:p2(t,e),fields:n.value.mapValue.fields}}function A7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:vt(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(Jt(c===void 0||typeof c=="string",58123),Pr.fromBase64String(c||"")):(Jt(c===void 0||c instanceof Buffer||c instanceof Uint8Array,16193),Pr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?Fe.UNKNOWN:bA(u.code);return new ct(c,u.message||"")}(o);n=new EA(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=xy(t,r.document.name),s=xo(r.document.updateTime),o=r.document.createTime?xo(r.document.createTime):wt.min(),a=new os({mapValue:{fields:r.document.fields}}),l=zr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new tg(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=xy(t,r.document),s=r.readTime?xo(r.readTime):wt.min(),o=zr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new tg([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=xy(t,r.document),s=r.removedTargetIds||[];n=new tg([],s,i,null)}else{if(!("filter"in e))return vt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new v7(i,s),a=r.targetId;n=new SA(a,o)}}return n}function P7(t,e){let n;if(e instanceof gp)n={update:lE(t,e.key,e.value)};else if(e instanceof _A)n={delete:p2(t,e.key)};else if(e instanceof dc)n={update:lE(t,e.key,e.data),updateMask:F7(e.fieldMask)};else{if(!(e instanceof p7))return vt(16599,{ft:e.type});n={verify:p2(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Kg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Kd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qg)return{fieldPath:o.field.canonicalString(),increment:a.Re};throw vt(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:T7(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:vt(27497)}(t,e.precondition)),n}function I7(t,e){return t&&t.length>0?(Jt(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?xo(i.updateTime):xo(s);return o.isEqual(wt.min())&&(o=xo(s)),new h7(o,i.transformResults||[])}(n,e))):[]}function C7(t,e){return{documents:[kA(t,e.path)]}}function N7(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kA(t,i);const s=function(u){if(u.length!==0)return IA(Io.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(g){return{field:Yc(g.field),direction:L7(g.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=f2(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function D7(t){let e=k7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Jt(r===1,65062);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const g=PA(d);return g instanceof Io&&iA(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(g=>function(_){return new Gg(Gc(_.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(d){let g;return g=typeof d=="object"?d.value:d,H0(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(d){const g=!!d.before,p=d.values||[];return new Yg(p,g)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const g=!d.before,p=d.values||[];return new Yg(p,g)}(n.endAt)),J8(e,i,o,s,a,"F",l,u)}function R7(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function PA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gc(n.unaryFilter.field);return lr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gc(n.unaryFilter.field);return lr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Gc(n.unaryFilter.field);return lr.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gc(n.unaryFilter.field);return lr.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(t):t.fieldFilter!==void 0?function(n){return lr.create(Gc(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Io.create(n.compositeFilter.filters.map(r=>PA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(n.compositeFilter.op))}(t):vt(30097,{filter:t})}function L7(t){return b7[t]}function O7(t){return S7[t]}function M7(t){return E7[t]}function Yc(t){return{fieldPath:t.canonicalString()}}function Gc(t){return Tr.fromServerFormat(t.fieldPath)}function IA(t){return t instanceof lr?function(n){if(n.op==="=="){if(KS(n.value))return{unaryFilter:{field:Yc(n.field),op:"IS_NAN"}};if(GS(n.value))return{unaryFilter:{field:Yc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KS(n.value))return{unaryFilter:{field:Yc(n.field),op:"IS_NOT_NAN"}};if(GS(n.value))return{unaryFilter:{field:Yc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yc(n.field),op:O7(n.op),value:n.value}}}(t):t instanceof Io?function(n){const r=n.getFilters().map(i=>IA(i));return r.length===1?r[0]:{compositeFilter:{op:M7(n.op),filters:r}}}(t):vt(54877,{filter:t})}function F7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n,r,i,s=wt.min(),o=wt.min(),a=Pr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new wl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e){this.wt=e}}function V7(t){const e=D7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?h2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(){this.yn=new U7}addToCollectionParentIndex(e,n){return this.yn.add(n),Ce.resolve()}getCollectionParents(e,n){return Ce.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return Ce.resolve()}deleteFieldIndex(e,n){return Ce.resolve()}deleteAllFieldIndexes(e){return Ce.resolve()}createTargetIndexes(e,n){return Ce.resolve()}getDocumentsMatchingTarget(e,n){return Ce.resolve(null)}getIndexType(e,n){return Ce.resolve(0)}getFieldIndexes(e,n){return Ce.resolve([])}getNextCollectionGroupToUpdate(e){return Ce.resolve(null)}getMinOffset(e,n){return Ce.resolve(zl.min())}getMinOffsetFromCollectionGroup(e,n){return Ce.resolve(zl.min())}updateCollectionGroup(e,n,r){return Ce.resolve()}updateIndexEntries(e,n){return Ce.resolve()}}class U7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new hr(On.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new hr(On.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NA=41943040;class gi{static withCacheSize(e){return new gi(e,gi.DEFAULT_COLLECTION_PERCENTILE,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi.DEFAULT_COLLECTION_PERCENTILE=10,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gi.DEFAULT=new gi(NA,gi.DEFAULT_COLLECTION_PERCENTILE,gi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gi.DISABLED=new gi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new jh(0)}static ir(){return new jh(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="LruGarbageCollector",z7=1048576;function hE([t,e],[n,r]){const i=Pt(t,n);return i===0?Pt(e,r):i}class q7{constructor(e){this.cr=e,this.buffer=new hr(hE),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class H7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Je(cE,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){of(n)?Je(cE,"Ignoring IndexedDB error during garbage collection: ",n):await sf(n)}await this.Ir(3e5)})}}class W7{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ce.resolve(q0.le);const r=new q7(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Je("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(uE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uE):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,s,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(Je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Wc()<=Rt.DEBUG&&Je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-c}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function $7(t,e){return new W7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y7{constructor(){this.changes=new fc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G7{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yd(r.mutation,i,Rs.empty(),cr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Lt()){const i=Du();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Zf();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Du();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Lt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ea();const o=vd(),a=function(){return vd()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof dc)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),yd(c.mutation,u,c.mutation.getFieldMask(),cr.now())):o.set(u.key,Rs.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new G7(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=vd();let i=new Pn((o,a)=>o-a),s=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Rs.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Lt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=fA();c.forEach(g=>{if(!s.has(g)){const p=yA(n.get(g),r.get(g));p!==null&&d.set(g,p),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return Ce.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ht.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):X8(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):Ce.resolve(Du());let a=Wd,l=s;return o.next(u=>Ce.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?Ce.resolve():this.remoteDocumentCache.getEntry(e,c).next(g=>{l=l.insert(c,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Lt())).next(c=>({batchId:a,changes:hA(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ht(n)).next(r=>{let i=Zf();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Zf();return this.indexManager.getCollectionParents(e,s).next(a=>Ce.forEach(a,l=>{const u=function(d,g){return new $0(g,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,g)=>{o=o.insert(d,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,zr.newInvalidDocument(c)))});let a=Zf();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&yd(c.mutation,u,Rs.empty(),cr.now()),G0(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q7{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return Ce.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xo(i.createTime)}}(n)),Ce.resolve()}getNamedQuery(e,n){return Ce.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:V7(i.bundledQuery),readTime:xo(i.readTime)}}(n)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(){this.overlays=new Pn(ht.comparator),this.Or=new Map}getOverlay(e,n){return Ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Du();return Ce.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),Ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),Ce.resolve()}getOverlaysForCollection(e,n,r){const i=Du(),s=n.length+1,o=new ht(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Du(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Du(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Ce.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new g7(n,r));let s=this.Or.get(n);s===void 0&&(s=Lt(),this.Or.set(n,s)),this.Or.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(){this.sessionToken=Pr.EMPTY_BYTE_STRING}getSessionToken(e){return Ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this.Nr=new hr(pr.Br),this.Lr=new hr(pr.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new pr(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new pr(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new ht(new On([])),r=new pr(n,e),i=new pr(n,e+1),s=[];return this.Lr.forEachInRange([r,i],o=>{this.Qr(o),s.push(o.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ht(new On([])),r=new pr(n,e),i=new pr(n,e+1);let s=Lt();return this.Lr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new pr(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class pr{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ht.comparator(e.key,n.key)||Pt(e.Gr,n.Gr)}static kr(e,n){return Pt(e.Gr,n.Gr)||ht.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new hr(pr.Br)}checkEmpty(e){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new m7(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.zr=this.zr.add(new pr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ce.resolve(o)}lookupMutationBatch(e,n){return Ce.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),s=i<0?0:i;return Ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?v5:this.Jn-1)}getAllMutationBatches(e){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new pr(n,0),i=new pr(n,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],o=>{const a=this.jr(o.Gr);s.push(a)}),Ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new hr(Pt);return n.forEach(i=>{const s=new pr(i,0),o=new pr(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,o],a=>{r=r.add(a.Gr)})}),Ce.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ht.isDocumentKey(s)||(s=s.child(""));const o=new pr(new ht(s),0);let a=new hr(Pt);return this.zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Gr)),!0)},o),Ce.resolve(this.Jr(a))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Jt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return Ce.forEach(n.mutations,i=>{const s=new pr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new pr(n,0),i=this.zr.firstAfterOrEqual(r);return Ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ce.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.Zr=e,this.docs=function(){return new Pn(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ce.resolve(r?r.document.mutableCopy():zr.newInvalidDocument(n))}getEntries(e,n){let r=Ea();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zr.newInvalidDocument(i))}),Ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ea();const o=n.path,a=new ht(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||I8(P8(c),r)<=0||(i.has(c.key)||G0(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Ce.resolve(s)}getAllFromCollectionGroup(e,n,r,i){vt(9500)}Xr(e,n){return Ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tF(this)}getSize(e){return Ce.resolve(this.size)}}class tF extends Y7{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),Ce.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e){this.persistence=e,this.ei=new fc(n=>_5(n),b5),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.ti=0,this.ni=new A5,this.targetCount=0,this.ri=jh.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),Ce.resolve()}getLastRemoteSnapshotVersion(e){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ce.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),Ce.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new jh(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,Ce.resolve()}updateTargetData(e,n){return this.ar(n),Ce.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ei.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ce.waitFor(s).next(()=>i)}getTargetCount(e){return Ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return Ce.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),Ce.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),Ce.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),Ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return Ce.resolve(r)}containsKey(e,n){return Ce.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.ii={},this.overlays={},this.si=new q0(0),this.oi=!1,this.oi=!0,this._i=new X7,this.referenceDelegate=e(this),this.ai=new nF(this),this.indexManager=new B7,this.remoteDocumentCache=function(i){return new eF(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new j7(n),this.ci=new Q7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new J7,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new Z7(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){Je("MemoryPersistence","Starting transaction:",e);const i=new rF(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,n){return Ce.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class rF extends N8{constructor(e){super(),this.currentSequenceNumber=e}}class P5{constructor(e){this.persistence=e,this.Ti=new A5,this.Ii=null}static Ei(e){return new P5(e)}get di(){if(this.Ii)return this.Ii;throw vt(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),Ce.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),Ce.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),Ce.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.di,r=>{const i=ht.fromPath(r);return this.Ai(e,i).next(s=>{s||n.removeEntry(i,wt.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return Ce.or([()=>Ce.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Xg{constructor(e,n){this.persistence=e,this.Ri=new fc(r=>L8(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=$7(this,n)}static Ei(e,n){return new Xg(e,n)}li(){}hi(e){return Ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return Ce.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?Ce.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,o=>this.gr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,wt.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),Ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),Ce.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),Ce.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),Ce.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xm(e.data.value)),n}gr(e,n,r){return Ce.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return Ce.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=Lt(),i=Lt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new I5(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return UL()?8:D8($r())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Vs(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new iF;return this.fs(e,n,o).next(a=>{if(s.result=a,this.Is)return this.gs(e,n,o,a.size)})}).next(()=>s.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(Wc()<=Rt.DEBUG&&Je("QueryEngine","SDK will not create cache indexes for query:",$c(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),Ce.resolve()):(Wc()<=Rt.DEBUG&&Je("QueryEngine","Query:",$c(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Wc()<=Rt.DEBUG&&Je("QueryEngine","The SDK decides to create cache indexes for query:",$c(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Eo(n))):Ce.resolve())}Rs(e,n){if(ZS(n))return Ce.resolve(null);let r=Eo(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=h2(n,null,"F"),r=Eo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Lt(...s);return this.As.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ps(n,a);return this.ys(n,u,o,l.readTime)?this.Rs(e,h2(n,null,"F")):this.ws(e,u,n,l)}))})))}Vs(e,n,r,i){return ZS(n)||i.isEqual(wt.min())?Ce.resolve(null):this.As.getDocuments(e,r).next(s=>{const o=this.ps(n,s);return this.ys(n,o,r,i)?Ce.resolve(null):(Wc()<=Rt.DEBUG&&Je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$c(n)),this.ws(e,o,n,A8(i,Wd)).next(a=>a))})}ps(e,n){let r=new hr(uA(e));return n.forEach((i,s)=>{G0(e,s)&&(r=r.add(s))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,n,r){return Wc()<=Rt.DEBUG&&Je("QueryEngine","Using full collection scan to execute query:",$c(n)),this.As.getDocumentsMatchingQuery(e,n,zl.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5="LocalStore",oF=3e8;class aF{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new Pn(Pt),this.Ds=new fc(s=>_5(s),b5),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K7(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function lF(t,e,n,r){return new aF(t,e,n,r)}async function RA(t,e){const n=xt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Lt();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ms:u,removedBatchIds:o,addedBatchIds:a}))})})}function uF(t,e){const n=xt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,g=d.keys();let p=Ce.resolve();return g.forEach(_=>{p=p.next(()=>c.getEntry(l,_)).next(S=>{const T=u.docVersions.get(_);Jt(T!==null,48541),S.version.compareTo(T)<0&&(d.applyToRemoteDocument(S,u),S.isValidDocument()&&(S.setReadTime(u.commitVersion),c.addEntry(S)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Lt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function LA(t){const e=xt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function cF(t,e){const n=xt(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const a=[];e.targetChanges.forEach((c,d)=>{const g=i.get(d);if(!g)return;a.push(n.ai.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.ai.addMatchingKeys(s,c.addedDocuments,d)));let p=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Pr.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(S,T,y){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=oF?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(g,p,c)&&a.push(n.ai.updateTargetData(s,p))});let l=Ea(),u=Lt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(hF(s,o,e.documentUpdates).next(c=>{l=c.xs,u=c.Os})),!r.isEqual(wt.min())){const c=n.ai.getLastRemoteSnapshotVersion(s).next(d=>n.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Ce.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ss=i,s))}function hF(t,e,n){let r=Lt(),i=Lt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ea();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(wt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Je(C5,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{xs:o,Os:i}})}function fF(t,e){const n=xt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=v5),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dF(t,e){const n=xt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(s=>s?(i=s,Ce.resolve(i)):n.ai.allocateTargetId(r).next(o=>(i=new wl(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function g2(t,e,n){const r=xt(t),i=r.Ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!of(o))throw o;Je(C5,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function fE(t,e,n){const r=xt(t);let i=wt.min(),s=Lt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=xt(l),g=d.Ds.get(c);return g!==void 0?Ce.resolve(d.Ss.get(g)):d.ai.getTargetData(u,c)}(r,o,Eo(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?i:wt.min(),n?s:Lt())).next(a=>(pF(r,e7(e),a),{documents:a,Ns:s})))}function pF(t,e,n){let r=t.vs.get(e)||wt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.vs.set(e,r)}class dE{constructor(){this.activeTargetIds=o7()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mF{constructor(){this.So=new dE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new dE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="ConnectivityMonitor";class mE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Je(pE,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Je(pE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm=null;function v2(){return bm===null?bm=function(){return 268435456+Math.round(2147483648*Math.random())}():bm++,"0x"+bm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty="RestConnection",vF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yF{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Wg?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,s){const o=v2(),a=this.$o(e,n.toUriEncodedString());Je(Ty,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,i,s);const{host:u}=new URL(a),c=V0(u);return this.Ko(e,a,l,r,c).then(d=>(Je(Ty,`Received RPC '${e}' ${o}: `,d),d),d=>{throw Lh(Ty,`RPC '${e}' ${o} failed with error: `,d,"url: ",a,"request:",r),d})}Wo(e,n,r,i,s,o){return this.Qo(e,n,r,i,s)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+rf}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,n){const r=vF[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="WebChannelConnection";class _F extends yF{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i,s){const o=v2();return new Promise((a,l)=>{const u=new Fk;u.setWithCredentials(!0),u.listenOnce(jk.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Jm.NO_ERROR:const d=u.getResponseJson();Je(Or,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Jm.TIMEOUT:Je(Or,`RPC '${e}' ${o} timed out`),l(new ct(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case Jm.HTTP_ERROR:const g=u.getStatus();if(Je(Or,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const _=p==null?void 0:p.error;if(_&&_.status&&_.message){const S=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(b)>=0?b:Fe.UNKNOWN}(_.status);l(new ct(S,_.message))}else l(new ct(Fe.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ct(Fe.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{s_:e,streamId:o,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{Je(Or,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Je(Or,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}a_(e,n,r){const i=v2(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Uk(),a=Bk(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");Je(Or,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let g=!1,p=!1;const _=new wF({Go:T=>{p?Je(Or,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(g||(Je(Or,`Opening RPC '${e}' stream ${i} transport.`),d.open(),g=!0),Je(Or,`RPC '${e}' stream ${i} sending:`,T),d.send(T))},zo:()=>d.close()}),S=(T,y,b)=>{T.listen(y,A=>{try{b(A)}catch(j){setTimeout(()=>{throw j},0)}})};return S(d,Xf.EventType.OPEN,()=>{p||(Je(Or,`RPC '${e}' stream ${i} transport opened.`),_.t_())}),S(d,Xf.EventType.CLOSE,()=>{p||(p=!0,Je(Or,`RPC '${e}' stream ${i} transport closed`),_.r_())}),S(d,Xf.EventType.ERROR,T=>{p||(p=!0,Lh(Or,`RPC '${e}' stream ${i} transport errored. Name:`,T.name,"Message:",T.message),_.r_(new ct(Fe.UNAVAILABLE,"The operation could not be completed")))}),S(d,Xf.EventType.MESSAGE,T=>{var y;if(!p){const b=T.data[0];Jt(!!b,16349);const A=b,j=(A==null?void 0:A.error)||((y=A[0])===null||y===void 0?void 0:y.error);if(j){Je(Or,`RPC '${e}' stream ${i} received error:`,j);const Y=j.status;let J=function(D){const L=tr[D];if(L!==void 0)return bA(L)}(Y),N=j.message;J===void 0&&(J=Fe.INTERNAL,N="Unknown error status: "+Y+" with message "+j.message),p=!0,_.r_(new ct(J,N)),d.close()}else Je(Or,`RPC '${e}' stream ${i} received:`,b),_.i_(b)}}),S(a,Vk.STAT_EVENT,T=>{T.stat===s2.PROXY?Je(Or,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===s2.NOPROXY&&Je(Or,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.n_()},0),_}}function ky(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t){return new x7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="PersistentStream";class MA{constructor(e,n,r,i,s,o,a,l){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new OA(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===Fe.RESOURCE_EXHAUSTED?(Sa(n.toString()),Sa("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===Fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new ct(Fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Je(gE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(Je(gE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bF extends MA{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=A7(this.serializer,e),r=function(s){if(!("targetChange"in s))return wt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?wt.min():o.readTime?xo(o.readTime):wt.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=m2(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=c2(l)?{documents:C7(s,l)}:{query:N7(s,l).gt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=xA(s,o.resumeToken);const u=f2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(wt.min())>0){a.readTime=Jg(s,o.snapshotVersion.toTimestamp());const u=f2(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=R7(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=m2(this.serializer),n.removeTarget=e,this.F_(n)}}class SF extends MA{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=I7(e.writeResults,e.commitTime),r=xo(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=m2(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>P7(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{}class xF extends EF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new ct(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Qo(e,d2(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ct(Fe.UNKNOWN,s.toString())})}Wo(e,n,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Wo(e,d2(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ct(Fe.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class TF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Sa(n),this.ea=!1):Je("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc="RemoteStore";class kF{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(o=>{r.enqueueAndForget(async()=>{pc(this)&&(Je(tc,"Restarting streams for network reachability change."),await async function(l){const u=xt(l);u.aa.add(4),await yp(u),u.la.set("Unknown"),u.aa.delete(4),await Z0(u)}(this))})}),this.la=new TF(r,i)}}async function Z0(t){if(pc(t))for(const e of t.ua)await e(!0)}async function yp(t){for(const e of t.ua)await e(!1)}function FA(t,e){const n=xt(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),L5(n)?R5(n):af(n).b_()&&D5(n,e))}function N5(t,e){const n=xt(t),r=af(n);n._a.delete(e),r.b_()&&jA(n,e),n._a.size===0&&(r.b_()?r.v_():pc(n)&&n.la.set("Unknown"))}function D5(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}af(t).U_(e)}function jA(t,e){t.ha.Ke(e),af(t).K_(e)}function R5(t){t.ha=new _7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),af(t).start(),t.la.ta()}function L5(t){return pc(t)&&!af(t).w_()&&t._a.size>0}function pc(t){return xt(t).aa.size===0}function VA(t){t.ha=void 0}async function AF(t){t.la.set("Online")}async function PF(t){t._a.forEach((e,n)=>{D5(t,e)})}async function IF(t,e){VA(t),L5(t)?(t.la.ia(e),R5(t)):t.la.set("Unknown")}async function CF(t,e,n){if(t.la.set("Online"),e instanceof EA&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i._a.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i._a.delete(a),i.ha.removeTarget(a))}(t,e)}catch(r){Je(tc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Zg(t,r)}else if(e instanceof tg?t.ha.Xe(e):e instanceof SA?t.ha.ot(e):t.ha.nt(e),!n.isEqual(wt.min()))try{const r=await LA(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.ha.It(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s._a.get(u);c&&s._a.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s._a.get(l);if(!c)return;s._a.set(l,c.withResumeToken(Pr.EMPTY_BYTE_STRING,c.snapshotVersion)),jA(s,l);const d=new wl(c.target,l,u,c.sequenceNumber);D5(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Je(tc,"Failed to raise snapshot:",r),await Zg(t,r)}}async function Zg(t,e,n){if(!of(e))throw e;t.aa.add(1),await yp(t),t.la.set("Offline"),n||(n=()=>LA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Je(tc,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Z0(t)})}function BA(t,e){return e().catch(n=>Zg(t,n,e))}async function ev(t){const e=xt(t),n=$l(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:v5;for(;NF(e);)try{const i=await fF(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,DF(e,i)}catch(i){await Zg(e,i)}UA(e)&&zA(e)}function NF(t){return pc(t)&&t.oa.length<10}function DF(t,e){t.oa.push(e);const n=$l(t);n.b_()&&n.W_&&n.G_(e.mutations)}function UA(t){return pc(t)&&!$l(t).w_()&&t.oa.length>0}function zA(t){$l(t).start()}async function RF(t){$l(t).H_()}async function LF(t){const e=$l(t);for(const n of t.oa)e.G_(n.mutations)}async function OF(t,e,n){const r=t.oa.shift(),i=x5.from(r,e,n);await BA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ev(t)}async function MF(t,e){e&&$l(t).W_&&await async function(r,i){if(function(o){return y7(o)&&o!==Fe.ABORTED}(i.code)){const s=r.oa.shift();$l(r).D_(),await BA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ev(r)}}(t,e),UA(t)&&zA(t)}async function vE(t,e){const n=xt(t);n.asyncQueue.verifyOperationInProgress(),Je(tc,"RemoteStore received new credentials");const r=pc(n);n.aa.add(3),await yp(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Z0(n)}async function FF(t,e){const n=xt(t);e?(n.aa.delete(2),await Z0(n)):e||(n.aa.add(2),await yp(n),n.la.set("Unknown"))}function af(t){return t.Pa||(t.Pa=function(n,r,i){const s=xt(n);return s.Y_(),new bF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:AF.bind(null,t),Jo:PF.bind(null,t),Zo:IF.bind(null,t),Q_:CF.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),L5(t)?R5(t):t.la.set("Unknown")):(await t.Pa.stop(),VA(t))})),t.Pa}function $l(t){return t.Ta||(t.Ta=function(n,r,i){const s=xt(n);return s.Y_(),new SF(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:RF.bind(null,t),Zo:MF.bind(null,t),z_:LF.bind(null,t),j_:OF.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await ev(t)):(await t.Ta.stop(),t.oa.length>0&&(Je(tc,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ol,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new O5(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function M5(t,e){if(Sa("AsyncQueue",`${e}: ${t}`),of(t))return new ct(Fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{static emptySet(e){return new _h(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ht.comparator(n.key,r.key):(n,r)=>ht.comparator(n.key,r.key),this.keyedMap=Zf(),this.sortedSet=new Pn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof _h)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new _h;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.Ia=new Pn(ht.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):vt(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vh{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vh(e,n,_h.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Y0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jF{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class VF{constructor(){this.queries=wE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=xt(n),s=i.queries;i.queries=wE(),s.forEach((o,a)=>{for(const l of a.Ra)l.onError(r)})})(this,new ct(Fe.ABORTED,"Firestore shutting down"))}}function wE(){return new fc(t=>lA(t),Y0)}async function BF(t,e){const n=xt(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new jF,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=M5(o,`Initialization of query '${$c(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.Ra.push(e),e.ga(n.onlineState),s.Aa&&e.pa(s.Aa)&&F5(n)}async function UF(t,e){const n=xt(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.Ra.indexOf(e);o>=0&&(s.Ra.splice(o,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zF(t,e){const n=xt(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Ra)a.pa(i)&&(r=!0);o.Aa=i}}r&&F5(n)}function qF(t,e,n){const r=xt(t),i=r.queries.get(e);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(e)}function F5(t){t.fa.forEach(e=>{e.next()})}var y2,_E;(_E=y2||(y2={})).ya="default",_E.Cache="cache";class HF{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Vh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==y2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e){this.key=e}}class HA{constructor(e){this.key=e}}class WF{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Lt(),this.mutatedKeys=Lt(),this.Ua=uA(e),this.Ka=new _h(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new yE,i=n?n.Ka:this.Ka;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const g=i.get(c),p=G0(this.query,d)?d:null,_=!!g&&this.mutatedKeys.has(g.key),S=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let T=!1;g&&p?g.data.isEqual(p.data)?_!==S&&(r.track({type:3,doc:p}),T=!0):this.ja(g,p)||(r.track({type:2,doc:p}),T=!0,(l&&this.Ua(p,l)>0||u&&this.Ua(p,u)<0)&&(a=!0)):!g&&p?(r.track({type:0,doc:p}),T=!0):g&&!p&&(r.track({type:1,doc:g}),T=!0,(l||u)&&(a=!0)),T&&(p?(o=o.add(p),s=S?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ka:o,za:r,ys:a,mutatedKeys:s}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((c,d)=>function(p,_){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Vt:T})}};return S(p)-S(_)}(c.type,d.type)||this.Ua(c.doc,d.doc)),this.Ha(r),i=i!=null&&i;const a=n&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,u=l!==this.Qa;return this.Qa=l,o.length!==0||u?{snapshot:new Vh(this.query,e.Ka,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new yE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Lt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new HA(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new qA(r))}),n}Xa(e){this.qa=e.Ns,this.$a=Lt();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Vh.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const j5="SyncEngine";class $F{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YF{constructor(e){this.key=e,this.tu=!1}}class GF{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new fc(a=>lA(a),Y0),this.iu=new Map,this.su=new Set,this.ou=new Pn(ht.comparator),this._u=new Map,this.au=new A5,this.uu={},this.cu=new Map,this.lu=jh.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function KF(t,e,n=!0){const r=QA(t);let i;const s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await WA(r,e,n,!0),i}async function QF(t,e){const n=QA(t);await WA(n,e,!0,!1)}async function WA(t,e,n,r){const i=await dF(t.localStore,Eo(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await JF(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&FA(t.remoteStore,i),a}async function JF(t,e,n,r,i){t.Pu=(d,g,p)=>async function(S,T,y,b){let A=T.view.Ga(y);A.ys&&(A=await fE(S.localStore,T.query,!1).then(({documents:N})=>T.view.Ga(N,A)));const j=b&&b.targetChanges.get(T.targetId),Y=b&&b.targetMismatches.get(T.targetId)!=null,J=T.view.applyChanges(A,S.isPrimaryClient,j,Y);return SE(S,T.targetId,J.Ya),J.snapshot}(t,d,g,p);const s=await fE(t.localStore,e,!0),o=new WF(e,s.Ns),a=o.Ga(s.documents),l=vp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);SE(t,n,u.Ya);const c=new $F(e,n,o);return t.ru.set(e,c),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),u.snapshot}async function XF(t,e,n){const r=xt(t),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(o=>!Y0(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await g2(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&N5(r.remoteStore,i.targetId),w2(r,i.targetId)}).catch(sf)):(w2(r,i.targetId),await g2(r.localStore,i.targetId,!0))}async function ZF(t,e){const n=xt(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),N5(n.remoteStore,r.targetId))}async function e9(t,e,n){const r=a9(t);try{const i=await function(o,a){const l=xt(o),u=cr.now(),c=a.reduce((p,_)=>p.add(_.key),Lt());let d,g;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=Ea(),S=Lt();return l.Cs.getEntries(p,c).next(T=>{_=T,_.forEach((y,b)=>{b.isValidDocument()||(S=S.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(T=>{d=T;const y=[];for(const b of a){const A=d7(b,d.get(b.key).overlayedDocument);A!=null&&y.push(new dc(b.key,A,tA(A.value.mapValue),ca.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,a)}).next(T=>{g=T;const y=T.applyToLocalDocumentSet(d,S);return l.documentOverlayCache.saveOverlays(p,T.batchId,y)})}).then(()=>({batchId:g.batchId,changes:hA(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.uu[o.currentUser.toKey()];u||(u=new Pn(Pt)),u=u.insert(a,l),o.uu[o.currentUser.toKey()]=u}(r,i.batchId,n),await wp(r,i.changes),await ev(r.remoteStore)}catch(i){const s=M5(i,"Failed to persist write");n.reject(s)}}async function $A(t,e){const n=xt(t);try{const r=await cF(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n._u.get(s);o&&(Jt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.tu=!0:i.modifiedDocuments.size>0?Jt(o.tu,14607):i.removedDocuments.size>0&&(Jt(o.tu,42227),o.tu=!1))}),await wp(n,r,e)}catch(r){await sf(r)}}function bE(t,e,n){const r=xt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((s,o)=>{const a=o.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=xt(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const g of d.Ra)g.ga(a)&&(u=!0)}),u&&F5(l)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function t9(t,e,n){const r=xt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),s=i&&i.key;if(s){let o=new Pn(ht.comparator);o=o.insert(s,zr.newNoDocument(s,wt.min()));const a=Lt().add(s),l=new J0(wt.min(),new Map,new Pn(Pt),o,a);await $A(r,l),r.ou=r.ou.remove(s),r._u.delete(e),V5(r)}else await g2(r.localStore,e,!1).then(()=>w2(r,e,n)).catch(sf)}async function n9(t,e){const n=xt(t),r=e.batch.batchId;try{const i=await uF(n.localStore,e);GA(n,r,null),YA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wp(n,i)}catch(i){await sf(i)}}async function r9(t,e,n){const r=xt(t);try{const i=await function(o,a){const l=xt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Jt(d!==null,37113),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);GA(r,e,n),YA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wp(r,i)}catch(i){await sf(i)}}function YA(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function GA(t,e,n){const r=xt(t);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function w2(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||KA(t,r)})}function KA(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(N5(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),V5(t))}function SE(t,e,n){for(const r of n)r instanceof qA?(t.au.addReference(r.key,e),i9(t,r)):r instanceof HA?(Je(j5,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||KA(t,r.key)):vt(19791,{Iu:r})}function i9(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(Je(j5,"New document in limbo: "+n),t.su.add(r),V5(t))}function V5(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new ht(On.fromString(e)),r=t.lu.next();t._u.set(r,new YF(n)),t.ou=t.ou.insert(n,r),FA(t.remoteStore,new wl(Eo(S5(n.path)),r,"TargetPurposeLimboResolution",q0.le))}}async function wp(t,e,n){const r=xt(t),i=[],s=[],o=[];r.ru.isEmpty()||(r.ru.forEach((a,l)=>{o.push(r.Pu(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=I5.Ps(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.nu.Q_(i),await async function(l,u){const c=xt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Ce.forEach(u,g=>Ce.forEach(g.ls,p=>c.persistence.referenceDelegate.addReference(d,g.targetId,p)).next(()=>Ce.forEach(g.hs,p=>c.persistence.referenceDelegate.removeReference(d,g.targetId,p)))))}catch(d){if(!of(d))throw d;Je(C5,"Failed to update sequence numbers: "+d)}for(const d of u){const g=d.targetId;if(!d.fromCache){const p=c.Ss.get(g),_=p.snapshotVersion,S=p.withLastLimboFreeSnapshotVersion(_);c.Ss=c.Ss.insert(g,S)}}}(r.localStore,s))}async function s9(t,e){const n=xt(t);if(!n.currentUser.isEqual(e)){Je(j5,"User change. New user:",e.toKey());const r=await RA(n.localStore,e);n.currentUser=e,function(s,o){s.cu.forEach(a=>{a.forEach(l=>{l.reject(new ct(Fe.CANCELLED,o))})}),s.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wp(n,r.Ms)}}function o9(t,e){const n=xt(t),r=n._u.get(e);if(r&&r.tu)return Lt().add(r.key);{let i=Lt();const s=n.iu.get(e);if(!s)return i;for(const o of s){const a=n.ru.get(o);i=i.unionWith(a.view.Wa)}return i}}function QA(t){const e=xt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=$A.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=t9.bind(null,e),e.nu.Q_=zF.bind(null,e.eventManager),e.nu.Tu=qF.bind(null,e.eventManager),e}function a9(t){const e=xt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r9.bind(null,e),e}class e0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=X0(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return lF(this.persistence,new sF,e.initialUser,this.serializer)}Ru(e){return new DA(P5.Ei,this.serializer)}Au(e){return new mF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}e0.provider={build:()=>new e0};class l9 extends e0{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Jt(this.persistence.referenceDelegate instanceof Xg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new H7(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?gi.withCacheSize(this.cacheSizeBytes):gi.DEFAULT;return new DA(r=>Xg.Ei(r,n),this.serializer)}}class _2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>bE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=s9.bind(null,this.syncEngine),await FF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VF}()}createDatastore(e){const n=X0(e.databaseInfo.databaseId),r=function(s){return new _F(s)}(e.databaseInfo);return function(s,o,a,l){return new xF(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new kF(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>bE(this.syncEngine,n,0),function(){return mE.C()?new mE:new gF}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new GF(i,s,o,a,l,u);return c&&(d.hu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=xt(i);Je(tc,"RemoteStore shutting down."),s.aa.add(5),await yp(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_2.provider={build:()=>new _2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Sa("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl="FirestoreClient";class c9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Br.UNAUTHENTICATED,this.clientId=Wk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{Je(Yl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Je(Yl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ol;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=M5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ay(t,e){t.asyncQueue.verifyOperationInProgress(),Je(Yl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function EE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await h9(t);Je(Yl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vE(e.remoteStore,i)),t._onlineComponents=e}async function h9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Je(Yl,"Using user provided OfflineComponentProvider");try{await Ay(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Fe.FAILED_PRECONDITION||i.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Lh("Error using user provided cache. Falling back to memory cache: "+n),await Ay(t,new e0)}}else Je(Yl,"Using default OfflineComponentProvider"),await Ay(t,new l9(void 0));return t._offlineComponents}async function JA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Je(Yl,"Using user provided OnlineComponentProvider"),await EE(t,t._uninitializedComponentsProvider._online)):(Je(Yl,"Using default OnlineComponentProvider"),await EE(t,new _2))),t._onlineComponents}function f9(t){return JA(t).then(e=>e.syncEngine)}async function d9(t){const e=await JA(t),n=e.eventManager;return n.onListen=KF.bind(null,e.syncEngine),n.onUnlisten=XF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZF.bind(null,e.syncEngine),n}function p9(t,e,n={}){const r=new Ol;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new u9({next:g=>{c.yu(),o.enqueueAndForget(()=>UF(s,d));const p=g.docs.has(a);!p&&g.fromCache?u.reject(new ct(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&g.fromCache&&l&&l.source==="server"?u.reject(new ct(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),d=new HF(S5(a.path),c,{includeMetadataChanges:!0,Fa:!0});return BF(s,d)}(await d9(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t,e,n){if(!n)throw new ct(Fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function g9(t,e,n,r){if(e===!0&&r===!0)throw new ct(Fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TE(t){if(!ht.isDocumentKey(t))throw new ct(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function B5(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":vt(12329,{type:typeof t})}function Jd(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ct(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=B5(t);throw new ct(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA="firestore.googleapis.com",kE=!0;class AE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ct(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZA,this.ssl=kE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:kE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<z7)throw new ct(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class U5{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ct(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new y8;switch(r.type){case"firstParty":return new S8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xE.get(n);r&&(Je("ComponentProvider","Removing Datastore"),xE.delete(n),r.terminate())}(this),Promise.resolve()}}function v9(t,e,n,r={}){var i;t=Jd(t,U5);const s=V0(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&D3(`https://${l}`),o.host!==ZA&&o.host!==l&&Lh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Ju(u,a)&&(t._setSettings(u),r.mockUserToken)){let c,d;if(typeof r.mockUserToken=="string")c=r.mockUserToken,d=Br.MOCK_USER;else{c=LL(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ct(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Br(g)}t._authCredentials=new w8(new qk(c,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new z5(this.firestore,e,this._query)}}class us{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new us(this.firestore,e,this._key)}}class Xd extends z5{constructor(e,n,r){super(e,n,S5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new us(this.firestore,null,new ht(e))}withConverter(e){return new Xd(this.firestore,e,this._path)}}function Vs(t,e,...n){if(t=Ti(t),arguments.length===1&&(e=Wk.newId()),m9("doc","path",e),t instanceof U5){const r=On.fromString(e,...n);return TE(r),new us(t,null,new ht(r))}{if(!(t instanceof us||t instanceof Xd))throw new ct(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(On.fromString(e,...n));return TE(r),new us(t.firestore,t instanceof Xd?t.converter:null,new ht(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="AsyncQueue";class IE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new OA(this,"async_queue_retry"),this.ju=()=>{const r=ky();r&&Je(PE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=ky();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=ky();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Ol;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!of(e))throw e;Je(PE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Sa("INTERNAL UNHANDLED ERROR: ",CE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=O5.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&vt(47125,{ec:CE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function CE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class q5 extends U5{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new IE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IE(e),this._firestoreClient=void 0,await e}}}function y9(t,e){const n=typeof t=="object"?t:M3(),r=typeof t=="string"?t:Wg,i=n5(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=DL("firestore");s&&v9(i,...s)}return i}function eP(t){if(t._terminated)throw new ct(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||w9(t),t._firestoreClient}function w9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new F8(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,XA(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new c9(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bh(Pr.fromBase64String(e))}catch(n){throw new ct(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bh(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ct(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ct(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ct(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=/^__.*__$/;class b9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dc(e,this.data,this.fieldMask,n,this.fieldTransforms):new gp(e,this.data,n,this.fieldTransforms)}}function nP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{oc:t})}}class Y5{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Y5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return t0(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(nP(this.oc)&&_9.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class S9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||X0(e)}dc(e,n,r,i=!1){return new Y5({oc:e,methodName:n,Ec:r,path:Tr.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function E9(t){const e=t._freezeSettings(),n=X0(t._databaseId);return new S9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function x9(t,e,n,r,i,s={}){const o=t.dc(s.merge||s.mergeFields?2:0,e,n,i);oP("Data must be an object, but it was:",o,r);const a=iP(r,o);let l,u;if(s.merge)l=new Rs(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const g=T9(e,d,n);if(!o.contains(g))throw new ct(Fe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);A9(c,g)||c.push(g)}l=new Rs(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new b9(new os(a),l,u)}function rP(t,e){if(sP(t=Ti(t)))return oP("Unsupported field value:",e,t),iP(t,e);if(t instanceof tP)return function(r,i){if(!nP(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=rP(a,i.Pc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ti(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return a7(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=cr.fromDate(r);return{timestampValue:Jg(i.serializer,s)}}if(r instanceof cr){const s=new cr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jg(i.serializer,s)}}if(r instanceof W5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Bh)return{bytesValue:xA(i.serializer,r._byteString)};if(r instanceof us){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Tc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:k5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof $5)return function(o,a){return{mapValue:{fields:{[Zk]:{stringValue:eA},[$g]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Tc("VectorValues must only contain numeric values.");return E5(a.serializer,u)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${B5(r)}`)}(t,e)}function iP(t,e){const n={};return Yk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hc(t,(r,i)=>{const s=rP(i,e.uc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function sP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof cr||t instanceof W5||t instanceof Bh||t instanceof us||t instanceof tP||t instanceof $5)}function oP(t,e,n){if(!sP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=B5(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function T9(t,e,n){if((e=Ti(e))instanceof H5)return e._internalPath;if(typeof e=="string")return aP(t,e);throw t0("Field path arguments must be of type string or ",t,!1,void 0,n)}const k9=new RegExp("[~\\*/\\[\\]]");function aP(t,e,n){if(e.search(k9)>=0)throw t0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new H5(...e.split("."))._internalPath}catch{throw t0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function t0(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ct(Fe.INVALID_ARGUMENT,a+t+l)}function A9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new us(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uP("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P9 extends lP{data(){return super.data()}}function uP(t,e){return typeof e=="string"?aP(t,e):e instanceof H5?e._internalPath:e._delegate._internalPath}class I9{convertValue(e,n="none"){switch(Wl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hc(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[$g].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Un(o.doubleValue));return new $5(s)}convertGeoPoint(e){return new W5(Un(e.latitude),Un(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=W0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($d(e));default:return null}}convertTimestamp(e){const n=ql(e);return new cr(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=On.fromString(e);Jt(CA(r),9688,{name:e});const i=new Yd(r.get(1),r.get(3)),s=new ht(r.popFirst(5));return i.isEqual(n)||Sa(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cP extends lP{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new D9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(uP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class D9 extends cP{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t){t=Jd(t,us);const e=Jd(t.firestore,q5);return p9(eP(e),t._key).then(n=>O9(e,t,n))}class R9 extends I9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bh(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new us(this.firestore,null,n)}}function Uh(t,e,n){t=Jd(t,us);const r=Jd(t.firestore,q5),i=C9(t.converter,e,n);return L9(r,[x9(E9(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ca.none())])}function L9(t,e){return function(r,i){const s=new Ol;return r.asyncQueue.enqueueAndForget(async()=>e9(await f9(r),i,s)),s.promise}(eP(t),e)}function O9(t,e,n){const r=n.docs.get(e._key),i=new R9(t);return new cP(t,i,e._key,r,new N9(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){rf=i})(nf),Dh(new Xu("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new q5(new _8(r.getProvider("auth-internal")),new E8(o,r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ct(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yd(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Rl(MS,FS,e),Rl(MS,FS,"esm2017")})();const M9={apiKey:"AIzaSyCM33icc6FOyDmhDwZXeW6CeWWeoNyWGqE",authDomain:"astrobalendar-2025-7505d.firebaseapp.com",projectId:"astrobalendar-2025-7505d",storageBucket:"astrobalendar-2025-7505d.appspot.com",messagingSenderId:"213330379553",appId:"1:213330379553:web:659c209c1c35fe0849f460"},hP=O3(M9),Ms=Ok(hP),Bs=y9(hP),fP=se.createContext({user:null,userRole:null,loading:!0}),F9=({children:t})=>{const[e,n]=se.useState(null),[r,i]=se.useState(localStorage.getItem("userRole")),[s,o]=se.useState(!0);return se.useEffect(()=>{const a=h5(Ms,async l=>{if(n(l),l){const u=await _p(Vs(Bs,"users",l.uid)),c=u.exists()?u.data().role:null;i(c),c&&localStorage.setItem("userRole",c)}else i(null),localStorage.removeItem("userRole");o(!1)});return()=>a()},[]),U.jsx(fP.Provider,{value:{user:e,userRole:r,loading:s},children:t})},lf=()=>se.useContext(fP),Vf=({children:t})=>{const{user:e,userRole:n,loading:r}=lf(),[i,s]=se.useState(!0),[o,a]=se.useState(null);return se.useEffect(()=>{e?(async()=>{if(!e)return a(!1);const u=await _p(Vs(Bs,"users",e.uid)),c=u.exists()?u.data().verified:!1;a(!!c&&e.emailVerified),s(!1)})():s(!1)},[e]),r||i?U.jsx("div",{children:"Loading..."}):e?n?o?U.jsx(U.Fragment,{children:t}):U.jsx(Wm,{to:"/birthdata"}):U.jsx(Wm,{to:"/role-selection"}):U.jsx(Wm,{to:"/login"})},Py=({role:t,children:e})=>{const{user:n,userRole:r,loading:i}=lf();return i?U.jsx("div",{children:"Loading..."}):!n||r!==t?U.jsx(Wm,{to:"/login"}):U.jsx(U.Fragment,{children:e})},dP=({data:t})=>t.length?U.jsx("div",{className:"overflow-x-auto",children:U.jsxs("table",{className:"min-w-full bg-white border text-black text-sm rounded shadow",children:[U.jsx("thead",{children:U.jsxs("tr",{children:[U.jsx("th",{className:"py-2 px-4 border-b",children:"Prediction ID"}),U.jsx("th",{className:"py-2 px-4 border-b",children:"Name"}),U.jsx("th",{className:"py-2 px-4 border-b",children:"Role"}),U.jsx("th",{className:"py-2 px-4 border-b",children:"Status"}),U.jsx("th",{className:"py-2 px-4 border-b",children:"Timestamp"})]})}),U.jsx("tbody",{children:t.map(e=>U.jsxs("tr",{className:"hover:bg-gray-100",children:[U.jsx("td",{className:"py-2 px-4 border-b",children:e.prediction_id}),U.jsx("td",{className:"py-2 px-4 border-b",children:e.display_name}),U.jsx("td",{className:"py-2 px-4 border-b",children:e.role}),U.jsx("td",{className:"py-2 px-4 border-b",children:e.match_status}),U.jsx("td",{className:"py-2 px-4 border-b",children:new Date(e.timestamp).toLocaleString()})]},e.prediction_id))})]})}):U.jsx("div",{className:"text-gray-500",children:"No predictions found."}),j9=()=>{const{user:t}=lf(),[e,n]=se.useState([]);return se.useEffect(()=>{(async()=>{if(!t)return;const s=await(await fetch(`/api/predictions/${t.uid}`)).json();n(s)})()},[t]),U.jsxs("div",{children:[U.jsx("h2",{children:"Astrologer Dashboard"}),U.jsxs("ul",{children:[U.jsx("li",{children:"View assigned clients"}),U.jsx("li",{children:"Generate Horoscope"}),U.jsx("li",{children:"Send predictions to clients"})]}),U.jsx("div",{className:"my-6",children:U.jsx("a",{href:"/new-horoscope",className:"inline-block px-6 py-3 bg-purple-600 text-white rounded-lg shadow hover:bg-purple-700 text-lg font-semibold transition",children:"+ New Horoscope"})}),U.jsx("h3",{className:"mt-8 mb-2 text-lg font-semibold",children:"Prediction History"}),U.jsx(dP,{data:e})]})},V9=()=>{const{user:t}=lf(),[e,n]=se.useState([]);return se.useEffect(()=>{(async()=>{if(!t)return;const s=await(await fetch(`/api/predictions/${t.uid}`)).json();n(s)})()},[t]),U.jsxs("div",{children:[U.jsx("h2",{children:"Client Dashboard"}),U.jsxs("ul",{children:[U.jsx("li",{children:"View up to 6 personal horoscopes"}),U.jsx("li",{children:"Request Horoscope Update"}),U.jsx("li",{children:"Share horoscope with astrologer"})]}),U.jsx("h3",{className:"mt-8 mb-2 text-lg font-semibold",children:"Prediction History"}),U.jsx(dP,{data:e})]})},B9=()=>U.jsxs("div",{children:[U.jsx("h2",{children:"Student Dashboard"}),U.jsxs("ul",{children:[U.jsx("li",{children:"Astro Learning: curated video lessons"}),U.jsx("li",{children:"Certification progress"}),U.jsx("li",{children:"Ask-Astrologer Q&A section"})]})]}),U9=()=>U.jsxs("div",{className:"w-full min-h-screen bg-gradient-to-b from-purple-900 via-black to-black text-white",children:[U.jsxs("header",{className:"text-center py-12",children:[U.jsx("h1",{className:"text-4xl font-bold tracking-wide",children:"🔮 AstroBalendar"}),U.jsx("p",{className:"mt-4 text-lg",children:"The World's First AI/ML-Based Astrology Platform"})]}),U.jsx("section",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 p-4 sm:px-8 md:px-12 lg:px-20 w-full",children:["Daily Predictions","Matchmaking","Zodiac Scoring","Offline Support","PDF Reports","Multi-language"].map(t=>U.jsx("div",{className:"bg-white/10 p-6 rounded-xl border border-purple-500 shadow-lg text-center",children:U.jsx("h3",{className:"text-xl font-semibold",children:t})},t))}),U.jsx("footer",{className:"mt-20 text-center text-sm text-white/70 py-6",children:"© 2025 AstroBalendar | Privacy | Terms | Contact"})]}),z9=()=>U.jsxs("div",{className:"p-6 max-w-5xl mx-auto mt-8",children:[U.jsx("h2",{className:"text-3xl font-semibold mb-4",children:"Calendar"}),U.jsx("p",{children:"Calendar and events will be displayed here."})]}),q9=()=>{const t=cc(),{user:e}=lf(),n=async()=>{const a=new go;try{const u=(await Dk(Ms,a)).user,c=Vs(Bs,"users",u.uid),d=await _p(c);let g=null;if(d.exists())g=d.data().role;else{t("/signup",{state:{email:u.email,displayName:u.displayName,photoURL:u.photoURL}});return}t(g==="astrologer"?"/dashboard/astrologer":g==="student"?"/dashboard/student":"/dashboard/client")}catch(l){alert("Google sign-in failed"),console.error(l)}};if(e)return U.jsxs("div",{children:[U.jsxs("h2",{children:["Welcome, ",e.displayName||e.email,"!"]}),U.jsx("button",{onClick:()=>t("/birth-data"),children:"Go to Birth Data"})]});const[r,i]=be.useState(!1),[s,o]=be.useState(null);return U.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #6b21a8 0%, #111827 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:U.jsxs("div",{style:{background:"#fff",borderRadius:14,boxShadow:"0 4px 24px rgba(0,0,0,0.12)",padding:36,maxWidth:400,width:"100%"},children:[U.jsx("h2",{style:{marginBottom:28,textAlign:"center",color:"#6b21a8",fontWeight:800,fontSize:28},children:"Sign in to AstroBalendar"}),U.jsxs("button",{onClick:async()=>{i(!0),o(null);try{await n()}catch{o("Google sign-in failed. Please try again.")}finally{i(!1)}},style:{display:"flex",alignItems:"center",justifyContent:"center",gap:10,background:"#fff",color:"#222",border:"1.5px solid #a78bfa",borderRadius:8,padding:"12px 0",fontWeight:700,fontSize:17,width:"100%",marginBottom:18,boxShadow:"0 2px 6px rgba(107,33,168,0.08)",cursor:"pointer",transition:"background 0.2s"},disabled:r,children:[U.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",style:{width:22,height:22}}),r?"Signing in...":"Sign in with Google"]}),U.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:14},children:[U.jsx("span",{style:{color:"#555",fontWeight:500},children:"Don't have an account?"}),U.jsx("button",{onClick:()=>t("/signup"),style:{color:"#6b21a8",background:"none",border:"none",fontWeight:700,marginLeft:8,cursor:"pointer",fontSize:16},children:"Sign up"})]}),s&&U.jsx("div",{style:{color:"#b91c1c",background:"#fee2e2",borderRadius:6,padding:10,marginTop:8,textAlign:"center",fontWeight:700},children:s})]})})},H9="modulepreload",W9=function(t,e){return new URL(t,e).href},NE={},zh=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=W9(u,r),u in NE)return;NE[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!r)for(let _=o.length-1;_>=0;_--){const S=o[_];if(S.href===u&&(!c||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const p=document.createElement("link");if(p.rel=c?"stylesheet":H9,c||(p.as="script"),p.crossOrigin="",p.href=u,l&&p.setAttribute("nonce",l),document.head.appendChild(p),c)return new Promise((_,S)=>{p.addEventListener("load",_),p.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},$9=[{value:"astrologer",label:"Astrologer"},{value:"student",label:"Student"},{value:"client",label:"Client"}],Y9=()=>{var j,Y,J,N,k;const t=uc(),[e,n]=se.useState(((j=t.state)==null?void 0:j.displayName)||""),[r,i]=se.useState(((Y=t.state)==null?void 0:Y.email)||""),[s,o]=se.useState(""),[a,l]=se.useState("astrologer"),[u,c]=se.useState(""),[d,g]=se.useState(((J=t.state)==null?void 0:J.photoURL)||""),[p,_]=se.useState(null),[S,T]=se.useState(!1),y=cc(),b=!!t.state,A=async D=>{D.preventDefault(),_(null);try{let L=function($,X){const Q=$==="astrologer"?"AS":$==="student"?"ST":"CL",re=(X||"").replace(/[^a-zA-Z]/g,"").substring(0,3).toUpperCase(),H=Math.floor(1e3+Math.random()*9e3);return`${Q}${re}${H}`};if(b){let $=function(re,H){const te=re==="astrologer"?"AS":re==="student"?"ST":"CL",ie=(H||X.displayName||"").replace(/[^a-zA-Z]/g,"").substring(0,3).toUpperCase(),Se=Math.floor(1e3+Math.random()*9e3);return`${te}${ie}${Se}`};const X=Ms.currentUser;if(!X){_("No signed-in user found.");return}const Q=$(a,X.displayName);await Uh(Vs(Bs,"users",X.uid),{displayName:X.displayName,email:X.email,role:a,photoURL:X.photoURL,createdAt:new Date().toISOString(),uniqueId:Q,multipleHoroscopeAccess:a==="astrologer"},{merge:!0}),alert(`Welcome ${X.displayName}! Your AstroBalendar ID is ${Q}`),y(a==="astrologer"?"/dashboard/astrologer":a==="student"?"/dashboard/student":"/dashboard/client");return}const I=(await mk(Ms,r,s)).user;await gk(I,{displayName:e,photoURL:d});const R=L(a,e);await Uh(Vs(Bs,"users",I.uid),{displayName:e,email:r,role:a,phone:u,photoURL:d,createdAt:new Date().toISOString(),uniqueId:R,multipleHoroscopeAccess:a==="astrologer",verified:!1}),y("/birthdata")}catch(L){_(L.message)}};return U.jsx("div",{className:"signup-bg",style:{minHeight:"100vh",background:"linear-gradient(135deg, #6b21a8 0%, #111827 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:U.jsxs("div",{className:"signup-card",style:{background:"#fff",borderRadius:12,boxShadow:"0 4px 24px rgba(0,0,0,0.12)",padding:32,maxWidth:400,width:"100%"},children:[U.jsx("h2",{style:{marginBottom:24,textAlign:"center",color:"#6b21a8",fontWeight:800,fontSize:28},children:"Create Your AstroBalendar Account"}),((N=t.state)==null?void 0:N.photoURL)&&U.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:16},children:U.jsx("img",{src:t.state.photoURL,alt:"Google profile",style:{width:64,height:64,borderRadius:"50%",boxShadow:"0 2px 8px #a78bfa33"}})}),((k=t.state)==null?void 0:k.displayName)&&U.jsx("div",{style:{textAlign:"center",fontWeight:700,color:"#6b21a8",marginBottom:10,fontSize:18},children:t.state.displayName}),!t.state&&U.jsxs("button",{type:"button",style:{display:"flex",alignItems:"center",justifyContent:"center",gap:10,background:"#fff",color:"#222",border:"1.5px solid #a78bfa",borderRadius:8,padding:"12px 0",fontWeight:700,fontSize:17,width:"100%",marginBottom:18,boxShadow:"0 2px 6px rgba(107,33,168,0.08)",cursor:"pointer",transition:"background 0.2s"},onClick:async()=>{_(""),T(!0);try{const{GoogleAuthProvider:D,signInWithPopup:L}=await zh(async()=>{const{GoogleAuthProvider:$,signInWithPopup:X}=await Promise.resolve().then(()=>m8);return{GoogleAuthProvider:$,signInWithPopup:X}},void 0,import.meta.url),x=new D,R=(await L(Ms,x)).user;y("/signup",{state:{email:R.email,displayName:R.displayName,photoURL:R.photoURL}})}catch{_("Google sign-up failed. Please try again.")}finally{T(!1)}},disabled:S,children:[U.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",style:{width:22,height:22}}),S?"Signing up...":"Sign up with Google"]}),U.jsxs("form",{onSubmit:A,style:{display:"flex",flexDirection:"column",gap:22},children:[U.jsxs("label",{style:{fontWeight:700,color:"#222",fontSize:18},children:["Name",U.jsx("input",{type:"text",value:e,onChange:D=>n(D.target.value),required:!0,placeholder:"Enter your name",style:{marginTop:6,padding:12,borderRadius:7,border:"1.5px solid #a78bfa",width:"100%",fontWeight:600,fontSize:16,color:"#222"}})]}),U.jsx("label",{htmlFor:"role-select",style:{fontWeight:700,color:"#222",fontSize:18},children:"Role"}),U.jsx("select",{id:"role-select",value:a,onChange:D=>l(D.target.value),required:!0,style:{padding:12,borderRadius:7,border:"1.5px solid #a78bfa",fontWeight:600,fontSize:16,color:"#222"},children:$9.map(D=>U.jsx("option",{value:D.value,children:D.label},D.value))}),U.jsxs("label",{style:{fontWeight:700,color:"#222",fontSize:18},children:["Email",U.jsx("input",{type:"email",value:r,onChange:D=>i(D.target.value),required:!0,placeholder:"Enter your email",style:{marginTop:6,padding:12,borderRadius:7,border:"1.5px solid #a78bfa",width:"100%",fontWeight:600,fontSize:16,color:"#222"}})]}),U.jsxs("label",{style:{fontWeight:700,color:"#222",fontSize:18},children:["Password",U.jsx("input",{type:"password",value:s,onChange:D=>o(D.target.value),required:!0,placeholder:"Enter a password",style:{marginTop:6,padding:12,borderRadius:7,border:"1.5px solid #a78bfa",width:"100%",fontWeight:600,fontSize:16,color:"#222"}})]}),U.jsxs("label",{style:{fontWeight:700,color:"#222",fontSize:18},children:["Phone (optional)",U.jsx("input",{type:"tel",value:u,onChange:D=>c(D.target.value),placeholder:"Enter your phone number",style:{marginTop:6,padding:12,borderRadius:7,border:"1.5px solid #a78bfa",width:"100%",fontWeight:600,fontSize:16,color:"#222"}})]}),U.jsxs("label",{style:{fontWeight:700,color:"#222",fontSize:18},children:["Profile Photo URL (optional)",U.jsx("input",{type:"url",value:d,onChange:D=>g(D.target.value),placeholder:"Paste a photo URL (optional)",style:{marginTop:6,padding:12,borderRadius:7,border:"1.5px solid #a78bfa",width:"100%",fontWeight:600,fontSize:16,color:"#222"}})]}),U.jsx("button",{type:"submit",style:{background:"#6b21a8",color:"#fff",padding:"14px 0",borderRadius:8,border:"none",fontWeight:800,fontSize:18,marginTop:10,letterSpacing:1},children:"Sign Up"}),p&&U.jsx("div",{style:{color:"#b91c1c",background:"#fee2e2",borderRadius:6,padding:10,marginTop:8,textAlign:"center",fontWeight:700},children:p})]})]})})},G9=[{value:"astrologer",label:"Astrologer"},{value:"student",label:"Student"},{value:"client",label:"Client"}],K9=()=>{const[t,e]=se.useState("astrologer"),[n,r]=se.useState(!1),[i,s]=se.useState(null);uc();const o=cc(),a=async l=>{l.preventDefault(),r(!0),s(null);try{const u=Ms.currentUser;if(!u){s("You must be signed in to select a role."),r(!1);return}await Uh(Vs(Bs,"users",u.uid),{displayName:u.displayName,email:u.email,role:t,photoURL:u.photoURL,createdAt:new Date().toISOString()},{merge:!0}),o(t==="astrologer"?"/dashboard/astrologer":t==="student"?"/dashboard/student":"/dashboard/client")}catch(u){s(u.message||"Failed to save role.")}finally{r(!1)}};return U.jsxs("div",{className:"role-selection-container",children:[U.jsx("h2",{children:"Select Your Role"}),U.jsxs("form",{onSubmit:a,children:[U.jsx("label",{htmlFor:"role-select",children:"Role:"}),U.jsx("select",{id:"role-select",value:t,onChange:l=>e(l.target.value),required:!0,children:G9.map(l=>U.jsx("option",{value:l.value,children:l.label},l.value))}),U.jsx("br",{}),U.jsx("button",{type:"submit",disabled:n,className:"role-select-btn",children:n?"Saving...":"Continue"}),i&&U.jsx("div",{className:"error-message",children:i})]})]})};var pP={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(pP);var Q9=pP.exports;const J9=_0(Q9),X9=["xxl","xl","lg","md","sm","xs"],Z9="xs",mP=se.createContext({prefixes:{},breakpoints:X9,minBreakpoint:Z9}),{Consumer:K$,Provider:Q$}=mP;function ej(t,e){const{prefixes:n}=se.useContext(mP);return t||n[e]||e}const tj=["as","disabled"];function nj(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rj(t){return!t||t.trim()==="#"}function gP({tagName:t,disabled:e,href:n,target:r,rel:i,role:s,onClick:o,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const c=g=>{if((e||t==="a"&&rj(n))&&g.preventDefault(),e){g.stopPropagation();return}o==null||o(g)},d=g=>{g.key===" "&&(g.preventDefault(),c(g))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:c,onKeyDown:d},u]}const ij=se.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=nj(t,tj);const[s,{tagName:o}]=gP(Object.assign({tagName:n,disabled:r},i));return U.jsx(o,Object.assign({},i,s,{ref:e}))});ij.displayName="Button";const b2=se.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:s=!1,className:o,...a},l)=>{const u=ej(e,"btn"),[c,{tagName:d}]=gP({tagName:t,disabled:s,...a}),g=d;return U.jsx(g,{...c,...a,ref:l,disabled:s,className:J9(o,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&s&&"disabled")})});b2.displayName="Button";function vP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=vP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Sn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=vP(t))&&(r&&(r+=" "),r+=e);return r}function sj(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}sj(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var bp=t=>typeof t=="number"&&!isNaN(t),nc=t=>typeof t=="string",xa=t=>typeof t=="function",oj=t=>nc(t)||bp(t),S2=t=>nc(t)||xa(t)?t:null,aj=(t,e)=>t===!1||bp(t)&&t>0?t:e,E2=t=>se.isValidElement(t)||nc(t)||xa(t)||bp(t);function lj(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function uj({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:u,isIn:c,playToast:d}){let g=n?`${t}--${o}`:t,p=n?`${e}--${o}`:e,_=se.useRef(0);return se.useLayoutEffect(()=>{let S=u.current,T=g.split(" "),y=b=>{b.target===u.current&&(d(),S.removeEventListener("animationend",y),S.removeEventListener("animationcancel",y),_.current===0&&b.type!=="animationcancel"&&S.classList.remove(...T))};S.classList.add(...T),S.addEventListener("animationend",y),S.addEventListener("animationcancel",y)},[]),se.useEffect(()=>{let S=u.current,T=()=>{S.removeEventListener("animationend",T),r?lj(S,l,i):l()};c||(a?T():(_.current=1,S.className+=` ${p}`,S.addEventListener("animationend",T)))},[c]),be.createElement(be.Fragment,null,s)}}function DE(t,e){return{content:yP(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function yP(t,e,n=!1){return se.isValidElement(t)&&!nc(t.type)?se.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):xa(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function cj({closeToast:t,theme:e,ariaLabel:n="close"}){return be.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},be.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},be.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function hj({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:l,isIn:u,theme:c}){let d=i||o&&a===0,g={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(g.transform=`scaleX(${a})`);let p=Sn("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${c}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),_=xa(s)?s({rtl:l,type:r,defaultClassName:p}):Sn(p,s),S={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{u&&n()}};return be.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":d},be.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${c} Toastify__progress-bar--${r}`}),be.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:_,style:g,...S}))}var fj=1,wP=()=>`${fj++}`;function dj(t,e,n){let r=1,i=0,s=[],o=[],a=e,l=new Map,u=new Set,c=b=>(u.add(b),()=>u.delete(b)),d=()=>{o=Array.from(l.values()),u.forEach(b=>b())},g=({containerId:b,toastId:A,updateId:j})=>{let Y=b?b!==t:t!==1,J=l.has(A)&&j==null;return Y||J},p=(b,A)=>{l.forEach(j=>{var Y;(A==null||A===j.props.toastId)&&((Y=j.toggle)==null||Y.call(j,b))})},_=b=>{var A,j;(j=(A=b.props)==null?void 0:A.onClose)==null||j.call(A,b.removalReason),b.isActive=!1},S=b=>{if(b==null)l.forEach(_);else{let A=l.get(b);A&&_(A)}d()},T=()=>{i-=s.length,s=[]},y=b=>{var A,j;let{toastId:Y,updateId:J}=b.props,N=J==null;b.staleId&&l.delete(b.staleId),b.isActive=!0,l.set(Y,b),d(),n(DE(b,N?"added":"updated")),N&&((j=(A=b.props).onOpen)==null||j.call(A))};return{id:t,props:a,observe:c,toggle:p,removeToast:S,toasts:l,clearQueue:T,buildToast:(b,A)=>{if(g(A))return;let{toastId:j,updateId:Y,data:J,staleId:N,delay:k}=A,D=Y==null;D&&i++;let L={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(A).filter(([I,R])=>R!=null)),toastId:j,updateId:Y,data:J,isIn:!1,className:S2(A.className||a.toastClassName),progressClassName:S2(A.progressClassName||a.progressClassName),autoClose:A.isLoading?!1:aj(A.autoClose,a.autoClose),closeToast(I){l.get(j).removalReason=I,S(j)},deleteToast(){let I=l.get(j);if(I!=null){if(n(DE(I,"removed")),l.delete(j),i--,i<0&&(i=0),s.length>0){y(s.shift());return}d()}}};L.closeButton=a.closeButton,A.closeButton===!1||E2(A.closeButton)?L.closeButton=A.closeButton:A.closeButton===!0&&(L.closeButton=E2(a.closeButton)?a.closeButton:!0);let x={content:b,props:L,staleId:N};a.limit&&a.limit>0&&i>a.limit&&D?s.push(x):bp(k)?setTimeout(()=>{y(x)},k):y(x)},setProps(b){a=b},setToggle:(b,A)=>{let j=l.get(b);j&&(j.toggle=A)},isToastActive:b=>{var A;return(A=l.get(b))==null?void 0:A.isActive},getSnapshot:()=>o}}var ni=new Map,Zd=[],x2=new Set,pj=t=>x2.forEach(e=>e(t)),_P=()=>ni.size>0;function mj(){Zd.forEach(t=>SP(t.content,t.options)),Zd=[]}var gj=(t,{containerId:e})=>{var n;return(n=ni.get(e||1))==null?void 0:n.toasts.get(t)};function bP(t,e){var n;if(e)return!!((n=ni.get(e))!=null&&n.isToastActive(t));let r=!1;return ni.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function vj(t){if(!_P()){Zd=Zd.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||oj(t))ni.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=ni.get(t.containerId);e?e.removeToast(t.id):ni.forEach(n=>{n.removeToast(t.id)})}}var yj=(t={})=>{ni.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function SP(t,e){E2(t)&&(_P()||Zd.push({content:t,options:e}),ni.forEach(n=>{n.buildToast(t,e)}))}function wj(t){var e;(e=ni.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function EP(t,e){ni.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function _j(t){let e=t.containerId||1;return{subscribe(n){let r=dj(e,t,pj);ni.set(e,r);let i=r.observe(n);return mj(),()=>{i(),ni.delete(e)}},setProps(n){var r;(r=ni.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=ni.get(e))==null?void 0:n.getSnapshot()}}}function bj(t){return x2.add(t),()=>{x2.delete(t)}}function Sj(t){return t&&(nc(t.toastId)||bp(t.toastId))?t.toastId:wP()}function Sp(t,e){return SP(t,e),e.toastId}function tv(t,e){return{...e,type:e&&e.type||t,toastId:Sj(e)}}function nv(t){return(e,n)=>Sp(e,tv(t,n))}function Ht(t,e){return Sp(t,tv("default",e))}Ht.loading=(t,e)=>Sp(t,tv("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Ej(t,{pending:e,error:n,success:r},i){let s;e&&(s=nc(e)?Ht.loading(e,i):Ht.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,c,d)=>{if(c==null){Ht.dismiss(s);return}let g={type:u,...o,...i,data:d},p=nc(c)?{render:c}:c;return s?Ht.update(s,{...g,...p}):Ht(p.render,{...g,...p}),d},l=xa(t)?t():t;return l.then(u=>a("success",r,u)).catch(u=>a("error",n,u)),l}Ht.promise=Ej;Ht.success=nv("success");Ht.info=nv("info");Ht.error=nv("error");Ht.warning=nv("warning");Ht.warn=Ht.warning;Ht.dark=(t,e)=>Sp(t,tv("default",{theme:"dark",...e}));function xj(t){vj(t)}Ht.dismiss=xj;Ht.clearWaitingQueue=yj;Ht.isActive=bP;Ht.update=(t,e={})=>{let n=gj(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:wP()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,Sp(o,s)}};Ht.done=t=>{Ht.update(t,{progress:1})};Ht.onChange=bj;Ht.play=t=>EP(!0,t);Ht.pause=t=>EP(!1,t);function Tj(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=se.useRef(_j(t)).current;i(t);let s=(e=se.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let l=new Map;return t.newestOnTop&&s.reverse(),s.forEach(u=>{let{position:c}=u.props;l.has(c)||l.set(c,[]),l.get(c).push(u)}),Array.from(l,u=>a(u[0],u[1]))}return{getToastToRender:o,isToastActive:bP,count:s==null?void 0:s.length}}function kj(t){let[e,n]=se.useState(!1),[r,i]=se.useState(!1),s=se.useRef(null),o=se.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:u,onClick:c,closeOnClick:d}=t;wj({id:t.toastId,containerId:t.containerId,fn:n}),se.useEffect(()=>{if(t.pauseOnFocusLoss)return g(),()=>{p()}},[t.pauseOnFocusLoss]);function g(){document.hasFocus()||y(),window.addEventListener("focus",T),window.addEventListener("blur",y)}function p(){window.removeEventListener("focus",T),window.removeEventListener("blur",y)}function _(N){if(t.draggable===!0||t.draggable===N.pointerType){b();let k=s.current;o.canCloseOnClick=!0,o.canDrag=!0,k.style.transition="none",t.draggableDirection==="x"?(o.start=N.clientX,o.removalDistance=k.offsetWidth*(t.draggablePercent/100)):(o.start=N.clientY,o.removalDistance=k.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function S(N){let{top:k,bottom:D,left:L,right:x}=s.current.getBoundingClientRect();N.nativeEvent.type!=="touchend"&&t.pauseOnHover&&N.clientX>=L&&N.clientX<=x&&N.clientY>=k&&N.clientY<=D?y():T()}function T(){n(!0)}function y(){n(!1)}function b(){o.didMove=!1,document.addEventListener("pointermove",j),document.addEventListener("pointerup",Y)}function A(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",Y)}function j(N){let k=s.current;if(o.canDrag&&k){o.didMove=!0,e&&y(),t.draggableDirection==="x"?o.delta=N.clientX-o.start:o.delta=N.clientY-o.start,o.start!==N.clientX&&(o.canCloseOnClick=!1);let D=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;k.style.transform=`translate3d(${D},0)`,k.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function Y(){A();let N=s.current;if(o.canDrag&&o.didMove&&N){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}N.style.transition="transform 0.2s, opacity 0.2s",N.style.removeProperty("transform"),N.style.removeProperty("opacity")}}let J={onPointerDown:_,onPointerUp:S};return a&&l&&(J.onMouseEnter=y,t.stacked||(J.onMouseLeave=T)),d&&(J.onClick=N=>{c&&c(N),o.canCloseOnClick&&u(!0)}),{playToast:T,pauseToast:y,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:J}}var Aj=typeof window<"u"?se.useLayoutEffect:se.useEffect,rv=({theme:t,type:e,isLoading:n,...r})=>be.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function Pj(t){return be.createElement(rv,{...t},be.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Ij(t){return be.createElement(rv,{...t},be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Cj(t){return be.createElement(rv,{...t},be.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function Nj(t){return be.createElement(rv,{...t},be.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Dj(){return be.createElement("div",{className:"Toastify__spinner"})}var T2={info:Ij,warning:Pj,success:Cj,error:Nj,spinner:Dj},Rj=t=>t in T2;function Lj({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(xa(r)?i=r({...s,isLoading:n}):se.isValidElement(r)?i=se.cloneElement(r,s):n?i=T2.spinner():Rj(e)&&(i=T2[e](s))),i}var Oj=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=kj(t),{closeButton:o,children:a,autoClose:l,onClick:u,type:c,hideProgressBar:d,closeToast:g,transition:p,position:_,className:S,style:T,progressClassName:y,updateId:b,role:A,progress:j,rtl:Y,toastId:J,deleteToast:N,isIn:k,isLoading:D,closeOnClick:L,theme:x,ariaLabel:I}=t,R=Sn("Toastify__toast",`Toastify__toast-theme--${x}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":Y},{"Toastify__toast--close-on-click":L}),$=xa(S)?S({rtl:Y,position:_,type:c,defaultClassName:R}):Sn(R,S),X=Lj(t),Q=!!j||!l,re={closeToast:g,type:c,theme:x},H=null;return o===!1||(xa(o)?H=o(re):se.isValidElement(o)?H=se.cloneElement(o,re):H=cj(re)),be.createElement(p,{isIn:k,done:N,position:_,preventExitTransition:n,nodeRef:r,playToast:s},be.createElement("div",{id:J,tabIndex:0,onClick:u,"data-in":k,className:$,...i,style:T,ref:r,...k&&{role:A,"aria-label":I}},X!=null&&be.createElement("div",{className:Sn("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!D})},X),yP(a,t,!e),H,!t.customProgressBar&&be.createElement(hj,{...b&&!Q?{key:`p-${b}`}:{},rtl:Y,theme:x,delay:l,isRunning:e,isIn:k,closeToast:g,hide:d,type:c,className:y,controlledProgress:Q,progress:j||0})))},Mj=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),Fj=uj(Mj("bounce",!0)),jj={position:"top-right",transition:Fj,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function Vj(t){let e={...jj,...t},n=t.stacked,[r,i]=se.useState(!0),s=se.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=Tj(e),{className:u,style:c,rtl:d,containerId:g,hotKeys:p}=e;function _(T){let y=Sn("Toastify__toast-container",`Toastify__toast-container--${T}`,{"Toastify__toast-container--rtl":d});return xa(u)?u({position:T,rtl:d,defaultClassName:y}):Sn(y,S2(u))}function S(){n&&(i(!0),Ht.play())}return Aj(()=>{var T;if(n){let y=s.current.querySelectorAll('[data-in="true"]'),b=12,A=(T=e.position)==null?void 0:T.includes("top"),j=0,Y=0;Array.from(y).reverse().forEach((J,N)=>{let k=J;k.classList.add("Toastify__toast--stacked"),N>0&&(k.dataset.collapsed=`${r}`),k.dataset.pos||(k.dataset.pos=A?"top":"bot");let D=j*(r?.2:1)+(r?0:b*N);k.style.setProperty("--y",`${A?D:D*-1}px`),k.style.setProperty("--g",`${b}`),k.style.setProperty("--s",`${1-(r?Y:0)}`),j+=k.offsetHeight,Y+=.025})}},[r,l,n]),se.useEffect(()=>{function T(y){var b;let A=s.current;p(y)&&((b=A.querySelector('[tabIndex="0"]'))==null||b.focus(),i(!1),Ht.pause()),y.key==="Escape"&&(document.activeElement===A||A!=null&&A.contains(document.activeElement))&&(i(!0),Ht.play())}return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[p]),be.createElement("section",{ref:s,className:"Toastify",id:g,onMouseEnter:()=>{n&&(i(!1),Ht.pause())},onMouseLeave:S,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((T,y)=>{let b=y.length?{...c}:{...c,pointerEvents:"none"};return be.createElement("div",{tabIndex:-1,className:_(T),"data-stacked":n,style:b,key:`c-${T}`},y.map(({content:A,props:j})=>be.createElement(Oj,{...j,stacked:n,collapseAll:S,isIn:a(j.toastId,j.containerId),key:`t-${j.key}`},A)))}))}function xP(t,e,n,r,i){r=r||{};var s=1.15,o=i.internal.scaleFactor,a=i.internal.getFontSize()/o,l=i.getLineHeightFactor?i.getLineHeightFactor():s,u=a*l,c=/\r\n|\r|\n/g,d="",g=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(d=typeof t=="string"?t.split(c):t,g=d.length||1),n+=a*(2-s),r.valign==="middle"?n-=g/2*u:r.valign==="bottom"&&(n-=g*u),r.halign==="center"||r.halign==="right"){var p=a;if(r.halign==="center"&&(p*=.5),d&&g>=1){for(var _=0;_<d.length;_++)i.text(d[_],e-i.getStringUnitWidth(d[_])*p,n),n+=u;return i}e-=i.getStringUnitWidth(t)*p}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var RE={},bh=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:RE=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,s;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),a=o.fontStyle,l=o.fontName;if(e.font&&(l=e.font),e.fontStyle){a=e.fontStyle;var u=this.getFontList()[l];u&&u.indexOf(a)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),a=u[0])}if(this.jsPDFDocument.setFont(l,a),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var c=t.unifyColor(e.fillColor);c&&(r=this.jsPDFDocument).setFillColor.apply(r,c),c=t.unifyColor(e.textColor),c&&(i=this.jsPDFDocument).setTextColor.apply(i,c),c=t.unifyColor(e.lineColor),c&&(s=this.jsPDFDocument).setDrawColor.apply(s,c),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,s){return this.jsPDFDocument.rect(e,n,r,i,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return RE||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),k2=function(t,e){return k2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},k2(t,e)};function TP(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");k2(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var kP=function(t){TP(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e}(Array);function Bj(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Uj(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function n0(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(s){return n.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return i}function AP(t,e,n,r){var i=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:s});var o=PP(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function PP(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function iv(t,e){var n,r,i,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function IP(t,e){var n=iv(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function zj(t,e,n,r,i){var s={},o=1.3333333333333333,a=Iy(e,function(A){return i.getComputedStyle(A).backgroundColor});a!=null&&(s.fillColor=a);var l=Iy(e,function(A){return i.getComputedStyle(A).color});l!=null&&(s.textColor=l);var u=Hj(r,n);u&&(s.cellPadding=u);var c="borderTopColor",d=o*n,g=r.borderTopWidth;if(r.borderBottomWidth===g&&r.borderRightWidth===g&&r.borderLeftWidth===g){var p=(parseFloat(g)||0)/d;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/d,right:(parseFloat(r.borderRightWidth)||0)/d,bottom:(parseFloat(r.borderBottomWidth)||0)/d,left:(parseFloat(r.borderLeftWidth)||0)/d},s.lineWidth.top||(s.lineWidth.right?c="borderRightColor":s.lineWidth.bottom?c="borderBottomColor":s.lineWidth.left&&(c="borderLeftColor"));var _=Iy(e,function(A){return i.getComputedStyle(A)[c]});_!=null&&(s.lineColor=_);var S=["left","right","center","justify"];S.indexOf(r.textAlign)!==-1&&(s.halign=r.textAlign),S=["middle","bottom","top"],S.indexOf(r.verticalAlign)!==-1&&(s.valign=r.verticalAlign);var T=parseInt(r.fontSize||"");isNaN(T)||(s.fontSize=T/o);var y=qj(r);y&&(s.fontStyle=y);var b=(r.fontFamily||"").toLowerCase();return t.indexOf(b)!==-1&&(s.font=b),s}function qj(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function Iy(t,e){var n=CP(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],s=parseInt(r[4]);return s===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function CP(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:CP(t.parentElement,e):n}function Hj(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=n.map(function(a){return parseInt(a||"0")/r}),o=iv(s,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function NP(t,e,n,r,i){var s,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var a;typeof e=="string"?a=n.document.querySelector(e):a=e;var l=Object.keys(t.getFontList()),u=t.scaleFactor(),c=[],d=[],g=[];if(!a)return console.error("Html table could not be found with input: ",e),{head:c,body:d,foot:g};for(var p=0;p<a.rows.length;p++){var _=a.rows[p],S=(o=(s=_==null?void 0:_.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),T=Wj(l,u,n,_,r,i);T&&(S==="thead"?c.push(T):S==="tfoot"?g.push(T):d.push(T))}return{head:c,body:d,foot:g}}function Wj(t,e,n,r,i,s){for(var o=new kP(r),a=0;a<r.cells.length;a++){var l=r.cells[a],u=n.getComputedStyle(l);if(i||u.display!=="none"){var c=void 0;s&&(c=zj(t,l,e,u,n)),o.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:c,_element:l,content:$j(l)})}}var d=n.getComputedStyle(r);if(o.length>0&&(i||d.display!=="none"))return o}function $j(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function Yj(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var s=i[r];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function aa(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var a=arguments[o];if(a!=null)for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s}function Gj(t,e){var n=new bh(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();Yj(i,r,e);var s=aa({},i,r,e),o;typeof window<"u"&&(o=window);var a=Kj(i,r,e),l=Qj(i,r,e),u=Jj(n,s),c=Zj(n,s,o);return{id:e.tableId,content:c,hooks:l,styles:a,settings:u}}function Kj(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var u=t[l],c=e[l],d=n[l];r.columnStyles=aa({},u,c,d)}else{var g=[t,e,n],p=g.map(function(_){return _[l]||{}});r[l]=aa({},p[0],p[1],p[2])}},s=0,o=Object.keys(r);s<o.length;s++){var a=o[s];i(a)}return r}function Qj(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=r;s<o.length;s++){var a=o[s];a.didParseCell&&i.didParseCell.push(a.didParseCell),a.willDrawCell&&i.willDrawCell.push(a.willDrawCell),a.didDrawCell&&i.didDrawCell.push(a.didDrawCell),a.willDrawPage&&i.willDrawPage.push(a.willDrawPage),a.didDrawPage&&i.didDrawPage.push(a.didDrawPage)}return i}function Jj(t,e){var n,r,i,s,o,a,l,u,c,d,g,p,_=iv(e.margin,40/t.scaleFactor()),S=(n=Xj(t,e.startY))!==null&&n!==void 0?n:_.top,T;e.showFoot===!0?T="everyPage":e.showFoot===!1?T="never":T=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var y;e.showHead===!0?y="everyPage":e.showHead===!1?y="never":y=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var b=(s=e.useCss)!==null&&s!==void 0?s:!1,A=e.theme||(b?"plain":"striped"),j=!!e.horizontalPageBreak,Y=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(a=e.includeHiddenHtml)!==null&&a!==void 0?a:!1,useCss:b,theme:A,startY:S,margin:_,pageBreak:(l=e.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(c=e.tableWidth)!==null&&c!==void 0?c:"auto",showHead:y,showFoot:T,tableLineWidth:(d=e.tableLineWidth)!==null&&d!==void 0?d:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:j,horizontalPageBreakRepeat:Y,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function Xj(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),s=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;s=o===i}return typeof e=="number"?e:(e==null||e===!1)&&s&&(n==null?void 0:n.finalY)!=null?n.finalY+20/r:null}function Zj(t,e,n){var r=e.head||[],i=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var a=NP(t,e.html,n,o,e.useCss)||{};r=a.head||r,i=a.body||r,s=a.foot||r}else console.error("Cannot parse html in non browser environment")}var l=e.columns||eV(r,i,s);return{columns:l,head:r,body:i,foot:s}}function eV(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,a;Array.isArray(r)?a=r[parseInt(s)]:a=r[s],typeof a=="object"&&!Array.isArray(a)&&(o=(a==null?void 0:a.colSpan)||1);for(var l=0;l<o;l++){var u=void 0;Array.isArray(r)?u=i.length:u=s+(l>0?"_".concat(l):"");var c={dataKey:u};i.push(c)}}),i}var A2=function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t}(),tV=function(t){TP(e,t);function e(n,r,i,s,o,a){var l=t.call(this,n,r,a)||this;return l.cell=i,l.row=s,l.column=o,l.section=s.section,l}return e}(A2),nV=function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,s,o){for(var a=0,l=n;a<l.length;a++){var u=l[a],c=new tV(e,this,r,i,s,o),d=u(c)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],d)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var s=i[r];s(new A2(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var s=i[r];s(new A2(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,s){return i+s.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t}(),DP=function(){function t(e,n,r,i,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof kP&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var s;return Math.max(r,((s=n.cells[i.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,s){var o=r.cells[s.index];if(!o)return 0;var a=n.getLineHeight(o.styles.fontSize),l=o.padding("vertical"),u=l+a;return u>i?u:i},0)},t}(),RP=function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",a=/\r\n|\r|\n/g;this.text=o.split(a)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,s=r*i+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=iv(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t}(),rV=function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var s=i[r],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t}();function iV(t,e){sV(t,e);var n=[],r=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,n.push(s)),r+=s.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=P2(n,i,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),i&&(i=P2(n,i,function(s){return s.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),aV(e),lV(e,t),oV(e)}function sV(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=IP(t,e);e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){var c=e.hooks.didParseCell;e.callCellHooks(t,c,u,s,l,null);var d=u.padding("horizontal");u.contentWidth=n0(u.text,u.styles,t)+d;var g=n0(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||r===!0)u.contentWidth>i?(u.minWidth=i,u.wrappedWidth=i):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/n;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,a=e.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u&&u.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,u.wrappedWidth),l.minWidth=Math.max(l.minWidth,u.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,u.minReadableWidth);else{var c=e.styles.columnStyles[l.dataKey]||e.styles.columnStyles[l.index]||{},d=c.cellWidth||c.minCellWidth;d&&typeof d=="number"&&(l.minWidth=d,l.wrappedWidth=d)}u&&(u.colSpan>1&&!l.minWidth&&(l.minWidth=u.minWidth),u.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=u.minWidth))}})}function P2(t,e,n){for(var r=e,i=t.reduce(function(p,_){return p+_.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],a=o.wrappedWidth/i,l=r*a,u=o.width+l,c=n(o),d=u<c?c:u;e-=d-o.width,o.width=d}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(p){return e<0?p.width>n(p):!0});g.length&&(e=P2(g,e,n))}return e}function oV(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var s=r[i],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=e[l.index];if(n>1)n--,delete s.cells[l.index];else if(u)u.cell.height+=s.height,n=u.cell.colSpan,delete s.cells[l.index],u.left--,u.left<=1&&delete e[l.index];else{var c=s.cells[l.index];if(!c)continue;if(c.height=s.height,c.rowSpan>1){var d=r.length-i,g=c.rowSpan>d?d:c.rowSpan;e[l.index]={cell:c,left:g,row:s}}}}}function aV(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,s=0,o=0,a=0;a<t.columns.length;a++){var l=t.columns[a];if(o-=1,o>1&&t.columns[a+1])s+=l.width,delete r.cells[l.index];else if(i){var u=i;delete r.cells[l.index],i=null,u.width=l.width+s}else{var u=r.cells[l.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){i=u,s+=l.width;continue}u.width=l.width+s}}}function lV(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var s=i[r],o=0,a=t.columns;o<a.length;o++){var l=a[o],u=s.cells[l.index];if(u){e.applyStyles(u.styles,!0);var c=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,c+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=LE(u.text,c,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=LE(u.text,c,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var d=u.styles.overflow(u.text,c);typeof d=="string"?u.text=[d]:u.text=d}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&n.count*n.height<g*u.rowSpan?n={height:g,count:u.rowSpan}:n&&n.count>0&&n.height>g&&(g=n.height),g>s.height&&(s.height=g)}}n.count--}}function LE(t,e,n,r,i){return t.map(function(s){return uV(s,e,n,r,i)})}function uV(t,e,n,r,i){var s=1e4*r.scaleFactor();if(e=Math.ceil(e*s)/s,e>=n0(t,n,r))return t;for(;e<n0(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function cV(t,e){var n=new bh(t),r=hV(e,n.scaleFactor()),i=new nV(e,r);return iV(n,i),n.applyStyles(n.userStyles),i}function hV(t,e){var n=t.content,r=dV(n.columns);if(n.head.length===0){var i=OE(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=OE(r,"foot");i&&n.foot.push(i)}var s=t.settings.theme,o=t.styles;return{columns:r,head:Cy("head",n.head,r,o,s,e),body:Cy("body",n.body,r,o,s,e),foot:Cy("foot",n.foot,r,o,s,e)}}function Cy(t,e,n,r,i,s){var o={},a=e.map(function(l,u){for(var c=0,d={},g=0,p=0,_=0,S=n;_<S.length;_++){var T=S[_];if(o[T.index]==null||o[T.index].left===0)if(p===0){var y=void 0;Array.isArray(l)?y=l[T.index-g-c]:y=l[T.dataKey];var b={};typeof y=="object"&&!Array.isArray(y)&&(b=(y==null?void 0:y.styles)||{});var A=pV(t,T,u,i,r,s,b),j=new RP(y,A,t);d[T.dataKey]=j,d[T.index]=j,p=j.colSpan-1,o[T.index]={left:j.rowSpan-1,times:p}}else p--,g++;else o[T.index].left--,p=o[T.index].times,c++}return new DP(l,u,t,d)});return a}function OE(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=fV(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function fV(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function dV(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new rV(i,e,n)})}function pV(t,e,n,r,i,s,o){var a=Uj(r),l;t==="head"?l=i.headStyles:t==="body"?l=i.bodyStyles:t==="foot"&&(l=i.footStyles);var u=aa({},a.table,a[t],i.styles,l),c=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},d=t==="body"?c:{},g=t==="body"&&n%2===0?aa({},a.alternateRow,i.alternateRowStyles):{},p=Bj(s),_=aa({},p,u,g,d);return aa(_,o)}function mV(t,e,n){var r;n===void 0&&(n={});var i=IP(t,e),s=new Map,o=[],a=[],l=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?l=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(l=[e.settings.horizontalPageBreakRepeat]),l.forEach(function(g){var p=e.columns.find(function(_){return _.dataKey===g||_.index===g});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),a.push(e.columns[p.index]),i-=p.wrappedWidth)});for(var u=!0,c=(r=n==null?void 0:n.start)!==null&&r!==void 0?r:0;c<e.columns.length;){if(s.has(c)){c++;continue}var d=e.columns[c].wrappedWidth;if(u||i>=d)u=!1,o.push(c),a.push(e.columns[c]),i-=d;else break;c++}return{colIndexes:o,columns:a,lastIndex:c-1}}function gV(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=mV(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function vV(t,e){var n=e.settings,r=n.startY,i=n.margin,s={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),a=r+i.bottom+o;if(n.pageBreak==="avoid"){var l=e.body,u=l.reduce(function(g,p){return g+p.height},0);a+=u}var c=new bh(t);(n.pageBreak==="always"||n.startY!=null&&a>c.pageSize().height)&&(OP(c),s.y=i.top),e.callWillDrawPageHooks(c,s);var d=aa({},s);e.startPageNumber=c.pageNumber(),n.horizontalPageBreak?yV(c,e,d,s):(c.applyStyles(c.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(g){return Ta(c,e,g,s,e.columns)}),c.applyStyles(c.userStyles),e.body.forEach(function(g,p){var _=p===e.body.length-1;r0(c,e,g,_,d,s,e.columns)}),c.applyStyles(c.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(g){return Ta(c,e,g,s,e.columns)})),AP(c,e,d,s),e.callEndPageHooks(c,s),e.finalY=s.y,t.lastAutoTable=e,c.applyStyles(c.userStyles)}function yV(t,e,n,r){var i=gV(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(u,c){t.applyStyles(t.userStyles),c>0?wd(t,e,n,r,u.columns,!0):ME(t,e,r,u.columns),wV(t,e,n,r,u.columns),Ny(t,e,r,u.columns)});else for(var o=-1,a=i[0],l=function(){var u=o;if(a){t.applyStyles(t.userStyles);var c=a.columns;o>=0?wd(t,e,n,r,c,!0):ME(t,e,r,c),u=FE(t,e,o+1,r,c),Ny(t,e,r,c)}var d=u-o;i.slice(1).forEach(function(g){t.applyStyles(t.userStyles),wd(t,e,n,r,g.columns,!0),FE(t,e,o+1,r,g.columns,d),Ny(t,e,r,g.columns)}),o=u};o<e.body.length-1;)l()}function ME(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(s){return Ta(t,e,s,n,r)})}function wV(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var a=o===e.body.length-1;r0(t,e,s,a,n,r,i)})}function FE(t,e,n,r,i,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(n+s,e.body.length),a=-1;return e.body.slice(n,o).forEach(function(l,u){var c=n+u===e.body.length-1,d=LP(t,e,c,r);l.canEntireRowFit(d,i)&&(Ta(t,e,l,r,i),a=n+u)}),a}function Ny(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(s){return Ta(t,e,s,n,r)})}function _V(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),s=Math.floor((e-i)/r);return Math.max(0,s)}function bV(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,a=n.columns;o<a.length;o++){var l=a[o],u=t.cells[l.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var c=new RP(u.raw,u.styles,u.section);c=aa(c,u),c.text=[];var d=_V(u,e,r);u.text.length>d&&(c.text=u.text.splice(d,u.text.length));var g=r.scaleFactor(),p=r.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,p),u.contentHeight>=e&&(u.contentHeight=e,c.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),c.contentHeight=c.getContentHeight(g,p),c.contentHeight>s&&(s=c.contentHeight),i[l.index]=c}}var _=new DP(t.raw,-1,t.section,i,!0);_.height=s;for(var S=0,T=n.columns;S<T.length;S++){var l=T[S],c=_.cells[l.index];c&&(c.height=_.height);var u=t.cells[l.index];u&&(u.height=t.height)}return _}function SV(t,e,n,r){var i=t.pageSize().height,s=r.settings.margin,o=s.top+s.bottom,a=i-o;e.section==="body"&&(a-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var l=e.getMinimumRowHeight(r.columns,t),u=l<n;if(l>a)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var c=e.hasRowSpan(r.columns),d=e.getMaxCellHeight(r.columns)>a;return d?(c&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(c||r.settings.rowPageBreak==="avoid")}function r0(t,e,n,r,i,s,o){var a=LP(t,e,r,s);if(n.canEntireRowFit(a,o))Ta(t,e,n,s,o);else if(SV(t,n,a,e)){var l=bV(n,a,e,t);Ta(t,e,n,s,o),wd(t,e,i,s,o),r0(t,e,l,r,i,s,o)}else wd(t,e,i,s,o),r0(t,e,n,r,i,s,o)}function Ta(t,e,n,r,i){r.x=e.settings.margin.left;for(var s=0,o=i;s<o.length;s++){var a=o[s],l=n.cells[a.index];if(!l){r.x+=a.width;continue}t.applyStyles(l.styles),l.x=r.x,l.y=r.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,l,n,a,r);if(u===!1){r.x+=a.width;continue}EV(t,l,r);var c=l.getTextPos();xP(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,l,n,a,r),r.x+=a.width}r.y+=n.height}function EV(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=PP(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),xV(t,e,n,r.lineWidth))}function xV(t,e,n,r){var i,s,o,a;r.top&&(i=n.x,s=n.y,o=n.x+e.width,a=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.top,i,s,o,a)),r.bottom&&(i=n.x,s=n.y+e.height,o=n.x+e.width,a=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),l(r.bottom,i,s,o,a)),r.left&&(i=n.x,s=n.y,o=n.x,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.left,i,s,o,a)),r.right&&(i=n.x+e.width,s=n.y,o=n.x+e.width,a=n.y+e.height,r.top&&(s-=.5*r.top),r.bottom&&(a+=.5*r.bottom),l(r.right,i,s,o,a));function l(u,c,d,g,p){t.getDocument().setLineWidth(u),t.getDocument().line(c,d,g,p,"S")}}function LP(t,e,n,r){var i=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function wd(t,e,n,r,i,s){i===void 0&&(i=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(a){return Ta(t,e,a,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;AP(t,e,n,r),OP(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(a){return Ta(t,e,a,r,i)}),t.applyStyles(t.userStyles))}function OP(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function TV(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=Gj(this,r),s=cV(this,i);return vV(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){xP(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return bh.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){bh.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new bh(this),s=NP(i,e,window,n,!1),o=s.head,a=s.body,l=((r=o[0])===null||r===void 0?void 0:r.map(function(u){return u.content}))||[];return{columns:l,rows:a,data:a}}}var Dy;try{if(typeof window<"u"&&window){var jE=window,VE=jE.jsPDF||((Dy=jE.jspdf)===null||Dy===void 0?void 0:Dy.jsPDF);VE&&TV(VE)}}catch(t){console.error("Could not apply autoTable plugin",t)}const kV=({data:t=[]})=>{const[e,n]=se.useState(null),r=[{x:50,y:20,label:"1"},{x:150,y:20,label:"2"},{x:250,y:20,label:"3"},{x:250,y:120,label:"4"},{x:250,y:220,label:"5"},{x:150,y:220,label:"6"},{x:50,y:220,label:"7"},{x:50,y:120,label:"8"},{x:50,y:70,label:"9"},{x:150,y:70,label:"10"},{x:250,y:70,label:"11"},{x:150,y:170,label:"12"}];return U.jsxs("div",{className:"relative",children:[U.jsxs("svg",{viewBox:"0 0 300 300",xmlns:"http://www.w3.org/2000/svg",className:"border border-gray-300 bg-gray-50",onMouseLeave:()=>n(null),children:[U.jsx("rect",{x:"0",y:"0",width:"300",height:"300",fill:"none",stroke:"black",strokeWidth:"2"}),U.jsx("line",{x1:"0",y1:"150",x2:"300",y2:"150",stroke:"black",strokeWidth:"1"}),U.jsx("line",{x1:"150",y1:"0",x2:"150",y2:"300",stroke:"black",strokeWidth:"1"}),U.jsx("line",{x1:"0",y1:"0",x2:"300",y2:"300",stroke:"black",strokeWidth:"1"}),U.jsx("line",{x1:"300",y1:"0",x2:"0",y2:"300",stroke:"black",strokeWidth:"1"}),r.map((i,s)=>U.jsx("text",{x:i.x,y:i.y,textAnchor:"middle",fontSize:"12",fontWeight:"bold",fill:"darkblue",children:i.label},s)),t.map((i,s)=>U.jsx("text",{x:r[i.house-1].x,y:r[i.house-1].y+15,textAnchor:"middle",fontSize:"10",fill:"blue",className:"cursor-pointer hover:fill-red-500",onMouseEnter:o=>n({x:o.clientX,y:o.clientY,text:`${i.name} in House ${i.house}`}),children:i.name},s))]}),e&&U.jsx("div",{className:"absolute bg-black text-white text-xs rounded px-2 py-1",style:{top:e.y+10,left:e.x+10},children:e.text})]})},I2=({prediction:t,showExport:e,onBack:n,onError:r})=>{const[i,s]=be.useState(!1),[o,a]=be.useState(!0),l=be.useRef(null),u=async()=>{typeof window<"u"&&window.posthog&&window.posthog.capture("pdf_downloaded",{source:"prediction_result",timestamp:new Date().toISOString()}),s(!0);try{const c=await fetch("https://astrobalendar-backend.onrender.com/api/pdf-report",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!c.ok)throw new Error("Failed to generate PDF");const d=await c.blob(),g=window.URL.createObjectURL(d),p=document.createElement("a");p.href=g,p.download="astrobalendar_prediction.pdf",document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(g),Ht.success("PDF generated and downloaded.")}catch{try{const d=(await zh(async()=>{const{jsPDF:y}=await Promise.resolve().then(()=>rz);return{jsPDF:y}},void 0,import.meta.url)).jsPDF,g=(await zh(async()=>{const{default:y}=await import("./html2canvas.esm-CBrSDip1.js");return{default:y}},[],import.meta.url)).default,p=new d("p","mm","a4"),_=new Image;_.src="/astrobalendar-logo.png",await new Promise(y=>{_.onload=y,_.onerror=y}),_.complete&&_.naturalWidth>0&&p.addImage(_,"PNG",10,10,30,30),p.setFontSize(18),p.text("AstroBalendar Prediction Report",50,20),p.setFontSize(11),p.text(`Generated: ${new Date().toLocaleString()}`,50,28),p.setTextColor(200),p.setFontSize(40),p.text("AstroBalendar",50,200,{angle:45}),p.setTextColor(0),p.setFontSize(12);let S=50;if(p.text("Birth Details:",10,S),S+=7,["name","dateOfBirth","timeOfBirth","state","district","city","locationName","latitude","longitude","timeZone"].forEach(y=>{t[y]&&(p.text(`${y}: ${t[y]}`,14,S),S+=6)}),S+=2,p.setFontSize(13),p.text("Summary:",10,S),S+=7,p.setFontSize(12),p.text(p.splitTextToSize(t.summary||"",180),14,S),S+=12,o&&l.current){const y=l.current.querySelector("svg");if(y){const A=(await g(y,{backgroundColor:null})).toDataURL("image/png");p.setFontSize(13),p.text("D1 (Rasi) Chart:",10,S),S+=7,p.addImage(A,"PNG",10,S,80,80),S+=85}}p.setFontSize(13),p.text("Details:",10,S),S+=7,p.setFontSize(12),t.details&&typeof t.details=="object"&&Object.entries(t.details).forEach(([y,b])=>{p.text(`${y}: ${b}`,14,S),S+=6}),S>250&&p.addPage(),p.save("astrobalendar_prediction.pdf"),Ht.success("PDF generated and downloaded.")}catch{r("PDF download failed"),Ht.error("Failed to generate PDF report. Try again.")}}finally{s(!1)}};return U.jsxs("div",{className:"prediction-result",children:[U.jsx("h2",{children:"Prediction Result"}),U.jsxs("div",{className:"mb-3",children:[U.jsx("strong",{children:"Summary:"}),U.jsx("div",{children:t.summary})]}),U.jsxs("div",{className:"mb-3",children:[U.jsx("strong",{children:"Details:"}),U.jsx("ul",{children:Object.entries(t.details).map(([c,d])=>U.jsxs("li",{children:[U.jsxs("strong",{children:[c,":"]})," ",d]},c))})]}),U.jsx("div",{style:{display:o?"block":"none"},ref:l,className:"mb-3",children:U.jsx(kV,{data:t.rasiChartData||[]})}),e&&U.jsxs("div",{className:"export-section",children:[U.jsxs("div",{className:"form-check mb-2",children:[U.jsx("input",{className:"form-check-input",type:"checkbox",id:"includeChart",checked:o,onChange:c=>a(c.target.checked),disabled:i}),U.jsx("label",{className:"form-check-label",htmlFor:"includeChart",children:"Include D1 (Rasi) Chart in PDF"})]}),U.jsx(b2,{variant:"primary",onClick:u,disabled:i,children:i?"Generating PDF...":"Download PDF Report"}),U.jsx(b2,{variant:"secondary",onClick:n,children:"Back"})]})]})},AV=({prediction:t})=>{const e=()=>{window.history.back()},n=r=>{console.error("Prediction error:",r)};return t?t.error?U.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-r from-purple-700 via-purple-500 to-blue-500 p-4",children:U.jsxs("div",{className:"text-center text-red-500",children:[U.jsx("h2",{className:"text-2xl mb-4",children:"Error"}),U.jsx("p",{children:t.error})]})}):U.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-r from-purple-700 via-purple-500 to-blue-500 p-4",children:U.jsx(I2,{prediction:t.data,showExport:!0,onBack:e,onError:n})}):U.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-r from-purple-700 via-purple-500 to-blue-500 p-4",children:U.jsxs("div",{className:"text-center",children:[U.jsx("h2",{className:"text-2xl mb-4",children:"Loading..."}),U.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto"})]})})};function MP(t,e){return function(){return t.apply(e,arguments)}}const{toString:PV}=Object.prototype,{getPrototypeOf:G5}=Object,{iterator:sv,toStringTag:FP}=Symbol,ov=(t=>e=>{const n=PV.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Hs=t=>(t=t.toLowerCase(),e=>ov(e)===t),av=t=>e=>typeof e===t,{isArray:uf}=Array,ep=av("undefined");function IV(t){return t!==null&&!ep(t)&&t.constructor!==null&&!ep(t.constructor)&&Ei(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const jP=Hs("ArrayBuffer");function CV(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&jP(t.buffer),e}const NV=av("string"),Ei=av("function"),VP=av("number"),lv=t=>t!==null&&typeof t=="object",DV=t=>t===!0||t===!1,ng=t=>{if(ov(t)!=="object")return!1;const e=G5(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(FP in t)&&!(sv in t)},RV=Hs("Date"),LV=Hs("File"),OV=Hs("Blob"),MV=Hs("FileList"),FV=t=>lv(t)&&Ei(t.pipe),jV=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ei(t.append)&&((e=ov(t))==="formdata"||e==="object"&&Ei(t.toString)&&t.toString()==="[object FormData]"))},VV=Hs("URLSearchParams"),[BV,UV,zV,qV]=["ReadableStream","Request","Response","Headers"].map(Hs),HV=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ep(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),uf(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function BP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ru=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,UP=t=>!ep(t)&&t!==Ru;function C2(){const{caseless:t}=UP(this)&&this||{},e={},n=(r,i)=>{const s=t&&BP(e,i)||i;ng(e[s])&&ng(r)?e[s]=C2(e[s],r):ng(r)?e[s]=C2({},r):uf(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Ep(arguments[r],n);return e}const WV=(t,e,n,{allOwnKeys:r}={})=>(Ep(e,(i,s)=>{n&&Ei(i)?t[s]=MP(i,n):t[s]=i},{allOwnKeys:r}),t),$V=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),YV=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},GV=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&G5(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},KV=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},QV=t=>{if(!t)return null;if(uf(t))return t;let e=t.length;if(!VP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},JV=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&G5(Uint8Array)),XV=(t,e)=>{const r=(t&&t[sv]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},ZV=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},eB=Hs("HTMLFormElement"),tB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),BE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),nB=Hs("RegExp"),zP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ep(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},rB=t=>{zP(t,(e,n)=>{if(Ei(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ei(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},iB=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return uf(t)?r(t):r(String(t).split(e)),n},sB=()=>{},oB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function aB(t){return!!(t&&Ei(t.append)&&t[FP]==="FormData"&&t[sv])}const lB=t=>{const e=new Array(10),n=(r,i)=>{if(lv(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=uf(r)?[]:{};return Ep(r,(o,a)=>{const l=n(o,i+1);!ep(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},uB=Hs("AsyncFunction"),cB=t=>t&&(lv(t)||Ei(t))&&Ei(t.then)&&Ei(t.catch),qP=((t,e)=>t?setImmediate:e?((n,r)=>(Ru.addEventListener("message",({source:i,data:s})=>{i===Ru&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ru.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ei(Ru.postMessage)),hB=typeof queueMicrotask<"u"?queueMicrotask.bind(Ru):typeof process<"u"&&process.nextTick||qP,fB=t=>t!=null&&Ei(t[sv]),Ee={isArray:uf,isArrayBuffer:jP,isBuffer:IV,isFormData:jV,isArrayBufferView:CV,isString:NV,isNumber:VP,isBoolean:DV,isObject:lv,isPlainObject:ng,isReadableStream:BV,isRequest:UV,isResponse:zV,isHeaders:qV,isUndefined:ep,isDate:RV,isFile:LV,isBlob:OV,isRegExp:nB,isFunction:Ei,isStream:FV,isURLSearchParams:VV,isTypedArray:JV,isFileList:MV,forEach:Ep,merge:C2,extend:WV,trim:HV,stripBOM:$V,inherits:YV,toFlatObject:GV,kindOf:ov,kindOfTest:Hs,endsWith:KV,toArray:QV,forEachEntry:XV,matchAll:ZV,isHTMLForm:eB,hasOwnProperty:BE,hasOwnProp:BE,reduceDescriptors:zP,freezeMethods:rB,toObjectSet:iB,toCamelCase:tB,noop:sB,toFiniteNumber:oB,findKey:BP,global:Ru,isContextDefined:UP,isSpecCompliantForm:aB,toJSONObject:lB,isAsyncFn:uB,isThenable:cB,setImmediate:qP,asap:hB,isIterable:fB};function kt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ee.inherits(kt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ee.toJSONObject(this.config),code:this.code,status:this.status}}});const HP=kt.prototype,WP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{WP[t]={value:t}});Object.defineProperties(kt,WP);Object.defineProperty(HP,"isAxiosError",{value:!0});kt.from=(t,e,n,r,i,s)=>{const o=Object.create(HP);return Ee.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),kt.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const dB=null;function N2(t){return Ee.isPlainObject(t)||Ee.isArray(t)}function $P(t){return Ee.endsWith(t,"[]")?t.slice(0,-2):t}function UE(t,e,n){return t?t.concat(e).map(function(i,s){return i=$P(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function pB(t){return Ee.isArray(t)&&!t.some(N2)}const mB=Ee.toFlatObject(Ee,{},null,function(e){return/^is[A-Z]/.test(e)});function uv(t,e,n){if(!Ee.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,T){return!Ee.isUndefined(T[S])});const r=n.metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Ee.isSpecCompliantForm(e);if(!Ee.isFunction(i))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(Ee.isDate(_))return _.toISOString();if(!l&&Ee.isBlob(_))throw new kt("Blob is not supported. Use a Buffer instead.");return Ee.isArrayBuffer(_)||Ee.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function c(_,S,T){let y=_;if(_&&!T&&typeof _=="object"){if(Ee.endsWith(S,"{}"))S=r?S:S.slice(0,-2),_=JSON.stringify(_);else if(Ee.isArray(_)&&pB(_)||(Ee.isFileList(_)||Ee.endsWith(S,"[]"))&&(y=Ee.toArray(_)))return S=$P(S),y.forEach(function(A,j){!(Ee.isUndefined(A)||A===null)&&e.append(o===!0?UE([S],j,s):o===null?S:S+"[]",u(A))}),!1}return N2(_)?!0:(e.append(UE(T,S,s),u(_)),!1)}const d=[],g=Object.assign(mB,{defaultVisitor:c,convertValue:u,isVisitable:N2});function p(_,S){if(!Ee.isUndefined(_)){if(d.indexOf(_)!==-1)throw Error("Circular reference detected in "+S.join("."));d.push(_),Ee.forEach(_,function(y,b){(!(Ee.isUndefined(y)||y===null)&&i.call(e,y,Ee.isString(b)?b.trim():b,S,g))===!0&&p(y,S?S.concat(b):[b])}),d.pop()}}if(!Ee.isObject(t))throw new TypeError("data must be an object");return p(t),e}function zE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function K5(t,e){this._pairs=[],t&&uv(t,this,e)}const YP=K5.prototype;YP.append=function(e,n){this._pairs.push([e,n])};YP.toString=function(e){const n=e?function(r){return e.call(this,r,zE)}:zE;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function gB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function GP(t,e,n){if(!e)return t;const r=n&&n.encode||gB;Ee.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Ee.isURLSearchParams(e)?e.toString():new K5(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class qE{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ee.forEach(this.handlers,function(r){r!==null&&e(r)})}}const KP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vB=typeof URLSearchParams<"u"?URLSearchParams:K5,yB=typeof FormData<"u"?FormData:null,wB=typeof Blob<"u"?Blob:null,_B={isBrowser:!0,classes:{URLSearchParams:vB,FormData:yB,Blob:wB},protocols:["http","https","file","blob","url","data"]},Q5=typeof window<"u"&&typeof document<"u",D2=typeof navigator=="object"&&navigator||void 0,bB=Q5&&(!D2||["ReactNative","NativeScript","NS"].indexOf(D2.product)<0),SB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",EB=Q5&&window.location.href||"http://localhost",xB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Q5,hasStandardBrowserEnv:bB,hasStandardBrowserWebWorkerEnv:SB,navigator:D2,origin:EB},Symbol.toStringTag,{value:"Module"})),qr={...xB,..._B};function TB(t,e){return uv(t,new qr.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return qr.isNode&&Ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function kB(t){return Ee.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function AB(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function QP(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&Ee.isArray(i)?i.length:o,l?(Ee.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!Ee.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Ee.isArray(i[o])&&(i[o]=AB(i[o])),!a)}if(Ee.isFormData(t)&&Ee.isFunction(t.entries)){const n={};return Ee.forEachEntry(t,(r,i)=>{e(kB(r),i,n,0)}),n}return null}function PB(t,e,n){if(Ee.isString(t))try{return(e||JSON.parse)(t),Ee.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const xp={transitional:KP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ee.isObject(e);if(s&&Ee.isHTMLForm(e)&&(e=new FormData(e)),Ee.isFormData(e))return i?JSON.stringify(QP(e)):e;if(Ee.isArrayBuffer(e)||Ee.isBuffer(e)||Ee.isStream(e)||Ee.isFile(e)||Ee.isBlob(e)||Ee.isReadableStream(e))return e;if(Ee.isArrayBufferView(e))return e.buffer;if(Ee.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return TB(e,this.formSerializer).toString();if((a=Ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return uv(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),PB(e)):e}],transformResponse:[function(e){const n=this.transitional||xp.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ee.isResponse(e)||Ee.isReadableStream(e))return e;if(e&&Ee.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?kt.from(a,kt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qr.classes.FormData,Blob:qr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ee.forEach(["delete","get","head","post","put","patch"],t=>{xp.headers[t]={}});const IB=Ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),CB=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&IB[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},HE=Symbol("internals");function Bf(t){return t&&String(t).trim().toLowerCase()}function rg(t){return t===!1||t==null?t:Ee.isArray(t)?t.map(rg):String(t)}function NB(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const DB=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ry(t,e,n,r,i){if(Ee.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ee.isString(e)){if(Ee.isString(r))return e.indexOf(r)!==-1;if(Ee.isRegExp(r))return r.test(e)}}function RB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function LB(t,e){const n=Ee.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let xi=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,u){const c=Bf(l);if(!c)throw new Error("header name must be a non-empty string");const d=Ee.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=rg(a))}const o=(a,l)=>Ee.forEach(a,(u,c)=>s(u,c,l));if(Ee.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Ee.isString(e)&&(e=e.trim())&&!DB(e))o(CB(e),n);else if(Ee.isObject(e)&&Ee.isIterable(e)){let a={},l,u;for(const c of e){if(!Ee.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?Ee.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Bf(e),e){const r=Ee.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return NB(i);if(Ee.isFunction(n))return n.call(this,i,r);if(Ee.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Bf(e),e){const r=Ee.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Ry(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Bf(o),o){const a=Ee.findKey(r,o);a&&(!n||Ry(r,r[a],a,n))&&(delete r[a],i=!0)}}return Ee.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Ry(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Ee.forEach(this,(i,s)=>{const o=Ee.findKey(r,s);if(o){n[o]=rg(i),delete n[s];return}const a=e?RB(s):String(s).trim();a!==s&&delete n[s],n[a]=rg(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ee.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[HE]=this[HE]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Bf(o);r[a]||(LB(i,o),r[a]=!0)}return Ee.isArray(e)?e.forEach(s):s(e),this}};xi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ee.reduceDescriptors(xi.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ee.freezeMethods(xi);function Ly(t,e){const n=this||xp,r=e||n,i=xi.from(r.headers);let s=r.data;return Ee.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function JP(t){return!!(t&&t.__CANCEL__)}function cf(t,e,n){kt.call(this,t??"canceled",kt.ERR_CANCELED,e,n),this.name="CanceledError"}Ee.inherits(cf,kt,{__CANCEL__:!0});function XP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new kt("Request failed with status code "+n.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function OB(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function MB(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[s];o||(o=u),n[i]=l,r[i]=u;let d=s,g=0;for(;d!==i;)g+=n[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(g*1e3/p):void 0}}function FB(t,e){let n=0,r=1e3/e,i,s;const o=(u,c=Date.now())=>{n=c,i=null,s&&(clearTimeout(s),s=null),t.apply(null,u)};return[(...u)=>{const c=Date.now(),d=c-n;d>=r?o(u,c):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-d)))},()=>i&&o(i)]}const i0=(t,e,n=3)=>{let r=0;const i=MB(50,250);return FB(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,u=i(l),c=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},WE=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},$E=t=>(...e)=>Ee.asap(()=>t(...e)),jB=qr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,qr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(qr.origin),qr.navigator&&/(msie|trident)/i.test(qr.navigator.userAgent)):()=>!0,VB=qr.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Ee.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ee.isString(r)&&o.push("path="+r),Ee.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function BB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function UB(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ZP(t,e,n){let r=!BB(e);return t&&(r||n==!1)?UB(t,e):e}const YE=t=>t instanceof xi?{...t}:t;function rc(t,e){e=e||{};const n={};function r(u,c,d,g){return Ee.isPlainObject(u)&&Ee.isPlainObject(c)?Ee.merge.call({caseless:g},u,c):Ee.isPlainObject(c)?Ee.merge({},c):Ee.isArray(c)?c.slice():c}function i(u,c,d,g){if(Ee.isUndefined(c)){if(!Ee.isUndefined(u))return r(void 0,u,d,g)}else return r(u,c,d,g)}function s(u,c){if(!Ee.isUndefined(c))return r(void 0,c)}function o(u,c){if(Ee.isUndefined(c)){if(!Ee.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,d)=>i(YE(u),YE(c),d,!0)};return Ee.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=l[c]||i,g=d(t[c],e[c],c);Ee.isUndefined(g)&&d!==a||(n[c]=g)}),n}const eI=t=>{const e=rc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=xi.from(o),e.url=GP(ZP(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Ee.isFormData(n)){if(qr.hasStandardBrowserEnv||qr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(qr.hasStandardBrowserEnv&&(r&&Ee.isFunction(r)&&(r=r(e)),r||r!==!1&&jB(e.url))){const u=i&&s&&VB.read(s);u&&o.set(i,u)}return e},zB=typeof XMLHttpRequest<"u",qB=zB&&function(t){return new Promise(function(n,r){const i=eI(t);let s=i.data;const o=xi.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,d,g,p,_;function S(){p&&p(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let T=new XMLHttpRequest;T.open(i.method.toUpperCase(),i.url,!0),T.timeout=i.timeout;function y(){if(!T)return;const A=xi.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),Y={data:!a||a==="text"||a==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:A,config:t,request:T};XP(function(N){n(N),S()},function(N){r(N),S()},Y),T=null}"onloadend"in T?T.onloadend=y:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(y)},T.onabort=function(){T&&(r(new kt("Request aborted",kt.ECONNABORTED,t,T)),T=null)},T.onerror=function(){r(new kt("Network Error",kt.ERR_NETWORK,t,T)),T=null},T.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const Y=i.transitional||KP;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),r(new kt(j,Y.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,t,T)),T=null},s===void 0&&o.setContentType(null),"setRequestHeader"in T&&Ee.forEach(o.toJSON(),function(j,Y){T.setRequestHeader(Y,j)}),Ee.isUndefined(i.withCredentials)||(T.withCredentials=!!i.withCredentials),a&&a!=="json"&&(T.responseType=i.responseType),u&&([g,_]=i0(u,!0),T.addEventListener("progress",g)),l&&T.upload&&([d,p]=i0(l),T.upload.addEventListener("progress",d),T.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=A=>{T&&(r(!A||A.type?new cf(null,t,T):A),T.abort(),T=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const b=OB(i.url);if(b&&qr.protocols.indexOf(b)===-1){r(new kt("Unsupported protocol "+b+":",kt.ERR_BAD_REQUEST,t));return}T.send(s||null)})},HB=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof kt?c:new cf(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,s(new kt(`timeout ${e} of ms exceeded`,kt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>Ee.asap(a),l}},WB=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},$B=async function*(t,e){for await(const n of YB(t))yield*WB(n,e)},YB=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},GE=(t,e,n,r)=>{const i=$B(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let d=c.byteLength;if(n){let g=s+=d;n(g)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},cv=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",tI=cv&&typeof ReadableStream=="function",GB=cv&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),nI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},KB=tI&&nI(()=>{let t=!1;const e=new Request(qr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),KE=64*1024,R2=tI&&nI(()=>Ee.isReadableStream(new Response("").body)),s0={stream:R2&&(t=>t.body)};cv&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!s0[e]&&(s0[e]=Ee.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new kt(`Response type '${e}' is not supported`,kt.ERR_NOT_SUPPORT,r)})})})(new Response);const QB=async t=>{if(t==null)return 0;if(Ee.isBlob(t))return t.size;if(Ee.isSpecCompliantForm(t))return(await new Request(qr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ee.isArrayBufferView(t)||Ee.isArrayBuffer(t))return t.byteLength;if(Ee.isURLSearchParams(t)&&(t=t+""),Ee.isString(t))return(await GB(t)).byteLength},JB=async(t,e)=>{const n=Ee.toFiniteNumber(t.getContentLength());return n??QB(e)},XB=cv&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:g}=eI(t);u=u?(u+"").toLowerCase():"text";let p=HB([i,s&&s.toAbortSignal()],o),_;const S=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let T;try{if(l&&KB&&n!=="get"&&n!=="head"&&(T=await JB(c,r))!==0){let Y=new Request(e,{method:"POST",body:r,duplex:"half"}),J;if(Ee.isFormData(r)&&(J=Y.headers.get("content-type"))&&c.setContentType(J),Y.body){const[N,k]=WE(T,i0($E(l)));r=GE(Y.body,KE,N,k)}}Ee.isString(d)||(d=d?"include":"omit");const y="credentials"in Request.prototype;_=new Request(e,{...g,signal:p,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:y?d:void 0});let b=await fetch(_);const A=R2&&(u==="stream"||u==="response");if(R2&&(a||A&&S)){const Y={};["status","statusText","headers"].forEach(D=>{Y[D]=b[D]});const J=Ee.toFiniteNumber(b.headers.get("content-length")),[N,k]=a&&WE(J,i0($E(a),!0))||[];b=new Response(GE(b.body,KE,N,()=>{k&&k(),S&&S()}),Y)}u=u||"text";let j=await s0[Ee.findKey(s0,u)||"text"](b,t);return!A&&S&&S(),await new Promise((Y,J)=>{XP(Y,J,{data:j,headers:xi.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:_})})}catch(y){throw S&&S(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new kt("Network Error",kt.ERR_NETWORK,t,_),{cause:y.cause||y}):kt.from(y,y&&y.code,t,_)}}),L2={http:dB,xhr:qB,fetch:XB};Ee.forEach(L2,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const QE=t=>`- ${t}`,ZB=t=>Ee.isFunction(t)||t===null||t===!1,rI={getAdapter:t=>{t=Ee.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!ZB(n)&&(r=L2[(o=String(n)).toLowerCase()],r===void 0))throw new kt(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(QE).join(`
`):" "+QE(s[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:L2};function Oy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new cf(null,t)}function JE(t){return Oy(t),t.headers=xi.from(t.headers),t.data=Ly.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),rI.getAdapter(t.adapter||xp.adapter)(t).then(function(r){return Oy(t),r.data=Ly.call(t,t.transformResponse,r),r.headers=xi.from(r.headers),r},function(r){return JP(r)||(Oy(t),r&&r.response&&(r.response.data=Ly.call(t,t.transformResponse,r.response),r.response.headers=xi.from(r.response.headers))),Promise.reject(r)})}const iI="1.9.0",hv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{hv[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const XE={};hv.transitional=function(e,n,r){function i(s,o){return"[Axios v"+iI+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new kt(i(o," has been removed"+(n?" in "+n:"")),kt.ERR_DEPRECATED);return n&&!XE[o]&&(XE[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};hv.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function eU(t,e,n){if(typeof t!="object")throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new kt("option "+s+" must be "+l,kt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new kt("Unknown option "+s,kt.ERR_BAD_OPTION)}}const ig={assertOptions:eU,validators:hv},lo=ig.validators;let ju=class{constructor(e){this.defaults=e||{},this.interceptors={request:new qE,response:new qE}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=rc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&ig.assertOptions(r,{silentJSONParsing:lo.transitional(lo.boolean),forcedJSONParsing:lo.transitional(lo.boolean),clarifyTimeoutError:lo.transitional(lo.boolean)},!1),i!=null&&(Ee.isFunction(i)?n.paramsSerializer={serialize:i}:ig.assertOptions(i,{encode:lo.function,serialize:lo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ig.assertOptions(n,{baseUrl:lo.spelling("baseURL"),withXsrfToken:lo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Ee.merge(s.common,s[n.method]);s&&Ee.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=xi.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(l=l&&S.synchronous,a.unshift(S.fulfilled,S.rejected))});const u=[];this.interceptors.response.forEach(function(S){u.push(S.fulfilled,S.rejected)});let c,d=0,g;if(!l){const _=[JE.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,u),g=_.length,c=Promise.resolve(n);d<g;)c=c.then(_[d++],_[d++]);return c}g=a.length;let p=n;for(d=0;d<g;){const _=a[d++],S=a[d++];try{p=_(p)}catch(T){S.call(this,T);break}}try{c=JE.call(this,p)}catch(_){return Promise.reject(_)}for(d=0,g=u.length;d<g;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=rc(this.defaults,e);const n=ZP(e.baseURL,e.url,e.allowAbsoluteUrls);return GP(n,e.params,e.paramsSerializer)}};Ee.forEach(["delete","get","head","options"],function(e){ju.prototype[e]=function(n,r){return this.request(rc(r||{},{method:e,url:n,data:(r||{}).data}))}});Ee.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(rc(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ju.prototype[e]=n(),ju.prototype[e+"Form"]=n(!0)});let tU=class sI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new cf(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new sI(function(i){e=i}),cancel:e}}};function nU(t){return function(n){return t.apply(null,n)}}function rU(t){return Ee.isObject(t)&&t.isAxiosError===!0}const O2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(O2).forEach(([t,e])=>{O2[e]=t});function oI(t){const e=new ju(t),n=MP(ju.prototype.request,e);return Ee.extend(n,ju.prototype,e,{allOwnKeys:!0}),Ee.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return oI(rc(t,i))},n}const Kn=oI(xp);Kn.Axios=ju;Kn.CanceledError=cf;Kn.CancelToken=tU;Kn.isCancel=JP;Kn.VERSION=iI;Kn.toFormData=uv;Kn.AxiosError=kt;Kn.Cancel=Kn.CanceledError;Kn.all=function(e){return Promise.all(e)};Kn.spread=nU;Kn.isAxiosError=rU;Kn.mergeConfig=rc;Kn.AxiosHeaders=xi;Kn.formToJSON=t=>QP(Ee.isHTMLForm(t)?new FormData(t):t);Kn.getAdapter=rI.getAdapter;Kn.HttpStatusCode=O2;Kn.default=Kn;const{Axios:Z$,AxiosError:eY,CanceledError:tY,isCancel:nY,CancelToken:rY,VERSION:iY,all:sY,Cancel:oY,isAxiosError:aY,spread:lY,toFormData:uY,AxiosHeaders:cY,HttpStatusCode:hY,formToJSON:fY,getAdapter:dY,mergeConfig:pY}=Kn,iU=()=>{const[t,e]=se.useState([]),[n,r]=se.useState(""),i=async()=>{if(!n.trim())return;const s={role:"user",content:n};e(o=>[...o,s]);try{const a={role:"assistant",content:(await Kn.post("https://astrobalendar-backend.onrender.com/api/chat",{question:n})).data.answer};e(l=>[...l,a])}catch(o){console.error("Error fetching GPT answer:",o)}r("")};return U.jsxs("div",{className:"flex flex-col h-full p-4",children:[U.jsx("div",{className:"flex-grow overflow-y-auto border rounded p-4 mb-4 bg-gray-100",children:t.map((s,o)=>U.jsx("div",{className:`mb-2 p-2 rounded ${s.role==="user"?"bg-blue-200 text-right":"bg-green-200 text-left"}`,children:s.content},o))}),U.jsxs("div",{className:"flex",children:[U.jsx("input",{type:"text",value:n,onChange:s=>r(s.target.value),className:"flex-grow border rounded p-2 mr-2",placeholder:"Type your message..."}),U.jsx("button",{onClick:i,className:"bg-blue-500 text-white rounded px-4 py-2 hover:bg-blue-600",children:"Send"})]})]})},sU=()=>U.jsxs("div",{className:"h-screen flex flex-col",children:[U.jsx("header",{className:"bg-blue-500 text-white p-4 text-center",children:U.jsx("h1",{className:"text-xl font-bold",children:"Astrobalendar Chat"})}),U.jsx("main",{className:"flex-grow",children:U.jsx(iU,{})})]});function nn(t){"@babel/helpers - typeof";return nn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nn(t)}var Hr=Uint8Array,Vi=Uint16Array,J5=Int32Array,fv=new Hr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dv=new Hr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),M2=new Hr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),aI=function(t,e){for(var n=new Vi(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new J5(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},lI=aI(fv,2),uI=lI.b,F2=lI.r;uI[28]=258,F2[258]=28;var cI=aI(dv,0),oU=cI.b,ZE=cI.r,j2=new Vi(32768);for(var wn=0;wn<32768;++wn){var al=(wn&43690)>>1|(wn&21845)<<1;al=(al&52428)>>2|(al&13107)<<2,al=(al&61680)>>4|(al&3855)<<4,j2[wn]=((al&65280)>>8|(al&255)<<8)>>1}var To=function(t,e,n){for(var r=t.length,i=0,s=new Vi(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Vi(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Vi(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],d=o[t[i]-1]++<<c,g=d|(1<<c)-1;d<=g;++d)a[j2[d]>>l]=u}else for(a=new Vi(r),i=0;i<r;++i)t[i]&&(a[i]=j2[o[t[i]-1]++]>>15-t[i]);return a},Gl=new Hr(288);for(var wn=0;wn<144;++wn)Gl[wn]=8;for(var wn=144;wn<256;++wn)Gl[wn]=9;for(var wn=256;wn<280;++wn)Gl[wn]=7;for(var wn=280;wn<288;++wn)Gl[wn]=8;var tp=new Hr(32);for(var wn=0;wn<32;++wn)tp[wn]=5;var aU=To(Gl,9,0),lU=To(Gl,9,1),uU=To(tp,5,0),cU=To(tp,5,1),My=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ks=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},Fy=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},X5=function(t){return(t+7)/8|0},hI=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Hr(t.subarray(e,n))},hU=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Is=function(t,e,n){var r=new Error(e||hU[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Is),!n)throw r;return r},fU=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Hr(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new Hr(i*3));var u=function(De){var Be=n.length;if(De>Be){var Ve=new Hr(Math.max(Be*2,De));Ve.set(n),n=Ve}},c=e.f||0,d=e.p||0,g=e.b||0,p=e.l,_=e.d,S=e.m,T=e.n,y=i*8;do{if(!p){c=ks(t,d,1);var b=ks(t,d+1,3);if(d+=3,b)if(b==1)p=lU,_=cU,S=9,T=5;else if(b==2){var J=ks(t,d,31)+257,N=ks(t,d+10,15)+4,k=J+ks(t,d+5,31)+1;d+=14;for(var D=new Hr(k),L=new Hr(19),x=0;x<N;++x)L[M2[x]]=ks(t,d+x*3,7);d+=N*3;for(var I=My(L),R=(1<<I)-1,$=To(L,I,1),x=0;x<k;){var X=$[ks(t,d,R)];d+=X&15;var A=X>>4;if(A<16)D[x++]=A;else{var Q=0,re=0;for(A==16?(re=3+ks(t,d,3),d+=2,Q=D[x-1]):A==17?(re=3+ks(t,d,7),d+=3):A==18&&(re=11+ks(t,d,127),d+=7);re--;)D[x++]=Q}}var H=D.subarray(0,J),te=D.subarray(J);S=My(H),T=My(te),p=To(H,S,1),_=To(te,T,1)}else Is(1);else{var A=X5(d)+4,j=t[A-4]|t[A-3]<<8,Y=A+j;if(Y>i){l&&Is(0);break}a&&u(g+j),n.set(t.subarray(A,Y),g),e.b=g+=j,e.p=d=Y*8,e.f=c;continue}if(d>y){l&&Is(0);break}}a&&u(g+131072);for(var ie=(1<<S)-1,Se=(1<<T)-1,F=d;;F=d){var Q=p[Fy(t,d)&ie],G=Q>>4;if(d+=Q&15,d>y){l&&Is(0);break}if(Q||Is(2),G<256)n[g++]=G;else if(G==256){F=d,p=null;break}else{var ee=G-254;if(G>264){var x=G-257,oe=fv[x];ee=ks(t,d,(1<<oe)-1)+uI[x],d+=oe}var ce=_[Fy(t,d)&Se],me=ce>>4;ce||Is(3),d+=ce&15;var te=oU[me];if(me>3){var oe=dv[me];te+=Fy(t,d)&(1<<oe)-1,d+=oe}if(d>y){l&&Is(0);break}a&&u(g+131072);var _e=g+ee;if(g<te){var we=s-te,Ne=Math.min(te,_e);for(we+g<0&&Is(3);g<Ne;++g)n[g]=r[we+g]}for(;g<_e;++g)n[g]=n[g-te]}}e.l=p,e.p=F,e.b=g,e.f=c,p&&(c=1,e.m=S,e.d=_,e.n=T)}while(!c);return g!=n.length&&o?hI(n,0,g):n.subarray(0,g)},Jo=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},Uf=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},jy=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:dI,l:0};if(i==1){var o=new Hr(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(Y,J){return Y.f-J.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,d=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[u].f<n[d].f?u++:d++],l=n[u!=c&&n[u].f<n[d].f?u++:d++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var p=new Vi(g+1),_=V2(n[c-1],p,0);if(_>e){var r=0,S=0,T=_-e,y=1<<T;for(s.sort(function(J,N){return p[N.s]-p[J.s]||J.f-N.f});r<i;++r){var b=s[r].s;if(p[b]>e)S+=y-(1<<_-p[b]),p[b]=e;else break}for(S>>=T;S>0;){var A=s[r].s;p[A]<e?S-=1<<e-p[A]++-1:++r}for(;r>=0&&S;--r){var j=s[r].s;p[j]==e&&(--p[j],++S)}_=e}return{t:new Hr(p),l:_}},V2=function(t,e,n){return t.s==-1?Math.max(V2(t.l,e,n+1),V2(t.r,e,n+1)):e[t.s]=n},ex=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Vi(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},zf=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},fI=function(t,e,n){var r=n.length,i=X5(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},tx=function(t,e,n,r,i,s,o,a,l,u,c){Jo(e,c++,n),++i[256];for(var d=jy(i,15),g=d.t,p=d.l,_=jy(s,15),S=_.t,T=_.l,y=ex(g),b=y.c,A=y.n,j=ex(S),Y=j.c,J=j.n,N=new Vi(19),k=0;k<b.length;++k)++N[b[k]&31];for(var k=0;k<Y.length;++k)++N[Y[k]&31];for(var D=jy(N,7),L=D.t,x=D.l,I=19;I>4&&!L[M2[I-1]];--I);var R=u+5<<3,$=zf(i,Gl)+zf(s,tp)+o,X=zf(i,g)+zf(s,S)+o+14+3*I+zf(N,L)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&R<=$&&R<=X)return fI(e,c,t.subarray(l,l+u));var Q,re,H,te;if(Jo(e,c,1+(X<$)),c+=2,X<$){Q=To(g,p,0),re=g,H=To(S,T,0),te=S;var ie=To(L,x,0);Jo(e,c,A-257),Jo(e,c+5,J-1),Jo(e,c+10,I-4),c+=14;for(var k=0;k<I;++k)Jo(e,c+3*k,L[M2[k]]);c+=3*I;for(var Se=[b,Y],F=0;F<2;++F)for(var G=Se[F],k=0;k<G.length;++k){var ee=G[k]&31;Jo(e,c,ie[ee]),c+=L[ee],ee>15&&(Jo(e,c,G[k]>>5&127),c+=G[k]>>12)}}else Q=aU,re=Gl,H=uU,te=tp;for(var k=0;k<a;++k){var oe=r[k];if(oe>255){var ee=oe>>18&31;Uf(e,c,Q[ee+257]),c+=re[ee+257],ee>7&&(Jo(e,c,oe>>23&31),c+=fv[ee]);var ce=oe&31;Uf(e,c,H[ce]),c+=te[ce],ce>3&&(Uf(e,c,oe>>5&8191),c+=dv[ce])}else Uf(e,c,Q[oe]),c+=re[oe]}return Uf(e,c,Q[256]),c+re[256]},dU=new J5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),dI=new Hr(0),pU=function(t,e,n,r,i,s){var o=s.z||t.length,a=new Hr(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var d=dU[e-1],g=d>>13,p=d&8191,_=(1<<n)-1,S=s.p||new Vi(32768),T=s.h||new Vi(_+1),y=Math.ceil(n/3),b=2*y,A=function(ot){return(t[ot]^t[ot+1]<<y^t[ot+2]<<b)&_},j=new J5(25e3),Y=new Vi(288),J=new Vi(32),N=0,k=0,D=s.i||0,L=0,x=s.w||0,I=0;D+2<o;++D){var R=A(D),$=D&32767,X=T[R];if(S[$]=X,T[R]=$,x<=D){var Q=o-D;if((N>7e3||L>24576)&&(Q>423||!u)){c=tx(t,l,0,j,Y,J,k,L,I,D-I,c),L=N=k=0,I=D;for(var re=0;re<286;++re)Y[re]=0;for(var re=0;re<30;++re)J[re]=0}var H=2,te=0,ie=p,Se=$-X&32767;if(Q>2&&R==A(D-Se))for(var F=Math.min(g,Q)-1,G=Math.min(32767,D),ee=Math.min(258,Q);Se<=G&&--ie&&$!=X;){if(t[D+H]==t[D+H-Se]){for(var oe=0;oe<ee&&t[D+oe]==t[D+oe-Se];++oe);if(oe>H){if(H=oe,te=Se,oe>F)break;for(var ce=Math.min(Se,oe-2),me=0,re=0;re<ce;++re){var _e=D-Se+re&32767,we=S[_e],Ne=_e-we&32767;Ne>me&&(me=Ne,X=_e)}}}$=X,X=S[$],Se+=$-X&32767}if(te){j[L++]=268435456|F2[H]<<18|ZE[te];var De=F2[H]&31,Be=ZE[te]&31;k+=fv[De]+dv[Be],++Y[257+De],++J[Be],x=D+H,++N}else j[L++]=t[D],++Y[t[D]]}}for(D=Math.max(D,x);D<o;++D)j[L++]=t[D],++Y[t[D]];c=tx(t,l,u,j,Y,J,k,L,I,D-I,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=T,s.p=S,s.i=D,s.w=x)}else{for(var D=s.w||0;D<o+u;D+=65535){var Ve=D+65535;Ve>=o&&(l[c/8|0]=u,Ve=o),c=fI(l,c+1,t.subarray(D,Ve))}s.i=o}return hI(a,0,r+X5(c)+i)},pI=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},mU=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Hr(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return pU(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},mI=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},gU=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=pI();i.p(e.dictionary),mI(t,2,i.d())}},vU=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Is(6,"invalid zlib data"),(t[1]>>5&1)==1&&Is(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function B2(t,e){e||(e={});var n=pI();n.p(t);var r=mU(t,e,e.dictionary?6:2,4);return gU(r,e),mI(r,r.length-4,n.d()),r}function yU(t,e){return fU(t.subarray(vU(t),-4),{i:2},e,e)}var wU=typeof TextDecoder<"u"&&new TextDecoder,_U=0;try{wU.decode(dI,{stream:!0}),_U=1}catch{}var pt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Vy(){pt.console&&typeof pt.console.log=="function"&&pt.console.log.apply(pt.console,arguments)}var un={log:Vy,warn:function(t){pt.console&&(typeof pt.console.warn=="function"?pt.console.warn.apply(pt.console,arguments):Vy.call(null,arguments))},error:function(t){pt.console&&(typeof pt.console.error=="function"?pt.console.error.apply(pt.console,arguments):Vy(t))}};function By(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){ku(r.response,e,n)},r.onerror=function(){un.error("could not download file")},r.send()}function nx(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Sm(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var _d,U2,ku=pt.saveAs||((typeof window>"u"?"undefined":nn(window))!=="object"||window!==pt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=pt.URL||pt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?nx(i.href)?By(t,e,n):Sm(i,i.target="_blank"):Sm(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Sm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(nx(t))By(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Sm(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:nn(s)!=="object"&&(un.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return By(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(pt.HTMLElement)||pt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":nn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(t)}else{var l=pt.URL||pt.webkitURL,u=l.createObjectURL(t);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function gI(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+a+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Uy(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=Mr(n,r,i,s,e[0],7,-680876936),s=Mr(s,n,r,i,e[1],12,-389564586),i=Mr(i,s,n,r,e[2],17,606105819),r=Mr(r,i,s,n,e[3],22,-1044525330),n=Mr(n,r,i,s,e[4],7,-176418897),s=Mr(s,n,r,i,e[5],12,1200080426),i=Mr(i,s,n,r,e[6],17,-1473231341),r=Mr(r,i,s,n,e[7],22,-45705983),n=Mr(n,r,i,s,e[8],7,1770035416),s=Mr(s,n,r,i,e[9],12,-1958414417),i=Mr(i,s,n,r,e[10],17,-42063),r=Mr(r,i,s,n,e[11],22,-1990404162),n=Mr(n,r,i,s,e[12],7,1804603682),s=Mr(s,n,r,i,e[13],12,-40341101),i=Mr(i,s,n,r,e[14],17,-1502002290),n=Fr(n,r=Mr(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Fr(s,n,r,i,e[6],9,-1069501632),i=Fr(i,s,n,r,e[11],14,643717713),r=Fr(r,i,s,n,e[0],20,-373897302),n=Fr(n,r,i,s,e[5],5,-701558691),s=Fr(s,n,r,i,e[10],9,38016083),i=Fr(i,s,n,r,e[15],14,-660478335),r=Fr(r,i,s,n,e[4],20,-405537848),n=Fr(n,r,i,s,e[9],5,568446438),s=Fr(s,n,r,i,e[14],9,-1019803690),i=Fr(i,s,n,r,e[3],14,-187363961),r=Fr(r,i,s,n,e[8],20,1163531501),n=Fr(n,r,i,s,e[13],5,-1444681467),s=Fr(s,n,r,i,e[2],9,-51403784),i=Fr(i,s,n,r,e[7],14,1735328473),n=jr(n,r=Fr(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=jr(s,n,r,i,e[8],11,-2022574463),i=jr(i,s,n,r,e[11],16,1839030562),r=jr(r,i,s,n,e[14],23,-35309556),n=jr(n,r,i,s,e[1],4,-1530992060),s=jr(s,n,r,i,e[4],11,1272893353),i=jr(i,s,n,r,e[7],16,-155497632),r=jr(r,i,s,n,e[10],23,-1094730640),n=jr(n,r,i,s,e[13],4,681279174),s=jr(s,n,r,i,e[0],11,-358537222),i=jr(i,s,n,r,e[3],16,-722521979),r=jr(r,i,s,n,e[6],23,76029189),n=jr(n,r,i,s,e[9],4,-640364487),s=jr(s,n,r,i,e[12],11,-421815835),i=jr(i,s,n,r,e[15],16,530742520),n=Vr(n,r=jr(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Vr(s,n,r,i,e[7],10,1126891415),i=Vr(i,s,n,r,e[14],15,-1416354905),r=Vr(r,i,s,n,e[5],21,-57434055),n=Vr(n,r,i,s,e[12],6,1700485571),s=Vr(s,n,r,i,e[3],10,-1894986606),i=Vr(i,s,n,r,e[10],15,-1051523),r=Vr(r,i,s,n,e[1],21,-2054922799),n=Vr(n,r,i,s,e[8],6,1873313359),s=Vr(s,n,r,i,e[15],10,-30611744),i=Vr(i,s,n,r,e[6],15,-1560198380),r=Vr(r,i,s,n,e[13],21,1309151649),n=Vr(n,r,i,s,e[4],6,-145523070),s=Vr(s,n,r,i,e[11],10,-1120210379),i=Vr(i,s,n,r,e[2],15,718787259),r=Vr(r,i,s,n,e[9],21,-343485551),t[0]=_l(n,t[0]),t[1]=_l(r,t[1]),t[2]=_l(i,t[2]),t[3]=_l(s,t[3])}function pv(t,e,n,r,i,s){return e=_l(_l(e,t),_l(r,s)),_l(e<<i|e>>>32-i,n)}function Mr(t,e,n,r,i,s,o){return pv(e&n|~e&r,t,e,i,s,o)}function Fr(t,e,n,r,i,s,o){return pv(e&r|n&~r,t,e,i,s,o)}function jr(t,e,n,r,i,s,o){return pv(e^n^r,t,e,i,s,o)}function Vr(t,e,n,r,i,s,o){return pv(n^(e|~r),t,e,i,s,o)}function vI(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Uy(r,bU(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Uy(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Uy(r,i),r}function bU(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}_d=pt.atob.bind(pt),U2=pt.btoa.bind(pt);var rx="0123456789abcdef".split("");function SU(t){for(var e="",n=0;n<4;n++)e+=rx[t>>8*n+4&15]+rx[t>>8*n&15];return e}function EU(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function z2(t){return vI(t).map(EU).join("")}var xU=function(t){for(var e=0;e<t.length;e++)t[e]=SU(t[e]);return t.join("")}(vI("hello"))!="5d41402abc4b2a76b9719d911017c592";function _l(t,e){if(xU){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function q2(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var u=0;for(l=0;l<256;l++){var c=a[l];u=(u+c+o.charCodeAt(l))%256,a[l]=a[u],a[u]=c}n=t,r=a}else a=r;var d=e.length,g=0,p=0,_="";for(l=0;l<d;l++)p=(p+(c=a[g=(g+1)%256]))%256,a[g]=a[p],a[p]=c,o=a[(a[g]+a[p])%256],_+=String.fromCharCode(e.charCodeAt(l)^o);return _}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ix={print:4,modify:8,copy:16,"annot-forms":32};function Kc(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(ix.perm!==void 0)throw new Error("Invalid permission: "+a);i+=ix[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=z2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=q2(this.encryptionKey,this.padding)}function Qc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function sx(t){if(nn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){pt.console&&un.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function np(t){if(!(this instanceof np))return new np(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function yI(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ml(t,e,n,r,i){if(!(this instanceof ml))return new ml(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,yI.call(this,r,i)}function Lu(t,e,n,r,i){if(!(this instanceof Lu))return new Lu(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,yI.call(this,r,i)}function at(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,u="S",c=null;nn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=sx;var _="1.3",S=p.__private__.getPdfVersion=function(){return _};p.__private__.setPdfVersion=function(v){_=v};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return T};var y=p.__private__.getPageFormat=function(v){return T[v]};i=i||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},A=b.COMPAT;function j(){this.saveGraphicsState(),ne(new Xe(Ye,0,0,-Ye,0,Dr()*Ye).toString()+" cm"),this.setFontSize(this.getFontSize()/Ye),u="n",A=b.ADVANCED}function Y(){this.restoreGraphicsState(),u="S",A=b.COMPAT}var J=p.__private__.combineFontStyleAndFontWeight=function(v,O){if(v=="bold"&&O=="normal"||v=="bold"&&O==400||v=="normal"&&O=="italic"||v=="bold"&&O=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return O&&(v=O==400||O==="normal"?v==="italic"?"italic":"normal":O!=700&&O!=="bold"||v!=="normal"?(O==700?"bold":O)+""+v:"bold"),v};p.advancedAPI=function(v){var O=A===b.COMPAT;return O&&j.call(this),typeof v!="function"||(v(this),O&&Y.call(this)),this},p.compatAPI=function(v){var O=A===b.ADVANCED;return O&&Y.call(this),typeof v!="function"||(v(this),O&&j.call(this)),this},p.isAdvancedAPI=function(){return A===b.ADVANCED};var N,k=function(v){if(A!==b.ADVANCED)throw new Error(v+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=p.roundToPrecision=p.__private__.roundToPrecision=function(v,O){var Z=e||O;if(isNaN(v)||isNaN(Z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return v.toFixed(Z).replace(/0+$/,"")};N=p.hpf=p.__private__.hpf=typeof l=="number"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return D(v,l)}:l==="smart"?function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return D(v,v>-1&&v<1?16:5)}:function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.hpf");return D(v,16)};var L=p.f2=p.__private__.f2=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f2");return D(v,2)},x=p.__private__.f3=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.f3");return D(v,3)},I=p.scale=p.__private__.scale=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.scale");return A===b.COMPAT?v*Ye:A===b.ADVANCED?v:void 0},R=function(v){return A===b.COMPAT?Dr()-v:A===b.ADVANCED?v:void 0},$=function(v){return I(R(v))};p.__private__.setPrecision=p.setPrecision=function(v){typeof parseInt(v,10)=="number"&&(e=parseInt(v,10))};var X,Q="00000000000000000000000000000000",re=p.__private__.getFileId=function(){return Q},H=p.__private__.setFileId=function(v){return Q=v!==void 0&&/^[a-fA-F0-9]{32}$/.test(v)?v.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(vn=new Kc(c.userPermissions,c.userPassword,c.ownerPassword,Q)),Q};p.setFileId=function(v){return H(v),this},p.getFileId=function(){return re()};var te=p.__private__.convertDateToPDFDate=function(v){var O=v.getTimezoneOffset(),Z=O<0?"+":"-",ae=Math.floor(Math.abs(O/60)),de=Math.abs(O%60),Te=[Z,ee(ae),"'",ee(de),"'"].join("");return["D:",v.getFullYear(),ee(v.getMonth()+1),ee(v.getDate()),ee(v.getHours()),ee(v.getMinutes()),ee(v.getSeconds()),Te].join("")},ie=p.__private__.convertPDFDateToDate=function(v){var O=parseInt(v.substr(2,4),10),Z=parseInt(v.substr(6,2),10)-1,ae=parseInt(v.substr(8,2),10),de=parseInt(v.substr(10,2),10),Te=parseInt(v.substr(12,2),10),Le=parseInt(v.substr(14,2),10);return new Date(O,Z,ae,de,Te,Le,0)},Se=p.__private__.setCreationDate=function(v){var O;if(v===void 0&&(v=new Date),v instanceof Date)O=te(v);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(v))throw new Error("Invalid argument passed to jsPDF.setCreationDate");O=v}return X=O},F=p.__private__.getCreationDate=function(v){var O=X;return v==="jsDate"&&(O=ie(X)),O};p.setCreationDate=function(v){return Se(v),this},p.getCreationDate=function(v){return F(v)};var G,ee=p.__private__.padd2=function(v){return("0"+parseInt(v)).slice(-2)},oe=p.__private__.padd2Hex=function(v){return("00"+(v=v.toString())).substr(v.length)},ce=0,me=[],_e=[],we=0,Ne=[],De=[],Be=!1,Ve=_e,ot=function(){ce=0,we=0,_e=[],me=[],Ne=[],ps=Cn(),Nr=Cn()};p.__private__.setCustomOutputDestination=function(v){Be=!0,Ve=v};var ke=function(v){Be||(Ve=v)};p.__private__.resetCustomOutputDestination=function(){Be=!1,Ve=_e};var ne=p.__private__.out=function(v){return v=v.toString(),we+=v.length+1,Ve.push(v),Ve},yt=p.__private__.write=function(v){return ne(arguments.length===1?v.toString():Array.prototype.join.call(arguments," "))},nt=p.__private__.getArrayBuffer=function(v){for(var O=v.length,Z=new ArrayBuffer(O),ae=new Uint8Array(Z);O--;)ae[O]=v.charCodeAt(O);return Z},Me=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Me};var Ue=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(v){return Ue=A===b.ADVANCED?v/Ye:v,this};var $e,He=p.__private__.getFontSize=p.getFontSize=function(){return A===b.COMPAT?Ue:Ue*Ye},it=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(v){return it=v,this},p.__private__.getR2L=p.getR2L=function(){return it};var mt,_t=p.__private__.setZoomMode=function(v){var O=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(v))$e=v;else if(isNaN(v)){if(O.indexOf(v)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+v+'" is not recognized.');$e=v}else $e=parseInt(v,10)};p.__private__.getZoomMode=function(){return $e};var st,dt=p.__private__.setPageMode=function(v){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(v)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+v+'" is not recognized.');mt=v};p.__private__.getPageMode=function(){return mt};var jt=p.__private__.setLayoutMode=function(v){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(v)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+v+'" is not recognized.');st=v};p.__private__.getLayoutMode=function(){return st},p.__private__.setDisplayMode=p.setDisplayMode=function(v,O,Z){return _t(v),jt(O),dt(Z),this};var ft={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(v){if(Object.keys(ft).indexOf(v)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ft[v]},p.__private__.getDocumentProperties=function(){return ft},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(v){for(var O in ft)ft.hasOwnProperty(O)&&v[O]&&(ft[O]=v[O]);return this},p.__private__.setDocumentProperty=function(v,O){if(Object.keys(ft).indexOf(v)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ft[v]=O};var At,Ye,In,Ot,li,Wt={},cn={},Wi=[],Mt={},Ys={},mn={},yr={},Ai=null,hn=0,lt=[],Vt=new sx(p),$i=t.hotfixes||[],Qn={},Ir={},Pi=[],Xe=function v(O,Z,ae,de,Te,Le){if(!(this instanceof v))return new v(O,Z,ae,de,Te,Le);isNaN(O)&&(O=1),isNaN(Z)&&(Z=0),isNaN(ae)&&(ae=0),isNaN(de)&&(de=1),isNaN(Te)&&(Te=0),isNaN(Le)&&(Le=0),this._matrix=[O,Z,ae,de,Te,Le]};Object.defineProperty(Xe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Xe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Xe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Xe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Xe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Xe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Xe.prototype,"a",{get:function(){return this._matrix[0]},set:function(v){this._matrix[0]=v}}),Object.defineProperty(Xe.prototype,"b",{get:function(){return this._matrix[1]},set:function(v){this._matrix[1]=v}}),Object.defineProperty(Xe.prototype,"c",{get:function(){return this._matrix[2]},set:function(v){this._matrix[2]=v}}),Object.defineProperty(Xe.prototype,"d",{get:function(){return this._matrix[3]},set:function(v){this._matrix[3]=v}}),Object.defineProperty(Xe.prototype,"e",{get:function(){return this._matrix[4]},set:function(v){this._matrix[4]=v}}),Object.defineProperty(Xe.prototype,"f",{get:function(){return this._matrix[5]},set:function(v){this._matrix[5]=v}}),Object.defineProperty(Xe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xe.prototype.join=function(v){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(v)},Xe.prototype.multiply=function(v){var O=v.sx*this.sx+v.shy*this.shx,Z=v.sx*this.shy+v.shy*this.sy,ae=v.shx*this.sx+v.sy*this.shx,de=v.shx*this.shy+v.sy*this.sy,Te=v.tx*this.sx+v.ty*this.shx+this.tx,Le=v.tx*this.shy+v.ty*this.sy+this.ty;return new Xe(O,Z,ae,de,Te,Le)},Xe.prototype.decompose=function(){var v=this.sx,O=this.shy,Z=this.shx,ae=this.sy,de=this.tx,Te=this.ty,Le=Math.sqrt(v*v+O*O),qe=(v/=Le)*Z+(O/=Le)*ae;Z-=v*qe,ae-=O*qe;var f=Math.sqrt(Z*Z+ae*ae);return qe/=f,v*(ae/=f)<O*(Z/=f)&&(v=-v,O=-O,qe=-qe,Le=-Le),{scale:new Xe(Le,0,0,f,0,0),translate:new Xe(1,0,0,1,de,Te),rotate:new Xe(v,O,-O,v,0,0),skew:new Xe(1,0,qe,1,0,0)}},Xe.prototype.toString=function(v){return this.join(" ")},Xe.prototype.inversed=function(){var v=this.sx,O=this.shy,Z=this.shx,ae=this.sy,de=this.tx,Te=this.ty,Le=1/(v*ae-O*Z),qe=ae*Le,f=-O*Le,E=-Z*Le,C=v*Le;return new Xe(qe,f,E,C,-qe*de-E*Te,-f*de-C*Te)},Xe.prototype.applyToPoint=function(v){var O=v.x*this.sx+v.y*this.shx+this.tx,Z=v.x*this.shy+v.y*this.sy+this.ty;return new zo(O,Z)},Xe.prototype.applyToRectangle=function(v){var O=this.applyToPoint(v),Z=this.applyToPoint(new zo(v.x+v.w,v.y+v.h));return new Ha(O.x,O.y,Z.x-O.x,Z.y-O.y)},Xe.prototype.clone=function(){var v=this.sx,O=this.shy,Z=this.shx,ae=this.sy,de=this.tx,Te=this.ty;return new Xe(v,O,Z,ae,de,Te)},p.Matrix=Xe;var ui=p.matrixMult=function(v,O){return O.multiply(v)},Cr=new Xe(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Cr;var Jn=function(v,O){if(!Ys[v]){var Z=(O instanceof ml?"Sh":"P")+(Object.keys(Mt).length+1).toString(10);O.id=Z,Ys[v]=Z,Mt[Z]=O,Vt.publish("addPattern",O)}};p.ShadingPattern=ml,p.TilingPattern=Lu,p.addShadingPattern=function(v,O){return k("addShadingPattern()"),Jn(v,O),this},p.beginTilingPattern=function(v){k("beginTilingPattern()"),Wa(v.boundingBox[0],v.boundingBox[1],v.boundingBox[2]-v.boundingBox[0],v.boundingBox[3]-v.boundingBox[1],v.matrix)},p.endTilingPattern=function(v,O){k("endTilingPattern()"),O.stream=De[G].join(`
`),Jn(v,O),Vt.publish("endTilingPattern",O),Pi.pop().restore()};var Fn=p.__private__.newObject=function(){var v=Cn();return Xn(v,!0),v},Cn=p.__private__.newObjectDeferred=function(){return ce++,me[ce]=function(){return we},ce},Xn=function(v,O){return O=typeof O=="boolean"&&O,me[v]=we,O&&ne(v+" 0 obj"),v},Ca=p.__private__.newAdditionalObject=function(){var v={objId:Cn(),content:""};return Ne.push(v),v},ps=Cn(),Nr=Cn(),ci=p.__private__.decodeColorString=function(v){var O=v.split(" ");if(O.length!==2||O[1]!=="g"&&O[1]!=="G")O.length===5&&(O[4]==="k"||O[4]==="K")&&(O=[(1-O[0])*(1-O[3]),(1-O[1])*(1-O[3]),(1-O[2])*(1-O[3]),"r"]);else{var Z=parseFloat(O[0]);O=[Z,Z,Z,"r"]}for(var ae="#",de=0;de<3;de++)ae+=("0"+Math.floor(255*parseFloat(O[de])).toString(16)).slice(-2);return ae},Yr=p.__private__.encodeColorString=function(v){var O;typeof v=="string"&&(v={ch1:v});var Z=v.ch1,ae=v.ch2,de=v.ch3,Te=v.ch4,Le=v.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Z=="string"&&Z.charAt(0)!=="#"){var qe=new gI(Z);if(qe.ok)Z=qe.toHex();else if(!/^\d*\.?\d*$/.test(Z))throw new Error('Invalid color "'+Z+'" passed to jsPDF.encodeColorString.')}if(typeof Z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Z)&&(Z="#"+Z[1]+Z[1]+Z[2]+Z[2]+Z[3]+Z[3]),typeof Z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Z)){var f=parseInt(Z.substr(1),16);Z=f>>16&255,ae=f>>8&255,de=255&f}if(ae===void 0||Te===void 0&&Z===ae&&ae===de)if(typeof Z=="string")O=Z+" "+Le[0];else switch(v.precision){case 2:O=L(Z/255)+" "+Le[0];break;case 3:default:O=x(Z/255)+" "+Le[0]}else if(Te===void 0||nn(Te)==="object"){if(Te&&!isNaN(Te.a)&&Te.a===0)return O=["1.","1.","1.",Le[1]].join(" ");if(typeof Z=="string")O=[Z,ae,de,Le[1]].join(" ");else switch(v.precision){case 2:O=[L(Z/255),L(ae/255),L(de/255),Le[1]].join(" ");break;default:case 3:O=[x(Z/255),x(ae/255),x(de/255),Le[1]].join(" ")}}else if(typeof Z=="string")O=[Z,ae,de,Te,Le[2]].join(" ");else switch(v.precision){case 2:O=[L(Z),L(ae),L(de),L(Te),Le[2]].join(" ");break;case 3:default:O=[x(Z),x(ae),x(de),x(Te),Le[2]].join(" ")}return O},Gr=p.__private__.getFilters=function(){return o},jn=p.__private__.putStream=function(v){var O=(v=v||{}).data||"",Z=v.filters||Gr(),ae=v.alreadyAppliedFilters||[],de=v.addLength1||!1,Te=O.length,Le=v.objectId,qe=function(bt){return bt};if(c!==null&&Le===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(qe=vn.encryptor(Le,0));var f={};Z===!0&&(Z=["FlateEncode"]);var E=v.additionalKeyValues||[],C=(f=at.API.processDataByFilters!==void 0?at.API.processDataByFilters(O,Z):{data:O,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(f.data.length!==0&&(E.push({key:"Length",value:f.data.length}),de===!0&&E.push({key:"Length1",value:Te})),C.length!=0)if(C.split("/").length-1==1)E.push({key:"Filter",value:C});else{E.push({key:"Filter",value:"["+C+"]"});for(var z=0;z<E.length;z+=1)if(E[z].key==="DecodeParms"){for(var fe=[],ye=0;ye<f.reverseChain.split("/").length-1;ye+=1)fe.push("null");fe.push(E[z].value),E[z].value="["+fe.join(" ")+"]"}}ne("<<");for(var Oe=0;Oe<E.length;Oe++)ne("/"+E[Oe].key+" "+E[Oe].value);ne(">>"),f.data.length!==0&&(ne("stream"),ne(qe(f.data)),ne("endstream"))},Ii=p.__private__.putPage=function(v){var O=v.number,Z=v.data,ae=v.objId,de=v.contentsObjId;Xn(ae,!0),ne("<</Type /Page"),ne("/Parent "+v.rootDictionaryObjId+" 0 R"),ne("/Resources "+v.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(N(v.mediaBox.bottomLeftX))+" "+parseFloat(N(v.mediaBox.bottomLeftY))+" "+N(v.mediaBox.topRightX)+" "+N(v.mediaBox.topRightY)+"]"),v.cropBox!==null&&ne("/CropBox ["+N(v.cropBox.bottomLeftX)+" "+N(v.cropBox.bottomLeftY)+" "+N(v.cropBox.topRightX)+" "+N(v.cropBox.topRightY)+"]"),v.bleedBox!==null&&ne("/BleedBox ["+N(v.bleedBox.bottomLeftX)+" "+N(v.bleedBox.bottomLeftY)+" "+N(v.bleedBox.topRightX)+" "+N(v.bleedBox.topRightY)+"]"),v.trimBox!==null&&ne("/TrimBox ["+N(v.trimBox.bottomLeftX)+" "+N(v.trimBox.bottomLeftY)+" "+N(v.trimBox.topRightX)+" "+N(v.trimBox.topRightY)+"]"),v.artBox!==null&&ne("/ArtBox ["+N(v.artBox.bottomLeftX)+" "+N(v.artBox.bottomLeftY)+" "+N(v.artBox.topRightX)+" "+N(v.artBox.topRightY)+"]"),typeof v.userUnit=="number"&&v.userUnit!==1&&ne("/UserUnit "+v.userUnit),Vt.publish("putPage",{objId:ae,pageContext:lt[O],pageNumber:O,page:Z}),ne("/Contents "+de+" 0 R"),ne(">>"),ne("endobj");var Te=Z.join(`
`);return A===b.ADVANCED&&(Te+=`
Q`),Xn(de,!0),jn({data:Te,filters:Gr(),objectId:de}),ne("endobj"),ae},Gs=p.__private__.putPages=function(){var v,O,Z=[];for(v=1;v<=hn;v++)lt[v].objId=Cn(),lt[v].contentsObjId=Cn();for(v=1;v<=hn;v++)Z.push(Ii({number:v,data:De[v],objId:lt[v].objId,contentsObjId:lt[v].contentsObjId,mediaBox:lt[v].mediaBox,cropBox:lt[v].cropBox,bleedBox:lt[v].bleedBox,trimBox:lt[v].trimBox,artBox:lt[v].artBox,userUnit:lt[v].userUnit,rootDictionaryObjId:ps,resourceDictionaryObjId:Nr}));Xn(ps,!0),ne("<</Type /Pages");var ae="/Kids [";for(O=0;O<hn;O++)ae+=Z[O]+" 0 R ";ne(ae+"]"),ne("/Count "+hn),ne(">>"),ne("endobj"),Vt.publish("postPutPages")},Ks=function(v){Vt.publish("putFont",{font:v,out:ne,newObject:Fn,putStream:jn}),v.isAlreadyPutted!==!0&&(v.objectNumber=Fn(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Qc(v.postScriptName)),ne("/Subtype /Type1"),typeof v.encoding=="string"&&ne("/Encoding /"+v.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Qs=function(){for(var v in Wt)Wt.hasOwnProperty(v)&&(d===!1||d===!0&&g.hasOwnProperty(v))&&Ks(Wt[v])},Ro=function(v){v.objectNumber=Fn();var O=[];O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Form"}),O.push({key:"BBox",value:"["+[N(v.x),N(v.y),N(v.x+v.width),N(v.y+v.height)].join(" ")+"]"}),O.push({key:"Matrix",value:"["+v.matrix.toString()+"]"});var Z=v.pages[1].join(`
`);jn({data:Z,additionalKeyValues:O,objectId:v.objectNumber}),ne("endobj")},Lo=function(){for(var v in Qn)Qn.hasOwnProperty(v)&&Ro(Qn[v])},vc=function(v,O){var Z,ae=[],de=1/(O-1);for(Z=0;Z<1;Z+=de)ae.push(Z);if(ae.push(1),v[0].offset!=0){var Te={offset:0,color:v[0].color};v.unshift(Te)}if(v[v.length-1].offset!=1){var Le={offset:1,color:v[v.length-1].color};v.push(Le)}for(var qe="",f=0,E=0;E<ae.length;E++){for(Z=ae[E];Z>v[f+1].offset;)f++;var C=v[f].offset,z=(Z-C)/(v[f+1].offset-C),fe=v[f].color,ye=v[f+1].color;qe+=oe(Math.round((1-z)*fe[0]+z*ye[0]).toString(16))+oe(Math.round((1-z)*fe[1]+z*ye[1]).toString(16))+oe(Math.round((1-z)*fe[2]+z*ye[2]).toString(16))}return qe.trim()},Na=function(v,O){O||(O=21);var Z=Fn(),ae=vc(v.colors,O),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+O+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),jn({data:ae,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Z}),ne("endobj"),v.objectNumber=Fn(),ne("<< /ShadingType "+v.type),ne("/ColorSpace /DeviceRGB");var Te="/Coords ["+N(parseFloat(v.coords[0]))+" "+N(parseFloat(v.coords[1]))+" ";v.type===2?Te+=N(parseFloat(v.coords[2]))+" "+N(parseFloat(v.coords[3])):Te+=N(parseFloat(v.coords[2]))+" "+N(parseFloat(v.coords[3]))+" "+N(parseFloat(v.coords[4]))+" "+N(parseFloat(v.coords[5])),ne(Te+="]"),v.matrix&&ne("/Matrix ["+v.matrix.toString()+"]"),ne("/Function "+Z+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},yc=function(v,O){var Z=Cn(),ae=Fn();O.push({resourcesOid:Z,objectOid:ae}),v.objectNumber=ae;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+v.boundingBox.map(N).join(" ")+"]"}),de.push({key:"XStep",value:N(v.xStep)}),de.push({key:"YStep",value:N(v.yStep)}),de.push({key:"Resources",value:Z+" 0 R"}),v.matrix&&de.push({key:"Matrix",value:"["+v.matrix.toString()+"]"}),jn({data:v.stream,additionalKeyValues:de,objectId:v.objectNumber}),ne("endobj")},Js=function(v){var O;for(O in Mt)Mt.hasOwnProperty(O)&&(Mt[O]instanceof ml?Na(Mt[O]):Mt[O]instanceof Lu&&yc(Mt[O],v))},Xs=function(v){for(var O in v.objectNumber=Fn(),ne("<<"),v)switch(O){case"opacity":ne("/ca "+L(v[O]));break;case"stroke-opacity":ne("/CA "+L(v[O]))}ne(">>"),ne("endobj")},ms=function(){var v;for(v in mn)mn.hasOwnProperty(v)&&Xs(mn[v])},Oo=function(){for(var v in ne("/XObject <<"),Qn)Qn.hasOwnProperty(v)&&Qn[v].objectNumber>=0&&ne("/"+v+" "+Qn[v].objectNumber+" 0 R");Vt.publish("putXobjectDict"),ne(">>")},ff=function(){vn.oid=Fn(),ne("<<"),ne("/Filter /Standard"),ne("/V "+vn.v),ne("/R "+vn.r),ne("/U <"+vn.toHexString(vn.U)+">"),ne("/O <"+vn.toHexString(vn.O)+">"),ne("/P "+vn.P),ne(">>"),ne("endobj")},ru=function(){for(var v in ne("/Font <<"),Wt)Wt.hasOwnProperty(v)&&(d===!1||d===!0&&g.hasOwnProperty(v))&&ne("/"+v+" "+Wt[v].objectNumber+" 0 R");ne(">>")},wc=function(){if(Object.keys(Mt).length>0){for(var v in ne("/Shading <<"),Mt)Mt.hasOwnProperty(v)&&Mt[v]instanceof ml&&Mt[v].objectNumber>=0&&ne("/"+v+" "+Mt[v].objectNumber+" 0 R");Vt.publish("putShadingPatternDict"),ne(">>")}},Mo=function(v){if(Object.keys(Mt).length>0){for(var O in ne("/Pattern <<"),Mt)Mt.hasOwnProperty(O)&&Mt[O]instanceof p.TilingPattern&&Mt[O].objectNumber>=0&&Mt[O].objectNumber<v&&ne("/"+O+" "+Mt[O].objectNumber+" 0 R");Vt.publish("putTilingPatternDict"),ne(">>")}},iu=function(){if(Object.keys(mn).length>0){var v;for(v in ne("/ExtGState <<"),mn)mn.hasOwnProperty(v)&&mn[v].objectNumber>=0&&ne("/"+v+" "+mn[v].objectNumber+" 0 R");Vt.publish("putGStateDict"),ne(">>")}},gn=function(v){Xn(v.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ru(),wc(),Mo(v.objectOid),iu(),Oo(),ne(">>"),ne("endobj")},su=function(){var v=[];Qs(),ms(),Lo(),Js(v),Vt.publish("putResources"),v.forEach(gn),gn({resourcesOid:Nr,objectOid:Number.MAX_SAFE_INTEGER}),Vt.publish("postPutResources")},ou=function(){Vt.publish("putAdditionalObjects");for(var v=0;v<Ne.length;v++){var O=Ne[v];Xn(O.objId,!0),ne(O.content),ne("endobj")}Vt.publish("postPutAdditionalObjects")},_c=function(v){cn[v.fontName]=cn[v.fontName]||{},cn[v.fontName][v.fontStyle]=v.id},au=function(v,O,Z,ae,de){var Te={id:"F"+(Object.keys(Wt).length+1).toString(10),postScriptName:v,fontName:O,fontStyle:Z,encoding:ae,isStandardFont:de||!1,metadata:{}};return Vt.publish("addFont",{font:Te,instance:this}),Wt[Te.id]=Te,_c(Te),Te.id},bc=function(v){for(var O=0,Z=Me.length;O<Z;O++){var ae=au.call(this,v[O][0],v[O][1],v[O][2],Me[O][3],!0);d===!1&&(g[ae]=!0);var de=v[O][0].split("-");_c({id:ae,fontName:de[0],fontStyle:de[1]||""})}Vt.publish("addFonts",{fonts:Wt,dictionary:cn})},hi=function(v){return v.foo=function(){try{return v.apply(this,arguments)}catch(ae){var O=ae.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var Z="Error in function "+O.split(`
`)[0].split("<")[0]+": "+ae.message;if(!pt.console)throw new Error(Z);pt.console.error(Z,ae),pt.alert&&alert(Z)}},v.foo.bar=v,v.foo},Da=function(v,O){var Z,ae,de,Te,Le,qe,f,E,C;if(de=(O=O||{}).sourceEncoding||"Unicode",Le=O.outputEncoding,(O.autoencode||Le)&&Wt[At].metadata&&Wt[At].metadata[de]&&Wt[At].metadata[de].encoding&&(Te=Wt[At].metadata[de].encoding,!Le&&Wt[At].encoding&&(Le=Wt[At].encoding),!Le&&Te.codePages&&(Le=Te.codePages[0]),typeof Le=="string"&&(Le=Te[Le]),Le)){for(f=!1,qe=[],Z=0,ae=v.length;Z<ae;Z++)(E=Le[v.charCodeAt(Z)])?qe.push(String.fromCharCode(E)):qe.push(v[Z]),qe[Z].charCodeAt(0)>>8&&(f=!0);v=qe.join("")}for(Z=v.length;f===void 0&&Z!==0;)v.charCodeAt(Z-1)>>8&&(f=!0),Z--;if(!f)return v;for(qe=O.noBOM?[]:[254,255],Z=0,ae=v.length;Z<ae;Z++){if((C=(E=v.charCodeAt(Z))>>8)>>8)throw new Error("Character at position "+Z+" of string '"+v+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(C),qe.push(E-(C<<8))}return String.fromCharCode.apply(void 0,qe)},Nn=p.__private__.pdfEscape=p.pdfEscape=function(v,O){return Da(v,O).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Kr=p.__private__.beginPage=function(v){De[++hn]=[],lt[hn]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(v[0]),topRightY:Number(v[1])}},lu(hn),ke(De[G])},Fo=function(v,O){var Z,ae,de;switch(n=O||n,typeof v=="string"&&(Z=y(v.toLowerCase()),Array.isArray(Z)&&(ae=Z[0],de=Z[1])),Array.isArray(v)&&(ae=v[0]*Ye,de=v[1]*Ye),isNaN(ae)&&(ae=i[0],de=i[1]),(ae>14400||de>14400)&&(un.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),de=Math.min(14400,de)),i=[ae,de],n.substr(0,1)){case"l":de>ae&&(i=[de,ae]);break;case"p":ae>de&&(i=[de,ae])}Kr(i),du(fu),ne(wr),gu!==0&&ne(gu+" J"),qa!==0&&ne(qa+" j"),Vt.publish("addPage",{pageNumber:hn})},Ra=function(v){v>0&&v<=hn&&(De.splice(v,1),lt.splice(v,1),hn--,G>hn&&(G=hn),this.setPage(G))},lu=function(v){v>0&&v<=hn&&(G=v)},Xt=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return De.length-1},jo=function(v,O,Z){var ae,de=void 0;return Z=Z||{},v=v!==void 0?v:Wt[At].fontName,O=O!==void 0?O:Wt[At].fontStyle,ae=v.toLowerCase(),cn[ae]!==void 0&&cn[ae][O]!==void 0?de=cn[ae][O]:cn[v]!==void 0&&cn[v][O]!==void 0?de=cn[v][O]:Z.disableWarning===!1&&un.warn("Unable to look up font label for font '"+v+"', '"+O+"'. Refer to getFontList() for available fonts."),de||Z.noFallback||(de=cn.times[O])==null&&(de=cn.times.normal),de},Vo=p.__private__.putInfo=function(){var v=Fn(),O=function(ae){return ae};for(var Z in c!==null&&(O=vn.encryptor(v,0)),ne("<<"),ne("/Producer ("+Nn(O("jsPDF "+at.version))+")"),ft)ft.hasOwnProperty(Z)&&ft[Z]&&ne("/"+Z.substr(0,1).toUpperCase()+Z.substr(1)+" ("+Nn(O(ft[Z]))+")");ne("/CreationDate ("+Nn(O(X))+")"),ne(">>"),ne("endobj")},gs=p.__private__.putCatalog=function(v){var O=(v=v||{}).rootDictionaryObjId||ps;switch(Fn(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+O+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Z=""+$e;Z.substr(Z.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+L($e)+"]")}switch(st||(st="continuous"),st){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}mt&&ne("/PageMode /"+mt),Vt.publish("putCatalog"),ne(">>"),ne("endobj")},df=p.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(ce+1)),ne("/Root "+ce+" 0 R"),ne("/Info "+(ce-1)+" 0 R"),c!==null&&ne("/Encrypt "+vn.oid+" 0 R"),ne("/ID [ <"+Q+"> <"+Q+"> ]"),ne(">>")},Sc=p.__private__.putHeader=function(){ne("%PDF-"+_),ne("%ºß¬à")},pf=p.__private__.putXRef=function(){var v="0000000000";ne("xref"),ne("0 "+(ce+1)),ne("0000000000 65535 f ");for(var O=1;O<=ce;O++)typeof me[O]=="function"?ne((v+me[O]()).slice(-10)+" 00000 n "):me[O]!==void 0?ne((v+me[O]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},vs=p.__private__.buildDocument=function(){ot(),ke(_e),Vt.publish("buildDocument"),Sc(),Gs(),ou(),su(),c!==null&&ff(),Vo(),gs();var v=we;return pf(),df(),ne("startxref"),ne(""+v),ne("%%EOF"),ke(De[G]),_e.join(`
`)},La=p.__private__.getBlob=function(v){return new Blob([nt(v)],{type:"application/pdf"})},Oa=p.output=p.__private__.output=hi(function(v,O){switch(typeof(O=O||{})=="string"?O={filename:O}:O.filename=O.filename||"generated.pdf",v){case void 0:return vs();case"save":p.save(O.filename);break;case"arraybuffer":return nt(vs());case"blob":return La(vs());case"bloburi":case"bloburl":if(pt.URL!==void 0&&typeof pt.URL.createObjectURL=="function")return pt.URL&&pt.URL.createObjectURL(La(vs()))||void 0;un.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Z="",ae=vs();try{Z=U2(ae)}catch{Z=U2(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+O.filename+";base64,"+Z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Te=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';O.pdfObjectUrl&&(de=O.pdfObjectUrl,Te="");var Le='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+Te+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(O)+");<\/script></body></html>",qe=pt.open();return qe!==null&&qe.document.write(Le),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pt)==="[object Window]"){var f='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(O.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+O.filename+'" width="500px" height="400px" /></body></html>',E=pt.open();if(E!==null){E.document.write(f);var C=this;E.document.documentElement.querySelector("#pdfViewer").onload=function(){E.document.title=O.filename,E.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(C.output("bloburl"))}}return E}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var z='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",O)+'"></iframe></body></html>',fe=pt.open();if(fe!==null&&(fe.document.write(z),fe.document.title=O.filename),fe||typeof safari>"u")return fe;break;case"datauri":case"dataurl":return pt.document.location.href=this.output("datauristring",O);default:return null}}),Zs=function(v){return Array.isArray($i)===!0&&$i.indexOf(v)>-1};switch(r){case"pt":Ye=1;break;case"mm":Ye=72/25.4;break;case"cm":Ye=72/2.54;break;case"in":Ye=72;break;case"px":Ye=Zs("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ye=12;break;case"ex":Ye=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ye=r}var vn=null;Se(),H();var Ec=function(v){return c!==null?vn.encryptor(v,0):function(O){return O}},uu=p.__private__.getPageInfo=p.getPageInfo=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:lt[v].objId,pageNumber:v,pageContext:lt[v]}},gt=p.__private__.getPageInfoByObjId=function(v){if(isNaN(v)||v%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var O in lt)if(lt[O].objId===v)break;return uu(O)},eo=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:lt[G].objId,pageNumber:G,pageContext:lt[G]}};p.addPage=function(){return Fo.apply(this,arguments),this},p.setPage=function(){return lu.apply(this,arguments),ke.call(this,De[G]),this},p.insertPage=function(v){return this.addPage(),this.movePage(G,v),this},p.movePage=function(v,O){var Z,ae;if(v>O){Z=De[v],ae=lt[v];for(var de=v;de>O;de--)De[de]=De[de-1],lt[de]=lt[de-1];De[O]=Z,lt[O]=ae,this.setPage(O)}else if(v<O){Z=De[v],ae=lt[v];for(var Te=v;Te<O;Te++)De[Te]=De[Te+1],lt[Te]=lt[Te+1];De[O]=Z,lt[O]=ae,this.setPage(O)}return this},p.deletePage=function(){return Ra.apply(this,arguments),this},p.__private__.text=p.text=function(v,O,Z,ae,de){var Te,Le,qe,f,E,C,z,fe,ye,Oe=(ae=ae||{}).scope||this;if(typeof v=="number"&&typeof O=="number"&&(typeof Z=="string"||Array.isArray(Z))){var bt=Z;Z=O,O=v,v=bt}if(arguments[3]instanceof Xe?(k("The transform parameter of text() with a Matrix value"),ye=de):(qe=arguments[4],f=arguments[5],nn(z=arguments[3])==="object"&&z!==null||(typeof qe=="string"&&(f=qe,qe=null),typeof z=="string"&&(f=z,z=null),typeof z=="number"&&(qe=z,z=null),ae={flags:z,angle:qe,align:f})),isNaN(O)||isNaN(Z)||v==null)throw new Error("Invalid arguments passed to jsPDF.text");if(v.length===0)return Oe;var Nt="",St=!1,Kt=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:Gt,an=Oe.internal.scaleFactor;function Ss(fn){return fn=fn.split("	").join(Array(ae.TabLen||9).join(" ")),Nn(fn,z)}function _r(fn){for(var dn,Bn=fn.concat(),sr=[],Yo=Bn.length;Yo--;)typeof(dn=Bn.shift())=="string"?sr.push(dn):Array.isArray(fn)&&(dn.length===1||dn[1]===void 0&&dn[2]===void 0)?sr.push(dn[0]):sr.push([dn[0],dn[1],dn[2]]);return sr}function io(fn,dn){var Bn;if(typeof fn=="string")Bn=dn(fn)[0];else if(Array.isArray(fn)){for(var sr,Yo,Ef=fn.concat(),Mc=[],Rp=Ef.length;Rp--;)typeof(sr=Ef.shift())=="string"?Mc.push(dn(sr)[0]):Array.isArray(sr)&&typeof sr[0]=="string"&&(Yo=dn(sr[0],sr[1],sr[2]),Mc.push([Yo[0],Yo[1],Yo[2]]));Bn=Mc}return Bn}var so=!1,gf=!0;if(typeof v=="string")so=!0;else if(Array.isArray(v)){var vf=v.concat();Le=[];for(var Pc,br=vf.length;br--;)(typeof(Pc=vf.shift())!="string"||Array.isArray(Pc)&&typeof Pc[0]!="string")&&(gf=!1);so=gf}if(so===!1)throw new Error('Type of text must be string or Array. "'+v+'" is not recognized.');typeof v=="string"&&(v=v.match(/[\r?\n]/)?v.split(/\r\n|\r|\n/g):[v]);var Ic=Ue/Oe.internal.scaleFactor,Cc=Ic*(Kt-1);switch(ae.baseline){case"bottom":Z-=Cc;break;case"top":Z+=Ic-Cc;break;case"hanging":Z+=Ic-2*Cc;break;case"middle":Z+=Ic/2-Cc}if((C=ae.maxWidth||0)>0&&(typeof v=="string"?v=Oe.splitTextToSize(v,C):Object.prototype.toString.call(v)==="[object Array]"&&(v=v.reduce(function(fn,dn){return fn.concat(Oe.splitTextToSize(dn,C))},[]))),Te={text:v,x:O,y:Z,options:ae,mutex:{pdfEscape:Nn,activeFontKey:At,fonts:Wt,activeFontSize:Ue}},Vt.publish("preProcessText",Te),v=Te.text,qe=(ae=Te.options).angle,!(ye instanceof Xe)&&qe&&typeof qe=="number"){qe*=Math.PI/180,ae.rotationDirection===0&&(qe=-qe),A===b.ADVANCED&&(qe=-qe);var Nc=Math.cos(qe),yf=Math.sin(qe);ye=new Xe(Nc,yf,-yf,Nc,0,0)}else qe&&qe instanceof Xe&&(ye=qe);A!==b.ADVANCED||ye||(ye=Cr),(E=ae.charSpace||Uo)!==void 0&&(Nt+=N(I(E))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fe=ae.horizontalScale)!==void 0&&(Nt+=N(100*fe)+` Tz
`),ae.lang;var fi=-1,xv=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,wf=Oe.internal.getCurrentPageInfo().pageContext;switch(xv){case 0:case!1:case"fill":fi=0;break;case 1:case!0:case"stroke":fi=1;break;case 2:case"fillThenStroke":fi=2;break;case 3:case"invisible":fi=3;break;case 4:case"fillAndAddForClipping":fi=4;break;case 5:case"strokeAndAddPathForClipping":fi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":fi=6;break;case 7:case"addToPathForClipping":fi=7}var Ip=wf.usedRenderingMode!==void 0?wf.usedRenderingMode:-1;fi!==-1?Nt+=fi+` Tr
`:Ip!==-1&&(Nt+=`0 Tr
`),fi!==-1&&(wf.usedRenderingMode=fi),f=ae.align||"left";var Gi,Dc=Ue*Kt,Cp=Oe.internal.pageSize.getWidth(),Np=Wt[At];E=ae.charSpace||Uo,C=ae.maxWidth||0,z=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var Ga=[],vu=function(fn){return Oe.getStringUnitWidth(fn,{font:Np,charSpace:E,fontSize:Ue,doKerning:!1})*Ue/an};if(Object.prototype.toString.call(v)==="[object Array]"){var di;Le=_r(v),f!=="left"&&(Gi=Le.map(vu));var Qr,Ka=0;if(f==="right"){O-=Gi[0],v=[],br=Le.length;for(var Ho=0;Ho<br;Ho++)Ho===0?(Qr=Di(O),di=ir(Z)):(Qr=I(Ka-Gi[Ho]),di=-Dc),v.push([Le[Ho],Qr,di]),Ka=Gi[Ho]}else if(f==="center"){O-=Gi[0]/2,v=[],br=Le.length;for(var Wo=0;Wo<br;Wo++)Wo===0?(Qr=Di(O),di=ir(Z)):(Qr=I((Ka-Gi[Wo])/2),di=-Dc),v.push([Le[Wo],Qr,di]),Ka=Gi[Wo]}else if(f==="left"){v=[],br=Le.length;for(var Rc=0;Rc<br;Rc++)v.push(Le[Rc])}else if(f==="justify"&&Np.encoding==="Identity-H"){v=[],br=Le.length,C=C!==0?C:Cp;for(var $o=0,Vn=0;Vn<br;Vn++)if(di=Vn===0?ir(Z):-Dc,Qr=Vn===0?Di(O):$o,Vn<br-1){var _f=I((C-Gi[Vn])/(Le[Vn].split(" ").length-1)),Jr=Le[Vn].split(" ");v.push([Jr[0]+" ",Qr,di]),$o=0;for(var Ki=1;Ki<Jr.length;Ki++){var Lc=(vu(Jr[Ki-1]+" "+Jr[Ki])-vu(Jr[Ki]))*an+_f;Ki==Jr.length-1?v.push([Jr[Ki],Lc,0]):v.push([Jr[Ki]+" ",Lc,0]),$o-=Lc}}else v.push([Le[Vn],Qr,di]);v.push(["",$o,0])}else{if(f!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(v=[],br=Le.length,C=C!==0?C:Cp,Vn=0;Vn<br;Vn++)di=Vn===0?ir(Z):-Dc,Qr=Vn===0?Di(O):0,Vn<br-1?Ga.push(N(I((C-Gi[Vn])/(Le[Vn].split(" ").length-1)))):Ga.push(0),v.push([Le[Vn],Qr,di])}}var Dp=typeof ae.R2L=="boolean"?ae.R2L:it;Dp===!0&&(v=io(v,function(fn,dn,Bn){return[fn.split("").reverse().join(""),dn,Bn]})),Te={text:v,x:O,y:Z,options:ae,mutex:{pdfEscape:Nn,activeFontKey:At,fonts:Wt,activeFontSize:Ue}},Vt.publish("postProcessText",Te),v=Te.text,St=Te.mutex.isHex||!1;var bf=Wt[At].encoding;bf!=="WinAnsiEncoding"&&bf!=="StandardEncoding"||(v=io(v,function(fn,dn,Bn){return[Ss(fn),dn,Bn]})),Le=_r(v),v=[];for(var yu,wu,Qa,_u=0,Oc=1,bu=Array.isArray(Le[0])?Oc:_u,Ja="",Sf=function(fn,dn,Bn){var sr="";return Bn instanceof Xe?(Bn=typeof ae.angle=="number"?ui(Bn,new Xe(1,0,0,1,fn,dn)):ui(new Xe(1,0,0,1,fn,dn),Bn),A===b.ADVANCED&&(Bn=ui(new Xe(1,0,0,-1,0,0),Bn)),sr=Bn.join(" ")+` Tm
`):sr=N(fn)+" "+N(dn)+` Td
`,sr},Qi=0;Qi<Le.length;Qi++){switch(Ja="",bu){case Oc:Qa=(St?"<":"(")+Le[Qi][0]+(St?">":")"),yu=parseFloat(Le[Qi][1]),wu=parseFloat(Le[Qi][2]);break;case _u:Qa=(St?"<":"(")+Le[Qi]+(St?">":")"),yu=Di(O),wu=ir(Z)}Ga!==void 0&&Ga[Qi]!==void 0&&(Ja=Ga[Qi]+` Tw
`),Qi===0?v.push(Ja+Sf(yu,wu,ye)+Qa):bu===_u?v.push(Ja+Qa):bu===Oc&&v.push(Ja+Sf(yu,wu,ye)+Qa)}v=bu===_u?v.join(` Tj
T* `):v.join(` Tj
`),v+=` Tj
`;var Ji=`BT
/`;return Ji+=At+" "+Ue+` Tf
`,Ji+=N(Ue*Kt)+` TL
`,Ji+=_s+`
`,Ji+=Nt,Ji+=v,ne(Ji+="ET"),g[At]=!0,Oe};var mf=p.__private__.clip=p.clip=function(v){return ne(v==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return mf("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ne("n"),this};var Yi=p.__private__.isValidStyle=function(v){var O=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(v)!==-1&&(O=!0),O};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(v){return Yi(v)&&(u=v),this};var xc=p.__private__.getStyle=p.getStyle=function(v){var O=u;switch(v){case"D":case"S":O="S";break;case"F":O="f";break;case"FD":case"DF":O="B";break;case"f":case"f*":case"B":case"B*":O=v}return O},Ci=p.close=function(){return ne("h"),this};p.stroke=function(){return ne("S"),this},p.fill=function(v){return Ma("f",v),this},p.fillEvenOdd=function(v){return Ma("f*",v),this},p.fillStroke=function(v){return Ma("B",v),this},p.fillStrokeEvenOdd=function(v){return Ma("B*",v),this};var Ma=function(v,O){nn(O)==="object"?ja(O,v):ne(v)},cu=function(v){v===null||A===b.ADVANCED&&v===void 0||(v=xc(v),ne(v))};function Fa(v,O,Z,ae,de){var Te=new Lu(O||this.boundingBox,Z||this.xStep,ae||this.yStep,this.gState,de||this.matrix);Te.stream=this.stream;var Le=v+"$$"+this.cloneIndex+++"$$";return Jn(Le,Te),Te}var ja=function(v,O){var Z=Ys[v.key],ae=Mt[Z];if(ae instanceof ml)ne("q"),ne(Tc(O)),ae.gState&&p.setGState(ae.gState),ne(v.matrix.toString()+" cm"),ne("/"+Z+" sh"),ne("Q");else if(ae instanceof Lu){var de=new Xe(1,0,0,-1,0,Dr());v.matrix&&(de=de.multiply(v.matrix||Cr),Z=Fa.call(ae,v.key,v.boundingBox,v.xStep,v.yStep,de).id),ne("q"),ne("/Pattern cs"),ne("/"+Z+" scn"),ae.gState&&p.setGState(ae.gState),ne(O),ne("Q")}},Tc=function(v){switch(v){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ys=p.moveTo=function(v,O){return ne(N(I(v))+" "+N($(O))+" m"),this},Ni=p.lineTo=function(v,O){return ne(N(I(v))+" "+N($(O))+" l"),this},ws=p.curveTo=function(v,O,Z,ae,de,Te){return ne([N(I(v)),N($(O)),N(I(Z)),N($(ae)),N(I(de)),N($(Te)),"c"].join(" ")),this};p.__private__.line=p.line=function(v,O,Z,ae,de){if(isNaN(v)||isNaN(O)||isNaN(Z)||isNaN(ae)||!Yi(de))throw new Error("Invalid arguments passed to jsPDF.line");return A===b.COMPAT?this.lines([[Z-v,ae-O]],v,O,[1,1],de||"S"):this.lines([[Z-v,ae-O]],v,O,[1,1]).stroke()},p.__private__.lines=p.lines=function(v,O,Z,ae,de,Te){var Le,qe,f,E,C,z,fe,ye,Oe,bt,Nt,St;if(typeof v=="number"&&(St=Z,Z=O,O=v,v=St),ae=ae||[1,1],Te=Te||!1,isNaN(O)||isNaN(Z)||!Array.isArray(v)||!Array.isArray(ae)||!Yi(de)||typeof Te!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ys(O,Z),Le=ae[0],qe=ae[1],E=v.length,bt=O,Nt=Z,f=0;f<E;f++)(C=v[f]).length===2?(bt=C[0]*Le+bt,Nt=C[1]*qe+Nt,Ni(bt,Nt)):(z=C[0]*Le+bt,fe=C[1]*qe+Nt,ye=C[2]*Le+bt,Oe=C[3]*qe+Nt,bt=C[4]*Le+bt,Nt=C[5]*qe+Nt,ws(z,fe,ye,Oe,bt,Nt));return Te&&Ci(),cu(de),this},p.path=function(v){for(var O=0;O<v.length;O++){var Z=v[O],ae=Z.c;switch(Z.op){case"m":ys(ae[0],ae[1]);break;case"l":Ni(ae[0],ae[1]);break;case"c":ws.apply(this,ae);break;case"h":Ci()}}return this},p.__private__.rect=p.rect=function(v,O,Z,ae,de){if(isNaN(v)||isNaN(O)||isNaN(Z)||isNaN(ae)||!Yi(de))throw new Error("Invalid arguments passed to jsPDF.rect");return A===b.COMPAT&&(ae=-ae),ne([N(I(v)),N($(O)),N(I(Z)),N(I(ae)),"re"].join(" ")),cu(de),this},p.__private__.triangle=p.triangle=function(v,O,Z,ae,de,Te,Le){if(isNaN(v)||isNaN(O)||isNaN(Z)||isNaN(ae)||isNaN(de)||isNaN(Te)||!Yi(Le))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Z-v,ae-O],[de-Z,Te-ae],[v-de,O-Te]],v,O,[1,1],Le,!0),this},p.__private__.roundedRect=p.roundedRect=function(v,O,Z,ae,de,Te,Le){if(isNaN(v)||isNaN(O)||isNaN(Z)||isNaN(ae)||isNaN(de)||isNaN(Te)||!Yi(Le))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*Z),Te=Math.min(Te,.5*ae),this.lines([[Z-2*de,0],[de*qe,0,de,Te-Te*qe,de,Te],[0,ae-2*Te],[0,Te*qe,-de*qe,Te,-de,Te],[2*de-Z,0],[-de*qe,0,-de,-Te*qe,-de,-Te],[0,2*Te-ae],[0,-Te*qe,de*qe,-Te,de,-Te]],v+de,O,[1,1],Le,!0),this},p.__private__.ellipse=p.ellipse=function(v,O,Z,ae,de){if(isNaN(v)||isNaN(O)||isNaN(Z)||isNaN(ae)||!Yi(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Te=4/3*(Math.SQRT2-1)*Z,Le=4/3*(Math.SQRT2-1)*ae;return ys(v+Z,O),ws(v+Z,O-Le,v+Te,O-ae,v,O-ae),ws(v-Te,O-ae,v-Z,O-Le,v-Z,O),ws(v-Z,O+Le,v-Te,O+ae,v,O+ae),ws(v+Te,O+ae,v+Z,O+Le,v+Z,O),cu(de),this},p.__private__.circle=p.circle=function(v,O,Z,ae){if(isNaN(v)||isNaN(O)||isNaN(Z)||!Yi(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(v,O,Z,Z,ae)},p.setFont=function(v,O,Z){return Z&&(O=J(O,Z)),At=jo(v,O,{disableWarning:!1}),this};var hu=p.__private__.getFont=p.getFont=function(){return Wt[jo.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var v,O,Z={};for(v in cn)if(cn.hasOwnProperty(v))for(O in Z[v]=[],cn[v])cn[v].hasOwnProperty(O)&&Z[v].push(O);return Z},p.addFont=function(v,O,Z,ae,de){var Te=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Te.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&Te.indexOf(arguments[3])==-1&&(Z=J(Z,ae)),de=de||"Identity-H",au.call(this,v,O,Z,de)};var Gt,fu=t.lineWidth||.200025,Va=p.__private__.getLineWidth=p.getLineWidth=function(){return fu},du=p.__private__.setLineWidth=p.setLineWidth=function(v){return fu=v,ne(N(I(v))+" w"),this};p.__private__.setLineDash=at.API.setLineDash=at.API.setLineDashPattern=function(v,O){if(v=v||[],O=O||0,isNaN(O)||!Array.isArray(v))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return v=v.map(function(Z){return N(I(Z))}).join(" "),O=N(I(O)),ne("["+v+"] "+O+" d"),this};var pu=p.__private__.getLineHeight=p.getLineHeight=function(){return Ue*Gt};p.__private__.getLineHeight=p.getLineHeight=function(){return Ue*Gt};var mu=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(v){return typeof(v=v||1.15)=="number"&&(Gt=v),this},Bo=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Gt};mu(t.lineHeight);var Di=p.__private__.getHorizontalCoordinate=function(v){return I(v)},ir=p.__private__.getVerticalCoordinate=function(v){return A===b.ADVANCED?v:lt[G].mediaBox.topRightY-lt[G].mediaBox.bottomLeftY-I(v)},kc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(v){return N(Di(v))},to=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(v){return N(ir(v))},wr=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ci(wr)},p.__private__.setStrokeColor=p.setDrawColor=function(v,O,Z,ae){return wr=Yr({ch1:v,ch2:O,ch3:Z,ch4:ae,pdfColorType:"draw",precision:2}),ne(wr),this};var Ba=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ci(Ba)},p.__private__.setFillColor=p.setFillColor=function(v,O,Z,ae){return Ba=Yr({ch1:v,ch2:O,ch3:Z,ch4:ae,pdfColorType:"fill",precision:2}),ne(Ba),this};var _s=t.textColor||"0 g",Ua=p.__private__.getTextColor=p.getTextColor=function(){return ci(_s)};p.__private__.setTextColor=p.setTextColor=function(v,O,Z,ae){return _s=Yr({ch1:v,ch2:O,ch3:Z,ch4:ae,pdfColorType:"text",precision:3}),this};var Uo=t.charSpace,za=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Uo||0)};p.__private__.setCharSpace=p.setCharSpace=function(v){if(isNaN(v))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Uo=v,this};var gu=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(v){var O=p.CapJoinStyles[v];if(O===void 0)throw new Error("Line cap style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gu=O,ne(O+" J"),this};var qa=0;p.__private__.setLineJoin=p.setLineJoin=function(v){var O=p.CapJoinStyles[v];if(O===void 0)throw new Error("Line join style of '"+v+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qa=O,ne(O+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(v){if(v=v||0,isNaN(v))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(N(I(v))+" M"),this},p.GState=np,p.setGState=function(v){(v=typeof v=="string"?mn[yr[v]]:no(null,v)).equals(Ai)||(ne("/"+v.id+" gs"),Ai=v)};var no=function(v,O){if(!v||!yr[v]){var Z=!1;for(var ae in mn)if(mn.hasOwnProperty(ae)&&mn[ae].equals(O)){Z=!0;break}if(Z)O=mn[ae];else{var de="GS"+(Object.keys(mn).length+1).toString(10);mn[de]=O,O.id=de}return v&&(yr[v]=O.id),Vt.publish("addGState",O),O}};p.addGState=function(v,O){return no(v,O),this},p.saveGraphicsState=function(){return ne("q"),Wi.push({key:At,size:Ue,color:_s}),this},p.restoreGraphicsState=function(){ne("Q");var v=Wi.pop();return At=v.key,Ue=v.size,_s=v.color,Ai=null,this},p.setCurrentTransformationMatrix=function(v){return ne(v.toString()+" cm"),this},p.comment=function(v){return ne("#"+v),this};var zo=function(v,O){var Z=v||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Z},set:function(Te){isNaN(Te)||(Z=parseFloat(Te))}});var ae=O||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(Te){isNaN(Te)||(ae=parseFloat(Te))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(Te){de=Te.toString()}}),this},Ha=function(v,O,Z,ae){zo.call(this,v,O),this.type="rect";var de=Z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(Le){isNaN(Le)||(de=parseFloat(Le))}});var Te=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Te},set:function(Le){isNaN(Le)||(Te=parseFloat(Le))}}),this},qo=function(){this.page=hn,this.currentPage=G,this.pages=De.slice(0),this.pagesContext=lt.slice(0),this.x=In,this.y=Ot,this.matrix=li,this.width=ro(G),this.height=Dr(G),this.outputDestination=Ve,this.id="",this.objectNumber=-1};qo.prototype.restore=function(){hn=this.page,G=this.currentPage,lt=this.pagesContext,De=this.pages,In=this.x,Ot=this.y,li=this.matrix,$a(G,this.width),Ya(G,this.height),Ve=this.outputDestination};var Wa=function(v,O,Z,ae,de){Pi.push(new qo),hn=G=0,De=[],In=v,Ot=O,li=de,Kr([Z,ae])},Ac=function(v){if(Ir[v])Pi.pop().restore();else{var O=new qo,Z="Xo"+(Object.keys(Qn).length+1).toString(10);O.id=Z,Ir[v]=Z,Qn[Z]=O,Vt.publish("addFormObject",O),Pi.pop().restore()}};for(var bs in p.beginFormObject=function(v,O,Z,ae,de){return Wa(v,O,Z,ae,de),this},p.endFormObject=function(v){return Ac(v),this},p.doFormObject=function(v,O){var Z=Qn[Ir[v]];return ne("q"),ne(O.toString()+" cm"),ne("/"+Z.id+" Do"),ne("Q"),this},p.getFormObject=function(v){var O=Qn[Ir[v]];return{x:O.x,y:O.y,width:O.width,height:O.height,matrix:O.matrix}},p.save=function(v,O){return v=v||"generated.pdf",(O=O||{}).returnPromise=O.returnPromise||!1,O.returnPromise===!1?(ku(La(vs()),v),typeof ku.unload=="function"&&pt.setTimeout&&setTimeout(ku.unload,911),this):new Promise(function(Z,ae){try{var de=ku(La(vs()),v);typeof ku.unload=="function"&&pt.setTimeout&&setTimeout(ku.unload,911),Z(de)}catch(Te){ae(Te.message)}})},at.API)at.API.hasOwnProperty(bs)&&(bs==="events"&&at.API.events.length?function(v,O){var Z,ae,de;for(de=O.length-1;de!==-1;de--)Z=O[de][0],ae=O[de][1],v.subscribe.apply(v,[Z].concat(typeof ae=="function"?[ae]:ae))}(Vt,at.API.events):p[bs]=at.API[bs]);var ro=p.getPageWidth=function(v){return(lt[v=v||G].mediaBox.topRightX-lt[v].mediaBox.bottomLeftX)/Ye},$a=p.setPageWidth=function(v,O){lt[v].mediaBox.topRightX=O*Ye+lt[v].mediaBox.bottomLeftX},Dr=p.getPageHeight=function(v){return(lt[v=v||G].mediaBox.topRightY-lt[v].mediaBox.bottomLeftY)/Ye},Ya=p.setPageHeight=function(v,O){lt[v].mediaBox.topRightY=O*Ye+lt[v].mediaBox.bottomLeftY};return p.internal={pdfEscape:Nn,getStyle:xc,getFont:hu,getFontSize:He,getCharSpace:za,getTextColor:Ua,getLineHeight:pu,getLineHeightFactor:Bo,getLineWidth:Va,write:yt,getHorizontalCoordinate:Di,getVerticalCoordinate:ir,getCoordinateString:kc,getVerticalCoordinateString:to,collections:{},newObject:Fn,newAdditionalObject:Ca,newObjectDeferred:Cn,newObjectDeferredBegin:Xn,getFilters:Gr,putStream:jn,events:Vt,scaleFactor:Ye,pageSize:{getWidth:function(){return ro(G)},setWidth:function(v){$a(G,v)},getHeight:function(){return Dr(G)},setHeight:function(v){Ya(G,v)}},encryptionOptions:c,encryption:vn,getEncryptor:Ec,output:Oa,getNumberOfPages:Xt,pages:De,out:ne,f2:L,f3:x,getPageInfo:uu,getPageInfoByObjId:gt,getCurrentPageInfo:eo,getPDFVersion:S,Point:zo,Rectangle:Ha,Matrix:Xe,hasHotfix:Zs},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ro(G)},set:function(v){$a(G,v)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Dr(G)},set:function(v){Ya(G,v)},enumerable:!0,configurable:!0}),bc.call(p,Me),At="F1",Fo(i,n),Vt.publish("initialized"),p}Kc.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Kc.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Kc.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Kc.prototype.processOwnerPassword=function(t,e){return q2(z2(e).substr(0,5),t)},Kc.prototype.encryptor=function(t,e){var n=z2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return q2(n,r)}},np.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||nn(t)!==nn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},at.API={events:[]},at.version="3.0.1";var Rn=at.API,Z5=1,mc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Et=function(t){return t.toFixed(2)},ll=function(t){return t.toFixed(5)};Rn.__acroform__={};var ki=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},ox=function(t){return t*Z5},uo=function(t){var e=new _I,n=tt.internal.getHeight(t)||0,r=tt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Et(r)),Number(Et(n))],e},TU=Rn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},kU=Rn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},AU=Rn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},qn=Rn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return AU(t,e-1)},Hn=Rn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return TU(t,e-1)},Wn=Rn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return kU(t,e-1)},PU=Rn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Et(l.lowerLeft_X)),Number(Et(l.lowerLeft_Y)),Number(Et(l.upperRight_X)),Number(Et(l.upperRight_Y))]},IU=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=H2(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Et(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=uo(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},H2=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(x){return x.split(`
`)}):i.map(function(x){return[x]});var s=n,o=tt.internal.getHeight(t)||0;o=o<0?-o:o;var a=tt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(x,I,R){if(x+1<i.length){var $=I+" "+i[x+1][0];return Em($,t,R).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,d=Em("3",t,s).height,g=t.multiline?o-s:(o-d)/2,p=g+=2,_=0,S=0,T=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Em(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var y="",b=0,A=0;A<i.length;A++)if(i.hasOwnProperty(A)){var j=!1;if(i[A].length!==1&&T!==i[A].length-1){if((d+2)*(b+2)+2>o)continue e;y+=i[A][T],j=!0,S=A,A--}else{y=(y+=i[A][T]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var Y=parseInt(A),J=l(Y,y,s),N=A>=i.length-1;if(J&&!N){y+=" ",T=0;continue}if(J||N){if(N)S=Y;else if(t.multiline&&(d+2)*(b+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(b+2)+2>o)continue e;S=Y}}for(var k="",D=_;D<=S;D++){var L=i[D];if(t.multiline){if(D===S){k+=L[T]+" ",T=(T+1)%L.length;continue}if(D===_){k+=L[L.length-1]+" ";continue}}k+=L[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,c=Em(k,t,s).width,t.textAlign){case"right":u=a-c-2;break;case"center":u=(a-c)/2;break;case"left":default:u=2}e+=Et(u)+" "+Et(p)+` Td
`,e+="("+mc(k)+`) Tj
`,e+=-Et(u)+` 0 Td
`,p=-(s+2),c=0,_=j?S:S+1,b++,y=""}break}return r.text=e,r.fontSize=s,r},Em=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},CU={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},NU=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},DU=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),nn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},RU=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ws.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(CU)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Z5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new bI,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&NU(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],u=a.Rect;if(a.Rect&&(a.Rect=PU(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=tt.createDefaultAppearanceStream(a),nn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=u,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=IU(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var d="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var p=a.appearanceStreamContent[g];if(d+="/"+g+" ",d+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var _=p[o];typeof _=="function"&&(_=_.call(i,a)),d+="/"+o+" "+_+" ",i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_)}}else typeof(_=p)=="function"&&(_=_.call(i,a)),d+="/"+o+" "+_,i.internal.acroformPlugin.xForms.indexOf(_)>=0||i.internal.acroformPlugin.xForms.push(_);d+=">>"}l.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&DU(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},wI=Rn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),nn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+mc(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},zy=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+mc(r(t))+")"},wo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};wo.prototype.toString=function(){return this.objId+" 0 R"},wo.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},wo.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:wI(i,this.objId,this.scope)}):i instanceof wo?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var _I=function(){wo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ki(_I,wo);var bI=function(){wo.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+mc(n(t))+")"}},set:function(n){t=n}})};ki(bI,wo);var Ws=function t(){wo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!qn(e,3)},set:function(y){y?this.F=Hn(e,3):this.F=Wn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof o0)return;s="FieldObject"+t.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+mc(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Z5:u},set:function(y){u=y}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof o0||this instanceof Ml))return zy(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ar?g:zy(g,this.objId,this.scope)},set:function(y){y=y.toString(),g=this instanceof ar?y:y.substr(0,1)==="("?zc(y.substr(1,y.length-2)):zc(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ar?zc(g.substr(1,g.length-1)):g},set:function(y){y=y.toString(),g=this instanceof ar?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof ar?p:zy(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof ar?y:y.substr(0,1)==="("?zc(y.substr(1,y.length-2)):zc(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ar?zc(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof ar?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var _,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(y){y=!!y,S=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(_)return _},set:function(y){_=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,1)},set:function(y){y?this.Ff=Hn(this.Ff,1):this.Ff=Wn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,2)},set:function(y){y?this.Ff=Hn(this.Ff,2):this.Ff=Wn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,3)},set:function(y){y?this.Ff=Hn(this.Ff,3):this.Ff=Wn(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');T=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(T){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:T=2;break;case"center":case 1:T=1;break;case"left":case 0:default:T=0}}})};ki(Ws,wo);var Vu=function(){Ws.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return wI(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,u=[];l=o.exec(s);)u.push(l[a]);return u}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,18)},set:function(n){n?this.Ff=Hn(this.Ff,18):this.Ff=Wn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Hn(this.Ff,19):this.Ff=Wn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,20)},set:function(n){n?(this.Ff=Hn(this.Ff,20),e.sort()):this.Ff=Wn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,22)},set:function(n){n?this.Ff=Hn(this.Ff,22):this.Ff=Wn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,23)},set:function(n){n?this.Ff=Hn(this.Ff,23):this.Ff=Wn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,27)},set:function(n){n?this.Ff=Hn(this.Ff,27):this.Ff=Wn(this.Ff,27)}}),this.hasAppearanceStream=!1};ki(Vu,Ws);var Bu=function(){Vu.call(this),this.fontName="helvetica",this.combo=!1};ki(Bu,Vu);var Uu=function(){Bu.call(this),this.combo=!0};ki(Uu,Bu);var bd=function(){Uu.call(this),this.edit=!0};ki(bd,Uu);var ar=function(){Ws.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,15)},set:function(n){n?this.Ff=Hn(this.Ff,15):this.Ff=Wn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,16)},set:function(n){n?this.Ff=Hn(this.Ff,16):this.Ff=Wn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,17)},set:function(n){n?this.Ff=Hn(this.Ff,17):this.Ff=Wn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,26)},set:function(n){n?this.Ff=Hn(this.Ff,26):this.Ff=Wn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+mc(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){nn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};ki(ar,Ws);var Sd=function(){ar.call(this),this.pushButton=!0};ki(Sd,ar);var zu=function(){ar.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ki(zu,ar);var o0=function(){var t,e;Ws.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+mc(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){nn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ki(o0,Ws),zu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},zu.prototype.createOption=function(t){var e=new o0;return e.Parent=this,e.optionName=t,this.Kids.push(e),LU.call(this.scope,e),e};var Ed=function(){ar.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=tt.CheckBox.createAppearanceStream()};ki(Ed,ar);var Ml=function(){Ws.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,13)},set:function(e){e?this.Ff=Hn(this.Ff,13):this.Ff=Wn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,21)},set:function(e){e?this.Ff=Hn(this.Ff,21):this.Ff=Wn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,23)},set:function(e){e?this.Ff=Hn(this.Ff,23):this.Ff=Wn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,24)},set:function(e){e?this.Ff=Hn(this.Ff,24):this.Ff=Wn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,25)},set:function(e){e?this.Ff=Hn(this.Ff,25):this.Ff=Wn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,26)},set:function(e){e?this.Ff=Hn(this.Ff,26):this.Ff=Wn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ki(Ml,Ws);var xd=function(){Ml.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!qn(this.Ff,14)},set:function(t){t?this.Ff=Hn(this.Ff,14):this.Ff=Wn(this.Ff,14)}}),this.password=!0};ki(xd,Ml);var tt={CheckBox:{createAppearanceStream:function(){return{N:{On:tt.CheckBox.YesNormal},D:{On:tt.CheckBox.YesPushDown,Off:tt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=H2(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Et(tt.internal.getWidth(t))+" "+Et(tt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Et(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=uo(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=tt.internal.getHeight(t),o=tt.internal.getWidth(t),a=H2(t,t.caption);return i.push("1 g"),i.push("0 0 "+Et(o)+" "+Et(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Et(o-1)+" "+Et(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Et(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Et(tt.internal.getWidth(t))+" "+Et(tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:tt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=tt.RadioButton.Circle.YesNormal,e.D[t]=tt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=uo(t);e.scope=t.scope;var n=[],r=tt.internal.getWidth(t)<=tt.internal.getHeight(t)?tt.internal.getWidth(t)/4:tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=tt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ll(tt.internal.getWidth(t)/2)+" "+ll(tt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=[],r=tt.internal.getWidth(t)<=tt.internal.getHeight(t)?tt.internal.getWidth(t)/4:tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tt.internal.Bezier_C).toFixed(5)),o=Number((r*tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ll(tt.internal.getWidth(t)/2)+" "+ll(tt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ll(tt.internal.getWidth(t)/2)+" "+ll(tt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=[],r=tt.internal.getWidth(t)<=tt.internal.getHeight(t)?tt.internal.getWidth(t)/4:tt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ll(tt.internal.getWidth(t)/2)+" "+ll(tt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:tt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=tt.RadioButton.Cross.YesNormal,e.D[t]=tt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=uo(t);e.scope=t.scope;var n=[],r=tt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Et(tt.internal.getWidth(t)-2)+" "+Et(tt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Et(r.x1.x)+" "+Et(r.x1.y)+" m"),n.push(Et(r.x2.x)+" "+Et(r.x2.y)+" l"),n.push(Et(r.x4.x)+" "+Et(r.x4.y)+" m"),n.push(Et(r.x3.x)+" "+Et(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=tt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Et(tt.internal.getWidth(t))+" "+Et(tt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Et(tt.internal.getWidth(t)-2)+" "+Et(tt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Et(n.x1.x)+" "+Et(n.x1.y)+" m"),r.push(Et(n.x2.x)+" "+Et(n.x2.y)+" l"),r.push(Et(n.x4.x)+" "+Et(n.x4.y)+" m"),r.push(Et(n.x3.x)+" "+Et(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=uo(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Et(tt.internal.getWidth(t))+" "+Et(tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};tt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=tt.internal.getWidth(t),n=tt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},tt.internal.getWidth=function(t){var e=0;return nn(t)==="object"&&(e=ox(t.Rect[2])),e},tt.internal.getHeight=function(t){var e=0;return nn(t)==="object"&&(e=ox(t.Rect[3])),e};var LU=Rn.addField=function(t){if(RU(this,t),!(t instanceof Ws))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Rn.AcroFormChoiceField=Vu,Rn.AcroFormListBox=Bu,Rn.AcroFormComboBox=Uu,Rn.AcroFormEditBox=bd,Rn.AcroFormButton=ar,Rn.AcroFormPushButton=Sd,Rn.AcroFormRadioButton=zu,Rn.AcroFormCheckBox=Ed,Rn.AcroFormTextField=Ml,Rn.AcroFormPasswordField=xd,Rn.AcroFormAppearance=tt,Rn.AcroForm={ChoiceField:Vu,ListBox:Bu,ComboBox:Uu,EditBox:bd,Button:ar,PushButton:Sd,RadioButton:zu,CheckBox:Ed,TextField:Ml,PasswordField:xd,Appearance:tt},at.AcroForm={ChoiceField:Vu,ListBox:Bu,ComboBox:Uu,EditBox:bd,Button:ar,PushButton:Sd,RadioButton:zu,CheckBox:Ed,TextField:Ml,PasswordField:xd,Appearance:tt};at.AcroForm;function SI(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(x,I){var R,$,X,Q,re,H=e;if((I=I||e)==="RGBA"||x.data!==void 0&&x.data instanceof Uint8ClampedArray&&"height"in x&&"width"in x)return"RGBA";if(J(x))for(re in n)for(X=n[re],R=0;R<X.length;R+=1){for(Q=!0,$=0;$<X[R].length;$+=1)if(X[R][$]!==void 0&&X[R][$]!==x[$]){Q=!1;break}if(Q===!0){H=re;break}}else for(re in n)for(X=n[re],R=0;R<X.length;R+=1){for(Q=!0,$=0;$<X[R].length;$+=1)if(X[R][$]!==void 0&&X[R][$]!==x.charCodeAt($)){Q=!1;break}if(Q===!0){H=re;break}}return H===e&&I!==e&&(H=I),H},i=function x(I){for(var R=this.internal.write,$=this.internal.putStream,X=(0,this.internal.getFilters)();X.indexOf("FlateEncode")!==-1;)X.splice(X.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:I.width}),Q.push({key:"Height",value:I.height}),I.colorSpace===T.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===T.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)){for(var re="",H=0,te=I.transparency.length;H<te;H++)re+=I.transparency[H]+" "+I.transparency[H]+" ";Q.push({key:"Mask",value:"["+re+"]"})}I.sMask!==void 0&&Q.push({key:"SMask",value:I.objectId+1+" 0 R"});var ie=I.filter!==void 0?["/"+I.filter]:void 0;if($({data:I.data,additionalKeyValues:Q,alreadyAppliedFilters:ie,objectId:I.objectId}),R("endobj"),"sMask"in I&&I.sMask!==void 0){var Se="/Predictor "+I.predictor+" /Colors 1 /BitsPerComponent "+I.bitsPerComponent+" /Columns "+I.width,F={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:I.bitsPerComponent,decodeParameters:Se,data:I.sMask};"filter"in I&&(F.filter=I.filter),x.call(this,F)}if(I.colorSpace===T.INDEXED){var G=this.internal.newObject();$({data:k(new Uint8Array(I.palette)),objectId:G}),R("endobj")}},s=function(){var x=this.internal.collections.addImage_images;for(var I in x)i.call(this,x[I])},o=function(){var x,I=this.internal.collections.addImage_images,R=this.internal.write;for(var $ in I)R("/I"+(x=I[$]).index,x.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var x=this.internal.collections.addImage_images;return a.call(this),x},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(x){return typeof t["process"+x.toUpperCase()]=="function"},d=function(x){return nn(x)==="object"&&x.nodeType===1},g=function(x,I){if(x.nodeName==="IMG"&&x.hasAttribute("src")){var R=""+x.getAttribute("src");if(R.indexOf("data:image/")===0)return _d(unescape(R).split("base64,").pop());var $=t.loadFile(R,!0);if($!==void 0)return $}if(x.nodeName==="CANVAS"){if(x.width===0||x.height===0)throw new Error("Given canvas must have data. Canvas width: "+x.width+", height: "+x.height);var X;switch(I){case"PNG":X="image/png";break;case"WEBP":X="image/webp";break;case"JPEG":case"JPG":default:X="image/jpeg"}return _d(x.toDataURL(X,1).split("base64,").pop())}},p=function(x){var I=this.internal.collections.addImage_images;if(I){for(var R in I)if(x===I[R].alias)return I[R]}},_=function(x,I,R){return x||I||(x=-96,I=-96),x<0&&(x=-1*R.width*72/x/this.internal.scaleFactor),I<0&&(I=-1*R.height*72/I/this.internal.scaleFactor),x===0&&(x=I*R.width/R.height),I===0&&(I=x*R.height/R.width),[x,I]},S=function(x,I,R,$,X,Q){var re=_.call(this,R,$,X),H=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,ie=l.call(this);if(R=re[0],$=re[1],ie[X.index]=X,Q){Q*=Math.PI/180;var Se=Math.cos(Q),F=Math.sin(Q),G=function(oe){return oe.toFixed(4)},ee=[G(Se),G(F),G(-1*F),G(Se),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,H(x),te(I+$),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([H(R),"0","0",H($),"0","0","cm"].join(" "))):this.internal.write([H(R),"0","0",H($),H(x),te(I+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+X.index+" Do"),this.internal.write("Q")},T=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=t.__addimage__.sHashCode=function(x){var I,R,$=0;if(typeof x=="string")for(R=x.length,I=0;I<R;I++)$=($<<5)-$+x.charCodeAt(I),$|=0;else if(J(x))for(R=x.byteLength/2,I=0;I<R;I++)$=($<<5)-$+x[I],$|=0;return $},A=t.__addimage__.validateStringAsBase64=function(x){(x=x||"").toString().trim();var I=!0;return x.length===0&&(I=!1),x.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(x.substr(0,x.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(x.substr(-2))===!1&&(I=!1),I},j=t.__addimage__.extractImageFromDataUrl=function(x){if(x==null||!(x=x.trim()).startsWith("data:"))return null;var I=x.indexOf(",");return I<0?null:x.substring(0,I).trim().endsWith("base64")?x.substring(I+1):null},Y=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(x){return Y()&&x instanceof ArrayBuffer};var J=t.__addimage__.isArrayBufferView=function(x){return Y()&&typeof Uint32Array<"u"&&(x instanceof Int8Array||x instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&x instanceof Uint8ClampedArray||x instanceof Int16Array||x instanceof Uint16Array||x instanceof Int32Array||x instanceof Uint32Array||x instanceof Float32Array||x instanceof Float64Array)},N=t.__addimage__.binaryStringToUint8Array=function(x){for(var I=x.length,R=new Uint8Array(I),$=0;$<I;$++)R[$]=x.charCodeAt($);return R},k=t.__addimage__.arrayBufferToBinaryString=function(x){for(var I="",R=J(x)?x:new Uint8Array(x),$=0;$<R.length;$+=8192)I+=String.fromCharCode.apply(null,R.subarray($,$+8192));return I};t.addImage=function(){var x,I,R,$,X,Q,re,H,te;if(typeof arguments[1]=="number"?(I=e,R=arguments[1],$=arguments[2],X=arguments[3],Q=arguments[4],re=arguments[5],H=arguments[6],te=arguments[7]):(I=arguments[1],R=arguments[2],$=arguments[3],X=arguments[4],Q=arguments[5],re=arguments[6],H=arguments[7],te=arguments[8]),nn(x=arguments[0])==="object"&&!d(x)&&"imageData"in x){var ie=x;x=ie.imageData,I=ie.format||I||e,R=ie.x||R||0,$=ie.y||$||0,X=ie.w||ie.width||X,Q=ie.h||ie.height||Q,re=ie.alias||re,H=ie.compression||H,te=ie.rotation||ie.angle||te}var Se=this.internal.getFilters();if(H===void 0&&Se.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(R)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var F=D.call(this,x,I,re,H);return S.call(this,R,$,X,Q,F,te),this};var D=function(x,I,R,$){var X,Q,re;if(typeof x=="string"&&r(x)===e){x=unescape(x);var H=L(x,!1);(H!==""||(H=t.loadFile(x,!0))!==void 0)&&(x=H)}if(d(x)&&(x=g(x,I)),I=r(x,I),!c(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((re=R)==null||re.length===0)&&(R=function(te){return typeof te=="string"||J(te)?b(te):J(te.data)?b(te.data):null}(x)),(X=p.call(this,R))||(Y()&&(x instanceof Uint8Array||I==="RGBA"||(Q=x,x=N(x))),X=this["process"+I.toUpperCase()](x,u.call(this),R,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in t.image_compression?te:y.NONE}($),Q)),!X)throw new Error("An unknown error occurred whilst processing the image.");return X},L=t.__addimage__.convertBase64ToBinaryString=function(x,I){I=typeof I!="boolean"||I;var R,$="";if(typeof x=="string"){var X;R=(X=j(x))!==null&&X!==void 0?X:x;try{$=_d(R)}catch(Q){if(I)throw A(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};t.getImageProperties=function(x){var I,R,$="";if(d(x)&&(x=g(x)),typeof x=="string"&&r(x)===e&&(($=L(x,!1))===""&&($=t.loadFile(x)||""),x=$),R=r(x),!c(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(!Y()||x instanceof Uint8Array||(x=N(x)),!(I=this["process"+R.toUpperCase()](x)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=R,I}})(at.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};at.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,c=!1,d=0;d<u.length&&!c;d++)switch((r=u[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){r=u[g];var p=this.internal.pdfEscape,_=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(S.objId),b=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(y(r.contents))+")",s+=" /Popup "+T.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(y(b))+") >>",S.content=s;var A=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+A,r.open&&(s+=" /Open true"),s+=" >>",T.content=s,this.internal.write(S.objId,"0 R",T.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var j=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(_(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var Y=this.annotations._nameMap[r.options.name];r.options.pageNumber=Y.page,r.options.top=Y.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(_(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var J=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+J+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:u(r),w:l(n+i),h:u(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var c=this.splitTextToSize(n,a).length;o=Math.ceil(u*c)}else a=l,o=u;return this.text(n,r,i,s),i+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-u,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(at.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},a=t.__arabicParser__.isArabicEndLetter=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(S){return o(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return o(S)&&s(S)&&e[S.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(S){var T=0,y=n,b="",A=0;for(T=0;T<S.length;T+=1)y[S.charCodeAt(T)]!==void 0?(A++,typeof(y=y[S.charCodeAt(T)])=="number"&&(b+=String.fromCharCode(y),y=n,A=0),T===S.length-1&&(y=n,b+=S.charAt(T-(A-1)),T-=A-1,A=0)):(y=n,b+=S.charAt(T-A),T-=A,A=0);return b};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(S,T,y){return o(S)?s(S)===!1?-1:!u(S)||!o(T)&&!o(y)||!o(y)&&a(T)||a(S)&&!o(T)||a(S)&&l(T)||a(S)&&a(T)?0:c(S)&&o(T)&&!a(T)&&o(y)&&u(y)?3:a(S)||!o(y)?1:2:-1},p=function(S){var T=0,y=0,b=0,A="",j="",Y="",J=(S=S||"").split("\\s+"),N=[];for(T=0;T<J.length;T+=1){for(N.push(""),y=0;y<J[T].length;y+=1)A=J[T][y],j=J[T][y-1],Y=J[T][y+1],o(A)?(b=g(A,j,Y),N[T]+=b!==-1?String.fromCharCode(e[A.charCodeAt(0)][b]):A):N[T]+=A;N[T]=d(N[T])}return N.join(" ")},_=t.__arabicParser__.processArabic=t.processArabic=function(){var S,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(T)){var b=0;for(y=[],b=0;b<T.length;b+=1)Array.isArray(T[b])?y.push([p(T[b][0]),T[b][1],T[b][2]]):y.push([p(T[b])]);S=y}else S=p(T);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",_])}(at.API),at.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(at.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(S){l=S}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(S){u=S}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(S){d=S}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(S){g=S}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(S){p=S}});var _=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return _},set:function(S){_=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){r.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,p=0,_=0,S=0,T=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(A,j){return A.concat(T.splitTextToSize(j,y))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)p<(S=this.getStringUnitWidth(l[b],{font:d})*c)&&(p=S);return p!==0&&(_=l.length),{w:p/=g,h:Math.max((_*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,p&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,d,g){if(r.call(this),!c)throw new Error("No data for PDF table.");var p,_,S,T,y=[],b=[],A=[],j={},Y={},J=[],N=[],k=(g=g||{}).autoSize||!1,D=g.printHeaders!==!1,L=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,x=g.margins||Object.assign({width:this.getPageWidth()},e),I=typeof g.padding=="number"?g.padding:3,R=g.headerBackgroundColor||"#c8c8c8",$=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=x,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=$,this.setFontSize(L),d==null)b=y=Object.keys(c[0]),A=y.map(function(){return"left"});else if(Array.isArray(d)&&nn(d[0])==="object")for(y=d.map(function(ie){return ie.name}),b=d.map(function(ie){return ie.prompt||ie.name||""}),A=d.map(function(ie){return ie.align||"left"}),p=0;p<d.length;p+=1)Y[d[p].name]=d[p].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(b=y=d,A=y.map(function(){return"left"}));if(k||Array.isArray(d)&&typeof d[0]=="string")for(p=0;p<y.length;p+=1){for(j[T=y[p]]=c.map(function(ie){return ie[T]}),this.setFont(void 0,"bold"),J.push(this.getTextDimensions(b[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),_=j[T],this.setFont(void 0,"normal"),S=0;S<_.length;S+=1)J.push(this.getTextDimensions(_[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Y[T]=Math.max.apply(null,J)+I+I,J=[]}if(D){var X={};for(p=0;p<y.length;p+=1)X[y[p]]={},X[y[p]].text=b[p],X[y[p]].align=A[p];var Q=a.call(this,X,Y);N=y.map(function(ie){return new s(l,u,Y[ie],Q,X[ie].text,void 0,X[ie].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var re=d.reduce(function(ie,Se){return ie[Se.name]=Se.align,ie},{});for(p=0;p<c.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:c[p]},this);var H=a.call(this,c[p],Y);for(S=0;S<y.length;S+=1){var te=c[p][y[S]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:S,data:te},this),o.call(this,new s(l,u,Y[y[S]],H,te,p+2,re[y[S]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var a=function(l,u){var c=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(p){var _=l[p];return this.splitTextToSize(_.hasOwnProperty("text")?_.text:_,u[p]-c-c)},this).map(function(p){return this.getLineHeightFactor()*p.length*d/g+c+c},this).reduce(function(p,_){return Math.max(p,_)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){c=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,g.push(c)),c.lineNumber=l;var _=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(_)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(at.API);var EI={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},xI=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],W2=SI(xI),TI=[100,200,300,400,500,600,700,800,900],OU=SI(TI);function $2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return EI[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof W2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function ax(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var MU={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},lx={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ux(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function FU(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},MU,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=$2(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+ux(s)+"' and default family '"+r+"'.");if(o=function(l,u){if(u[l])return u[l];var c=W2[l],d=c<=W2.normal?-1:1,g=ax(u,xI,c,d);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,o),o=function(l,u){if(u[l])return u[l];for(var c=EI[l],d=0;d<c.length;++d)if(u[c[d]])return u[c[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=OU[l],d=ax(u,TI,c,l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+ux(s)+"'.");return o}function cx(t){return t.trimLeft()}function jU(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function VU(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var xm,hx,fx,qy=["times"];(function(t){var e,n,r,i,s,o,a,l,u,c=function(F){return F=F||{},this.isStrokeTransparent=F.isStrokeTransparent||!1,this.strokeOpacity=F.strokeOpacity||1,this.strokeStyle=F.strokeStyle||"#000000",this.fillStyle=F.fillStyle||"#000000",this.isFillTransparent=F.isFillTransparent||!1,this.fillOpacity=F.fillOpacity||1,this.font=F.font||"10px sans-serif",this.textBaseline=F.textBaseline||"alphabetic",this.textAlign=F.textAlign||"left",this.lineWidth=F.lineWidth||1,this.lineJoin=F.lineJoin||"miter",this.lineCap=F.lineCap||"butt",this.path=F.path||[],this.transform=F.transform!==void 0?F.transform.clone():new l,this.globalCompositeOperation=F.globalCompositeOperation||"normal",this.globalAlpha=F.globalAlpha||1,this.clip_path=F.clip_path||[],this.currentPoint=F.currentPoint||new o,this.miterLimit=F.miterLimit||10,this.lastPoint=F.lastPoint||new o,this.lineDashOffset=F.lineDashOffset||0,this.lineDash=F.lineDash||[],this.margin=F.margin||[0,0,0,0],this.prevPageLastElemOffset=F.prevPageLastElemOffset||0,this.ignoreClearRect=typeof F.ignoreClearRect!="boolean"||F.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var d=function(F){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var G=F;Object.defineProperty(this,"pdf",{get:function(){return G}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(ke){ee=!!ke}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(ke){oe=!!ke}});var ce=0;Object.defineProperty(this,"posX",{get:function(){return ce},set:function(ke){isNaN(ke)||(ce=ke)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(ke){isNaN(ke)||(me=ke)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ke){var ne;typeof ke=="number"?ne=[ke,ke,ke,ke]:((ne=new Array(4))[0]=ke[0],ne[1]=ke.length>=2?ke[1]:ne[0],ne[2]=ke.length>=3?ke[2]:ne[0],ne[3]=ke.length>=4?ke[3]:ne[1]),u.margin=ne}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(ke){_e=ke}});var we=0;Object.defineProperty(this,"lastBreak",{get:function(){return we},set:function(ke){we=ke}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(ke){Ne=ke}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ke){ke instanceof c&&(u=ke)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ke){u.path=ke}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(ke){De=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var ne;ne=g(ke),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var ne=g(ke);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var Be=null;function Ve(ke,ne){if(Be===null){var yt=function(nt){var Me=[];return Object.keys(nt).forEach(function(Ue){nt[Ue].forEach(function($e){var He=null;switch($e){case"bold":He={family:Ue,weight:"bold"};break;case"italic":He={family:Ue,style:"italic"};break;case"bolditalic":He={family:Ue,weight:"bold",style:"italic"};break;case"":case"normal":He={family:Ue}}He!==null&&(He.ref={name:Ue,style:$e},Me.push(He))})}),Me}(ke.getFontList());Be=function(nt){for(var Me={},Ue=0;Ue<nt.length;++Ue){var $e=$2(nt[Ue]),He=$e.family,it=$e.stretch,mt=$e.style,_t=$e.weight;Me[He]=Me[He]||{},Me[He][it]=Me[He][it]||{},Me[He][it][mt]=Me[He][it][mt]||{},Me[He][it][mt][_t]=$e}return Me}(yt.concat(ne))}return Be}var ot=null;Object.defineProperty(this,"fontFaces",{get:function(){return ot},set:function(ke){Be=null,ot=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var ne;if(this.ctx.font=ke,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var yt=ne[1];ne[2];var nt=ne[3],Me=ne[4];ne[5];var Ue=ne[6],$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Me)[2];Me=Math.floor($e==="px"?parseFloat(Me)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(Me)*this.pdf.getFontSize():parseFloat(Me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Me);var He=function(ft){var At,Ye,In=[],Ot=ft.trim();if(Ot==="")return qy;if(Ot in lx)return[lx[Ot]];for(;Ot!=="";){switch(Ye=null,At=(Ot=cx(Ot)).charAt(0)){case'"':case"'":Ye=jU(Ot.substring(1),At);break;default:Ye=VU(Ot)}if(Ye===null||(In.push(Ye[0]),(Ot=cx(Ye[1]))!==""&&Ot.charAt(0)!==","))return qy;Ot=Ot.replace(/^,/,"")}return In}(Ue);if(this.fontFaces){var it=FU(Ve(this.pdf,this.fontFaces),He.map(function(ft){return{family:ft,stretch:"normal",weight:nt,style:yt}}));this.pdf.setFont(it.ref.name,it.ref.style)}else{var mt="";(nt==="bold"||parseInt(nt,10)>=700||yt==="bold")&&(mt="bold"),yt==="italic"&&(mt+="italic"),mt.length===0&&(mt="normal");for(var _t="",st={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<He.length;dt++){if(this.pdf.internal.getFont(He[dt],mt,{noFallback:!0,disableWarning:!0})!==void 0){_t=He[dt];break}if(mt==="bolditalic"&&this.pdf.internal.getFont(He[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)_t=He[dt],mt="bold";else if(this.pdf.internal.getFont(He[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){_t=He[dt],mt="normal";break}}if(_t===""){for(var jt=0;jt<He.length;jt++)if(st[He[jt]]){_t=st[He[jt]];break}}_t=_t===""?"Times":_t,this.pdf.setFont(_t,mt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,Se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,Se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=!!ke}})};d.prototype.setLineDash=function(F){this.lineDash=F},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){j.call(this,"fill",!1)},d.prototype.stroke=function(){j.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(F,G){if(isNaN(F)||isNaN(G))throw un.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new o(F,G));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(F,G)},d.prototype.closePath=function(){var F=new o(0,0),G=0;for(G=this.path.length-1;G!==-1;G--)if(this.path[G].type==="begin"&&nn(this.path[G+1])==="object"&&typeof this.path[G+1].x=="number"){F=new o(this.path[G+1].x,this.path[G+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(F.x,F.y)},d.prototype.lineTo=function(F,G){if(isNaN(F)||isNaN(G))throw un.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new o(F,G));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},d.prototype.quadraticCurveTo=function(F,G,ee,oe){if(isNaN(ee)||isNaN(oe)||isNaN(F)||isNaN(G))throw un.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new o(ee,oe)),me=this.ctx.transform.applyToPoint(new o(F,G));this.path.push({type:"qct",x1:me.x,y1:me.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},d.prototype.bezierCurveTo=function(F,G,ee,oe,ce,me){if(isNaN(ce)||isNaN(me)||isNaN(F)||isNaN(G)||isNaN(ee)||isNaN(oe))throw un.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new o(ce,me)),we=this.ctx.transform.applyToPoint(new o(F,G)),Ne=this.ctx.transform.applyToPoint(new o(ee,oe));this.path.push({type:"bct",x1:we.x,y1:we.y,x2:Ne.x,y2:Ne.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new o(_e.x,_e.y)},d.prototype.arc=function(F,G,ee,oe,ce,me){if(isNaN(F)||isNaN(G)||isNaN(ee)||isNaN(oe)||isNaN(ce))throw un.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new o(F,G));F=_e.x,G=_e.y;var we=this.ctx.transform.applyToPoint(new o(0,ee)),Ne=this.ctx.transform.applyToPoint(new o(0,0));ee=Math.sqrt(Math.pow(we.x-Ne.x,2)+Math.pow(we.y-Ne.y,2))}Math.abs(ce-oe)>=2*Math.PI&&(oe=0,ce=2*Math.PI),this.path.push({type:"arc",x:F,y:G,radius:ee,startAngle:oe,endAngle:ce,counterclockwise:me})},d.prototype.arcTo=function(F,G,ee,oe,ce){throw new Error("arcTo not implemented.")},d.prototype.rect=function(F,G,ee,oe){if(isNaN(F)||isNaN(G)||isNaN(ee)||isNaN(oe))throw un.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(F,G),this.lineTo(F+ee,G),this.lineTo(F+ee,G+oe),this.lineTo(F,G+oe),this.lineTo(F,G),this.lineTo(F+ee,G),this.lineTo(F,G)},d.prototype.fillRect=function(F,G,ee,oe){if(isNaN(F)||isNaN(G)||isNaN(ee)||isNaN(oe))throw un.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(F,G,ee,oe),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},d.prototype.strokeRect=function(F,G,ee,oe){if(isNaN(F)||isNaN(G)||isNaN(ee)||isNaN(oe))throw un.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");_.call(this)||(this.beginPath(),this.rect(F,G,ee,oe),this.stroke())},d.prototype.clearRect=function(F,G,ee,oe){if(isNaN(F)||isNaN(G)||isNaN(ee)||isNaN(oe))throw un.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(F,G,ee,oe))},d.prototype.save=function(F){F=typeof F!="boolean"||F;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(G),F){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},d.prototype.restore=function(F){F=typeof F!="boolean"||F;for(var G=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(G),F&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(F){var G,ee,oe,ce;if(F.isCanvasGradient===!0&&(F=F.getColor()),!F)return{r:0,g:0,b:0,a:0,style:F};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(F))G=0,ee=0,oe=0,ce=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(F);if(me!==null)G=parseInt(me[1]),ee=parseInt(me[2]),oe=parseInt(me[3]),ce=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(F))!==null)G=parseInt(me[1]),ee=parseInt(me[2]),oe=parseInt(me[3]),ce=parseFloat(me[4]);else{if(ce=1,typeof F=="string"&&F.charAt(0)!=="#"){var _e=new gI(F);F=_e.ok?_e.toHex():"#000000"}F.length===4?(G=F.substring(1,2),G+=G,ee=F.substring(2,3),ee+=ee,oe=F.substring(3,4),oe+=oe):(G=F.substring(1,3),ee=F.substring(3,5),oe=F.substring(5,7)),G=parseInt(G,16),ee=parseInt(ee,16),oe=parseInt(oe,16)}}return{r:G,g:ee,b:oe,a:ce,style:F}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},_=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(F,G,ee,oe){if(isNaN(G)||isNaN(ee)||typeof F!="string")throw un.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!p.call(this)){var ce=H(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;I.call(this,{text:F,x:G,y:ee,scale:me,angle:ce,align:this.textAlign,maxWidth:oe})}},d.prototype.strokeText=function(F,G,ee,oe){if(isNaN(G)||isNaN(ee)||typeof F!="string")throw un.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!_.call(this)){oe=isNaN(oe)?void 0:oe;var ce=H(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;I.call(this,{text:F,x:G,y:ee,scale:me,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:oe})}},d.prototype.measureText=function(F){if(typeof F!="string")throw un.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var G=this.pdf,ee=this.pdf.internal.scaleFactor,oe=G.internal.getFontSize(),ce=G.getStringUnitWidth(F)*oe/G.internal.scaleFactor,me=function(_e){var we=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return we}}),this};return new me({width:ce*=Math.round(96*ee/72*1e4)/1e4})},d.prototype.scale=function(F,G){if(isNaN(F)||isNaN(G))throw un.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new l(F,0,0,G,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},d.prototype.rotate=function(F){if(isNaN(F))throw un.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var G=new l(Math.cos(F),Math.sin(F),-Math.sin(F),Math.cos(F),0,0);this.ctx.transform=this.ctx.transform.multiply(G)},d.prototype.translate=function(F,G){if(isNaN(F)||isNaN(G))throw un.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new l(1,0,0,1,F,G);this.ctx.transform=this.ctx.transform.multiply(ee)},d.prototype.transform=function(F,G,ee,oe,ce,me){if(isNaN(F)||isNaN(G)||isNaN(ee)||isNaN(oe)||isNaN(ce)||isNaN(me))throw un.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new l(F,G,ee,oe,ce,me);this.ctx.transform=this.ctx.transform.multiply(_e)},d.prototype.setTransform=function(F,G,ee,oe,ce,me){F=isNaN(F)?1:F,G=isNaN(G)?0:G,ee=isNaN(ee)?0:ee,oe=isNaN(oe)?1:oe,ce=isNaN(ce)?0:ce,me=isNaN(me)?0:me,this.ctx.transform=new l(F,G,ee,oe,ce,me)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(F,G,ee,oe,ce,me,_e,we,Ne){var De=this.pdf.getImageProperties(F),Be=1,Ve=1,ot=1,ke=1;oe!==void 0&&we!==void 0&&(ot=we/oe,ke=Ne/ce,Be=De.width/oe*we/oe,Ve=De.height/ce*Ne/ce),me===void 0&&(me=G,_e=ee,G=0,ee=0),oe!==void 0&&we===void 0&&(we=oe,Ne=ce),oe===void 0&&we===void 0&&(we=De.width,Ne=De.height);for(var ne,yt=this.ctx.transform.decompose(),nt=H(yt.rotate.shx),Me=new l,Ue=(Me=(Me=(Me=Me.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale)).applyToRectangle(new a(me-G*ot,_e-ee*ke,oe*Be,ce*Ve)),$e=T.call(this,Ue),He=[],it=0;it<$e.length;it+=1)He.indexOf($e[it])===-1&&He.push($e[it]);if(A(He),this.autoPaging)for(var mt=He[0],_t=He[He.length-1],st=mt;st<_t+1;st++){this.pdf.setPage(st);var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=st===1?this.posY+this.margin[0]:this.margin[0],ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ye=st===1?0:ft+(st-2)*At;if(this.ctx.clip_path.length!==0){var In=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ne,this.posX+this.margin[3],-Ye+jt+this.ctx.prevPageLastElemOffset),Y.call(this,"fill",!0),this.path=In}var Ot=JSON.parse(JSON.stringify(Ue));Ot=b([Ot],this.posX+this.margin[3],-Ye+jt+this.ctx.prevPageLastElemOffset)[0];var li=(st>mt||st<_t)&&S.call(this);li&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,At,null).clip().discardPath()),this.pdf.addImage(F,"JPEG",Ot.x,Ot.y,Ot.w,Ot.h,null,null,nt),li&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(F,"JPEG",Ue.x,Ue.y,Ue.w,Ue.h,null,null,nt)};var T=function(F,G,ee){var oe=[];G=G||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ce=this.posY+this.ctx.prevPageLastElemOffset;switch(F.type){default:case"mt":case"lt":oe.push(Math.floor((F.y+ce)/ee)+1);break;case"arc":oe.push(Math.floor((F.y+ce-F.radius)/ee)+1),oe.push(Math.floor((F.y+ce+F.radius)/ee)+1);break;case"qct":var me=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x,F.y);oe.push(Math.floor((me.y+ce)/ee)+1),oe.push(Math.floor((me.y+me.h+ce)/ee)+1);break;case"bct":var _e=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,F.x1,F.y1,F.x2,F.y2,F.x,F.y);oe.push(Math.floor((_e.y+ce)/ee)+1),oe.push(Math.floor((_e.y+_e.h+ce)/ee)+1);break;case"rect":oe.push(Math.floor((F.y+ce)/ee)+1),oe.push(Math.floor((F.y+F.h+ce)/ee)+1)}for(var we=0;we<oe.length;we+=1)for(;this.pdf.internal.getNumberOfPages()<oe[we];)y.call(this);return oe},y=function(){var F=this.fillStyle,G=this.strokeStyle,ee=this.font,oe=this.lineCap,ce=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=F,this.strokeStyle=G,this.font=ee,this.lineCap=oe,this.lineWidth=ce,this.lineJoin=me},b=function(F,G,ee){for(var oe=0;oe<F.length;oe++)switch(F[oe].type){case"bct":F[oe].x2+=G,F[oe].y2+=ee;case"qct":F[oe].x1+=G,F[oe].y1+=ee;case"mt":case"lt":case"arc":default:F[oe].x+=G,F[oe].y+=ee}return F},A=function(F){return F.sort(function(G,ee){return G-ee})},j=function(F,G){for(var ee,oe,ce=this.fillStyle,me=this.strokeStyle,_e=this.lineCap,we=this.lineWidth,Ne=Math.abs(we*this.ctx.transform.scaleX),De=this.lineJoin,Be=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),ot=[],ke=0;ke<Ve.length;ke++)if(Ve[ke].x!==void 0)for(var ne=T.call(this,Ve[ke]),yt=0;yt<ne.length;yt+=1)ot.indexOf(ne[yt])===-1&&ot.push(ne[yt]);for(var nt=0;nt<ot.length;nt++)for(;this.pdf.internal.getNumberOfPages()<ot[nt];)y.call(this);if(A(ot),this.autoPaging)for(var Me=ot[0],Ue=ot[ot.length-1],$e=Me;$e<Ue+1;$e++){this.pdf.setPage($e),this.fillStyle=ce,this.strokeStyle=me,this.lineCap=_e,this.lineWidth=Ne,this.lineJoin=De;var He=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],it=$e===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],_t=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=$e===1?0:mt+($e-2)*_t;if(this.ctx.clip_path.length!==0){var dt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ee,this.posX+this.margin[3],-st+it+this.ctx.prevPageLastElemOffset),Y.call(this,F,!0),this.path=dt}if(oe=JSON.parse(JSON.stringify(Be)),this.path=b(oe,this.posX+this.margin[3],-st+it+this.ctx.prevPageLastElemOffset),G===!1||$e===0){var jt=($e>Me||$e<Ue)&&S.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],He,_t,null).clip().discardPath()),Y.call(this,F,G),jt&&this.pdf.restoreGraphicsState()}this.lineWidth=we}else this.lineWidth=Ne,Y.call(this,F,G),this.lineWidth=we;this.path=Be},Y=function(F,G){if((F!=="stroke"||G||!_.call(this))&&(F==="stroke"||G||!p.call(this))){for(var ee,oe,ce=[],me=this.path,_e=0;_e<me.length;_e++){var we=me[_e];switch(we.type){case"begin":ce.push({begin:!0});break;case"close":ce.push({close:!0});break;case"mt":ce.push({start:we,deltas:[],abs:[]});break;case"lt":var Ne=ce.length;if(me[_e-1]&&!isNaN(me[_e-1].x)&&(ee=[we.x-me[_e-1].x,we.y-me[_e-1].y],Ne>0)){for(;Ne>=0;Ne--)if(ce[Ne-1].close!==!0&&ce[Ne-1].begin!==!0){ce[Ne-1].deltas.push(ee),ce[Ne-1].abs.push(we);break}}break;case"bct":ee=[we.x1-me[_e-1].x,we.y1-me[_e-1].y,we.x2-me[_e-1].x,we.y2-me[_e-1].y,we.x-me[_e-1].x,we.y-me[_e-1].y],ce[ce.length-1].deltas.push(ee);break;case"qct":var De=me[_e-1].x+2/3*(we.x1-me[_e-1].x),Be=me[_e-1].y+2/3*(we.y1-me[_e-1].y),Ve=we.x+2/3*(we.x1-we.x),ot=we.y+2/3*(we.y1-we.y),ke=we.x,ne=we.y;ee=[De-me[_e-1].x,Be-me[_e-1].y,Ve-me[_e-1].x,ot-me[_e-1].y,ke-me[_e-1].x,ne-me[_e-1].y],ce[ce.length-1].deltas.push(ee);break;case"arc":ce.push({deltas:[],abs:[],arc:!0}),Array.isArray(ce[ce.length-1].abs)&&ce[ce.length-1].abs.push(we)}}oe=G?null:F==="stroke"?"stroke":"fill";for(var yt=!1,nt=0;nt<ce.length;nt++)if(ce[nt].arc)for(var Me=ce[nt].abs,Ue=0;Ue<Me.length;Ue++){var $e=Me[Ue];$e.type==="arc"?k.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,G,!yt):R.call(this,$e.x,$e.y),yt=!0}else if(ce[nt].close===!0)this.pdf.internal.out("h"),yt=!1;else if(ce[nt].begin!==!0){var He=ce[nt].start.x,it=ce[nt].start.y;$.call(this,ce[nt].deltas,He,it),yt=!0}oe&&D.call(this,oe),G&&L.call(this)}},J=function(F){var G=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=G*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return F-ee;case"top":return F+G-ee;case"hanging":return F+G-2*ee;case"middle":return F+G/2-ee;case"ideographic":return F;case"alphabetic":default:return F}},N=function(F){return F+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var F=function(){};return F.colorStops=[],F.addColorStop=function(G,ee){this.colorStops.push([G,ee])},F.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},F.isCanvasGradient=!0,F},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(F,G,ee,oe,ce,me,_e,we,Ne){for(var De=Q.call(this,ee,oe,ce,me),Be=0;Be<De.length;Be++){var Ve=De[Be];Be===0&&(Ne?x.call(this,Ve.x1+F,Ve.y1+G):R.call(this,Ve.x1+F,Ve.y1+G)),X.call(this,F,G,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}we?L.call(this):D.call(this,_e)},D=function(F){switch(F){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},x=function(F,G){this.pdf.internal.out(n(F)+" "+r(G)+" m")},I=function(F){var G;switch(F.align){case"right":case"end":G="right";break;case"center":G="center";break;case"left":case"start":default:G="left"}var ee=this.pdf.getTextDimensions(F.text),oe=J.call(this,F.y),ce=N.call(this,oe)-ee.h,me=this.ctx.transform.applyToPoint(new o(F.x,oe)),_e=this.ctx.transform.decompose(),we=new l;we=(we=(we=we.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale);for(var Ne,De,Be,Ve=this.ctx.transform.applyToRectangle(new a(F.x,oe,ee.w,ee.h)),ot=we.applyToRectangle(new a(F.x,ce,ee.w,ee.h)),ke=T.call(this,ot),ne=[],yt=0;yt<ke.length;yt+=1)ne.indexOf(ke[yt])===-1&&ne.push(ke[yt]);if(A(ne),this.autoPaging)for(var nt=ne[0],Me=ne[ne.length-1],Ue=nt;Ue<Me+1;Ue++){this.pdf.setPage(Ue);var $e=Ue===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[2],mt=it-this.margin[0],_t=this.pdf.internal.pageSize.width-this.margin[1],st=_t-this.margin[3],dt=Ue===1?0:He+(Ue-2)*mt;if(this.ctx.clip_path.length!==0){var jt=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(Ne,this.posX+this.margin[3],-1*dt+$e),Y.call(this,"fill",!0),this.path=jt}var ft=b([JSON.parse(JSON.stringify(ot))],this.posX+this.margin[3],-dt+$e+this.ctx.prevPageLastElemOffset)[0];F.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*F.scale),Be=this.lineWidth,this.lineWidth=Be*F.scale);var At=this.autoPaging!=="text";if(At||ft.y+ft.h<=it){if(At||ft.y>=$e&&ft.x<=_t){var Ye=At?F.text:this.pdf.splitTextToSize(F.text,F.maxWidth||_t-ft.x)[0],In=b([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-dt+$e+this.ctx.prevPageLastElemOffset)[0],Ot=At&&(Ue>nt||Ue<Me)&&S.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,mt,null).clip().discardPath()),this.pdf.text(Ye,In.x,In.y,{angle:F.angle,align:G,renderingMode:F.renderingMode}),Ot&&this.pdf.restoreGraphicsState()}}else ft.y<it&&(this.ctx.prevPageLastElemOffset+=it-ft.y);F.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Be)}else F.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*F.scale),Be=this.lineWidth,this.lineWidth=Be*F.scale),this.pdf.text(F.text,me.x+this.posX,me.y+this.posY,{angle:F.angle,align:G,renderingMode:F.renderingMode,maxWidth:F.maxWidth}),F.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Be)},R=function(F,G,ee,oe){ee=ee||0,oe=oe||0,this.pdf.internal.out(n(F+ee)+" "+r(G+oe)+" l")},$=function(F,G,ee){return this.pdf.lines(F,G,ee,null,null)},X=function(F,G,ee,oe,ce,me,_e,we){this.pdf.internal.out([e(i(ee+F)),e(s(oe+G)),e(i(ce+F)),e(s(me+G)),e(i(_e+F)),e(s(we+G)),"c"].join(" "))},Q=function(F,G,ee,oe){for(var ce=2*Math.PI,me=Math.PI/2;G>ee;)G-=ce;var _e=Math.abs(ee-G);_e<ce&&oe&&(_e=ce-_e);for(var we=[],Ne=oe?-1:1,De=G;_e>1e-5;){var Be=De+Ne*Math.min(_e,me);we.push(re.call(this,F,De,Be)),_e-=Math.abs(Be-De),De=Be}return we},re=function(F,G,ee){var oe=(ee-G)/2,ce=F*Math.cos(oe),me=F*Math.sin(oe),_e=ce,we=-me,Ne=_e*_e+we*we,De=Ne+_e*ce+we*me,Be=4/3*(Math.sqrt(2*Ne*De)-De)/(_e*me-we*ce),Ve=_e-Be*we,ot=we+Be*_e,ke=Ve,ne=-ot,yt=oe+G,nt=Math.cos(yt),Me=Math.sin(yt);return{x1:F*Math.cos(G),y1:F*Math.sin(G),x2:Ve*nt-ot*Me,y2:Ve*Me+ot*nt,x3:ke*nt-ne*Me,y3:ke*Me+ne*nt,x4:F*Math.cos(ee),y4:F*Math.sin(ee)}},H=function(F){return 180*F/Math.PI},te=function(F,G,ee,oe,ce,me){var _e=F+.5*(ee-F),we=G+.5*(oe-G),Ne=ce+.5*(ee-ce),De=me+.5*(oe-me),Be=Math.min(F,ce,_e,Ne),Ve=Math.max(F,ce,_e,Ne),ot=Math.min(G,me,we,De),ke=Math.max(G,me,we,De);return new a(Be,ot,Ve-Be,ke-ot)},ie=function(F,G,ee,oe,ce,me,_e,we){var Ne,De,Be,Ve,ot,ke,ne,yt,nt,Me,Ue,$e,He,it,mt=ee-F,_t=oe-G,st=ce-ee,dt=me-oe,jt=_e-ce,ft=we-me;for(De=0;De<41;De++)nt=(ne=(Be=F+(Ne=De/40)*mt)+Ne*((ot=ee+Ne*st)-Be))+Ne*(ot+Ne*(ce+Ne*jt-ot)-ne),Me=(yt=(Ve=G+Ne*_t)+Ne*((ke=oe+Ne*dt)-Ve))+Ne*(ke+Ne*(me+Ne*ft-ke)-yt),De==0?(Ue=nt,$e=Me,He=nt,it=Me):(Ue=Math.min(Ue,nt),$e=Math.min($e,Me),He=Math.max(He,nt),it=Math.max(it,Me));return new a(Math.round(Ue),Math.round($e),Math.round(He-Ue),Math.round(it-$e))},Se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var F,G,ee=(F=this.ctx.lineDash,G=this.ctx.lineDashOffset,JSON.stringify({lineDash:F,lineDashOffset:G}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(at.API),function(t){var e=function(s){var o,a,l,u,c,d,g,p,_,S;for(a=[],l=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(c=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(d=(c=((c=((c=((c=(c-(S=c%85))/85)-(_=c%85))/85)-(p=c%85))/85)-(g=c%85))/85)%85,a.push(d+33,g+33,p+33,_+33,S+33)):a.push(122);return function(T,y){for(var b=y;b>0;b--)T.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,u,c,d=String,g="length",p=255,_="charCodeAt",S="slice",T="replace";for(s[S](-2),s=s[S](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),l=[],u=0,c=(s+=o="uuuuu"[S](s[g]%5||5))[g];c>u;u+=5)a=52200625*(s[_](u)-33)+614125*(s[_](u+1)-33)+7225*(s[_](u+2)-33)+85*(s[_](u+3)-33)+(s[_](u+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(y,b){for(var A=b;A>0;A--)y.pop()}(l,o[g]),d.fromCharCode.apply(d,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=B2(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(at.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,u,c){var d=new XMLHttpRequest,g=0,p=function(_){var S=_.length,T=[],y=String.fromCharCode;for(g=0;g<S;g+=1)T.push(y(255&_.charCodeAt(g)));return T.join("")};if(d.open("GET",l,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?c(p(this.responseText)):c(void 0)}),d.send(null),u&&d.status===200)return p(d.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(at.API),function(t){function e(){return(pt.html2canvas?Promise.resolve(pt.html2canvas):zh(()=>import("./html2canvas.esm-CBrSDip1.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(pt.DOMPurify?Promise.resolve(pt.DOMPurify):zh(()=>import("./purify.es-Bf0oSh3b.js"),[],import.meta.url)).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=nn(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var u in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[u]=a.style[u];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(u,c){for(var d=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),g=u.firstChild;g;g=g.nextSibling)c!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||d.appendChild(l(g,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(d.width=u.width,d.height=u.height,d.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(d.value=u.value),d.addEventListener("load",function(){d.scrollTop=u.scrollTop,d.scrollLeft=u.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var g=0;g<u.length;++g){var p=u[g],_=p.src.find(function(S){return S.format==="truetype"});_&&l.addFont(_.url,p.ref.name,p.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||at.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,u){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,u){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,u),d}).then(u,c).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),c=l.call(u,o,a);return s.convert(c,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,at.getPageSize=function(o,a,l){if(nn(o)==="object"){var u=o;o=u.orientation,a=u.unit||a,l=u.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var c,d=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+a}var p,_=0,S=0;if(g.hasOwnProperty(d))_=g[d][1]/c,S=g[d][0]/c;else try{_=l[1],S=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",S>_&&(p=S,S=_,_=p);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",_>S&&(p=S,S=_,_=p)}return{width:S,height:_,unit:a,k:c,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map($2):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(at.API),at.API.addJS=function(t){return fx=t,this.internal.events.subscribe("postPutResources",function(){xm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(xm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),hx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+fx+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){xm!==void 0&&hx!==void 0&&this.internal.out("/Names <</JavaScript "+xm+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var d=n.internal.newObject();c.push(d);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<c.length;s++)n.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(at.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,u=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(d){for(var g,p=256*d.charCodeAt(4)+d.charCodeAt(5),_=d.length,S={width:0,height:0,numcomponents:1},T=4;T<_;T+=2){if(T+=p,e.indexOf(d.charCodeAt(T+1))!==-1){g=256*d.charCodeAt(T+5)+d.charCodeAt(T+6),S={width:256*d.charCodeAt(T+7)+d.charCodeAt(T+8),height:g,numcomponents:d.charCodeAt(T+9)};break}p=256*d.charCodeAt(T+2)+d.charCodeAt(T+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:u,index:r,alias:i}}return c}}(at.API);var qc,Tm,dx,px,mx,BU=function(){var t,e,n;function r(s){var o,a,l,u,c,d,g,p,_,S,T,y,b,A;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),_=(function(){var j,Y;for(Y=[],j=0;j<4;++j)Y.push(String.fromCharCode(this.data[this.pos++]));return Y}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,d.delay=1e3*c/u,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(_==="fdAT"&&(this.pos+=4,o-=4),s=(d!=null?d.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((S=l-this.transparency.indexed.length)>0)for(b=0;0<=S?b<S:b>S;0<=S?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":g=(T=this.read(o)).indexOf(0),p=String.fromCharCode.apply(String,T.slice(0,g)),this.text[p]=String.fromCharCode.apply(String,T.slice(g+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(A=this.colorType)===4||A===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function c(d,g,p,_){var S,T,y,b,A,j,Y,J,N,k,D,L,x,I,R,$,X,Q,re,H,te,ie=Math.ceil((u.width-d)/p),Se=Math.ceil((u.height-g)/_),F=u.width==ie&&u.height==Se;for(I=o*ie,L=F?a:new Uint8Array(I*Se),j=s.length,x=0,T=0;x<Se&&l<j;){switch(s[l++]){case 0:for(b=X=0;X<I;b=X+=1)L[T++]=s[l++];break;case 1:for(b=Q=0;Q<I;b=Q+=1)S=s[l++],A=b<o?0:L[T-o],L[T++]=(S+A)%256;break;case 2:for(b=re=0;re<I;b=re+=1)S=s[l++],y=(b-b%o)/o,R=x&&L[(x-1)*I+y*o+b%o],L[T++]=(R+S)%256;break;case 3:for(b=H=0;H<I;b=H+=1)S=s[l++],y=(b-b%o)/o,A=b<o?0:L[T-o],R=x&&L[(x-1)*I+y*o+b%o],L[T++]=(S+Math.floor((A+R)/2))%256;break;case 4:for(b=te=0;te<I;b=te+=1)S=s[l++],y=(b-b%o)/o,A=b<o?0:L[T-o],x===0?R=$=0:(R=L[(x-1)*I+y*o+b%o],$=y&&L[(x-1)*I+(y-1)*o+b%o]),Y=A+R-$,J=Math.abs(Y-A),k=Math.abs(Y-R),D=Math.abs(Y-$),N=J<=k&&J<=D?A:k<=D?R:$,L[T++]=(S+N)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!F){var G=((g+x*_)*u.width+d)*o,ee=x*I;for(b=0;b<ie;b+=1){for(var oe=0;oe<o;oe+=1)a[G++]=L[ee++];G+=(p-1)*o}}x++}}return s=yU(s),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,u,c,d,g,p;for(a=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+a.length),l=0,s=0,o=d=0,g=a.length;d<g;o=d+=3)u[l++]=a[o],u[l++]=a[o+1],u[l++]=a[o+2],u[l++]=(p=c[s++])!=null?p:255;return u},r.prototype.copyToImageData=function(s,o){var a,l,u,c,d,g,p,_,S,T,y;if(l=this.colors,S=null,a=this.hasAlphaChannel,this.palette.length&&(S=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,a=!0),_=(u=s.data||s).length,d=S||o,c=g=0,l===1)for(;c<_;)p=S?4*o[c/4]:g,T=d[p++],u[c++]=T,u[c++]=T,u[c++]=T,u[c++]=a?d[p++]:255,g=p;else for(;c<_;)p=S?4*o[c/4]:g,u[c++]=d[p++],u[c++]=d[p++],u[c++]=d[p++],u[c++]=a?d[p++]:255,g=p},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(pt)==="[object Window]"){try{e=pt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,u,c,d,g,p;if(this.animation){for(p=[],a=c=0,d=(g=this.animation.frames).length;c<d;a=++c)o=g[a],l=s.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,p.push(o.image=t(l));return p}},r.prototype.renderFrame=function(s,o){var a,l,u;return a=(l=this.animation.frames)[o],u=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,u,c,d,g=this;return a=0,d=this.animation,u=d.numFrames,l=d.frames,c=d.numPlays,(o=function(){var p,_;if(p=a++%u,_=l[p],g.renderFrame(s,p),u>1&&a/u<c)return g.animation._timeout=setTimeout(o,_.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function UU(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var u=!0,c=[],d=0,g=null,p=0,_=null;for(this.width=n,this.height=r;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,_=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];d=t[e++]|t[e++]<<8,g=t[e++],!(1&S)&&(g=null),p=S>>2&7,e++;break;case 254:for(;;){if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var T=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,j=t[e++],Y=j>>6&1,J=1<<(7&j)+1,N=a,k=l,D=!1;j>>7&&(D=!0,N=e,k=J,e+=3*J);var L=e;for(e++;;){var x;if(!((x=t[e++])>=0))throw Error("Invalid block size");if(x===0)break;e+=x}c.push({x:T,y,width:b,height:A,has_local_palette:D,palette_offset:N,palette_size:k,data_offset:L,data_length:e-L,transparent_index:g,interlaced:!!Y,delay:d,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return _},this.frameInfo=function(I){if(I<0||I>=c.length)throw new Error("Frame index out of range.");return c[I]},this.decodeAndBlitFrameBGRA=function(I,R){var $=this.frameInfo(I),X=$.width*$.height,Q=new Uint8Array(X);gx(t,$.data_offset,Q,X);var re=$.palette_offset,H=$.transparent_index;H===null&&(H=256);var te=$.width,ie=n-te,Se=te,F=4*($.y*n+$.x),G=4*(($.y+$.height)*n+$.x),ee=F,oe=4*ie;$.interlaced===!0&&(oe+=4*n*7);for(var ce=8,me=0,_e=Q.length;me<_e;++me){var we=Q[me];if(Se===0&&(Se=te,(ee+=oe)>=G&&(oe=4*ie+4*n*(ce-1),ee=F+(te+ie)*(ce<<1),ce>>=1)),we===H)ee+=4;else{var Ne=t[re+3*we],De=t[re+3*we+1],Be=t[re+3*we+2];R[ee++]=Be,R[ee++]=De,R[ee++]=Ne,R[ee++]=255}--Se}},this.decodeAndBlitFrameRGBA=function(I,R){var $=this.frameInfo(I),X=$.width*$.height,Q=new Uint8Array(X);gx(t,$.data_offset,Q,X);var re=$.palette_offset,H=$.transparent_index;H===null&&(H=256);var te=$.width,ie=n-te,Se=te,F=4*($.y*n+$.x),G=4*(($.y+$.height)*n+$.x),ee=F,oe=4*ie;$.interlaced===!0&&(oe+=4*n*7);for(var ce=8,me=0,_e=Q.length;me<_e;++me){var we=Q[me];if(Se===0&&(Se=te,(ee+=oe)>=G&&(oe=4*ie+4*n*(ce-1),ee=F+(te+ie)*(ce<<1),ce>>=1)),we===H)ee+=4;else{var Ne=t[re+3*we],De=t[re+3*we+1],Be=t[re+3*we+2];R[ee++]=Ne,R[ee++]=De,R[ee++]=Be,R[ee++]=255}--Se}}}function gx(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,u=(1<<l)-1,c=0,d=0,g=0,p=t[e++],_=new Int32Array(4096),S=null;;){for(;c<16&&p!==0;)d|=t[e++]<<c,c+=8,p===1?p=t[e++]:--p;if(c<l)break;var T=d&u;if(d>>=l,c-=l,T!==s){if(T===o)break;for(var y=T<a?T:S,b=0,A=y;A>s;)A=_[A]>>8,++b;var j=A;if(g+b+(y!==T?1:0)>r)return void un.log("Warning, gif stream longer than expected.");n[g++]=j;var Y=g+=b;for(y!==T&&(n[g++]=j),A=y;b--;)A=_[A],n[--Y]=255&A,A>>=8;S!==null&&a<4096&&(_[a++]=S<<8|j,a>=u+1&&l<12&&(++l,u=u<<1|1)),S=T}else a=o+1,u=(1<<(l=i+1))-1,S=null}return g!==r&&un.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Hy(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),d=new Array(65535),g=new Array(65535),p=new Array(64),_=new Array(64),S=[],T=0,y=7,b=new Array(64),A=new Array(64),j=new Array(64),Y=new Array(256),J=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],x=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(F,G){for(var ee=0,oe=0,ce=new Array,me=1;me<=16;me++){for(var _e=1;_e<=F[me];_e++)ce[G[oe]]=[],ce[G[oe]][0]=ee,ce[G[oe]][1]=me,oe++,ee++;ee*=2}return ce}function re(F){for(var G=F[0],ee=F[1]-1;ee>=0;)G&1<<ee&&(T|=1<<y),ee--,--y<0&&(T==255?(H(255),H(0)):H(T),y=7,T=0)}function H(F){S.push(F)}function te(F){H(F>>8&255),H(255&F)}function ie(F,G,ee,oe,ce){for(var me,_e=ce[0],we=ce[240],Ne=function(Me,Ue){var $e,He,it,mt,_t,st,dt,jt,ft,At,Ye=0;for(ft=0;ft<8;++ft){$e=Me[Ye],He=Me[Ye+1],it=Me[Ye+2],mt=Me[Ye+3],_t=Me[Ye+4],st=Me[Ye+5],dt=Me[Ye+6];var In=$e+(jt=Me[Ye+7]),Ot=$e-jt,li=He+dt,Wt=He-dt,cn=it+st,Wi=it-st,Mt=mt+_t,Ys=mt-_t,mn=In+Mt,yr=In-Mt,Ai=li+cn,hn=li-cn;Me[Ye]=mn+Ai,Me[Ye+4]=mn-Ai;var lt=.707106781*(hn+yr);Me[Ye+2]=yr+lt,Me[Ye+6]=yr-lt;var Vt=.382683433*((mn=Ys+Wi)-(hn=Wt+Ot)),$i=.5411961*mn+Vt,Qn=1.306562965*hn+Vt,Ir=.707106781*(Ai=Wi+Wt),Pi=Ot+Ir,Xe=Ot-Ir;Me[Ye+5]=Xe+$i,Me[Ye+3]=Xe-$i,Me[Ye+1]=Pi+Qn,Me[Ye+7]=Pi-Qn,Ye+=8}for(Ye=0,ft=0;ft<8;++ft){$e=Me[Ye],He=Me[Ye+8],it=Me[Ye+16],mt=Me[Ye+24],_t=Me[Ye+32],st=Me[Ye+40],dt=Me[Ye+48];var ui=$e+(jt=Me[Ye+56]),Cr=$e-jt,Jn=He+dt,Fn=He-dt,Cn=it+st,Xn=it-st,Ca=mt+_t,ps=mt-_t,Nr=ui+Ca,ci=ui-Ca,Yr=Jn+Cn,Gr=Jn-Cn;Me[Ye]=Nr+Yr,Me[Ye+32]=Nr-Yr;var jn=.707106781*(Gr+ci);Me[Ye+16]=ci+jn,Me[Ye+48]=ci-jn;var Ii=.382683433*((Nr=ps+Xn)-(Gr=Fn+Cr)),Gs=.5411961*Nr+Ii,Ks=1.306562965*Gr+Ii,Qs=.707106781*(Yr=Xn+Fn),Ro=Cr+Qs,Lo=Cr-Qs;Me[Ye+40]=Lo+Gs,Me[Ye+24]=Lo-Gs,Me[Ye+8]=Ro+Ks,Me[Ye+56]=Ro-Ks,Ye++}for(ft=0;ft<64;++ft)At=Me[ft]*Ue[ft],p[ft]=At>0?At+.5|0:At-.5|0;return p}(F,G),De=0;De<64;++De)_[N[De]]=Ne[De];var Be=_[0]-ee;ee=_[0],Be==0?re(oe[0]):(re(oe[g[me=32767+Be]]),re(d[me]));for(var Ve=63;Ve>0&&_[Ve]==0;)Ve--;if(Ve==0)return re(_e),ee;for(var ot,ke=1;ke<=Ve;){for(var ne=ke;_[ke]==0&&ke<=Ve;)++ke;var yt=ke-ne;if(yt>=16){ot=yt>>4;for(var nt=1;nt<=ot;++nt)re(we);yt&=15}me=32767+_[ke],re(ce[(yt<<4)+g[me]]),re(d[me]),ke++}return Ve!=63&&re(_e),ee}function Se(F){F=Math.min(Math.max(F,1),100),s!=F&&(function(G){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var ce=o((ee[oe]*G+50)/100);ce=Math.min(Math.max(ce,1),255),a[N[oe]]=ce}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var we=o((me[_e]*G+50)/100);we=Math.min(Math.max(we,1),255),l[N[_e]]=we}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,Be=0;Be<8;Be++)for(var Ve=0;Ve<8;Ve++)u[De]=1/(a[N[De]]*Ne[Be]*Ne[Ve]*8),c[De]=1/(l[N[De]]*Ne[Be]*Ne[Ve]*8),De++}(F<50?Math.floor(5e3/F):Math.floor(200-2*F)),s=F)}this.encode=function(F,G){G&&Se(G),S=new Array,T=0,y=7,te(65496),te(65504),te(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),te(1),te(1),H(0),H(0),function(){te(65499),te(132),H(0);for(var He=0;He<64;He++)H(a[He]);H(1);for(var it=0;it<64;it++)H(l[it])}(),function(He,it){te(65472),te(17),H(8),te(it),te(He),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(F.width,F.height),function(){te(65476),te(418),H(0);for(var He=0;He<16;He++)H(k[He+1]);for(var it=0;it<=11;it++)H(D[it]);H(16);for(var mt=0;mt<16;mt++)H(L[mt+1]);for(var _t=0;_t<=161;_t++)H(x[_t]);H(1);for(var st=0;st<16;st++)H(I[st+1]);for(var dt=0;dt<=11;dt++)H(R[dt]);H(17);for(var jt=0;jt<16;jt++)H($[jt+1]);for(var ft=0;ft<=161;ft++)H(X[ft])}(),te(65498),te(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var ee=0,oe=0,ce=0;T=0,y=7,this.encode.displayName="_encode_";for(var me,_e,we,Ne,De,Be,Ve,ot,ke,ne=F.data,yt=F.width,nt=F.height,Me=4*yt,Ue=0;Ue<nt;){for(me=0;me<Me;){for(De=Me*Ue+me,Ve=-1,ot=0,ke=0;ke<64;ke++)Be=De+(ot=ke>>3)*Me+(Ve=4*(7&ke)),Ue+ot>=nt&&(Be-=Me*(Ue+1+ot-nt)),me+Ve>=Me&&(Be-=me+Ve-Me+4),_e=ne[Be++],we=ne[Be++],Ne=ne[Be++],b[ke]=(J[_e]+J[we+256>>0]+J[Ne+512>>0]>>16)-128,A[ke]=(J[_e+768>>0]+J[we+1024>>0]+J[Ne+1280>>0]>>16)-128,j[ke]=(J[_e+1280>>0]+J[we+1536>>0]+J[Ne+1792>>0]>>16)-128;ee=ie(b,u,ee,e,r),oe=ie(A,c,oe,n,i),ce=ie(j,c,ce,n,i),me+=32}Ue+=8}if(y>=0){var $e=[];$e[1]=y+1,$e[0]=(1<<y+1)-1,re($e)}return te(65497),new Uint8Array(S)},t=t||50,function(){for(var F=String.fromCharCode,G=0;G<256;G++)Y[G]=F(G)}(),e=Q(k,D),n=Q(I,R),r=Q(L,x),i=Q($,X),function(){for(var F=1,G=2,ee=1;ee<=15;ee++){for(var oe=F;oe<G;oe++)g[32767+oe]=ee,d[32767+oe]=[],d[32767+oe][1]=ee,d[32767+oe][0]=oe;for(var ce=-(G-1);ce<=-F;ce++)g[32767+ce]=ee,d[32767+ce]=[],d[32767+ce][1]=ee,d[32767+ce][0]=G-1+ce;F<<=1,G<<=1}}(),function(){for(var F=0;F<256;F++)J[F]=19595*F,J[F+256>>0]=38470*F,J[F+512>>0]=7471*F+32768,J[F+768>>0]=-11059*F,J[F+1024>>0]=-21709*F,J[F+1280>>0]=32768*F+8421375,J[F+1536>>0]=-27439*F,J[F+1792>>0]=-5329*F}(),Se(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function As(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vx(t){function e(k){if(!k)throw Error("assert :P")}function n(k,D,L){for(var x=0;4>x;x++)if(k[D+x]!=L.charCodeAt(x))return!0;return!1}function r(k,D,L,x,I){for(var R=0;R<I;R++)k[D+R]=L[x+R]}function i(k,D,L,x){for(var I=0;I<x;I++)k[D+I]=L}function s(k){return new Int32Array(k)}function o(k,D){for(var L=[],x=0;x<k;x++)L.push(new D);return L}function a(k,D){var L=[];return function x(I,R,$){for(var X=$[R],Q=0;Q<X&&(I.push($.length>R+1?[]:new D),!($.length<R+1));Q++)x(I[Q],R+1,$)}(L,0,k),L}var l=function(){var k=this;function D(h,m){for(var w=1<<m-1>>>0;h&w;)w>>>=1;return w?(h&w-1)+w:h}function L(h,m,w,P,M){e(!(P%w));do h[m+(P-=w)]=M;while(0<P)}function x(h,m,w,P,M){if(e(2328>=M),512>=M)var V=s(512);else if((V=s(M))==null)return 0;return function(B,q,W,K,le,ge){var ve,pe,Ie=q,xe=1<<W,ue=s(16),he=s(16);for(e(le!=0),e(K!=null),e(B!=null),e(0<W),pe=0;pe<le;++pe){if(15<K[pe])return 0;++ue[K[pe]]}if(ue[0]==le)return 0;for(he[1]=0,ve=1;15>ve;++ve){if(ue[ve]>1<<ve)return 0;he[ve+1]=he[ve]+ue[ve]}for(pe=0;pe<le;++pe)ve=K[pe],0<K[pe]&&(ge[he[ve]++]=pe);if(he[15]==1)return(K=new I).g=0,K.value=ge[0],L(B,Ie,1,xe,K),xe;var Ae,Re=-1,Pe=xe-1,Ke=0,ze=1,ut=1,We=1<<W;for(pe=0,ve=1,le=2;ve<=W;++ve,le<<=1){if(ze+=ut<<=1,0>(ut-=ue[ve]))return 0;for(;0<ue[ve];--ue[ve])(K=new I).g=ve,K.value=ge[pe++],L(B,Ie+Ke,le,We,K),Ke=D(Ke,ve)}for(ve=W+1,le=2;15>=ve;++ve,le<<=1){if(ze+=ut<<=1,0>(ut-=ue[ve]))return 0;for(;0<ue[ve];--ue[ve]){if(K=new I,(Ke&Pe)!=Re){for(Ie+=We,Ae=1<<(Re=ve)-W;15>Re&&!(0>=(Ae-=ue[Re]));)++Re,Ae<<=1;xe+=We=1<<(Ae=Re-W),B[q+(Re=Ke&Pe)].g=Ae+W,B[q+Re].value=Ie-q-Re}K.g=ve-W,K.value=ge[pe++],L(B,Ie+(Ke>>W),le,We,K),Ke=D(Ke,ve)}}return ze!=2*he[15]-1?0:xe}(h,m,w,P,M,V)}function I(){this.value=this.g=0}function R(){this.value=this.g=0}function $(){this.G=o(5,I),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(br,R)}function X(h,m,w,P){e(h!=null),e(m!=null),e(2147483648>P),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=m,h.pa=w,h.Jd=m,h.Yc=w+P,h.Zc=4<=P?w+P-4+1:w,me(h)}function Q(h,m){for(var w=0;0<m--;)w|=we(h,128)<<m;return w}function re(h,m){var w=Q(h,m);return _e(h)?-w:w}function H(h,m,w,P){var M,V=0;for(e(h!=null),e(m!=null),e(4294967288>P),h.Sb=P,h.Ra=0,h.u=0,h.h=0,4<P&&(P=4),M=0;M<P;++M)V+=m[w+M]<<8*M;h.Ra=V,h.bb=P,h.oa=m,h.pa=w}function te(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<Nc-8>>>0,++h.bb,h.u-=8;ee(h)&&(h.h=1,h.u=0)}function ie(h,m){if(e(0<=m),!h.h&&m<=Cc){var w=G(h)&Ic[m];return h.u+=m,te(h),w}return h.h=1,h.u=0}function Se(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function G(h){return h.Ra>>>(h.u&Nc-1)>>>0}function ee(h){return e(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>Nc}function oe(h,m){h.u=m,h.h=ee(h)}function ce(h){h.u>=yf&&(e(h.u>=yf),te(h))}function me(h){e(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(e(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function _e(h){return Q(h,1)}function we(h,m){var w=h.Ca;0>h.b&&me(h);var P=h.b,M=w*m>>>8,V=(h.I>>>P>M)+0;for(V?(w-=M,h.I-=M+1<<P>>>0):w=M+1,P=w,M=0;256<=P;)M+=8,P>>=8;return P=7^M+fi[P],h.b-=P,h.Ca=(w<<P)-1,V}function Ne(h,m,w){h[m+0]=w>>24&255,h[m+1]=w>>16&255,h[m+2]=w>>8&255,h[m+3]=w>>0&255}function De(h,m){return h[m+0]<<0|h[m+1]<<8}function Be(h,m){return De(h,m)|h[m+2]<<16}function Ve(h,m){return De(h,m)|De(h,m+2)<<16}function ot(h,m){var w=1<<m;return e(h!=null),e(0<m),h.X=s(w),h.X==null?0:(h.Mb=32-m,h.Xa=m,1)}function ke(h,m){e(h!=null),e(m!=null),e(h.Xa==m.Xa),r(m.X,0,h.X,0,1<<m.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function yt(h,m,w,P){e(w!=null),e(P!=null);var M=w[0],V=P[0];return M==0&&(M=(h*V+m/2)/m),V==0&&(V=(m*M+h/2)/h),0>=M||0>=V?0:(w[0]=M,P[0]=V,1)}function nt(h,m){return h+(1<<m)-1>>>m}function Me(h,m){return((4278255360&h)+(4278255360&m)>>>0&4278255360)+((16711935&h)+(16711935&m)>>>0&16711935)>>>0}function Ue(h,m){k[m]=function(w,P,M,V,B,q,W){var K;for(K=0;K<B;++K){var le=k[h](q[W+K-1],M,V+K);q[W+K]=Me(w[P+K],le)}}}function $e(){this.ud=this.hd=this.jd=0}function He(h,m){return((4278124286&(h^m))>>>1)+(h&m)>>>0}function it(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function mt(h,m){return it(h+(h-m+.5>>1))}function _t(h,m,w){return Math.abs(m-w)-Math.abs(h-w)}function st(h,m,w,P,M,V,B){for(P=V[B-1],w=0;w<M;++w)V[B+w]=P=Me(h[m+w],P)}function dt(h,m,w,P,M){var V;for(V=0;V<w;++V){var B=h[m+V],q=B>>8&255,W=16711935&(W=(W=16711935&B)+((q<<16)+q));P[M+V]=(4278255360&B)+W>>>0}}function jt(h,m){m.jd=h>>0&255,m.hd=h>>8&255,m.ud=h>>16&255}function ft(h,m,w,P,M,V){var B;for(B=0;B<P;++B){var q=m[w+B],W=q>>>8,K=q,le=255&(le=(le=q>>>16)+((h.jd<<24>>24)*(W<<24>>24)>>>5));K=255&(K=(K=K+((h.hd<<24>>24)*(W<<24>>24)>>>5))+((h.ud<<24>>24)*(le<<24>>24)>>>5)),M[V+B]=(4278255360&q)+(le<<16)+K}}function At(h,m,w,P,M){k[m]=function(V,B,q,W,K,le,ge,ve,pe){for(W=ge;W<ve;++W)for(ge=0;ge<pe;++ge)K[le++]=M(q[P(V[B++])])},k[h]=function(V,B,q,W,K,le,ge){var ve=8>>V.b,pe=V.Ea,Ie=V.K[0],xe=V.w;if(8>ve)for(V=(1<<V.b)-1,xe=(1<<ve)-1;B<q;++B){var ue,he=0;for(ue=0;ue<pe;++ue)ue&V||(he=P(W[K++])),le[ge++]=M(Ie[he&xe]),he>>=ve}else k["VP8LMapColor"+w](W,K,Ie,xe,le,ge,B,q,pe)}}function Ye(h,m,w,P,M){for(w=m+w;m<w;){var V=h[m++];P[M++]=V>>16&255,P[M++]=V>>8&255,P[M++]=V>>0&255}}function In(h,m,w,P,M){for(w=m+w;m<w;){var V=h[m++];P[M++]=V>>16&255,P[M++]=V>>8&255,P[M++]=V>>0&255,P[M++]=V>>24&255}}function Ot(h,m,w,P,M){for(w=m+w;m<w;){var V=(B=h[m++])>>16&240|B>>12&15,B=B>>0&240|B>>28&15;P[M++]=V,P[M++]=B}}function li(h,m,w,P,M){for(w=m+w;m<w;){var V=(B=h[m++])>>16&248|B>>13&7,B=B>>5&224|B>>3&31;P[M++]=V,P[M++]=B}}function Wt(h,m,w,P,M){for(w=m+w;m<w;){var V=h[m++];P[M++]=V>>0&255,P[M++]=V>>8&255,P[M++]=V>>16&255}}function cn(h,m,w,P,M,V){if(V==0)for(w=m+w;m<w;)Ne(P,((V=h[m++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),M+=32;else r(P,M,h,m,w)}function Wi(h,m){k[m][0]=k[h+"0"],k[m][1]=k[h+"1"],k[m][2]=k[h+"2"],k[m][3]=k[h+"3"],k[m][4]=k[h+"4"],k[m][5]=k[h+"5"],k[m][6]=k[h+"6"],k[m][7]=k[h+"7"],k[m][8]=k[h+"8"],k[m][9]=k[h+"9"],k[m][10]=k[h+"10"],k[m][11]=k[h+"11"],k[m][12]=k[h+"12"],k[m][13]=k[h+"13"],k[m][14]=k[h+"0"],k[m][15]=k[h+"0"]}function Mt(h){return h==Av||h==Pv||h==Vp||h==Iv}function Ys(){this.eb=[],this.size=this.A=this.fb=0}function mn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ys,this.f.kb=new mn,this.sd=null}function Ai(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function hn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function lt(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Vt(h,m){var w=h.T,P=m.ba.f.RGBA,M=P.eb,V=P.fb+h.ka*P.A,B=Zi[m.ba.S],q=h.y,W=h.O,K=h.f,le=h.N,ge=h.ea,ve=h.W,pe=m.cc,Ie=m.dc,xe=m.Mc,ue=m.Nc,he=h.ka,Ae=h.ka+h.T,Re=h.U,Pe=Re+1>>1;for(he==0?B(q,W,null,null,K,le,ge,ve,K,le,ge,ve,M,V,null,null,Re):(B(m.ec,m.fc,q,W,pe,Ie,xe,ue,K,le,ge,ve,M,V-P.A,M,V,Re),++w);he+2<Ae;he+=2)pe=K,Ie=le,xe=ge,ue=ve,le+=h.Rc,ve+=h.Rc,V+=2*P.A,B(q,(W+=2*h.fa)-h.fa,q,W,pe,Ie,xe,ue,K,le,ge,ve,M,V-P.A,M,V,Re);return W+=h.fa,h.j+Ae<h.o?(r(m.ec,m.fc,q,W,Re),r(m.cc,m.dc,K,le,Pe),r(m.Mc,m.Nc,ge,ve,Pe),w--):1&Ae||B(q,W,null,null,K,le,ge,ve,K,le,ge,ve,M,V+P.A,null,null,Re),w}function $i(h,m,w){var P=h.F,M=[h.J];if(P!=null){var V=h.U,B=m.ba.S,q=B==jp||B==Vp;m=m.ba.f.RGBA;var W=[0],K=h.ka;W[0]=h.T,h.Kb&&(K==0?--W[0]:(--K,M[0]-=h.width),h.j+h.ka+h.T==h.o&&(W[0]=h.o-h.j-K));var le=m.eb;K=m.fb+K*m.A,h=dn(P,M[0],h.width,V,W,le,K+(q?0:3),m.A),e(w==W),h&&Mt(B)&&Ji(le,K,q,V,W,m.A)}return 0}function Qn(h){var m=h.ma,w=m.ba.S,P=11>w,M=w==Mp||w==Fp||w==jp||w==kv||w==12||Mt(w);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!gf(m.Oa,h,M?11:12))return 0;if(M&&Mt(w)&&Le(),h.da)alert("todo:use_scaling");else{if(P){if(m.Ib=lt,h.Kb){if(w=h.U+1>>1,m.memory=s(h.U+2*w),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+h.U,m.Mc=m.cc,m.Nc=m.dc+w,m.Ib=Vt,Le()}}else alert("todo:EmitYUV");M&&(m.Jb=$i,P&&de())}if(P&&!E_){for(h=0;256>h;++h)PC[h]=89858*(h-128)+Up>>Bp,NC[h]=-22014*(h-128)+Up,CC[h]=-45773*(h-128),IC[h]=113618*(h-128)+Up>>Bp;for(h=Tf;h<Dv;++h)m=76283*(h-16)+Up>>Bp,DC[h-Tf]=Kt(m,255),RC[h-Tf]=Kt(m+8>>4,15);E_=1}return 1}function Ir(h){var m=h.ma,w=h.U,P=h.T;return e(!(1&h.ka)),0>=w||0>=P?0:(w=m.Ib(h,m),m.Jb!=null&&m.Jb(h,m,w),m.Dc+=w,1)}function Pi(h){h.ma.memory=null}function Xe(h,m,w,P){return ie(h,8)!=47?0:(m[0]=ie(h,14)+1,w[0]=ie(h,14)+1,P[0]=ie(h,1),ie(h,3)!=0?0:!h.h)}function ui(h,m){if(4>h)return h+1;var w=h-2>>1;return(2+(1&h)<<w)+ie(m,w)+1}function Cr(h,m){return 120<m?m-120:1<=(w=((w=pC[m-1])>>4)*h+(8-(15&w)))?w:1;var w}function Jn(h,m,w){var P=G(w),M=h[m+=255&P].g-8;return 0<M&&(oe(w,w.u+8),P=G(w),m+=h[m].value,m+=P&(1<<M)-1),oe(w,w.u+h[m].g),h[m].value}function Fn(h,m,w){return w.g+=h.g,w.value+=h.value<<m>>>0,e(8>=w.g),h.g}function Cn(h,m,w){var P=h.xc;return e((m=P==0?0:h.vc[h.md*(w>>P)+(m>>P)])<h.Wb),h.Ya[m]}function Xn(h,m,w,P){var M=h.ab,V=h.c*m,B=h.C;m=B+m;var q=w,W=P;for(P=h.Ta,w=h.Ua;0<M--;){var K=h.gc[M],le=B,ge=m,ve=q,pe=W,Ie=(W=P,q=w,K.Ea);switch(e(le<ge),e(ge<=K.nc),K.hc){case 2:Ip(ve,pe,(ge-le)*Ie,W,q);break;case 0:var xe=le,ue=ge,he=W,Ae=q,Re=(We=K).Ea;xe==0&&(xv(ve,pe,null,null,1,he,Ae),st(ve,pe+1,0,0,Re-1,he,Ae+1),pe+=Re,Ae+=Re,++xe);for(var Pe=1<<We.b,Ke=Pe-1,ze=nt(Re,We.b),ut=We.K,We=We.w+(xe>>We.b)*ze;xe<ue;){var $t=ut,Zt=We,Bt=1;for(wf(ve,pe,he,Ae-Re,1,he,Ae);Bt<Re;){var Dt=(Bt&~Ke)+Pe;Dt>Re&&(Dt=Re),(0,Ga[$t[Zt++]>>8&15])(ve,pe+ +Bt,he,Ae+Bt-Re,Dt-Bt,he,Ae+Bt),Bt=Dt}pe+=Re,Ae+=Re,++xe&Ke||(We+=ze)}ge!=K.nc&&r(W,q-Ie,W,q+(ge-le-1)*Ie,Ie);break;case 1:for(Ie=ve,ue=pe,Re=(ve=K.Ea)-(Ae=ve&~(he=(pe=1<<K.b)-1)),xe=nt(ve,K.b),Pe=K.K,K=K.w+(le>>K.b)*xe;le<ge;){for(Ke=Pe,ze=K,ut=new $e,We=ue+Ae,$t=ue+ve;ue<We;)jt(Ke[ze++],ut),vu(ut,Ie,ue,pe,W,q),ue+=pe,q+=pe;ue<$t&&(jt(Ke[ze++],ut),vu(ut,Ie,ue,Re,W,q),ue+=Re,q+=Re),++le&he||(K+=xe)}break;case 3:if(ve==W&&pe==q&&0<K.b){for(ue=W,ve=Ie=q+(ge-le)*Ie-(Ae=(ge-le)*nt(K.Ea,K.b)),pe=W,he=q,xe=[],Ae=(Re=Ae)-1;0<=Ae;--Ae)xe[Ae]=pe[he+Ae];for(Ae=Re-1;0<=Ae;--Ae)ue[ve+Ae]=xe[Ae];Gi(K,le,ge,W,Ie,W,q)}else Gi(K,le,ge,ve,pe,W,q)}q=P,W=w}W!=w&&r(P,w,q,W,V)}function Ca(h,m){var w=h.V,P=h.Ba+h.c*h.C,M=m-h.C;if(e(m<=h.l.o),e(16>=M),0<M){var V=h.l,B=h.Ta,q=h.Ua,W=V.width;if(Xn(h,M,w,P),M=q=[q],e((w=h.C)<(P=m)),e(V.v<V.va),P>V.o&&(P=V.o),w<V.j){var K=V.j-w;w=V.j,M[0]+=K*W}if(w>=P?w=0:(M[0]+=4*V.v,V.ka=w-V.j,V.U=V.va-V.v,V.T=P-w,w=1),w){if(q=q[0],11>(w=h.ca).S){var le=w.f.RGBA,ge=(P=w.S,M=V.U,V=V.T,K=le.eb,le.A),ve=V;for(le=le.fb+h.Ma*le.A;0<ve--;){var pe=B,Ie=q,xe=M,ue=K,he=le;switch(P){case Op:di(pe,Ie,xe,ue,he);break;case Mp:Qr(pe,Ie,xe,ue,he);break;case Av:Qr(pe,Ie,xe,ue,he),Ji(ue,he,0,xe,1,0);break;case p_:Wo(pe,Ie,xe,ue,he);break;case Fp:cn(pe,Ie,xe,ue,he,1);break;case Pv:cn(pe,Ie,xe,ue,he,1),Ji(ue,he,0,xe,1,0);break;case jp:cn(pe,Ie,xe,ue,he,0);break;case Vp:cn(pe,Ie,xe,ue,he,0),Ji(ue,he,1,xe,1,0);break;case kv:Ka(pe,Ie,xe,ue,he);break;case Iv:Ka(pe,Ie,xe,ue,he),fn(ue,he,xe,1,0);break;case m_:Ho(pe,Ie,xe,ue,he);break;default:e(0)}q+=W,le+=ge}h.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");e(h.Ma<=w.height)}}h.C=m,e(h.C<=h.i)}function ps(h){var m;if(0<h.ua)return 0;for(m=0;m<h.Wb;++m){var w=h.Ya[m].G,P=h.Ya[m].H;if(0<w[1][P[1]+0].g||0<w[2][P[2]+0].g||0<w[3][P[3]+0].g)return 0}return 1}function Nr(h,m,w,P,M,V){if(h.Z!=0){var B=h.qd,q=h.rd;for(e(Za[h.Z]!=null);m<w;++m)Za[h.Z](B,q,P,M,P,M,V),B=P,q=M,M+=V;h.qd=B,h.rd=q}}function ci(h,m){var w=h.l.ma,P=w.Z==0||w.Z==1?h.l.j:h.C;if(P=h.C<P?P:h.C,e(m<=h.l.o),m>P){var M=h.l.width,V=w.ca,B=w.tb+M*P,q=h.V,W=h.Ba+h.c*P,K=h.gc;e(h.ab==1),e(K[0].hc==3),Cp(K[0],P,m,q,W,V,B),Nr(w,P,m,V,B,M)}h.C=h.Ma=m}function Yr(h,m,w,P,M,V,B){var q=h.$/P,W=h.$%P,K=h.m,le=h.s,ge=w+h.$,ve=ge;M=w+P*M;var pe=w+P*V,Ie=280+le.ua,xe=h.Pb?q:16777216,ue=0<le.ua?le.Wa:null,he=le.wc,Ae=ge<pe?Cn(le,W,q):null;e(h.C<V),e(pe<=M);var Re=!1;e:for(;;){for(;Re||ge<pe;){var Pe=0;if(q>=xe){var Ke=ge-w;e((xe=h).Pb),xe.wd=xe.m,xe.xd=Ke,0<xe.s.ua&&ke(xe.s.Wa,xe.s.vb),xe=q+gC}if(W&he||(Ae=Cn(le,W,q)),e(Ae!=null),Ae.Qb&&(m[ge]=Ae.qb,Re=!0),!Re)if(ce(K),Ae.jc){Pe=K,Ke=m;var ze=ge,ut=Ae.pd[G(Pe)&br-1];e(Ae.jc),256>ut.g?(oe(Pe,Pe.u+ut.g),Ke[ze]=ut.value,Pe=0):(oe(Pe,Pe.u+ut.g-256),e(256<=ut.value),Pe=ut.value),Pe==0&&(Re=!0)}else Pe=Jn(Ae.G[0],Ae.H[0],K);if(K.h)break;if(Re||256>Pe){if(!Re)if(Ae.nd)m[ge]=(Ae.qb|Pe<<8)>>>0;else{if(ce(K),Re=Jn(Ae.G[1],Ae.H[1],K),ce(K),Ke=Jn(Ae.G[2],Ae.H[2],K),ze=Jn(Ae.G[3],Ae.H[3],K),K.h)break;m[ge]=(ze<<24|Re<<16|Pe<<8|Ke)>>>0}if(Re=!1,++ge,++W>=P&&(W=0,++q,B!=null&&q<=V&&!(q%16)&&B(h,q),ue!=null))for(;ve<ge;)Pe=m[ve++],ue.X[(506832829*Pe&4294967295)>>>ue.Mb]=Pe}else if(280>Pe){if(Pe=ui(Pe-256,K),Ke=Jn(Ae.G[4],Ae.H[4],K),ce(K),Ke=Cr(P,Ke=ui(Ke,K)),K.h)break;if(ge-w<Ke||M-ge<Pe)break e;for(ze=0;ze<Pe;++ze)m[ge+ze]=m[ge+ze-Ke];for(ge+=Pe,W+=Pe;W>=P;)W-=P,++q,B!=null&&q<=V&&!(q%16)&&B(h,q);if(e(ge<=M),W&he&&(Ae=Cn(le,W,q)),ue!=null)for(;ve<ge;)Pe=m[ve++],ue.X[(506832829*Pe&4294967295)>>>ue.Mb]=Pe}else{if(!(Pe<Ie))break e;for(Re=Pe-280,e(ue!=null);ve<ge;)Pe=m[ve++],ue.X[(506832829*Pe&4294967295)>>>ue.Mb]=Pe;Pe=ge,e(!(Re>>>(Ke=ue).Xa)),m[Pe]=Ke.X[Re],Re=!0}Re||e(K.h==ee(K))}if(h.Pb&&K.h&&ge<M)e(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&ke(h.s.vb,h.s.Wa);else{if(K.h)break e;B!=null&&B(h,q>V?V:q),h.a=0,h.$=ge-w}return 1}return h.a=3,0}function Gr(h){e(h!=null),h.vc=null,h.yc=null,h.Ya=null;var m=h.Wa;m!=null&&(m.X=null),h.vb=null,e(h!=null)}function jn(){var h=new Ac;return h==null?null:(h.a=0,h.xb=y_,Wi("Predictor","VP8LPredictors"),Wi("Predictor","VP8LPredictors_C"),Wi("PredictorAdd","VP8LPredictorsAdd"),Wi("PredictorAdd","VP8LPredictorsAdd_C"),Ip=dt,vu=ft,di=Ye,Qr=In,Ka=Ot,Ho=li,Wo=Wt,k.VP8LMapColor32b=Dc,k.VP8LMapColor8b=Np,h)}function Ii(h,m,w,P,M){var V=1,B=[h],q=[m],W=P.m,K=P.s,le=null,ge=0;e:for(;;){if(w)for(;V&&ie(W,1);){var ve=B,pe=q,Ie=P,xe=1,ue=Ie.m,he=Ie.gc[Ie.ab],Ae=ie(ue,2);if(Ie.Oc&1<<Ae)V=0;else{switch(Ie.Oc|=1<<Ae,he.hc=Ae,he.Ea=ve[0],he.nc=pe[0],he.K=[null],++Ie.ab,e(4>=Ie.ab),Ae){case 0:case 1:he.b=ie(ue,3)+2,xe=Ii(nt(he.Ea,he.b),nt(he.nc,he.b),0,Ie,he.K),he.K=he.K[0];break;case 3:var Re,Pe=ie(ue,8)+1,Ke=16<Pe?0:4<Pe?1:2<Pe?2:3;if(ve[0]=nt(he.Ea,Ke),he.b=Ke,Re=xe=Ii(Pe,1,0,Ie,he.K)){var ze,ut=Pe,We=he,$t=1<<(8>>We.b),Zt=s($t);if(Zt==null)Re=0;else{var Bt=We.K[0],Dt=We.w;for(Zt[0]=We.K[0][0],ze=1;ze<1*ut;++ze)Zt[ze]=Me(Bt[Dt+ze],Zt[ze-1]);for(;ze<4*$t;++ze)Zt[ze]=0;We.K[0]=null,We.K[0]=Zt,Re=1}}xe=Re;break;case 2:break;default:e(0)}V=xe}}if(B=B[0],q=q[0],V&&ie(W,1)&&!(V=1<=(ge=ie(W,4))&&11>=ge)){P.a=3;break e}var ln;if(ln=V)t:{var on,Tt,Zn,pi=P,er=B,mi=q,en=ge,Li=w,Oi=pi.m,fr=pi.s,Sr=[null],Xr=1,es=0,oo=mC[en];n:for(;;){if(Li&&ie(Oi,1)){var dr=ie(Oi,3)+2,Ko=nt(er,dr),Su=nt(mi,dr),Fc=Ko*Su;if(!Ii(Ko,Su,0,pi,Sr))break n;for(Sr=Sr[0],fr.xc=dr,on=0;on<Fc;++on){var el=Sr[on]>>8&65535;Sr[on]=el,el>=Xr&&(Xr=el+1)}}if(Oi.h)break n;for(Tt=0;5>Tt;++Tt){var Dn=g_[Tt];!Tt&&0<en&&(Dn+=1<<en),es<Dn&&(es=Dn)}var Rv=o(Xr*oo,I),k_=Xr,A_=o(k_,$);if(A_==null)var qp=null;else e(65536>=k_),qp=A_;var kf=s(es);if(qp==null||kf==null||Rv==null){pi.a=1;break n}var Hp=Rv;for(on=Zn=0;on<Xr;++on){var xs=qp[on],jc=xs.G,Vc=xs.H,P_=0,Wp=1,I_=0;for(Tt=0;5>Tt;++Tt){Dn=g_[Tt],jc[Tt]=Hp,Vc[Tt]=Zn,!Tt&&0<en&&(Dn+=1<<en);i:{var $p,Lv=Dn,Yp=pi,Af=kf,MC=Hp,FC=Zn,Ov=0,tl=Yp.m,jC=ie(tl,1);if(i(Af,0,0,Lv),jC){var VC=ie(tl,1)+1,BC=ie(tl,1),C_=ie(tl,BC==0?1:8);Af[C_]=1,VC==2&&(Af[C_=ie(tl,8)]=1);var Gp=1}else{var N_=s(19),D_=ie(tl,4)+4;if(19<D_){Yp.a=3;var Kp=0;break i}for($p=0;$p<D_;++$p)N_[dC[$p]]=ie(tl,3);var Mv=void 0,Pf=void 0,R_=Yp,UC=N_,Qp=Lv,L_=Af,Fv=0,nl=R_.m,O_=8,M_=o(128,I);r:for(;x(M_,0,7,UC,19);){if(ie(nl,1)){var zC=2+2*ie(nl,3);if((Mv=2+ie(nl,zC))>Qp)break r}else Mv=Qp;for(Pf=0;Pf<Qp&&Mv--;){ce(nl);var F_=M_[0+(127&G(nl))];oe(nl,nl.u+F_.g);var Bc=F_.value;if(16>Bc)L_[Pf++]=Bc,Bc!=0&&(O_=Bc);else{var qC=Bc==16,j_=Bc-16,HC=hC[j_],V_=ie(nl,cC[j_])+HC;if(Pf+V_>Qp)break r;for(var WC=qC?O_:0;0<V_--;)L_[Pf++]=WC}}Fv=1;break r}Fv||(R_.a=3),Gp=Fv}(Gp=Gp&&!tl.h)&&(Ov=x(MC,FC,8,Af,Lv)),Gp&&Ov!=0?Kp=Ov:(Yp.a=3,Kp=0)}if(Kp==0)break n;if(Wp&&fC[Tt]==1&&(Wp=Hp[Zn].g==0),P_+=Hp[Zn].g,Zn+=Kp,3>=Tt){var If,jv=kf[0];for(If=1;If<Dn;++If)kf[If]>jv&&(jv=kf[If]);I_+=jv}}if(xs.nd=Wp,xs.Qb=0,Wp&&(xs.qb=(jc[3][Vc[3]+0].value<<24|jc[1][Vc[1]+0].value<<16|jc[2][Vc[2]+0].value)>>>0,P_==0&&256>jc[0][Vc[0]+0].value&&(xs.Qb=1,xs.qb+=jc[0][Vc[0]+0].value<<8)),xs.jc=!xs.Qb&&6>I_,xs.jc){var Jp,Qo=xs;for(Jp=0;Jp<br;++Jp){var rl=Jp,il=Qo.pd[rl],Xp=Qo.G[0][Qo.H[0]+rl];256<=Xp.value?(il.g=Xp.g+256,il.value=Xp.value):(il.g=0,il.value=0,rl>>=Fn(Xp,8,il),rl>>=Fn(Qo.G[1][Qo.H[1]+rl],16,il),rl>>=Fn(Qo.G[2][Qo.H[2]+rl],0,il),Fn(Qo.G[3][Qo.H[3]+rl],24,il))}}}fr.vc=Sr,fr.Wb=Xr,fr.Ya=qp,fr.yc=Rv,ln=1;break t}ln=0}if(!(V=ln)){P.a=3;break e}if(0<ge){if(K.ua=1<<ge,!ot(K.Wa,ge)){P.a=1,V=0;break e}}else K.ua=0;var Vv=P,B_=B,$C=q,Bv=Vv.s,Uv=Bv.xc;if(Vv.c=B_,Vv.i=$C,Bv.md=nt(B_,Uv),Bv.wc=Uv==0?-1:(1<<Uv)-1,w){P.xb=EC;break e}if((le=s(B*q))==null){P.a=1,V=0;break e}V=(V=Yr(P,le,0,B,q,q,null))&&!W.h;break e}return V?(M!=null?M[0]=le:(e(le==null),e(w)),P.$=0,w||Gr(K)):Gr(K),V}function Gs(h,m){var w=h.c*h.i,P=w+m+16*m;return e(h.c<=m),h.V=s(P),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+w+m,1)}function Ks(h,m){var w=h.C,P=m-w,M=h.V,V=h.Ba+h.c*w;for(e(m<=h.l.o);0<P;){var B=16<P?16:P,q=h.l.ma,W=h.l.width,K=W*B,le=q.ca,ge=q.tb+W*w,ve=h.Ta,pe=h.Ua;Xn(h,B,M,V),Bn(ve,pe,le,ge,K),Nr(q,w,w+B,le,ge,W),P-=B,M+=B*h.c,w+=B}e(w==m),h.C=h.Ma=m}function Qs(){this.ub=this.yd=this.td=this.Rb=0}function Ro(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Lo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function vc(){this.Yb=function(){var h=[];return function m(w,P,M){for(var V=M[P],B=0;B<V&&(w.push(M.length>P+1?[]:0),!(M.length<P+1));B++)m(w[B],P+1,M)}(h,0,[3,11]),h}()}function Na(){this.jb=s(3),this.Wc=a([4,8],vc),this.Xc=a([4,17],vc)}function yc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Js(){this.ld=this.La=this.dd=this.tc=0}function Xs(){this.Na=this.la=0}function ms(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Oo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ff(){this.uc=this.M=this.Nb=0,this.wa=Array(new Js),this.Y=0,this.ya=Array(new Oo),this.aa=0,this.l=new Mo}function ru(){this.y=s(16),this.f=s(8),this.ea=s(8)}function wc(){this.cb=this.a=0,this.sc="",this.m=new Se,this.Od=new Qs,this.Kc=new Ro,this.ed=new yc,this.Qa=new Lo,this.Ic=this.$c=this.Aa=0,this.D=new ff,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Se),this.ia=0,this.pb=o(4,ms),this.Pa=new Na,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ru),this.Hd=0,this.rb=Array(new Xs),this.sb=0,this.wa=Array(new Js),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Oo),this.L=this.aa=0,this.gd=a([4,2],Js),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function iu(){var h=new wc;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,xf||(xf=_c)),h}function gn(h,m,w){return h.a==0&&(h.a=m,h.sc=w,h.cb=0),0}function su(h,m,w){return 3<=w&&h[m+0]==157&&h[m+1]==1&&h[m+2]==42}function ou(h,m){if(h==null)return 0;if(h.a=0,h.sc="OK",m==null)return gn(h,2,"null VP8Io passed to VP8GetHeaders()");var w=m.data,P=m.w,M=m.ha;if(4>M)return gn(h,7,"Truncated header.");var V=w[P+0]|w[P+1]<<8|w[P+2]<<16,B=h.Od;if(B.Rb=!(1&V),B.td=V>>1&7,B.yd=V>>4&1,B.ub=V>>5,3<B.td)return gn(h,3,"Incorrect keyframe parameters.");if(!B.yd)return gn(h,4,"Frame not displayable.");P+=3,M-=3;var q=h.Kc;if(B.Rb){if(7>M)return gn(h,7,"cannot parse picture header");if(!su(w,P,M))return gn(h,3,"Bad code word");q.c=16383&(w[P+4]<<8|w[P+3]),q.Td=w[P+4]>>6,q.i=16383&(w[P+6]<<8|w[P+5]),q.Ud=w[P+6]>>6,P+=7,M-=7,h.za=q.c+15>>4,h.Ub=q.i+15>>4,m.width=q.c,m.height=q.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((V=h.Pa).jb,0,255,V.jb.length),e((V=h.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,i(V.Zb,0,0,V.Zb.length),i(V.Lb,0,0,V.Lb)}if(B.ub>M)return gn(h,7,"bad partition length");X(V=h.m,w,P,B.ub),P+=B.ub,M-=B.ub,B.Rb&&(q.Ld=_e(V),q.Kd=_e(V)),q=h.Qa;var W,K=h.Pa;if(e(V!=null),e(q!=null),q.Cb=_e(V),q.Cb){if(q.Bb=_e(V),_e(V)){for(q.Fb=_e(V),W=0;4>W;++W)q.Zb[W]=_e(V)?re(V,7):0;for(W=0;4>W;++W)q.Lb[W]=_e(V)?re(V,6):0}if(q.Bb)for(W=0;3>W;++W)K.jb[W]=_e(V)?Q(V,8):255}else q.Bb=0;if(V.Ka)return gn(h,3,"cannot parse segment header");if((q=h.ed).zd=_e(V),q.Tb=Q(V,6),q.wb=Q(V,3),q.Pc=_e(V),q.Pc&&_e(V)){for(K=0;4>K;++K)_e(V)&&(q.vd[K]=re(V,6));for(K=0;4>K;++K)_e(V)&&(q.od[K]=re(V,6))}if(h.L=q.Tb==0?0:q.zd?1:2,V.Ka)return gn(h,3,"cannot parse filter header");var le=M;if(M=W=P,P=W+le,q=le,h.Xb=(1<<Q(h.m,2))-1,le<3*(K=h.Xb))w=7;else{for(W+=3*K,q-=3*K,le=0;le<K;++le){var ge=w[M+0]|w[M+1]<<8|w[M+2]<<16;ge>q&&(ge=q),X(h.Jc[+le],w,W,ge),W+=ge,q-=ge,M+=3}X(h.Jc[+K],w,W,q),w=W<P?0:5}if(w!=0)return gn(h,w,"cannot parse partitions");for(w=Q(W=h.m,7),M=_e(W)?re(W,4):0,P=_e(W)?re(W,4):0,q=_e(W)?re(W,4):0,K=_e(W)?re(W,4):0,W=_e(W)?re(W,4):0,le=h.Qa,ge=0;4>ge;++ge){if(le.Cb){var ve=le.Zb[ge];le.Fb||(ve+=w)}else{if(0<ge){h.pb[ge]=h.pb[0];continue}ve=w}var pe=h.pb[ge];pe.Sc[0]=Cv[Kt(ve+M,127)],pe.Sc[1]=Nv[Kt(ve+0,127)],pe.Eb[0]=2*Cv[Kt(ve+P,127)],pe.Eb[1]=101581*Nv[Kt(ve+q,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=Cv[Kt(ve+K,117)],pe.Qc[1]=Nv[Kt(ve+W,127)],pe.lc=ve+W}if(!B.Rb)return gn(h,4,"Not a key frame.");for(_e(V),B=h.Pa,w=0;4>w;++w){for(M=0;8>M;++M)for(P=0;3>P;++P)for(q=0;11>q;++q)K=we(V,bC[w][M][P][q])?Q(V,8):wC[w][M][P][q],B.Wc[w][M].Yb[P][q]=K;for(M=0;17>M;++M)B.Xc[w][M]=B.Wc[w][SC[M]]}return h.kc=_e(V),h.kc&&(h.Bd=Q(V,8)),h.cb=1}function _c(h,m,w,P,M,V,B){var q=m[M].Yb[w];for(w=0;16>M;++M){if(!we(h,q[w+0]))return M;for(;!we(h,q[w+1]);)if(q=m[++M].Yb[0],w=0,M==16)return 16;var W=m[M+1].Yb;if(we(h,q[w+2])){var K=h,le=0;if(we(K,(ve=q)[(ge=w)+3]))if(we(K,ve[ge+6])){for(q=0,ge=2*(le=we(K,ve[ge+8]))+(ve=we(K,ve[ge+9+le])),le=0,ve=vC[ge];ve[q];++q)le+=le+we(K,ve[q]);le+=3+(8<<ge)}else we(K,ve[ge+7])?(le=7+2*we(K,165),le+=we(K,145)):le=5+we(K,159);else le=we(K,ve[ge+4])?3+we(K,ve[ge+5]):2;q=W[2]}else le=1,q=W[1];W=B+yC[M],0>(K=h).b&&me(K);var ge,ve=K.b,pe=(ge=K.Ca>>1)-(K.I>>ve)>>31;--K.b,K.Ca+=pe,K.Ca|=1,K.I-=(ge+1&pe)<<ve,V[W]=((le^pe)-pe)*P[(0<M)+0]}return 16}function au(h){var m=h.rb[h.sb-1];m.la=0,m.Na=0,i(h.zc,0,0,h.zc.length),h.ja=0}function bc(h,m){if(h==null)return 0;if(m==null)return gn(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!ou(h,m))return 0;if(e(h.cb),m.ac==null||m.ac(m)){m.ob&&(h.L=0);var w=zp[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=m.v-w>>4,h.zb=m.j-w>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=m.o+15+w>>4,h.Hb=m.va+15+w>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var P=h.ed;for(w=0;4>w;++w){var M;if(h.Qa.Cb){var V=h.Qa.Lb[w];h.Qa.Fb||(V+=P.Tb)}else V=P.Tb;for(M=0;1>=M;++M){var B=h.gd[w][M],q=V;if(P.Pc&&(q+=P.vd[0],M&&(q+=P.od[0])),0<(q=0>q?0:63<q?63:q)){var W=q;0<P.wb&&(W=4<P.wb?W>>2:W>>1)>9-P.wb&&(W=9-P.wb),1>W&&(W=1),B.dd=W,B.tc=2*q+W,B.ld=40<=q?2:15<=q?1:0}else B.tc=0;B.La=M}}}w=0}else gn(h,6,"Frame setup failed"),w=h.a;if(w=w==0){if(w){h.$c=0,0<h.Aa||(h.Ic=OC);e:{w=h.Ic,P=4*(W=h.za);var K=32*W,le=W+1,ge=0<h.L?W*(0<h.Aa?2:1):0,ve=(h.Aa==2?2:1)*W;if((B=P+832+(M=3*(16*w+zp[h.L])/2*K)+(V=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=B)w=0;else{if(B>h.Vb){if(h.Vb=0,h.Ec=s(B),h.Fc=0,h.Ec==null){w=gn(h,1,"no memory during frame initialization.");break e}h.Vb=B}B=h.Ec,q=h.Fc,h.Ac=B,h.Bc=q,q+=P,h.Gd=o(K,ru),h.Hd=0,h.rb=o(le+1,Xs),h.sb=1,h.wa=ge?o(ge,Js):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=W),e(!0),h.oc=B,h.pc=q,q+=832,h.ya=o(ve,Oo),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=W),h.R=16*W,h.B=8*W,W=(K=zp[h.L])*h.R,K=K/2*h.B,h.sa=B,h.ta=q+W,h.qa=h.sa,h.ra=h.ta+16*w*h.R+K,h.Ha=h.qa,h.Ia=h.ra+8*w*h.B+K,h.$c=0,q+=M,h.mb=V?B:null,h.nb=V?q:null,e(q+V<=h.Fc+h.Vb),au(h),i(h.Ac,h.Bc,0,P),w=1}}if(w){if(m.ka=0,m.y=h.sa,m.O=h.ta,m.f=h.qa,m.N=h.ra,m.ea=h.Ha,m.Vd=h.Ia,m.fa=h.R,m.Rc=h.B,m.F=null,m.J=0,!Rp){for(w=-255;255>=w;++w)sr[255+w]=0>w?-w:w;for(w=-1020;1020>=w;++w)Yo[1020+w]=-128>w?-128:127<w?127:w;for(w=-112;112>=w;++w)Ef[112+w]=-16>w?-16:15<w?15:w;for(w=-255;510>=w;++w)Mc[255+w]=0>w?0:255<w?255:w;Rp=1}Rc=Vo,$o=Ra,_f=lu,Jr=Xt,Ki=jo,Vn=Fo,Lc=Ba,Dp=_s,bf=za,yu=gu,wu=Ua,Qa=Uo,_u=qa,Oc=no,bu=Bo,Ja=Di,Sf=ir,Qi=kc,Es[0]=Yi,Es[1]=df,Es[2]=eo,Es[3]=mf,Es[4]=xc,Es[5]=Ma,Es[6]=Ci,Es[7]=cu,Es[8]=ja,Es[9]=Fa,Xa[0]=Zs,Xa[1]=pf,Xa[2]=vs,Xa[3]=La,Xa[4]=vn,Xa[5]=Ec,Xa[6]=uu,Go[0]=ws,Go[1]=Sc,Go[2]=Tc,Go[3]=ys,Go[4]=Gt,Go[5]=hu,Go[6]=fu,w=1}else w=0}w&&(w=function(pe,Ie){for(pe.M=0;pe.M<pe.Va;++pe.M){var xe,ue=pe.Jc[pe.M&pe.Xb],he=pe.m,Ae=pe;for(xe=0;xe<Ae.za;++xe){var Re=he,Pe=Ae,Ke=Pe.Ac,ze=Pe.Bc+4*xe,ut=Pe.zc,We=Pe.ya[Pe.aa+xe];if(Pe.Qa.Bb?We.$b=we(Re,Pe.Pa.jb[0])?2+we(Re,Pe.Pa.jb[2]):we(Re,Pe.Pa.jb[1]):We.$b=0,Pe.kc&&(We.Ad=we(Re,Pe.Bd)),We.Za=!we(Re,145)+0,We.Za){var $t=We.Ob,Zt=0;for(Pe=0;4>Pe;++Pe){var Bt,Dt=ut[0+Pe];for(Bt=0;4>Bt;++Bt){Dt=_C[Ke[ze+Bt]][Dt];for(var ln=v_[we(Re,Dt[0])];0<ln;)ln=v_[2*ln+we(Re,Dt[ln])];Dt=-ln,Ke[ze+Bt]=Dt}r($t,Zt,Ke,ze,4),Zt+=4,ut[0+Pe]=Dt}}else Dt=we(Re,156)?we(Re,128)?1:3:we(Re,163)?2:0,We.Ob[0]=Dt,i(Ke,ze,Dt,4),i(ut,0,Dt,4);We.Dd=we(Re,142)?we(Re,114)?we(Re,183)?1:3:2:0}if(Ae.m.Ka)return gn(pe,7,"Premature end-of-partition0 encountered.");for(;pe.ja<pe.za;++pe.ja){if(Ae=ue,Re=(he=pe).rb[he.sb-1],Ke=he.rb[he.sb+he.ja],xe=he.ya[he.aa+he.ja],ze=he.kc?xe.Ad:0)Re.la=Ke.la=0,xe.Za||(Re.Na=Ke.Na=0),xe.Hc=0,xe.Gc=0,xe.ia=0;else{var on,Tt;if(Re=Ke,Ke=Ae,ze=he.Pa.Xc,ut=he.ya[he.aa+he.ja],We=he.pb[ut.$b],Pe=ut.ad,$t=0,Zt=he.rb[he.sb-1],Dt=Bt=0,i(Pe,$t,0,384),ut.Za)var Zn=0,pi=ze[3];else{ln=s(16);var er=Re.Na+Zt.Na;if(er=xf(Ke,ze[1],er,We.Eb,0,ln,0),Re.Na=Zt.Na=(0<er)+0,1<er)Rc(ln,0,Pe,$t);else{var mi=ln[0]+3>>3;for(ln=0;256>ln;ln+=16)Pe[$t+ln]=mi}Zn=1,pi=ze[0]}var en=15&Re.la,Li=15&Zt.la;for(ln=0;4>ln;++ln){var Oi=1&Li;for(mi=Tt=0;4>mi;++mi)en=en>>1|(Oi=(er=xf(Ke,pi,er=Oi+(1&en),We.Sc,Zn,Pe,$t))>Zn)<<7,Tt=Tt<<2|(3<er?3:1<er?2:Pe[$t+0]!=0),$t+=16;en>>=4,Li=Li>>1|Oi<<7,Bt=(Bt<<8|Tt)>>>0}for(pi=en,Zn=Li>>4,on=0;4>on;on+=2){for(Tt=0,en=Re.la>>4+on,Li=Zt.la>>4+on,ln=0;2>ln;++ln){for(Oi=1&Li,mi=0;2>mi;++mi)er=Oi+(1&en),en=en>>1|(Oi=0<(er=xf(Ke,ze[2],er,We.Qc,0,Pe,$t)))<<3,Tt=Tt<<2|(3<er?3:1<er?2:Pe[$t+0]!=0),$t+=16;en>>=2,Li=Li>>1|Oi<<5}Dt|=Tt<<4*on,pi|=en<<4<<on,Zn|=(240&Li)<<on}Re.la=pi,Zt.la=Zn,ut.Hc=Bt,ut.Gc=Dt,ut.ia=43690&Dt?0:We.ia,ze=!(Bt|Dt)}if(0<he.L&&(he.wa[he.Y+he.ja]=he.gd[xe.$b][xe.Za],he.wa[he.Y+he.ja].La|=!ze),Ae.Ka)return gn(pe,7,"Premature end-of-file encountered.")}if(au(pe),he=Ie,Ae=1,xe=(ue=pe).D,Re=0<ue.L&&ue.M>=ue.zb&&ue.M<=ue.Va,ue.Aa==0)e:{if(xe.M=ue.M,xe.uc=Re,io(ue,xe),Ae=1,xe=(Tt=ue.D).Nb,Re=(Dt=zp[ue.L])*ue.R,Ke=Dt/2*ue.B,ln=16*xe*ue.R,mi=8*xe*ue.B,ze=ue.sa,ut=ue.ta-Re+ln,We=ue.qa,Pe=ue.ra-Ke+mi,$t=ue.Ha,Zt=ue.Ia-Ke+mi,Li=(en=Tt.M)==0,Bt=en>=ue.Va-1,ue.Aa==2&&io(ue,Tt),Tt.uc)for(Oi=(er=ue).D.M,e(er.D.uc),Tt=er.yb;Tt<er.Hb;++Tt){Zn=Tt,pi=Oi;var fr=(Sr=(Dn=er).D).Nb;on=Dn.R;var Sr=Sr.wa[Sr.Y+Zn],Xr=Dn.sa,es=Dn.ta+16*fr*on+16*Zn,oo=Sr.dd,dr=Sr.tc;if(dr!=0)if(e(3<=dr),Dn.L==1)0<Zn&&Ja(Xr,es,on,dr+4),Sr.La&&Qi(Xr,es,on,dr),0<pi&&bu(Xr,es,on,dr+4),Sr.La&&Sf(Xr,es,on,dr);else{var Ko=Dn.B,Su=Dn.qa,Fc=Dn.ra+8*fr*Ko+8*Zn,el=Dn.Ha,Dn=Dn.Ia+8*fr*Ko+8*Zn;fr=Sr.ld,0<Zn&&(Dp(Xr,es,on,dr+4,oo,fr),yu(Su,Fc,el,Dn,Ko,dr+4,oo,fr)),Sr.La&&(Qa(Xr,es,on,dr,oo,fr),Oc(Su,Fc,el,Dn,Ko,dr,oo,fr)),0<pi&&(Lc(Xr,es,on,dr+4,oo,fr),bf(Su,Fc,el,Dn,Ko,dr+4,oo,fr)),Sr.La&&(wu(Xr,es,on,dr,oo,fr),_u(Su,Fc,el,Dn,Ko,dr,oo,fr))}}if(ue.ia&&alert("todo:DitherRow"),he.put!=null){if(Tt=16*en,en=16*(en+1),Li?(he.y=ue.sa,he.O=ue.ta+ln,he.f=ue.qa,he.N=ue.ra+mi,he.ea=ue.Ha,he.W=ue.Ia+mi):(Tt-=Dt,he.y=ze,he.O=ut,he.f=We,he.N=Pe,he.ea=$t,he.W=Zt),Bt||(en-=Dt),en>he.o&&(en=he.o),he.F=null,he.J=null,ue.Fa!=null&&0<ue.Fa.length&&Tt<en&&(he.J=Ya(ue,he,Tt,en-Tt),he.F=ue.mb,he.F==null&&he.F.length==0)){Ae=gn(ue,3,"Could not decode alpha data.");break e}Tt<he.j&&(Dt=he.j-Tt,Tt=he.j,e(!(1&Dt)),he.O+=ue.R*Dt,he.N+=ue.B*(Dt>>1),he.W+=ue.B*(Dt>>1),he.F!=null&&(he.J+=he.width*Dt)),Tt<en&&(he.O+=he.v,he.N+=he.v>>1,he.W+=he.v>>1,he.F!=null&&(he.J+=he.v),he.ka=Tt-he.j,he.U=he.va-he.v,he.T=en-Tt,Ae=he.put(he))}xe+1!=ue.Ic||Bt||(r(ue.sa,ue.ta-Re,ze,ut+16*ue.R,Re),r(ue.qa,ue.ra-Ke,We,Pe+8*ue.B,Ke),r(ue.Ha,ue.Ia-Ke,$t,Zt+8*ue.B,Ke))}if(!Ae)return gn(pe,6,"Output aborted.")}return 1}(h,m)),m.bc!=null&&m.bc(m),w&=1}return w?(h.cb=0,w):0}function hi(h,m,w,P,M){M=h[m+w+32*P]+(M>>3),h[m+w+32*P]=-256&M?0>M?0:255:M}function Da(h,m,w,P,M,V){hi(h,m,0,w,P+M),hi(h,m,1,w,P+V),hi(h,m,2,w,P-V),hi(h,m,3,w,P-M)}function Nn(h){return(20091*h>>16)+h}function Kr(h,m,w,P){var M,V=0,B=s(16);for(M=0;4>M;++M){var q=h[m+0]+h[m+8],W=h[m+0]-h[m+8],K=(35468*h[m+4]>>16)-Nn(h[m+12]),le=Nn(h[m+4])+(35468*h[m+12]>>16);B[V+0]=q+le,B[V+1]=W+K,B[V+2]=W-K,B[V+3]=q-le,V+=4,m++}for(M=V=0;4>M;++M)q=(h=B[V+0]+4)+B[V+8],W=h-B[V+8],K=(35468*B[V+4]>>16)-Nn(B[V+12]),hi(w,P,0,0,q+(le=Nn(B[V+4])+(35468*B[V+12]>>16))),hi(w,P,1,0,W+K),hi(w,P,2,0,W-K),hi(w,P,3,0,q-le),V++,P+=32}function Fo(h,m,w,P){var M=h[m+0]+4,V=35468*h[m+4]>>16,B=Nn(h[m+4]),q=35468*h[m+1]>>16;Da(w,P,0,M+B,h=Nn(h[m+1]),q),Da(w,P,1,M+V,h,q),Da(w,P,2,M-V,h,q),Da(w,P,3,M-B,h,q)}function Ra(h,m,w,P,M){Kr(h,m,w,P),M&&Kr(h,m+16,w,P+4)}function lu(h,m,w,P){$o(h,m+0,w,P,1),$o(h,m+32,w,P+128,1)}function Xt(h,m,w,P){var M;for(h=h[m+0]+4,M=0;4>M;++M)for(m=0;4>m;++m)hi(w,P,m,M,h)}function jo(h,m,w,P){h[m+0]&&Jr(h,m+0,w,P),h[m+16]&&Jr(h,m+16,w,P+4),h[m+32]&&Jr(h,m+32,w,P+128),h[m+48]&&Jr(h,m+48,w,P+128+4)}function Vo(h,m,w,P){var M,V=s(16);for(M=0;4>M;++M){var B=h[m+0+M]+h[m+12+M],q=h[m+4+M]+h[m+8+M],W=h[m+4+M]-h[m+8+M],K=h[m+0+M]-h[m+12+M];V[0+M]=B+q,V[8+M]=B-q,V[4+M]=K+W,V[12+M]=K-W}for(M=0;4>M;++M)B=(h=V[0+4*M]+3)+V[3+4*M],q=V[1+4*M]+V[2+4*M],W=V[1+4*M]-V[2+4*M],K=h-V[3+4*M],w[P+0]=B+q>>3,w[P+16]=K+W>>3,w[P+32]=B-q>>3,w[P+48]=K-W>>3,P+=64}function gs(h,m,w){var P,M=m-32,V=Ri,B=255-h[M-1];for(P=0;P<w;++P){var q,W=V,K=B+h[m-1];for(q=0;q<w;++q)h[m+q]=W[K+h[M+q]];m+=32}}function df(h,m){gs(h,m,4)}function Sc(h,m){gs(h,m,8)}function pf(h,m){gs(h,m,16)}function vs(h,m){var w;for(w=0;16>w;++w)r(h,m+32*w,h,m-32,16)}function La(h,m){var w;for(w=16;0<w;--w)i(h,m,h[m-1],16),m+=32}function Oa(h,m,w){var P;for(P=0;16>P;++P)i(m,w+32*P,h,16)}function Zs(h,m){var w,P=16;for(w=0;16>w;++w)P+=h[m-1+32*w]+h[m+w-32];Oa(P>>5,h,m)}function vn(h,m){var w,P=8;for(w=0;16>w;++w)P+=h[m-1+32*w];Oa(P>>4,h,m)}function Ec(h,m){var w,P=8;for(w=0;16>w;++w)P+=h[m+w-32];Oa(P>>4,h,m)}function uu(h,m){Oa(128,h,m)}function gt(h,m,w){return h+2*m+w+2>>2}function eo(h,m){var w,P=m-32;for(P=new Uint8Array([gt(h[P-1],h[P+0],h[P+1]),gt(h[P+0],h[P+1],h[P+2]),gt(h[P+1],h[P+2],h[P+3]),gt(h[P+2],h[P+3],h[P+4])]),w=0;4>w;++w)r(h,m+32*w,P,0,P.length)}function mf(h,m){var w=h[m-1],P=h[m-1+32],M=h[m-1+64],V=h[m-1+96];Ne(h,m+0,16843009*gt(h[m-1-32],w,P)),Ne(h,m+32,16843009*gt(w,P,M)),Ne(h,m+64,16843009*gt(P,M,V)),Ne(h,m+96,16843009*gt(M,V,V))}function Yi(h,m){var w,P=4;for(w=0;4>w;++w)P+=h[m+w-32]+h[m-1+32*w];for(P>>=3,w=0;4>w;++w)i(h,m+32*w,P,4)}function xc(h,m){var w=h[m-1+0],P=h[m-1+32],M=h[m-1+64],V=h[m-1-32],B=h[m+0-32],q=h[m+1-32],W=h[m+2-32],K=h[m+3-32];h[m+0+96]=gt(P,M,h[m-1+96]),h[m+1+96]=h[m+0+64]=gt(w,P,M),h[m+2+96]=h[m+1+64]=h[m+0+32]=gt(V,w,P),h[m+3+96]=h[m+2+64]=h[m+1+32]=h[m+0+0]=gt(B,V,w),h[m+3+64]=h[m+2+32]=h[m+1+0]=gt(q,B,V),h[m+3+32]=h[m+2+0]=gt(W,q,B),h[m+3+0]=gt(K,W,q)}function Ci(h,m){var w=h[m+1-32],P=h[m+2-32],M=h[m+3-32],V=h[m+4-32],B=h[m+5-32],q=h[m+6-32],W=h[m+7-32];h[m+0+0]=gt(h[m+0-32],w,P),h[m+1+0]=h[m+0+32]=gt(w,P,M),h[m+2+0]=h[m+1+32]=h[m+0+64]=gt(P,M,V),h[m+3+0]=h[m+2+32]=h[m+1+64]=h[m+0+96]=gt(M,V,B),h[m+3+32]=h[m+2+64]=h[m+1+96]=gt(V,B,q),h[m+3+64]=h[m+2+96]=gt(B,q,W),h[m+3+96]=gt(q,W,W)}function Ma(h,m){var w=h[m-1+0],P=h[m-1+32],M=h[m-1+64],V=h[m-1-32],B=h[m+0-32],q=h[m+1-32],W=h[m+2-32],K=h[m+3-32];h[m+0+0]=h[m+1+64]=V+B+1>>1,h[m+1+0]=h[m+2+64]=B+q+1>>1,h[m+2+0]=h[m+3+64]=q+W+1>>1,h[m+3+0]=W+K+1>>1,h[m+0+96]=gt(M,P,w),h[m+0+64]=gt(P,w,V),h[m+0+32]=h[m+1+96]=gt(w,V,B),h[m+1+32]=h[m+2+96]=gt(V,B,q),h[m+2+32]=h[m+3+96]=gt(B,q,W),h[m+3+32]=gt(q,W,K)}function cu(h,m){var w=h[m+0-32],P=h[m+1-32],M=h[m+2-32],V=h[m+3-32],B=h[m+4-32],q=h[m+5-32],W=h[m+6-32],K=h[m+7-32];h[m+0+0]=w+P+1>>1,h[m+1+0]=h[m+0+64]=P+M+1>>1,h[m+2+0]=h[m+1+64]=M+V+1>>1,h[m+3+0]=h[m+2+64]=V+B+1>>1,h[m+0+32]=gt(w,P,M),h[m+1+32]=h[m+0+96]=gt(P,M,V),h[m+2+32]=h[m+1+96]=gt(M,V,B),h[m+3+32]=h[m+2+96]=gt(V,B,q),h[m+3+64]=gt(B,q,W),h[m+3+96]=gt(q,W,K)}function Fa(h,m){var w=h[m-1+0],P=h[m-1+32],M=h[m-1+64],V=h[m-1+96];h[m+0+0]=w+P+1>>1,h[m+2+0]=h[m+0+32]=P+M+1>>1,h[m+2+32]=h[m+0+64]=M+V+1>>1,h[m+1+0]=gt(w,P,M),h[m+3+0]=h[m+1+32]=gt(P,M,V),h[m+3+32]=h[m+1+64]=gt(M,V,V),h[m+3+64]=h[m+2+64]=h[m+0+96]=h[m+1+96]=h[m+2+96]=h[m+3+96]=V}function ja(h,m){var w=h[m-1+0],P=h[m-1+32],M=h[m-1+64],V=h[m-1+96],B=h[m-1-32],q=h[m+0-32],W=h[m+1-32],K=h[m+2-32];h[m+0+0]=h[m+2+32]=w+B+1>>1,h[m+0+32]=h[m+2+64]=P+w+1>>1,h[m+0+64]=h[m+2+96]=M+P+1>>1,h[m+0+96]=V+M+1>>1,h[m+3+0]=gt(q,W,K),h[m+2+0]=gt(B,q,W),h[m+1+0]=h[m+3+32]=gt(w,B,q),h[m+1+32]=h[m+3+64]=gt(P,w,B),h[m+1+64]=h[m+3+96]=gt(M,P,w),h[m+1+96]=gt(V,M,P)}function Tc(h,m){var w;for(w=0;8>w;++w)r(h,m+32*w,h,m-32,8)}function ys(h,m){var w;for(w=0;8>w;++w)i(h,m,h[m-1],8),m+=32}function Ni(h,m,w){var P;for(P=0;8>P;++P)i(m,w+32*P,h,8)}function ws(h,m){var w,P=8;for(w=0;8>w;++w)P+=h[m+w-32]+h[m-1+32*w];Ni(P>>4,h,m)}function hu(h,m){var w,P=4;for(w=0;8>w;++w)P+=h[m+w-32];Ni(P>>3,h,m)}function Gt(h,m){var w,P=4;for(w=0;8>w;++w)P+=h[m-1+32*w];Ni(P>>3,h,m)}function fu(h,m){Ni(128,h,m)}function Va(h,m,w){var P=h[m-w],M=h[m+0],V=3*(M-P)+Tv[1020+h[m-2*w]-h[m+w]],B=Lp[112+(V+4>>3)];h[m-w]=Ri[255+P+Lp[112+(V+3>>3)]],h[m+0]=Ri[255+M-B]}function du(h,m,w,P){var M=h[m+0],V=h[m+w];return Xi[255+h[m-2*w]-h[m-w]]>P||Xi[255+V-M]>P}function pu(h,m,w,P){return 4*Xi[255+h[m-w]-h[m+0]]+Xi[255+h[m-2*w]-h[m+w]]<=P}function mu(h,m,w,P,M){var V=h[m-3*w],B=h[m-2*w],q=h[m-w],W=h[m+0],K=h[m+w],le=h[m+2*w],ge=h[m+3*w];return 4*Xi[255+q-W]+Xi[255+B-K]>P?0:Xi[255+h[m-4*w]-V]<=M&&Xi[255+V-B]<=M&&Xi[255+B-q]<=M&&Xi[255+ge-le]<=M&&Xi[255+le-K]<=M&&Xi[255+K-W]<=M}function Bo(h,m,w,P){var M=2*P+1;for(P=0;16>P;++P)pu(h,m+P,w,M)&&Va(h,m+P,w)}function Di(h,m,w,P){var M=2*P+1;for(P=0;16>P;++P)pu(h,m+P*w,1,M)&&Va(h,m+P*w,1)}function ir(h,m,w,P){var M;for(M=3;0<M;--M)Bo(h,m+=4*w,w,P)}function kc(h,m,w,P){var M;for(M=3;0<M;--M)Di(h,m+=4,w,P)}function to(h,m,w,P,M,V,B,q){for(V=2*V+1;0<M--;){if(mu(h,m,w,V,B))if(du(h,m,w,q))Va(h,m,w);else{var W=h,K=m,le=w,ge=W[K-2*le],ve=W[K-le],pe=W[K+0],Ie=W[K+le],xe=W[K+2*le],ue=27*(Ae=Tv[1020+3*(pe-ve)+Tv[1020+ge-Ie]])+63>>7,he=18*Ae+63>>7,Ae=9*Ae+63>>7;W[K-3*le]=Ri[255+W[K-3*le]+Ae],W[K-2*le]=Ri[255+ge+he],W[K-le]=Ri[255+ve+ue],W[K+0]=Ri[255+pe-ue],W[K+le]=Ri[255+Ie-he],W[K+2*le]=Ri[255+xe-Ae]}m+=P}}function wr(h,m,w,P,M,V,B,q){for(V=2*V+1;0<M--;){if(mu(h,m,w,V,B))if(du(h,m,w,q))Va(h,m,w);else{var W=h,K=m,le=w,ge=W[K-le],ve=W[K+0],pe=W[K+le],Ie=Lp[112+((xe=3*(ve-ge))+4>>3)],xe=Lp[112+(xe+3>>3)],ue=Ie+1>>1;W[K-2*le]=Ri[255+W[K-2*le]+ue],W[K-le]=Ri[255+ge+xe],W[K+0]=Ri[255+ve-Ie],W[K+le]=Ri[255+pe-ue]}m+=P}}function Ba(h,m,w,P,M,V){to(h,m,w,1,16,P,M,V)}function _s(h,m,w,P,M,V){to(h,m,1,w,16,P,M,V)}function Ua(h,m,w,P,M,V){var B;for(B=3;0<B;--B)wr(h,m+=4*w,w,1,16,P,M,V)}function Uo(h,m,w,P,M,V){var B;for(B=3;0<B;--B)wr(h,m+=4,1,w,16,P,M,V)}function za(h,m,w,P,M,V,B,q){to(h,m,M,1,8,V,B,q),to(w,P,M,1,8,V,B,q)}function gu(h,m,w,P,M,V,B,q){to(h,m,1,M,8,V,B,q),to(w,P,1,M,8,V,B,q)}function qa(h,m,w,P,M,V,B,q){wr(h,m+4*M,M,1,8,V,B,q),wr(w,P+4*M,M,1,8,V,B,q)}function no(h,m,w,P,M,V,B,q){wr(h,m+4,1,M,8,V,B,q),wr(w,P+4,1,M,8,V,B,q)}function zo(){this.ba=new yr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new hn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ha(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Wa(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $,this.yc=new I}function Ac(){this.xb=this.a=0,this.l=new Mo,this.ca=new yr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Wa,this.ab=0,this.gc=o(4,qo),this.Oc=0}function bs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ro(h,m,w,P,M,V,B){for(h=h==null?0:h[m+0],m=0;m<B;++m)M[V+m]=h+w[P+m]&255,h=M[V+m]}function $a(h,m,w,P,M,V,B){var q;if(h==null)ro(null,null,w,P,M,V,B);else for(q=0;q<B;++q)M[V+q]=h[m+q]+w[P+q]&255}function Dr(h,m,w,P,M,V,B){if(h==null)ro(null,null,w,P,M,V,B);else{var q,W=h[m+0],K=W,le=W;for(q=0;q<B;++q)K=le+(W=h[m+q])-K,le=w[P+q]+(-256&K?0>K?0:255:K)&255,K=W,M[V+q]=le}}function Ya(h,m,w,P){var M=m.width,V=m.o;if(e(h!=null&&m!=null),0>w||0>=P||w+P>V)return null;if(!h.Cc){if(h.ga==null){var B;if(h.ga=new bs,(B=h.ga==null)||(B=m.width*m.o,e(h.Gb.length==0),h.Gb=s(B),h.Uc=0,h.Gb==null?B=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,B=1),B=!B),!B){B=h.ga;var q=h.Fa,W=h.P,K=h.qc,le=h.mb,ge=h.nb,ve=W+1,pe=K-1,Ie=B.l;if(e(q!=null&&le!=null&&m!=null),Za[0]=null,Za[1]=ro,Za[2]=$a,Za[3]=Dr,B.ca=le,B.tb=ge,B.c=m.width,B.i=m.height,e(0<B.c&&0<B.i),1>=K)m=0;else if(B.$a=q[W+0]>>0&3,B.Z=q[W+0]>>2&3,B.Lc=q[W+0]>>4&3,W=q[W+0]>>6&3,0>B.$a||1<B.$a||4<=B.Z||1<B.Lc||W)m=0;else if(Ie.put=Ir,Ie.ac=Qn,Ie.bc=Pi,Ie.ma=B,Ie.width=m.width,Ie.height=m.height,Ie.Da=m.Da,Ie.v=m.v,Ie.va=m.va,Ie.j=m.j,Ie.o=m.o,B.$a)e:{e(B.$a==1),m=jn();t:for(;;){if(m==null){m=0;break e}if(e(B!=null),B.mc=m,m.c=B.c,m.i=B.i,m.l=B.l,m.l.ma=B,m.l.width=B.c,m.l.height=B.i,m.a=0,H(m.m,q,ve,pe),!Ii(B.c,B.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&ps(m.s)?(B.ic=1,q=m.c*m.i,m.Ta=null,m.Ua=0,m.V=s(q),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(B.ic=0,m=Gs(m,B.c)),!m))break t;m=1;break e}B.mc=null,m=0}else m=pe>=B.c*B.i;B=!m}if(B)return null;h.ga.Lc!=1?h.Ga=0:P=V-w}e(h.ga!=null),e(w+P<=V);e:{if(m=(q=h.ga).c,V=q.l.o,q.$a==0){if(ve=h.rc,pe=h.Vc,Ie=h.Fa,W=h.P+1+w*m,K=h.mb,le=h.nb+w*m,e(W<=h.P+h.qc),q.Z!=0)for(e(Za[q.Z]!=null),B=0;B<P;++B)Za[q.Z](ve,pe,Ie,W,K,le,m),ve=K,pe=le,le+=m,W+=m;else for(B=0;B<P;++B)r(K,le,Ie,W,m),ve=K,pe=le,le+=m,W+=m;h.rc=ve,h.Vc=pe}else{if(e(q.mc!=null),m=w+P,e((B=q.mc)!=null),e(m<=B.i),B.C>=m)m=1;else if(q.ic||de(),q.ic){q=B.V,ve=B.Ba,pe=B.c;var xe=B.i,ue=(Ie=1,W=B.$/pe,K=B.$%pe,le=B.m,ge=B.s,B.$),he=pe*xe,Ae=pe*m,Re=ge.wc,Pe=ue<Ae?Cn(ge,K,W):null;e(ue<=he),e(m<=xe),e(ps(ge));t:for(;;){for(;!le.h&&ue<Ae;){if(K&Re||(Pe=Cn(ge,K,W)),e(Pe!=null),ce(le),256>(xe=Jn(Pe.G[0],Pe.H[0],le)))q[ve+ue]=xe,++ue,++K>=pe&&(K=0,++W<=m&&!(W%16)&&ci(B,W));else{if(!(280>xe)){Ie=0;break t}xe=ui(xe-256,le);var Ke,ze=Jn(Pe.G[4],Pe.H[4],le);if(ce(le),!(ue>=(ze=Cr(pe,ze=ui(ze,le)))&&he-ue>=xe)){Ie=0;break t}for(Ke=0;Ke<xe;++Ke)q[ve+ue+Ke]=q[ve+ue+Ke-ze];for(ue+=xe,K+=xe;K>=pe;)K-=pe,++W<=m&&!(W%16)&&ci(B,W);ue<Ae&&K&Re&&(Pe=Cn(ge,K,W))}e(le.h==ee(le))}ci(B,W>m?m:W);break t}!Ie||le.h&&ue<he?(Ie=0,B.a=le.h?5:3):B.$=ue,m=Ie}else m=Yr(B,B.V,B.Ba,B.c,B.i,m,Ks);if(!m){P=0;break e}}w+P>=V&&(h.Cc=1),P=1}if(!P)return null;if(h.Cc&&((P=h.ga)!=null&&(P.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+w*M}function v(h,m,w,P,M,V){for(;0<M--;){var B,q=h,W=m+(w?1:0),K=h,le=m+(w?0:3);for(B=0;B<P;++B){var ge=K[le+4*B];ge!=255&&(ge*=32897,q[W+4*B+0]=q[W+4*B+0]*ge>>23,q[W+4*B+1]=q[W+4*B+1]*ge>>23,q[W+4*B+2]=q[W+4*B+2]*ge>>23)}m+=V}}function O(h,m,w,P,M){for(;0<P--;){var V;for(V=0;V<w;++V){var B=h[m+2*V+0],q=15&(K=h[m+2*V+1]),W=4369*q,K=(240&K|K>>4)*W>>16;h[m+2*V+0]=(240&B|B>>4)*W>>16&240|(15&B|B<<4)*W>>16>>4&15,h[m+2*V+1]=240&K|q}m+=M}}function Z(h,m,w,P,M,V,B,q){var W,K,le=255;for(K=0;K<M;++K){for(W=0;W<P;++W){var ge=h[m+W];V[B+4*W]=ge,le&=ge}m+=w,B+=q}return le!=255}function ae(h,m,w,P,M){var V;for(V=0;V<M;++V)w[P+V]=h[m+V]>>8}function de(){Ji=v,fn=O,dn=Z,Bn=ae}function Te(h,m,w){k[h]=function(P,M,V,B,q,W,K,le,ge,ve,pe,Ie,xe,ue,he,Ae,Re){var Pe,Ke=Re-1>>1,ze=q[W+0]|K[le+0]<<16,ut=ge[ve+0]|pe[Ie+0]<<16;e(P!=null);var We=3*ze+ut+131074>>2;for(m(P[M+0],255&We,We>>16,xe,ue),V!=null&&(We=3*ut+ze+131074>>2,m(V[B+0],255&We,We>>16,he,Ae)),Pe=1;Pe<=Ke;++Pe){var $t=q[W+Pe]|K[le+Pe]<<16,Zt=ge[ve+Pe]|pe[Ie+Pe]<<16,Bt=ze+$t+ut+Zt+524296,Dt=Bt+2*($t+ut)>>3;We=Dt+ze>>1,ze=(Bt=Bt+2*(ze+Zt)>>3)+$t>>1,m(P[M+2*Pe-1],255&We,We>>16,xe,ue+(2*Pe-1)*w),m(P[M+2*Pe-0],255&ze,ze>>16,xe,ue+(2*Pe-0)*w),V!=null&&(We=Bt+ut>>1,ze=Dt+Zt>>1,m(V[B+2*Pe-1],255&We,We>>16,he,Ae+(2*Pe-1)*w),m(V[B+2*Pe+0],255&ze,ze>>16,he,Ae+(2*Pe+0)*w)),ze=$t,ut=Zt}1&Re||(We=3*ze+ut+131074>>2,m(P[M+Re-1],255&We,We>>16,xe,ue+(Re-1)*w),V!=null&&(We=3*ut+ze+131074>>2,m(V[B+Re-1],255&We,We>>16,he,Ae+(Re-1)*w)))}}function Le(){Zi[Op]=xC,Zi[Mp]=w_,Zi[p_]=TC,Zi[Fp]=__,Zi[jp]=b_,Zi[kv]=S_,Zi[m_]=kC,Zi[Av]=w_,Zi[Pv]=__,Zi[Vp]=b_,Zi[Iv]=S_}function qe(h){return h&-16384?0>h?0:255:h>>AC}function f(h,m){return qe((19077*h>>8)+(26149*m>>8)-14234)}function E(h,m,w){return qe((19077*h>>8)-(6419*m>>8)-(13320*w>>8)+8708)}function C(h,m){return qe((19077*h>>8)+(33050*m>>8)-17685)}function z(h,m,w,P,M){P[M+0]=f(h,w),P[M+1]=E(h,m,w),P[M+2]=C(h,m)}function fe(h,m,w,P,M){P[M+0]=C(h,m),P[M+1]=E(h,m,w),P[M+2]=f(h,w)}function ye(h,m,w,P,M){var V=E(h,m,w);m=V<<3&224|C(h,m)>>3,P[M+0]=248&f(h,w)|V>>5,P[M+1]=m}function Oe(h,m,w,P,M){var V=240&C(h,m)|15;P[M+0]=240&f(h,w)|E(h,m,w)>>4,P[M+1]=V}function bt(h,m,w,P,M){P[M+0]=255,z(h,m,w,P,M+1)}function Nt(h,m,w,P,M){fe(h,m,w,P,M),P[M+3]=255}function St(h,m,w,P,M){z(h,m,w,P,M),P[M+3]=255}function Kt(h,m){return 0>h?0:h>m?m:h}function an(h,m,w){k[h]=function(P,M,V,B,q,W,K,le,ge){for(var ve=le+(-2&ge)*w;le!=ve;)m(P[M+0],V[B+0],q[W+0],K,le),m(P[M+1],V[B+0],q[W+0],K,le+w),M+=2,++B,++W,le+=2*w;1&ge&&m(P[M+0],V[B+0],q[W+0],K,le)}}function Ss(h,m,w){return w==0?h==0?m==0?6:5:m==0?4:0:w}function _r(h,m,w,P,M){switch(h>>>30){case 3:$o(m,w,P,M,0);break;case 2:Vn(m,w,P,M);break;case 1:Jr(m,w,P,M)}}function io(h,m){var w,P,M=m.M,V=m.Nb,B=h.oc,q=h.pc+40,W=h.oc,K=h.pc+584,le=h.oc,ge=h.pc+600;for(w=0;16>w;++w)B[q+32*w-1]=129;for(w=0;8>w;++w)W[K+32*w-1]=129,le[ge+32*w-1]=129;for(0<M?B[q-1-32]=W[K-1-32]=le[ge-1-32]=129:(i(B,q-32-1,127,21),i(W,K-32-1,127,9),i(le,ge-32-1,127,9)),P=0;P<h.za;++P){var ve=m.ya[m.aa+P];if(0<P){for(w=-1;16>w;++w)r(B,q+32*w-4,B,q+32*w+12,4);for(w=-1;8>w;++w)r(W,K+32*w-4,W,K+32*w+4,4),r(le,ge+32*w-4,le,ge+32*w+4,4)}var pe=h.Gd,Ie=h.Hd+P,xe=ve.ad,ue=ve.Hc;if(0<M&&(r(B,q-32,pe[Ie].y,0,16),r(W,K-32,pe[Ie].f,0,8),r(le,ge-32,pe[Ie].ea,0,8)),ve.Za){var he=B,Ae=q-32+16;for(0<M&&(P>=h.za-1?i(he,Ae,pe[Ie].y[15],4):r(he,Ae,pe[Ie+1].y,0,4)),w=0;4>w;w++)he[Ae+128+w]=he[Ae+256+w]=he[Ae+384+w]=he[Ae+0+w];for(w=0;16>w;++w,ue<<=2)he=B,Ae=q+x_[w],Es[ve.Ob[w]](he,Ae),_r(ue,xe,16*+w,he,Ae)}else if(he=Ss(P,M,ve.Ob[0]),Xa[he](B,q),ue!=0)for(w=0;16>w;++w,ue<<=2)_r(ue,xe,16*+w,B,q+x_[w]);for(w=ve.Gc,he=Ss(P,M,ve.Dd),Go[he](W,K),Go[he](le,ge),ue=xe,he=W,Ae=K,255&(ve=w>>0)&&(170&ve?_f(ue,256,he,Ae):Ki(ue,256,he,Ae)),ve=le,ue=ge,255&(w>>=8)&&(170&w?_f(xe,320,ve,ue):Ki(xe,320,ve,ue)),M<h.Ub-1&&(r(pe[Ie].y,0,B,q+480,16),r(pe[Ie].f,0,W,K+224,8),r(pe[Ie].ea,0,le,ge+224,8)),w=8*V*h.B,pe=h.sa,Ie=h.ta+16*P+16*V*h.R,xe=h.qa,ve=h.ra+8*P+w,ue=h.Ha,he=h.Ia+8*P+w,w=0;16>w;++w)r(pe,Ie+w*h.R,B,q+32*w,16);for(w=0;8>w;++w)r(xe,ve+w*h.B,W,K+32*w,8),r(ue,he+w*h.B,le,ge+32*w,8)}}function so(h,m,w,P,M,V,B,q,W){var K=[0],le=[0],ge=0,ve=W!=null?W.kd:0,pe=W??new Ha;if(h==null||12>w)return 7;pe.data=h,pe.w=m,pe.ha=w,m=[m],w=[w],pe.gb=[pe.gb];e:{var Ie=m,xe=w,ue=pe.gb;if(e(h!=null),e(xe!=null),e(ue!=null),ue[0]=0,12<=xe[0]&&!n(h,Ie[0],"RIFF")){if(n(h,Ie[0]+8,"WEBP")){ue=3;break e}var he=Ve(h,Ie[0]+4);if(12>he||4294967286<he){ue=3;break e}if(ve&&he>xe[0]-8){ue=7;break e}ue[0]=he,Ie[0]+=12,xe[0]-=12}ue=0}if(ue!=0)return ue;for(he=0<pe.gb[0],w=w[0];;){e:{var Ae=h;xe=m,ue=w;var Re=K,Pe=le,Ke=Ie=[0];if((We=ge=[ge])[0]=0,8>ue[0])ue=7;else{if(!n(Ae,xe[0],"VP8X")){if(Ve(Ae,xe[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var ze=Ve(Ae,xe[0]+8),ut=1+Be(Ae,xe[0]+12);if(2147483648<=ut*(Ae=1+Be(Ae,xe[0]+15))){ue=3;break e}Ke!=null&&(Ke[0]=ze),Re!=null&&(Re[0]=ut),Pe!=null&&(Pe[0]=Ae),xe[0]+=18,ue[0]-=18,We[0]=1}ue=0}}if(ge=ge[0],Ie=Ie[0],ue!=0)return ue;if(xe=!!(2&Ie),!he&&ge)return 3;if(V!=null&&(V[0]=!!(16&Ie)),B!=null&&(B[0]=xe),q!=null&&(q[0]=0),B=K[0],Ie=le[0],ge&&xe&&W==null){ue=0;break}if(4>w){ue=7;break}if(he&&ge||!he&&!ge&&!n(h,m[0],"ALPH")){w=[w],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{ze=h,ue=m,he=w;var We=pe.gb;Re=pe.na,Pe=pe.P,Ke=pe.Sa,ut=22,e(ze!=null),e(he!=null),Ae=ue[0];var $t=he[0];for(e(Re!=null),e(Ke!=null),Re[0]=null,Pe[0]=null,Ke[0]=0;;){if(ue[0]=Ae,he[0]=$t,8>$t){ue=7;break e}var Zt=Ve(ze,Ae+4);if(4294967286<Zt){ue=3;break e}var Bt=8+Zt+1&-2;if(ut+=Bt,0<We&&ut>We){ue=3;break e}if(!n(ze,Ae,"VP8 ")||!n(ze,Ae,"VP8L")){ue=0;break e}if($t[0]<Bt){ue=7;break e}n(ze,Ae,"ALPH")||(Re[0]=ze,Pe[0]=Ae+8,Ke[0]=Zt),Ae+=Bt,$t-=Bt}}if(w=w[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],ue!=0)break}w=[w],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if(We=h,ue=m,he=w,Re=pe.gb[0],Pe=pe.Ja,Ke=pe.xa,ze=ue[0],Ae=!n(We,ze,"VP8 "),ut=!n(We,ze,"VP8L"),e(We!=null),e(he!=null),e(Pe!=null),e(Ke!=null),8>he[0])ue=7;else{if(Ae||ut){if(We=Ve(We,ze+4),12<=Re&&We>Re-12){ue=3;break e}if(ve&&We>he[0]-8){ue=7;break e}Pe[0]=We,ue[0]+=8,he[0]-=8,Ke[0]=ut}else Ke[0]=5<=he[0]&&We[ze+0]==47&&!(We[ze+4]>>5),Pe[0]=he[0];ue=0}if(w=w[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],m=m[0],ue!=0)break;if(4294967286<pe.Ja)return 3;if(q==null||xe||(q[0]=pe.xa?2:1),B=[B],Ie=[Ie],pe.xa){if(5>w){ue=7;break}q=B,ve=Ie,xe=V,h==null||5>w?h=0:5<=w&&h[m+0]==47&&!(h[m+4]>>5)?(he=[0],We=[0],Re=[0],H(Pe=new F,h,m,w),Xe(Pe,he,We,Re)?(q!=null&&(q[0]=he[0]),ve!=null&&(ve[0]=We[0]),xe!=null&&(xe[0]=Re[0]),h=1):h=0):h=0}else{if(10>w){ue=7;break}q=Ie,h==null||10>w||!su(h,m+3,w-3)?h=0:(ve=h[m+0]|h[m+1]<<8|h[m+2]<<16,xe=16383&(h[m+7]<<8|h[m+6]),h=16383&(h[m+9]<<8|h[m+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=pe.Ja||!xe||!h?h=0:(B&&(B[0]=xe),q&&(q[0]=h),h=1))}if(!h||(B=B[0],Ie=Ie[0],ge&&(K[0]!=B||le[0]!=Ie)))return 3;W!=null&&(W[0]=pe,W.offset=m-W.w,e(4294967286>m-W.w),e(W.offset==W.ha-w));break}return ue==0||ue==7&&ge&&W==null?(V!=null&&(V[0]|=pe.na!=null&&0<pe.na.length),P!=null&&(P[0]=B),M!=null&&(M[0]=Ie),0):ue}function gf(h,m,w){var P=m.width,M=m.height,V=0,B=0,q=P,W=M;if(m.Da=h!=null&&0<h.Da,m.Da&&(q=h.cd,W=h.bd,V=h.v,B=h.j,11>w||(V&=-2,B&=-2),0>V||0>B||0>=q||0>=W||V+q>P||B+W>M))return 0;if(m.v=V,m.j=B,m.va=V+q,m.o=B+W,m.U=q,m.T=W,m.da=h!=null&&0<h.da,m.da){if(!yt(q,W,w=[h.ib],V=[h.hb]))return 0;m.ib=w[0],m.hb=V[0]}return m.ob=h!=null&&h.ob,m.Kb=h==null||!h.Sd,m.da&&(m.ob=m.ib<3*P/4&&m.hb<3*M/4,m.Kb=0),1}function vf(h){if(h==null)return 2;if(11>h.S){var m=h.f.RGBA;m.fb+=(h.height-1)*m.A,m.A=-m.A}else m=h.f.kb,h=h.height,m.O+=(h-1)*m.fa,m.fa=-m.fa,m.N+=(h-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(h-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(h-1)*m.lb,m.lb=-m.lb);return 0}function Pc(h,m,w,P){if(P==null||0>=h||0>=m)return 2;if(w!=null){if(w.Da){var M=w.cd,V=w.bd,B=-2&w.v,q=-2&w.j;if(0>B||0>q||0>=M||0>=V||B+M>h||q+V>m)return 2;h=M,m=V}if(w.da){if(!yt(h,m,M=[w.ib],V=[w.hb]))return 2;h=M[0],m=V[0]}}P.width=h,P.height=m;e:{var W=P.width,K=P.height;if(h=P.S,0>=W||0>=K||!(h>=Op&&13>h))h=2;else{if(0>=P.Rd&&P.sd==null){B=V=M=m=0;var le=(q=W*T_[h])*K;if(11>h||(V=(K+1)/2*(m=(W+1)/2),h==12&&(B=(M=W)*K)),(K=s(le+2*V+B))==null){h=1;break e}P.sd=K,11>h?((W=P.f.RGBA).eb=K,W.fb=0,W.A=q,W.size=le):((W=P.f.kb).y=K,W.O=0,W.fa=q,W.Fd=le,W.f=K,W.N=0+le,W.Ab=m,W.Cd=V,W.ea=K,W.W=0+le+V,W.Db=m,W.Ed=V,h==12&&(W.F=K,W.J=0+le+2*V),W.Tc=B,W.lb=M)}if(m=1,M=P.S,V=P.width,B=P.height,M>=Op&&13>M)if(11>M)h=P.f.RGBA,m&=(q=Math.abs(h.A))*(B-1)+V<=h.size,m&=q>=V*T_[M],m&=h.eb!=null;else{h=P.f.kb,q=(V+1)/2,le=(B+1)/2,W=Math.abs(h.fa),K=Math.abs(h.Ab);var ge=Math.abs(h.Db),ve=Math.abs(h.lb),pe=ve*(B-1)+V;m&=W*(B-1)+V<=h.Fd,m&=K*(le-1)+q<=h.Cd,m=(m&=ge*(le-1)+q<=h.Ed)&W>=V&K>=q&ge>=q,m&=h.y!=null,m&=h.f!=null,m&=h.ea!=null,M==12&&(m&=ve>=V,m&=pe<=h.Tc,m&=h.F!=null)}else m=0;h=m?0:2}}return h!=0||w!=null&&w.fd&&(h=vf(P)),h}var br=64,Ic=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Cc=24,Nc=32,yf=8,fi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ue("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(h){return h},k.Predictor2=function(h,m,w){return m[w+0]},k.Predictor3=function(h,m,w){return m[w+1]},k.Predictor4=function(h,m,w){return m[w-1]},k.Predictor5=function(h,m,w){return He(He(h,m[w+1]),m[w+0])},k.Predictor6=function(h,m,w){return He(h,m[w-1])},k.Predictor7=function(h,m,w){return He(h,m[w+0])},k.Predictor8=function(h,m,w){return He(m[w-1],m[w+0])},k.Predictor9=function(h,m,w){return He(m[w+0],m[w+1])},k.Predictor10=function(h,m,w){return He(He(h,m[w-1]),He(m[w+0],m[w+1]))},k.Predictor11=function(h,m,w){var P=m[w+0];return 0>=_t(P>>24&255,h>>24&255,(m=m[w-1])>>24&255)+_t(P>>16&255,h>>16&255,m>>16&255)+_t(P>>8&255,h>>8&255,m>>8&255)+_t(255&P,255&h,255&m)?P:h},k.Predictor12=function(h,m,w){var P=m[w+0];return(it((h>>24&255)+(P>>24&255)-((m=m[w-1])>>24&255))<<24|it((h>>16&255)+(P>>16&255)-(m>>16&255))<<16|it((h>>8&255)+(P>>8&255)-(m>>8&255))<<8|it((255&h)+(255&P)-(255&m)))>>>0},k.Predictor13=function(h,m,w){var P=m[w-1];return(mt((h=He(h,m[w+0]))>>24&255,P>>24&255)<<24|mt(h>>16&255,P>>16&255)<<16|mt(h>>8&255,P>>8&255)<<8|mt(h>>0&255,P>>0&255))>>>0};var xv=k.PredictorAdd0;k.PredictorAdd1=st,Ue("Predictor2","PredictorAdd2"),Ue("Predictor3","PredictorAdd3"),Ue("Predictor4","PredictorAdd4"),Ue("Predictor5","PredictorAdd5"),Ue("Predictor6","PredictorAdd6"),Ue("Predictor7","PredictorAdd7"),Ue("Predictor8","PredictorAdd8"),Ue("Predictor9","PredictorAdd9"),Ue("Predictor10","PredictorAdd10"),Ue("Predictor11","PredictorAdd11"),Ue("Predictor12","PredictorAdd12"),Ue("Predictor13","PredictorAdd13");var wf=k.PredictorAdd2;At("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),At("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Ip,Gi=k.ColorIndexInverseTransform,Dc=k.MapARGB,Cp=k.VP8LColorIndexInverseTransformAlpha,Np=k.MapAlpha,Ga=k.VP8LPredictorsAdd=[];Ga.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var vu,di,Qr,Ka,Ho,Wo,Rc,$o,Vn,_f,Jr,Ki,Lc,Dp,bf,yu,wu,Qa,_u,Oc,bu,Ja,Sf,Qi,Ji,fn,dn,Bn,sr=s(511),Yo=s(2041),Ef=s(225),Mc=s(767),Rp=0,Tv=Yo,Lp=Ef,Ri=Mc,Xi=sr,Op=0,Mp=1,p_=2,Fp=3,jp=4,kv=5,m_=6,Av=7,Pv=8,Vp=9,Iv=10,cC=[2,3,7],hC=[3,3,11],g_=[280,256,256,256,40],fC=[0,1,1,1,0],dC=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],pC=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],mC=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],gC=8,Cv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Nv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],xf=null,vC=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],yC=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],v_=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],wC=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],_C=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],bC=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],SC=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Xa=[],Es=[],Go=[],EC=1,y_=2,Za=[],Zi=[];Te("UpsampleRgbLinePair",z,3),Te("UpsampleBgrLinePair",fe,3),Te("UpsampleRgbaLinePair",St,4),Te("UpsampleBgraLinePair",Nt,4),Te("UpsampleArgbLinePair",bt,4),Te("UpsampleRgba4444LinePair",Oe,2),Te("UpsampleRgb565LinePair",ye,2);var xC=k.UpsampleRgbLinePair,TC=k.UpsampleBgrLinePair,w_=k.UpsampleRgbaLinePair,__=k.UpsampleBgraLinePair,b_=k.UpsampleArgbLinePair,S_=k.UpsampleRgba4444LinePair,kC=k.UpsampleRgb565LinePair,Bp=16,Up=1<<Bp-1,Tf=-227,Dv=482,AC=6,E_=0,PC=s(256),IC=s(256),CC=s(256),NC=s(256),DC=s(Dv-Tf),RC=s(Dv-Tf);an("YuvToRgbRow",z,3),an("YuvToBgrRow",fe,3),an("YuvToRgbaRow",St,4),an("YuvToBgraRow",Nt,4),an("YuvToArgbRow",bt,4),an("YuvToRgba4444Row",Oe,2),an("YuvToRgb565Row",ye,2);var x_=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],zp=[0,2,8],LC=[8,7,6,4,4,2,2,2,1,1,1,1],OC=1;this.WebPDecodeRGBA=function(h,m,w,P,M){var V=Mp,B=new zo,q=new yr;B.ba=q,q.S=V,q.width=[q.width],q.height=[q.height];var W=q.width,K=q.height,le=new Ai;if(le==null||h==null)var ge=2;else e(le!=null),ge=so(h,m,w,le.width,le.height,le.Pd,le.Qd,le.format,null);if(ge!=0?W=0:(W!=null&&(W[0]=le.width[0]),K!=null&&(K[0]=le.height[0]),W=1),W){q.width=q.width[0],q.height=q.height[0],P!=null&&(P[0]=q.width),M!=null&&(M[0]=q.height);e:{if(P=new Mo,(M=new Ha).data=h,M.w=m,M.ha=w,M.kd=1,m=[0],e(M!=null),((h=so(M.data,M.w,M.ha,null,null,null,m,null,M))==0||h==7)&&m[0]&&(h=4),(m=h)==0){if(e(B!=null),P.data=M.data,P.w=M.w+M.offset,P.ha=M.ha-M.offset,P.put=Ir,P.ac=Qn,P.bc=Pi,P.ma=B,M.xa){if((h=jn())==null){B=1;break e}if(function(ve,pe){var Ie=[0],xe=[0],ue=[0];t:for(;;){if(ve==null)return 0;if(pe==null)return ve.a=2,0;if(ve.l=pe,ve.a=0,H(ve.m,pe.data,pe.w,pe.ha),!Xe(ve.m,Ie,xe,ue)){ve.a=3;break t}if(ve.xb=y_,pe.width=Ie[0],pe.height=xe[0],!Ii(Ie[0],xe[0],1,ve,null))break t;return 1}return e(ve.a!=0),0}(h,P)){if(P=(m=Pc(P.width,P.height,B.Oa,B.ba))==0){t:{P=h;n:for(;;){if(P==null){P=0;break t}if(e(P.s.yc!=null),e(P.s.Ya!=null),e(0<P.s.Wb),e((w=P.l)!=null),e((M=w.ma)!=null),P.xb!=0){if(P.ca=M.ba,P.tb=M.tb,e(P.ca!=null),!gf(M.Oa,w,Fp)){P.a=2;break n}if(!Gs(P,w.width)||w.da)break n;if((w.da||Mt(P.ca.S))&&de(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&de()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!ot(P.s.vb,P.s.Wa.Xa)){P.a=1;break n}P.xb=0}if(!Yr(P,P.V,P.Ba,P.c,P.i,w.o,Ca))break n;M.Dc=P.Ma,P=1;break t}e(P.a!=0),P=0}P=!P}P&&(m=h.a)}else m=h.a}else{if((h=new iu)==null){B=1;break e}if(h.Fa=M.na,h.P=M.P,h.qc=M.Sa,ou(h,P)){if((m=Pc(P.width,P.height,B.Oa,B.ba))==0){if(h.Aa=0,w=B.Oa,e((M=h)!=null),w!=null){if(0<(W=0>(W=w.Md)?0:100<W?255:255*W/100)){for(K=le=0;4>K;++K)12>(ge=M.pb[K]).lc&&(ge.ia=W*LC[0>ge.lc?0:ge.lc]>>3),le|=ge.ia;le&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=w.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}bc(h,P)||(m=h.a)}}else m=h.a}m==0&&B.Oa!=null&&B.Oa.fd&&(m=vf(B.ba))}B=m}V=B!=0?null:11>V?q.f.RGBA.eb:q.f.kb.y}else V=null;return V};var T_=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(k,D){for(var L="",x=0;x<4;x++)L+=String.fromCharCode(k[D++]);return L}function c(k,D){return(k[D+0]<<0|k[D+1]<<8|k[D+2]<<16)>>>0}function d(k,D){return(k[D+0]<<0|k[D+1]<<8|k[D+2]<<16|k[D+3]<<24)>>>0}new l;var g=[0],p=[0],_=[],S=new l,T=t,y=function(k,D){var L={},x=0,I=!1,R=0,$=0;if(L.frames=[],!function(G,ee,oe,ce){for(var me=0;me<ce;me++)if(G[ee+me]!=oe.charCodeAt(me))return!0;return!1}(k,D,"RIFF",4)){for(d(k,D+=4),D+=8;D<k.length;){var X=u(k,D),Q=d(k,D+=4);D+=4;var re=Q+(1&Q);switch(X){case"VP8 ":case"VP8L":L.frames[x]===void 0&&(L.frames[x]={}),(ie=L.frames[x]).src_off=I?$:D-8,ie.src_size=R+Q+8,x++,I&&(I=!1,R=0,$=0);break;case"VP8X":(ie=L.header={}).feature_flags=k[D];var H=D+4;ie.canvas_width=1+c(k,H),H+=3,ie.canvas_height=1+c(k,H),H+=3;break;case"ALPH":I=!0,R=re+8,$=D-8;break;case"ANIM":(ie=L.header).bgcolor=d(k,D),H=D+4,ie.loop_count=(Se=k)[(F=H)+0]<<0|Se[F+1]<<8,H+=2;break;case"ANMF":var te,ie;(ie=L.frames[x]={}).offset_x=2*c(k,D),D+=3,ie.offset_y=2*c(k,D),D+=3,ie.width=1+c(k,D),D+=3,ie.height=1+c(k,D),D+=3,ie.duration=c(k,D),D+=3,te=k[D++],ie.dispose=1&te,ie.blend=te>>1&1}X!="ANMF"&&(D+=re)}var Se,F;return L}}(T,0);y.response=T,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,A=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,g=[b.canvas_height],p=[b.canvas_width];for(var j=0;j<A.length&&A[j].blend!=0;j++);}var Y=A[0],J=S.WebPDecodeRGBA(T,Y.src_off,Y.src_size,p,g);Y.rgba=J,Y.imgwidth=p[0],Y.imgheight=g[0];for(var N=0;N<p[0]*g[0]*4;N++)_[N]=J[N];return this.width=p,this.height=g,this.data=_,this}(function(t){var e=function(){return typeof B2=="function"},n=function(g,p,_,S){var T=4,y=o;switch(S){case t.image_compression.FAST:T=1,y=s;break;case t.image_compression.MEDIUM:T=6,y=a;break;case t.image_compression.SLOW:T=9,y=l}g=r(g,p,_,y);var b=B2(g,{level:T});return t.__addimage__.arrayBufferToBinaryString(b)},r=function(g,p,_,S){for(var T,y,b,A=g.length/p,j=new Uint8Array(g.length+A),Y=c(),J=0;J<A;J+=1){if(b=J*p,T=g.subarray(b,b+p),S)j.set(S(T,_,y),b+J);else{for(var N,k=Y.length,D=[];N<k;N+=1)D[N]=Y[N](T,_,y);var L=d(D.concat());j.set(D[L],b+J)}y=T}return j},i=function(g){var p=Array.apply([],g);return p.unshift(0),p},s=function(g,p){var _,S=[],T=g.length;S[0]=1;for(var y=0;y<T;y+=1)_=g[y-p]||0,S[y+1]=g[y]-_+256&255;return S},o=function(g,p,_){var S,T=[],y=g.length;T[0]=2;for(var b=0;b<y;b+=1)S=_&&_[b]||0,T[b+1]=g[b]-S+256&255;return T},a=function(g,p,_){var S,T,y=[],b=g.length;y[0]=3;for(var A=0;A<b;A+=1)S=g[A-p]||0,T=_&&_[A]||0,y[A+1]=g[A]+256-(S+T>>>1)&255;return y},l=function(g,p,_){var S,T,y,b,A=[],j=g.length;A[0]=4;for(var Y=0;Y<j;Y+=1)S=g[Y-p]||0,T=_&&_[Y]||0,y=_&&_[Y-p]||0,b=u(S,T,y),A[Y+1]=g[Y]-b+256&255;return A},u=function(g,p,_){if(g===p&&p===_)return g;var S=Math.abs(p-_),T=Math.abs(g-_),y=Math.abs(g+p-_-_);return S<=T&&S<=y?g:T<=y?p:_},c=function(){return[i,s,o,a,l]},d=function(g){var p=g.map(function(_){return _.reduce(function(S,T){return S+Math.abs(T)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(g,p,_,S){var T,y,b,A,j,Y,J,N,k,D,L,x,I,R,$,X=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(b=new BU(g)).imgData,y=b.bits,T=b.colorSpace,j=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){k=(N=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,L=new Uint8Array(k*b.colors),D=new Uint8Array(k);var re,H=b.pixelBitlength-b.bits;for(R=0,$=0;R<k;R++){for(I=N[R],re=0;re<H;)L[$++]=I>>>re&255,re+=b.bits;D[R]=I>>>re&255}}if(b.bits===16){k=(N=new Uint32Array(b.decodePixels().buffer)).length,L=new Uint8Array(k*(32/b.pixelBitlength)*b.colors),D=new Uint8Array(k*(32/b.pixelBitlength)),x=b.colors>1,R=0,$=0;for(var te=0;R<k;)I=N[R++],L[$++]=I>>>0&255,x&&(L[$++]=I>>>16&255,I=N[R++],L[$++]=I>>>0&255),D[te++]=I>>>16&255;y=8}S!==t.image_compression.NONE&&e()?(g=n(L,b.width*b.colors,b.colors,S),J=n(D,b.width,1,S)):(g=L,J=D,X=void 0)}if(b.colorType===3&&(T=this.color_spaces.INDEXED,Y=b.palette,b.transparency.indexed)){var ie=b.transparency.indexed,Se=0;for(R=0,k=ie.length;R<k;++R)Se+=ie[R];if((Se/=255)===k-1&&ie.indexOf(0)!==-1)A=[ie.indexOf(0)];else if(Se!==k){for(N=b.decodePixels(),D=new Uint8Array(N.length),R=0,k=N.length;R<k;R++)D[R]=ie[N[R]];J=n(D,b.width,1)}}var F=function(G){var ee;switch(G){case t.image_compression.FAST:ee=11;break;case t.image_compression.MEDIUM:ee=13;break;case t.image_compression.SLOW:ee=14;break;default:ee=12}return ee}(S);return X===this.decode.FLATE_DECODE&&(Q="/Predictor "+F+" "),Q+="/Colors "+j+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(J&&this.__addimage__.isArrayBuffer(J)||this.__addimage__.isArrayBufferView(J))&&(J=this.__addimage__.arrayBufferToBinaryString(J)),{alias:_,data:g,index:p,filter:X,decodeParameters:Q,transparency:A,palette:Y,sMask:J,predictor:F,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:T}}}})(at.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new UU(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:a},c=new Hy(100).encode(u,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(at.API),As.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},As.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){un.log("bit decode error:"+n)}},As.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},As.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,u=this.palette[a];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},As.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},As.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=u}this.pos+=t}},As.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,u=(o>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},As.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},As.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},As.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new As(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new Hy(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(at.API),vx.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new vx(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},u=new Hy(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)}}(at.API),at.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,u=0;u<i;u+=4){var c=r[u],d=r[u+1],g=r[u+2],p=r[u+3];s[a++]=c,s[a++]=d,s[a++]=g,o[l++]=p}var _=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:_,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},at.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qc=at.API,Tm=qc.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,d=e.doKerning!==!1,g=0,p=t.length,_=0,S=a[0]||l,T=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?T.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(g=d&&nn(u[r])==="object"&&!isNaN(parseInt(u[r][_],10))?u[r][_]/c:0,T.push((a[r]||S)/l+g)),_=r;return T},dx=qc.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return qc.processArabic&&(t=qc.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Tm.apply(this,arguments).reduce(function(s,o){return s+o},0)},px=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},mx=function(t,e,n){n||(n={});var r,i,s,o,a,l,u,c=[],d=[c],g=n.textIndent||0,p=0,_=0,S=t.split(" "),T=Tm.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var y=Array(l).join(" "),b=[];S.map(function(j){(j=j.split(/\s*\n/)).length>1?b=b.concat(j.map(function(Y,J){return(J&&Y.length?`
`:"")+Y})):b.push(j[0])}),S=b,l=dx.apply(this,[y,n])}for(s=0,o=S.length;s<o;s++){var A=0;if(r=S[s],l&&r[0]==`
`&&(r=r.substr(1),A=1),g+p+(_=(i=Tm.apply(this,[r,n])).reduce(function(j,Y){return j+Y},0))>e||A){if(_>e){for(a=px.apply(this,[r,i,e-(g+p),e]),c.push(a.shift()),c=[a.pop()];a.length;)d.push([a.shift()]);_=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(j,Y){return j+Y},0)}else c=[r];d.push(c),g=_+l,p=T}else c.push(r),g+=p+_,p=T}return u=l?function(j,Y){return(Y?y:"")+j.join(" ")}:function(j){return j.join(" ")},d.map(u)},qc.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var d=this.internal.getFont(c.fontName,c.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,u=[];for(a=0,l=r.length;a<l;a++)u=u.concat(mx.apply(this,[r[a],o,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=t.__fontmetrics__.compress=function(d){var g,p,_,S,T=["{"];for(var y in d){if(g=d[y],isNaN(parseInt(y,10))?p="'"+y+"'":(y=parseInt(y,10),p=(p=s(y).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof g=="number")g<0?(_=s(g).slice(3),S="-"):(_=s(g).slice(2),S=""),_=S+_.slice(0,-1)+r[_.slice(-1)];else{if(nn(g)!=="object")throw new Error("Don't know what to do with value type "+nn(g)+".");_=o(g)}T.push(p+_)}return T.push("}"),T.join("")},a=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,p,_,S,T={},y=1,b=T,A=[],j="",Y="",J=d.length-1,N=1;N<J;N+=1)(S=d[N])=="'"?g?(_=g.join(""),g=void 0):g=[]:g?g.push(S):S=="{"?(A.push([b,_]),b={},_=void 0):S=="}"?((p=A.pop())[0][p[1]]=b,_=void 0,b=p[0]):S=="-"?y=-1:_===void 0?n.hasOwnProperty(S)?(j+=n[S],_=parseInt(j,16)*y,y=1,j=""):j+=S:n.hasOwnProperty(S)?(Y+=n[S],b[_]=parseInt(Y,16)*y,y=1,_=void 0,Y=""):Y+=S;return T},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var g=d.font,p=c.Unicode[g.postScriptName];p&&(g.metadata.Unicode={},g.metadata.Unicode.widths=p.widths,g.metadata.Unicode.kerning=p.kerning);var _=u.Unicode[g.postScriptName];_&&(g.metadata.Unicode.encoding=_,g.encoding=_.codePages[0])}])}(at.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(_d(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(at),function(t){function e(){return(pt.canvg?Promise.resolve(pt.canvg):zh(()=>import("./index.es-CS9MgvV0.js"),[],import.meta.url)).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}at.API.addSvgAsImage=function(n,r,i,s,o,a,l,u){if(isNaN(r)||isNaN(i))throw un.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw un.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=o;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(_){return _.fromString(d,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(_){return _.render(g)}).then(function(){p.addImage(c.toDataURL("image/jpeg",1),r,i,s,o,l,u)})}}(),at.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},at.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],u=0,c=0,d=0;function g(_,S){var T,y=!1;for(T=0;T<_.length;T+=1)_[T]===S&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(d=0;d<p;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(nn(t)==="object"){for(i in t)if(s=t[i],g(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var _,S=[];for(_ in n)n[_].explicitSet===!0&&(n[_].type==="name"?S.push("/"+_+" /"+n[_].value):S.push("/"+_+" "+n[_].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(at.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],d=0,g=s.length;d<g;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(u[4-a.length],a)}return c.join("")},r=function(s){var o,a,l,u,c,d,g;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],d=0,g=(a=Object.keys(s).sort(function(p,_){return p-_})).length;d<g;d++)o=a[d],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",_=0;_<g.length;_++)p+=String.fromCharCode(g[_]);var S=u();c({data:p,addLength1:!0,objectId:S}),l("endobj");var T=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:T}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Qc(a.fontName)),l("/FontFile2 "+S+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var b=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Qc(a.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+t.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+T+" 0 R"),l("/BaseFont /"+Qc(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,u=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,g="",p=0;p<d.length;p++)g+=String.fromCharCode(d[p]);var _=u();c({data:g,addLength1:!0,objectId:_}),l("endobj");var S=u();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var T=u();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+_+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Qc(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=u();for(var y=0;y<a.metadata.hmtx.widths.length;y++)a.metadata.hmtx.widths[y]=parseInt(a.metadata.hmtx.widths[y]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+Qc(a.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,u=s.y,c=s.options||{},d=s.mutex||{},g=d.pdfEscape,p=d.activeFontKey,_=d.fonts,S=p,T="",y=0,b="",A=_[S].encoding;if(_[S].encoding!=="Identity-H")return{text:a,x:l,y:u,options:c,mutex:d};for(b=a,S=p,Array.isArray(a)&&(b=a[0]),y=0;y<b.length;y+=1)_[S].metadata.hasOwnProperty("cmap")&&(o=_[S].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),o||b[y].charCodeAt(0)<256&&_[S].metadata.hasOwnProperty("Unicode")?T+=b[y]:T+="";var j="";return parseInt(S.slice(1))<14||A==="WinAnsiEncoding"?j=g(T,S).split("").map(function(Y){return Y.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(j=n(T,_[S])),d.isHex=!0,{text:j,x:l,y:u,options:c,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?a.push([i(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):a.push(i(Object.assign({},l,{text:o[u]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(at),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(at.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,u,c,d=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],_={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,A=0;this.__bidiEngine__={};var j=function(x){var I=x.charCodeAt(),R=I>>8,$=S[R];return $!==void 0?d[256*$+(255&I)]:R===252||R===253?"AL":y.test(R)?"L":R===8?"R":"N"},Y=function(x){for(var I,R=0;R<x.length;R++){if((I=j(x.charAt(R)))==="L")return!1;if(I==="R")return!0}return!1},J=function(x,I,R,$){var X,Q,re,H,te=I[$];switch(te){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(te="AN");break;case"AL":b=!0,te="R";break;case"WS":te="N";break;case"CS":$<1||$+1>=I.length||(X=R[$-1])!=="EN"&&X!=="AN"||(Q=I[$+1])!=="EN"&&Q!=="AN"?te="N":b&&(Q="AN"),te=Q===X?Q:"N";break;case"ES":te=(X=$>0?R[$-1]:"B")==="EN"&&$+1<I.length&&I[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&R[$-1]==="EN"){te="EN";break}if(b){te="N";break}for(re=$+1,H=I.length;re<H&&I[re]==="ET";)re++;te=re<H&&I[re]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(H=I.length,re=$+1;re<H&&I[re]==="NSM";)re++;if(re<H){var ie=x[$],Se=ie>=1425&&ie<=2303||ie===64286;if(X=I[re],Se&&(X==="R"||X==="AL")){te="R";break}}}te=$<1||(X=I[$-1])==="B"?"N":R[$-1];break;case"B":b=!1,i=!0,te=A;break;case"S":s=!0,te="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":te="N"}return te},N=function(x,I,R){var $=x.split("");return R&&k($,R,{hiLevel:A}),$.reverse(),I&&I.reverse(),$.join("")},k=function(x,I,R){var $,X,Q,re,H,te=-1,ie=x.length,Se=0,F=[],G=A?p:g,ee=[];for(b=!1,i=!1,s=!1,X=0;X<ie;X++)ee[X]=j(x[X]);for(Q=0;Q<ie;Q++){if(H=Se,F[Q]=J(x,ee,F,Q),$=240&(Se=G[H][_[F[Q]]]),Se&=15,I[Q]=re=G[Se][5],$>0)if($===16){for(X=te;X<Q;X++)I[X]=1;te=-1}else te=-1;if(G[Se][6])te===-1&&(te=Q);else if(te>-1){for(X=te;X<Q;X++)I[X]=re;te=-1}ee[Q]==="B"&&(I[Q]=0),R.hiLevel|=re}s&&function(oe,ce,me){for(var _e=0;_e<me;_e++)if(oe[_e]==="S"){ce[_e]=A;for(var we=_e-1;we>=0&&oe[we]==="WS";we--)ce[we]=A}}(ee,I,ie)},D=function(x,I,R,$,X){if(!(X.hiLevel<x)){if(x===1&&A===1&&!i)return I.reverse(),void(R&&R.reverse());for(var Q,re,H,te,ie=I.length,Se=0;Se<ie;){if($[Se]>=x){for(H=Se+1;H<ie&&$[H]>=x;)H++;for(te=Se,re=H-1;te<re;te++,re--)Q=I[te],I[te]=I[re],I[re]=Q,R&&(Q=R[te],R[te]=R[re],R[re]=Q);Se=H}Se++}}},L=function(x,I,R){var $=x.split(""),X={hiLevel:A};return R||(R=[]),k($,R,X),function(Q,re,H){if(H.hiLevel!==0&&c)for(var te,ie=0;ie<Q.length;ie++)re[ie]===1&&(te=T.indexOf(Q[ie]))>=0&&(Q[ie]=T[te+1])}($,R,X),D(2,$,I,R,X),D(1,$,I,R,X),$.join("")};return this.__bidiEngine__.doBidiReorder=function(x,I,R){if(function(X,Q){if(Q)for(var re=0;re<X.length;re++)Q[re]=re;a===void 0&&(a=Y(X)),u===void 0&&(u=Y(X))}(x,I),o||!l||u)if(o&&l&&a^u)A=a?1:0,x=N(x,I,R);else if(!o&&l&&u)A=a?1:0,x=L(x,I,R),x=N(x,I);else if(!o||a||l||u){if(o&&!l&&a^u)x=N(x,I),a?(A=0,x=L(x,I,R)):(A=1,x=L(x,I,R),x=N(x,I));else if(o&&a&&!l&&u)A=1,x=L(x,I,R),x=N(x,I);else if(!o&&!l&&a^u){var $=c;a?(A=1,x=L(x,I,R),A=0,c=!1,x=L(x,I,R),c=$):(A=0,x=L(x,I,R),x=N(x,I),A=1,c=!1,x=L(x,I,R),c=$,x=N(x,I))}}else A=0,x=L(x,I,R);else A=a?1:0,x=L(x,I,R);return x},this.__bidiEngine__.setOptions=function(x){x&&(o=x.isInputVisual,l=x.isOutputVisual,a=x.isInputRtl,u=x.isOutputRtl,c=x.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(at),at.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Kl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new nz(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new zU(this.contents),this.head=new HU(this),this.name=new KU(this),this.cmap=new kI(this),this.toUnicode={},this.hhea=new WU(this),this.maxp=new QU(this),this.hmtx=new JU(this),this.post=new YU(this),this.os2=new $U(this),this.loca=new tz(this),this.glyf=new XU(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,u;for(u=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var $s,Kl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),zU=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,u,c,d,g,p,_,S;for(S in p=Object.keys(n).length,l=Math.log(2),d=16*Math.floor(Math.log(p)/l),o=Math.floor(d/l),c=16*p-d,(i=new Kl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(d),i.writeShort(o),i.writeShort(c),s=16*p,u=i.pos+s,a=null,_=[],n)for(g=n[S],i.writeString(S),i.writeInt(t(g)),i.writeInt(u),i.writeInt(g.length),_=_.concat(g),S==="head"&&(a=u),u+=g.length;u%4;)_.push(0),u++;return i.write(_),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=AI.call(n);n.length%4;)n.push(0);for(s=new Kl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),qU={}.hasOwnProperty,No=function(t,e){for(var n in e)qU.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};$s=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var HU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return No(e,$s),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Kl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),yx=function(){function t(e,n){var r,i,s,o,a,l,u,c,d,g,p,_,S,T,y,b,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,s=function(){var j,Y;for(Y=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)Y.push(e.readUInt16());return Y}(),e.pos+=2,S=function(){var j,Y;for(Y=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)Y.push(e.readUInt16());return Y}(),u=function(){var j,Y;for(Y=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)Y.push(e.readUInt16());return Y}(),c=function(){var j,Y;for(Y=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)Y.push(e.readUInt16());return Y}(),i=(this.length-e.pos+this.offset)/2,a=function(){var j,Y;for(Y=[],l=j=0;0<=i?j<i:j>i;l=0<=i?++j:--j)Y.push(e.readUInt16());return Y}(),l=y=0,A=s.length;y<A;l=++y)for(T=s[l],r=b=_=S[l];_<=T?b<=T:b>=T;r=_<=T?++b:--b)c[l]===0?o=r+u[l]:(o=a[c[l]/2+(r-_)-(g-l)]||0)!==0&&(o+=u[l]),this.codeMap[r]=65535&o}e.pos=d}return t.encode=function(e,n){var r,i,s,o,a,l,u,c,d,g,p,_,S,T,y,b,A,j,Y,J,N,k,D,L,x,I,R,$,X,Q,re,H,te,ie,Se,F,G,ee,oe,ce,me,_e,we,Ne,De,Be;switch($=new Kl,o=Object.keys(e).sort(function(Ve,ot){return Ve-ot}),n){case"macroman":for(S=0,T=function(){var Ve=[];for(_=0;_<256;++_)Ve.push(0);return Ve}(),b={0:0},s={},X=0,te=o.length;X<te;X++)b[we=e[i=o[X]]]==null&&(b[we]=++S),s[i]={old:e[i],new:b[e[i]]},T[i]=b[e[i]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(T),{charMap:s,subtable:$.data,maxGlyphID:S+1};case"unicode":for(I=[],d=[],A=0,b={},r={},y=u=null,Q=0,ie=o.length;Q<ie;Q++)b[Y=e[i=o[Q]]]==null&&(b[Y]=++A),r[i]={old:Y,new:b[Y]},a=b[Y]-i,y!=null&&a===u||(y&&d.push(y),I.push(i),u=a),y=i;for(y&&d.push(y),d.push(65535),I.push(65535),L=2*(D=I.length),k=2*Math.pow(Math.log(D)/Math.LN2,2),g=Math.log(k/2)/Math.LN2,N=2*D-k,l=[],J=[],p=[],_=re=0,Se=I.length;re<Se;_=++re){if(x=I[_],c=d[_],x===65535){l.push(0),J.push(0);break}if(x-(R=r[x].new)>=32768)for(l.push(0),J.push(2*(p.length+D-_)),i=H=x;x<=c?H<=c:H>=c;i=x<=c?++H:--H)p.push(r[i].new);else l.push(R-x),J.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*D+2*p.length),$.writeUInt16(0),$.writeUInt16(L),$.writeUInt16(k),$.writeUInt16(g),$.writeUInt16(N),me=0,F=d.length;me<F;me++)i=d[me],$.writeUInt16(i);for($.writeUInt16(0),_e=0,G=I.length;_e<G;_e++)i=I[_e],$.writeUInt16(i);for(Ne=0,ee=l.length;Ne<ee;Ne++)a=l[Ne],$.writeUInt16(a);for(De=0,oe=J.length;De<oe;De++)j=J[De],$.writeUInt16(j);for(Be=0,ce=p.length;Be<ce;Be++)S=p[Be],$.writeUInt16(S);return{charMap:r,subtable:$.data,maxGlyphID:A+1}}},t}(),kI=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return No(e,$s),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new yx(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=yx.encode(n,r),(s=new Kl).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),WU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return No(e,$s),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),$U=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return No(e,$s),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),YU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return No(e,$s),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,u;for(u=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)u.push(n.readUInt32());return u}).call(this)}},e}(),GU=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},KU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return No(e,$s),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,u,c,d,g,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(u={},o=d=0,g=i.length;d<g;o=++d)s=i[o],n.pos=s.offset,c=n.readString(s.length),a=new GU(c,s),u[p=s.nameID]==null&&(u[p]=[]),u[s.nameID].push(a);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),QU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return No(e,$s),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),JU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return No(e,$s),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,u;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,d;for(d=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)d.push(n.readInt16());return d}(),this.widths=(function(){var c,d,g,p;for(p=[],c=0,d=(g=this.metrics).length;c<d;c++)o=g[c],p.push(o.advance);return p}).call(this),i=this.widths[this.widths.length-1],u=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),AI=[].slice,XU=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return No(e,$s),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,u,c,d,g;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new Kl(r.read(s))).readShort(),c=l.readShort(),g=l.readShort(),u=l.readShort(),d=l.readShort(),this.cache[n]=a===-1?new ez(l,c,g,u,d):new ZU(l,a,c,g,u,d),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,u;for(a=[],o=[],l=0,u=r.length;l<u;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),ZU=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),ez=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Kl(AI.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),tz=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return No(e,$s),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],u=this.offsets[a+1]-l;u>0&&(s+=u)}for(var c=new Array(4*i.length),d=0;d<i.length;++d)c[4*d+3]=255&i[d],c[4*d+2]=(65280&i[d])>>8,c[4*d+1]=(16711680&i[d])>>16,c[4*d]=(4278190080&i[d])>>24;return c},e}(),nz=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,u,c,d,g,p,_,S,T,y;for(i in r=kI.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},y=r.charMap)p[(l=y[i]).old]=l.new;for(_ in g=r.maxGlyphID,o)_ in p||(p[_]=g++);return c=function(b){var A,j;for(A in j={},b)j[b[A]]=A;return j}(p),d=Object.keys(c).sort(function(b,A){return b-A}),S=function(){var b,A,j;for(j=[],b=0,A=d.length;b<A;b++)a=d[b],j.push(c[a]);return j}(),s=this.font.glyf.encode(o,S,p),u=this.font.loca.encode(s.offsets,S),T={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},t}();at.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,u;for(u=[],a=0,l=n.length;a<l;a++)r=n[a],u.push(e.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const rz=Object.freeze(Object.defineProperty({__proto__:null,AcroFormAppearance:tt,AcroFormButton:ar,AcroFormCheckBox:Ed,AcroFormChoiceField:Vu,AcroFormComboBox:Uu,AcroFormEditBox:bd,AcroFormListBox:Bu,AcroFormPasswordField:xd,AcroFormPushButton:Sd,AcroFormRadioButton:zu,AcroFormTextField:Ml,GState:np,ShadingPattern:ml,TilingPattern:Lu,default:at,jsPDF:at},Symbol.toStringTag,{value:"Module"})),iz=async t=>{try{const e=await fetch("https://astrobalendar-backend.onrender.com/api/predict",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){let r="";try{const i=await e.json();r=i.detail||JSON.stringify(i),console.error("Backend error:",r),Ht.error(`Prediction failed: ${r}`)}catch{r="Unknown backend error",Ht.error(`Prediction failed: ${e.status}`)}throw new Error(`API call failed with status: ${e.status} - ${r}`)}return await e.json()}catch(e){throw console.error("Prediction error:",e),Ht.error("Prediction error: "+(e instanceof Error?e.message:"Unknown error occurred")),e}},PI=6048e5,sz=864e5,mv=6e4,gv=36e5,oz=1e3,wx=Symbol.for("constructDateFrom");function sn(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&wx in t?t[wx](e):t instanceof Date?new t.constructor(e):new Date(e)}function rt(t,e){return sn(e||t,t)}function Fs(t,e,n){const r=rt(t,n==null?void 0:n.in);return isNaN(e)?sn((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Us(t,e,n){const r=rt(t,n==null?void 0:n.in);if(isNaN(e))return sn(t,NaN);if(!e)return r;const i=r.getDate(),s=sn(t,r.getTime());s.setMonth(r.getMonth()+e+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function II(t,e,n){return sn(t,+rt(t)+e)}function az(t,e,n){return II(t,e*gv)}let lz={};function gc(){return lz}function ka(t,e){var a,l,u,c;const n=gc(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=rt(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function qh(t,e){return ka(t,{...e,weekStartsOn:1})}function CI(t,e){const n=rt(t,e==null?void 0:e.in),r=n.getFullYear(),i=sn(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=qh(i),o=sn(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=qh(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function a0(t){const e=rt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ia(t,...e){const n=sn.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function ic(t,e){const n=rt(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Hh(t,e,n){const[r,i]=Ia(n==null?void 0:n.in,t,e),s=ic(r),o=ic(i),a=+s-a0(s),l=+o-a0(o);return Math.round((a-l)/sz)}function uz(t,e){const n=CI(t,e),r=sn(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),qh(r)}function Y2(t,e,n){const r=rt(t,n==null?void 0:n.in);return r.setTime(r.getTime()+e*mv),r}function e_(t,e,n){return Us(t,e*3,n)}function cz(t,e,n){return II(t,e*1e3)}function l0(t,e,n){return Fs(t,e*7,n)}function ha(t,e,n){return Us(t,e*12,n)}function _x(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=sn.bind(null,i));const s=rt(i,r);(!n||n<s||isNaN(+s))&&(n=s)}),sn(r,n||NaN)}function bx(t,e){let n,r=e==null?void 0:e.in;return t.forEach(i=>{!r&&typeof i=="object"&&(r=sn.bind(null,i));const s=rt(i,r);(!n||n>s||isNaN(+s))&&(n=s)}),sn(r,n||NaN)}function hz(t,e,n){const[r,i]=Ia(n==null?void 0:n.in,t,e);return+ic(r)==+ic(i)}function fa(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function u0(t){return!(!fa(t)&&typeof t!="number"||isNaN(+rt(t)))}function c0(t,e,n){const[r,i]=Ia(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}function qu(t,e){const n=rt(t,e==null?void 0:e.in);return Math.trunc(n.getMonth()/3)+1}function h0(t,e,n){const[r,i]=Ia(n==null?void 0:n.in,t,e),s=r.getFullYear()-i.getFullYear(),o=qu(r)-qu(i);return s*4+o}function f0(t,e,n){const[r,i]=Ia(n==null?void 0:n.in,t,e);return r.getFullYear()-i.getFullYear()}function fz(t,e,n){const[r,i]=Ia(n==null?void 0:n.in,t,e),s=Sx(r,i),o=Math.abs(Hh(r,i));r.setDate(r.getDate()-s*o);const a=+(Sx(r,i)===-s),l=s*(o-a);return l===0?0:l}function Sx(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function NI(t,e){const n=rt(t,e==null?void 0:e.in);return n.setHours(23,59,59,999),n}function DI(t,e){const n=rt(t,e==null?void 0:e.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function G2(t,e){const n=rt(t,e==null?void 0:e.in),r=n.getMonth(),i=r-r%3;return n.setMonth(i,1),n.setHours(0,0,0,0),n}function RI(t,e){const n=rt(t,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function LI(t,e){const n=rt(t,e==null?void 0:e.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function vv(t,e){const n=rt(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function dz(t,e){var a,l;const n=gc(),r=n.weekStartsOn??((l=(a=n.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??0,i=rt(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const pz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mz=(t,e,n)=>{let r;const i=pz[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Wy(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const gz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wz={date:Wy({formats:gz,defaultWidth:"full"}),time:Wy({formats:vz,defaultWidth:"full"}),dateTime:Wy({formats:yz,defaultWidth:"full"})},_z={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bz=(t,e,n,r)=>_z[t];function qf(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Sz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ez={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Az={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pz=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Iz={ordinalNumber:Pz,era:qf({values:Sz,defaultWidth:"wide"}),quarter:qf({values:Ez,defaultWidth:"wide",argumentCallback:t=>t-1}),month:qf({values:xz,defaultWidth:"wide"}),day:qf({values:Tz,defaultWidth:"wide"}),dayPeriod:qf({values:kz,defaultWidth:"wide",formattingValues:Az,defaultFormattingWidth:"wide"})};function Hf(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Nz(a,d=>d.test(o)):Cz(a,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function Cz(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Nz(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Dz(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const Rz=/^(\d+)(th|st|nd|rd)?/i,Lz=/\d+/i,Oz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mz={any:[/^b/i,/^(a|c)/i]},Fz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jz={any:[/1/i,/2/i,/3/i,/4/i]},Vz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Bz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Uz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zz={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qz={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hz={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wz={ordinalNumber:Dz({matchPattern:Rz,parsePattern:Lz,valueCallback:t=>parseInt(t,10)}),era:Hf({matchPatterns:Oz,defaultMatchWidth:"wide",parsePatterns:Mz,defaultParseWidth:"any"}),quarter:Hf({matchPatterns:Fz,defaultMatchWidth:"wide",parsePatterns:jz,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Hf({matchPatterns:Vz,defaultMatchWidth:"wide",parsePatterns:Bz,defaultParseWidth:"any"}),day:Hf({matchPatterns:Uz,defaultMatchWidth:"wide",parsePatterns:zz,defaultParseWidth:"any"}),dayPeriod:Hf({matchPatterns:qz,defaultMatchWidth:"any",parsePatterns:Hz,defaultParseWidth:"any"})},OI={code:"en-US",formatDistance:mz,formatLong:wz,formatRelative:bz,localize:Iz,match:Wz,options:{weekStartsOn:0,firstWeekContainsDate:1}};function $z(t,e){const n=rt(t,e==null?void 0:e.in);return Hh(n,vv(n))+1}function t_(t,e){const n=rt(t,e==null?void 0:e.in),r=+qh(n)-+uz(n);return Math.round(r/PI)+1}function n_(t,e){var c,d,g,p;const n=rt(t,e==null?void 0:e.in),r=n.getFullYear(),i=gc(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(g=i.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,o=sn((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=ka(o,e),l=sn((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const u=ka(l,e);return+n>=+a?r+1:+n>=+u?r:r-1}function Yz(t,e){var a,l,u,c;const n=gc(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=n_(t,e),s=sn((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),ka(s,e)}function MI(t,e){const n=rt(t,e==null?void 0:e.in),r=+ka(n,e)-+Yz(n,e);return Math.round(r/PI)+1}function tn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ul={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return tn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):tn(n+1,2)},d(t,e){return tn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return tn(t.getHours()%12||12,e.length)},H(t,e){return tn(t.getHours(),e.length)},m(t,e){return tn(t.getMinutes(),e.length)},s(t,e){return tn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return tn(i,e.length)}},Hc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ex={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ul.y(t,e)},Y:function(t,e,n,r){const i=n_(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return tn(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):tn(s,e.length)},R:function(t,e){const n=CI(t);return tn(n,e.length)},u:function(t,e){const n=t.getFullYear();return tn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return tn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return tn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ul.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return tn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=MI(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):tn(i,e.length)},I:function(t,e,n){const r=t_(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):tn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ul.d(t,e)},D:function(t,e,n){const r=$z(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):tn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return tn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return tn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return tn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Hc.noon:r===0?i=Hc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Hc.evening:r>=12?i=Hc.afternoon:r>=4?i=Hc.morning:i=Hc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ul.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ul.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):tn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):tn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ul.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ul.s(t,e)},S:function(t,e){return ul.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Tx(r);case"XXXX":case"XX":return Au(r);case"XXXXX":case"XXX":default:return Au(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Tx(r);case"xxxx":case"xx":return Au(r);case"xxxxx":case"xxx":default:return Au(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+xx(r,":");case"OOOO":default:return"GMT"+Au(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+xx(r,":");case"zzzz":default:return"GMT"+Au(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return tn(r,e.length)},T:function(t,e,n){return tn(+t,e.length)}};function xx(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+tn(s,2)}function Tx(t,e){return t%60===0?(t>0?"-":"+")+tn(Math.abs(t)/60,2):Au(t,e)}function Au(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=tn(Math.trunc(r/60),2),s=tn(r%60,2);return n+i+e+s}const kx=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},FI=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Gz=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return kx(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",kx(r,e)).replace("{{time}}",FI(i,e))},K2={p:FI,P:Gz},Kz=/^D+$/,Qz=/^Y+$/,Jz=["D","DD","YY","YYYY"];function Xz(t){return Kz.test(t)}function Zz(t){return Qz.test(t)}function eq(t,e,n){const r=tq(t,e,n);if(console.warn(r),Jz.includes(t))throw new RangeError(r)}function tq(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iq=/^'([^]*?)'?$/,sq=/''/g,oq=/[a-zA-Z]/;function Ax(t,e,n){var c,d,g,p,_,S,T,y;const r=gc(),i=(n==null?void 0:n.locale)??r.locale??OI,s=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(g=r.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((S=(_=n==null?void 0:n.locale)==null?void 0:_.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((y=(T=r.locale)==null?void 0:T.options)==null?void 0:y.weekStartsOn)??0,a=rt(t,n==null?void 0:n.in);if(!u0(a))throw new RangeError("Invalid time value");let l=e.match(rq).map(b=>{const A=b[0];if(A==="p"||A==="P"){const j=K2[A];return j(b,i.formatLong)}return b}).join("").match(nq).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const A=b[0];if(A==="'")return{isToken:!1,value:aq(b)};if(Ex[A])return{isToken:!0,value:b};if(A.match(oq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:b}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(b=>{if(!b.isToken)return b.value;const A=b.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Zz(A)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Xz(A))&&eq(A,e,String(t));const j=Ex[A[0]];return j(a,A,i.localize,u)}).join("")}function aq(t){const e=t.match(iq);return e?e[1].replace(sq,"'"):t}function Px(t,e){return rt(t,e==null?void 0:e.in).getDate()}function lq(t,e){return rt(t,e==null?void 0:e.in).getDay()}function uq(t,e){const n=rt(t,e==null?void 0:e.in),r=n.getFullYear(),i=n.getMonth(),s=sn(n,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function cq(){return Object.assign({},gc())}function da(t,e){return rt(t,e==null?void 0:e.in).getHours()}function hq(t,e){const n=rt(t,e==null?void 0:e.in).getDay();return n===0?7:n}function pa(t,e){return rt(t,e==null?void 0:e.in).getMinutes()}function ri(t,e){return rt(t,e==null?void 0:e.in).getMonth()}function Fl(t){return rt(t).getSeconds()}function Q2(t){return+rt(t)}function It(t,e){return rt(t,e==null?void 0:e.in).getFullYear()}function Ql(t,e){return+rt(t)>+rt(e)}function sc(t,e){return+rt(t)<+rt(e)}function fq(t,e){return+rt(t)==+rt(e)}function dq(t,e){const n=pq(e)?new e(0):sn(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function pq(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const mq=10;class jI{constructor(){Qe(this,"subPriority",0)}validate(e,n){return!0}}class gq extends jI{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class vq extends jI{constructor(n,r){super();Qe(this,"priority",mq);Qe(this,"subPriority",-1);this.context=n||(i=>sn(r,i))}set(n,r){return r.timestampIsSet?n:sn(n,dq(n,this.context))}}class Yt{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new gq(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}}class yq extends Yt{constructor(){super(...arguments);Qe(this,"priority",140);Qe(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const $n={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},vo={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Yn(t,e){return t&&{value:e(t.value),rest:t.rest}}function Tn(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function yo(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*gv+s*mv+o*oz),rest:e.slice(n[0].length)}}function VI(t){return Tn($n.anyDigitsSigned,t)}function Mn(t,e){switch(t){case 1:return Tn($n.singleDigit,e);case 2:return Tn($n.twoDigits,e);case 3:return Tn($n.threeDigits,e);case 4:return Tn($n.fourDigits,e);default:return Tn(new RegExp("^\\d{1,"+t+"}"),e)}}function d0(t,e){switch(t){case 1:return Tn($n.singleDigitSigned,e);case 2:return Tn($n.twoDigitsSigned,e);case 3:return Tn($n.threeDigitsSigned,e);case 4:return Tn($n.fourDigitsSigned,e);default:return Tn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function r_(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function BI(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function UI(t){return t%400===0||t%4===0&&t%100!==0}class wq extends Yt{constructor(){super(...arguments);Qe(this,"priority",130);Qe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Yn(Mn(4,n),s);case"yo":return Yn(i.ordinalNumber(n,{unit:"year"}),s);default:return Yn(Mn(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=BI(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class _q extends Yt{constructor(){super(...arguments);Qe(this,"priority",130);Qe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Yn(Mn(4,n),s);case"Yo":return Yn(i.ordinalNumber(n,{unit:"year"}),s);default:return Yn(Mn(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=n_(n,s);if(i.isTwoDigitYear){const l=BI(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),ka(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),ka(n,s)}}class bq extends Yt{constructor(){super(...arguments);Qe(this,"priority",130);Qe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return d0(r==="R"?4:r.length,n)}set(n,r,i){const s=sn(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),qh(s)}}class Sq extends Yt{constructor(){super(...arguments);Qe(this,"priority",130);Qe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return d0(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class Eq extends Yt{constructor(){super(...arguments);Qe(this,"priority",120);Qe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return Mn(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class xq extends Yt{constructor(){super(...arguments);Qe(this,"priority",120);Qe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return Mn(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class Tq extends Yt{constructor(){super(...arguments);Qe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Qe(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return Yn(Tn($n.month,n),s);case"MM":return Yn(Mn(2,n),s);case"Mo":return Yn(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class kq extends Yt{constructor(){super(...arguments);Qe(this,"priority",110);Qe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return Yn(Tn($n.month,n),s);case"LL":return Yn(Mn(2,n),s);case"Lo":return Yn(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function Aq(t,e,n){const r=rt(t,n==null?void 0:n.in),i=MI(r,n)-e;return r.setDate(r.getDate()-i*7),rt(r,n==null?void 0:n.in)}class Pq extends Yt{constructor(){super(...arguments);Qe(this,"priority",100);Qe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return Tn($n.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return Mn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return ka(Aq(n,i,s),s)}}function Iq(t,e,n){const r=rt(t,n==null?void 0:n.in),i=t_(r,n)-e;return r.setDate(r.getDate()-i*7),r}class Cq extends Yt{constructor(){super(...arguments);Qe(this,"priority",100);Qe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return Tn($n.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return Mn(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return qh(Iq(n,i))}}const Nq=[31,28,31,30,31,30,31,31,30,31,30,31],Dq=[31,29,31,30,31,30,31,31,30,31,30,31];class Rq extends Yt{constructor(){super(...arguments);Qe(this,"priority",90);Qe(this,"subPriority",1);Qe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return Tn($n.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return Mn(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=UI(i),o=n.getMonth();return s?r>=1&&r<=Dq[o]:r>=1&&r<=Nq[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class Lq extends Yt{constructor(){super(...arguments);Qe(this,"priority",90);Qe(this,"subpriority",1);Qe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return Tn($n.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return Mn(r.length,n)}}validate(n,r){const i=n.getFullYear();return UI(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function i_(t,e,n){var d,g,p,_;const r=gc(),i=(n==null?void 0:n.weekStartsOn)??((g=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((_=(p=r.locale)==null?void 0:p.options)==null?void 0:_.weekStartsOn)??0,s=rt(t,n==null?void 0:n.in),o=s.getDay(),l=(e%7+7)%7,u=7-i,c=e<0||e>6?e-(o+u)%7:(l+u)%7-(o+u)%7;return Fs(s,c,n)}class Oq extends Yt{constructor(){super(...arguments);Qe(this,"priority",90);Qe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=i_(n,i,s),n.setHours(0,0,0,0),n}}class Mq extends Yt{constructor(){super(...arguments);Qe(this,"priority",90);Qe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Yn(Mn(r.length,n),o);case"eo":return Yn(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=i_(n,i,s),n.setHours(0,0,0,0),n}}class Fq extends Yt{constructor(){super(...arguments);Qe(this,"priority",90);Qe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Yn(Mn(r.length,n),o);case"co":return Yn(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=i_(n,i,s),n.setHours(0,0,0,0),n}}function jq(t,e,n){const r=rt(t,n==null?void 0:n.in),i=hq(r,n),s=e-i;return Fs(r,s,n)}class Vq extends Yt{constructor(){super(...arguments);Qe(this,"priority",90);Qe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return Mn(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Yn(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Yn(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Yn(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Yn(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=jq(n,i),n.setHours(0,0,0,0),n}}class Bq extends Yt{constructor(){super(...arguments);Qe(this,"priority",80);Qe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(r_(i),0,0,0),n}}class Uq extends Yt{constructor(){super(...arguments);Qe(this,"priority",80);Qe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(r_(i),0,0,0),n}}class zq extends Yt{constructor(){super(...arguments);Qe(this,"priority",80);Qe(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(r_(i),0,0,0),n}}class qq extends Yt{constructor(){super(...arguments);Qe(this,"priority",70);Qe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return Tn($n.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return Mn(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class Hq extends Yt{constructor(){super(...arguments);Qe(this,"priority",70);Qe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return Tn($n.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return Mn(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class Wq extends Yt{constructor(){super(...arguments);Qe(this,"priority",70);Qe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return Tn($n.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return Mn(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class $q extends Yt{constructor(){super(...arguments);Qe(this,"priority",70);Qe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return Tn($n.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return Mn(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class Yq extends Yt{constructor(){super(...arguments);Qe(this,"priority",60);Qe(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return Tn($n.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return Mn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class Gq extends Yt{constructor(){super(...arguments);Qe(this,"priority",50);Qe(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return Tn($n.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return Mn(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class Kq extends Yt{constructor(){super(...arguments);Qe(this,"priority",30);Qe(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Yn(Mn(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class Qq extends Yt{constructor(){super(...arguments);Qe(this,"priority",10);Qe(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return yo(vo.basicOptionalMinutes,n);case"XX":return yo(vo.basic,n);case"XXXX":return yo(vo.basicOptionalSeconds,n);case"XXXXX":return yo(vo.extendedOptionalSeconds,n);case"XXX":default:return yo(vo.extended,n)}}set(n,r,i){return r.timestampIsSet?n:sn(n,n.getTime()-a0(n)-i)}}class Jq extends Yt{constructor(){super(...arguments);Qe(this,"priority",10);Qe(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return yo(vo.basicOptionalMinutes,n);case"xx":return yo(vo.basic,n);case"xxxx":return yo(vo.basicOptionalSeconds,n);case"xxxxx":return yo(vo.extendedOptionalSeconds,n);case"xxx":default:return yo(vo.extended,n)}}set(n,r,i){return r.timestampIsSet?n:sn(n,n.getTime()-a0(n)-i)}}class Xq extends Yt{constructor(){super(...arguments);Qe(this,"priority",40);Qe(this,"incompatibleTokens","*")}parse(n){return VI(n)}set(n,r,i){return[sn(n,i*1e3),{timestampIsSet:!0}]}}class Zq extends Yt{constructor(){super(...arguments);Qe(this,"priority",20);Qe(this,"incompatibleTokens","*")}parse(n){return VI(n)}set(n,r,i){return[sn(n,i),{timestampIsSet:!0}]}}const eH={G:new yq,y:new wq,Y:new _q,R:new bq,u:new Sq,Q:new Eq,q:new xq,M:new Tq,L:new kq,w:new Pq,I:new Cq,d:new Rq,D:new Lq,E:new Oq,e:new Mq,c:new Fq,i:new Vq,a:new Bq,b:new Uq,B:new zq,h:new qq,H:new Hq,K:new Wq,k:new $q,m:new Yq,s:new Gq,S:new Kq,X:new Qq,x:new Jq,t:new Xq,T:new Zq},tH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rH=/^'([^]*?)'?$/,iH=/''/g,sH=/\S/,oH=/[a-zA-Z]/;function aH(t,e,n,r){var T,y,b,A,j,Y,J,N;const i=()=>sn((r==null?void 0:r.in)||n,NaN),s=cq(),o=(r==null?void 0:r.locale)??s.locale??OI,a=(r==null?void 0:r.firstWeekContainsDate)??((y=(T=r==null?void 0:r.locale)==null?void 0:T.options)==null?void 0:y.firstWeekContainsDate)??s.firstWeekContainsDate??((A=(b=s.locale)==null?void 0:b.options)==null?void 0:A.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((Y=(j=r==null?void 0:r.locale)==null?void 0:j.options)==null?void 0:Y.weekStartsOn)??s.weekStartsOn??((N=(J=s.locale)==null?void 0:J.options)==null?void 0:N.weekStartsOn)??0;if(!e)return t?i():rt(n,r==null?void 0:r.in);const u={firstWeekContainsDate:a,weekStartsOn:l,locale:o},c=[new vq(r==null?void 0:r.in,n)],d=e.match(nH).map(k=>{const D=k[0];if(D in K2){const L=K2[D];return L(k,o.formatLong)}return k}).join("").match(tH),g=[];for(let k of d){const D=k[0],L=eH[D];if(L){const{incompatibleTokens:x}=L;if(Array.isArray(x)){const R=g.find($=>x.includes($.token)||$.token===D);if(R)throw new RangeError(`The format string mustn't contain \`${R.fullToken}\` and \`${k}\` at the same time`)}else if(L.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${k}\` and any other token at the same time`);g.push({token:D,fullToken:k});const I=L.run(t,k,o.match,u);if(!I)return i();c.push(I.setter),t=I.rest}else{if(D.match(oH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");if(k==="''"?k="'":D==="'"&&(k=lH(k)),t.indexOf(k)===0)t=t.slice(k.length);else return i()}}if(t.length>0&&sH.test(t))return i();const p=c.map(k=>k.priority).sort((k,D)=>D-k).filter((k,D,L)=>L.indexOf(k)===D).map(k=>c.filter(D=>D.priority===k).sort((D,L)=>L.subPriority-D.subPriority)).map(k=>k[0]);let _=rt(n,r==null?void 0:r.in);if(isNaN(+_))return i();const S={};for(const k of p){if(!k.validate(_,u))return i();const D=k.set(_,S,u);Array.isArray(D)?(_=D[0],Object.assign(S,D[1])):_=D}return _}function lH(t){return t.match(rH)[1].replace(iH,"'")}function uH(t,e,n){const[r,i]=Ia(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function cH(t,e,n){const[r,i]=Ia(n==null?void 0:n.in,t,e);return+G2(r)==+G2(i)}function hH(t,e,n){const[r,i]=Ia(n==null?void 0:n.in,t,e);return r.getFullYear()===i.getFullYear()}function rp(t,e,n){const r=+rt(t,n==null?void 0:n.in),[i,s]=[+rt(e.start,n==null?void 0:n.in),+rt(e.end,n==null?void 0:n.in)].sort((o,a)=>o-a);return r>=i&&r<=s}function fH(t,e,n){return Fs(t,-1,n)}function dH(t,e){const n=()=>sn(e==null?void 0:e.in,NaN),i=vH(t);let s;if(i.date){const u=yH(i.date,2);s=wH(u.restDateString,u.year)}if(!s||isNaN(+s))return n();const o=+s;let a=0,l;if(i.time&&(a=_H(i.time),isNaN(a)))return n();if(i.timezone){if(l=bH(i.timezone),isNaN(l))return n()}else{const u=new Date(o+a),c=rt(0,e==null?void 0:e.in);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return rt(o+a+l,e==null?void 0:e.in)}const km={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},pH=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,mH=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,gH=/^([+-])(\d{2})(?::?(\d{2}))?$/;function vH(t){const e={},n=t.split(km.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],km.timeZoneDelimiter.test(e.date)&&(e.date=t.split(km.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=km.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function yH(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function wH(t,e){if(e===null)return new Date(NaN);const n=t.match(pH);if(!n)return new Date(NaN);const r=!!n[4],i=Wf(n[1]),s=Wf(n[2])-1,o=Wf(n[3]),a=Wf(n[4]),l=Wf(n[5])-1;if(r)return kH(e,a,l)?SH(e,a,l):new Date(NaN);{const u=new Date(0);return!xH(e,s,o)||!TH(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}}function Wf(t){return t?parseInt(t):1}function _H(t){const e=t.match(mH);if(!e)return NaN;const n=$y(e[1]),r=$y(e[2]),i=$y(e[3]);return AH(n,r,i)?n*gv+r*mv+i*1e3:NaN}function $y(t){return t&&parseFloat(t.replace(",","."))||0}function bH(t){if(t==="Z")return 0;const e=t.match(gH);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return PH(r,i)?n*(r*gv+i*mv):NaN}function SH(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const EH=[31,null,31,30,31,30,31,31,30,31,30,31];function zI(t){return t%400===0||t%4===0&&t%100!==0}function xH(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(EH[e]||(zI(t)?29:28))}function TH(t,e){return e>=1&&e<=(zI(t)?366:365)}function kH(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function AH(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function PH(t,e){return e>=0&&e<=59}function ns(t,e,n){const r=rt(t,n==null?void 0:n.in),i=r.getFullYear(),s=r.getDate(),o=sn(t,0);o.setFullYear(i,e,15),o.setHours(0,0,0,0);const a=uq(o);return r.setMonth(e,Math.min(s,a)),r}function sg(t,e,n){const r=rt(t,n==null?void 0:n.in);return r.setHours(e),r}function og(t,e,n){const r=rt(t,n==null?void 0:n.in);return r.setMinutes(e),r}function Jc(t,e,n){const r=rt(t,n==null?void 0:n.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return ns(r,r.getMonth()+s*3)}function ag(t,e,n){const r=rt(t,n==null?void 0:n.in);return r.setSeconds(e),r}function fo(t,e,n){const r=rt(t,n==null?void 0:n.in);return isNaN(+r)?sn(t,NaN):(r.setFullYear(e),r)}function Hu(t,e,n){return Us(t,-e,n)}function qI(t,e,n){return e_(t,-1,n)}function Ix(t,e,n){return l0(t,-1,n)}function Wh(t,e,n){return ha(t,-e,n)}function yv(){return typeof window<"u"}function hf(t){return HI(t)?(t.nodeName||"").toLowerCase():"#document"}function Ui(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Do(t){var e;return(e=(HI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function HI(t){return yv()?t instanceof Node||t instanceof Ui(t).Node:!1}function ii(t){return yv()?t instanceof Element||t instanceof Ui(t).Element:!1}function Co(t){return yv()?t instanceof HTMLElement||t instanceof Ui(t).HTMLElement:!1}function Cx(t){return!yv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ui(t).ShadowRoot}function Tp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=fs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function IH(t){return["table","td","th"].includes(hf(t))}function wv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function s_(t){const e=o_(),n=ii(t)?fs(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function CH(t){let e=Jl(t);for(;Co(e)&&!$h(e);){if(s_(e))return e;if(wv(e))return null;e=Jl(e)}return null}function o_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $h(t){return["html","body","#document"].includes(hf(t))}function fs(t){return Ui(t).getComputedStyle(t)}function _v(t){return ii(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Jl(t){if(hf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Cx(t)&&t.host||Do(t);return Cx(e)?e.host:e}function WI(t){const e=Jl(t);return $h(e)?t.ownerDocument?t.ownerDocument.body:t.body:Co(e)&&Tp(e)?e:WI(e)}function ip(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=WI(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ui(i);if(s){const a=J2(o);return e.concat(o,o.visualViewport||[],Tp(i)?i:[],a&&n?ip(a):[])}return e.concat(i,ip(i,[],n))}function J2(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Yh=Math.min,Wu=Math.max,p0=Math.round,Am=Math.floor,ko=t=>({x:t,y:t}),NH={left:"right",right:"left",bottom:"top",top:"bottom"},DH={start:"end",end:"start"};function RH(t,e,n){return Wu(t,Yh(e,n))}function bv(t,e){return typeof t=="function"?t(e):t}function Gh(t){return t.split("-")[0]}function kp(t){return t.split("-")[1]}function LH(t){return t==="x"?"y":"x"}function a_(t){return t==="y"?"height":"width"}function Sh(t){return["top","bottom"].includes(Gh(t))?"y":"x"}function l_(t){return LH(Sh(t))}function OH(t,e,n){n===void 0&&(n=!1);const r=kp(t),i=l_(t),s=a_(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=m0(o)),[o,m0(o)]}function MH(t){const e=m0(t);return[X2(t),e,X2(e)]}function X2(t){return t.replace(/start|end/g,e=>DH[e])}function FH(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function jH(t,e,n,r){const i=kp(t);let s=FH(Gh(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(X2)))),s}function m0(t){return t.replace(/left|right|bottom|top/g,e=>NH[e])}function VH(t){return{top:0,right:0,bottom:0,left:0,...t}}function $I(t){return typeof t!="number"?VH(t):{top:t,right:t,bottom:t,left:t}}function g0(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}var v0=typeof document<"u"?se.useLayoutEffect:se.useEffect;const BH={...iw},UH=BH.useInsertionEffect,zH=UH||(t=>t());function qH(t){const e=se.useRef(()=>{});return zH(()=>{e.current=t}),se.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function Nx(t,e,n){let{reference:r,floating:i}=t;const s=Sh(e),o=l_(e),a=a_(o),l=Gh(e),u=s==="y",c=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,g=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:c,y:r.y-i.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:d};break;case"left":p={x:r.x-i.width,y:d};break;default:p={x:r.x,y:r.y}}switch(kp(e)){case"start":p[o]-=g*(n&&u?-1:1);break;case"end":p[o]+=g*(n&&u?-1:1);break}return p}const HH=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:d}=Nx(u,r,l),g=r,p={},_=0;for(let S=0;S<a.length;S++){const{name:T,fn:y}=a[S],{x:b,y:A,data:j,reset:Y}=await y({x:c,y:d,initialPlacement:r,placement:g,strategy:i,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});c=b??c,d=A??d,p={...p,[T]:{...p[T],...j}},Y&&_<=50&&(_++,typeof Y=="object"&&(Y.placement&&(g=Y.placement),Y.rects&&(u=Y.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):Y.rects),{x:c,y:d}=Nx(u,g,l)),S=-1)}return{x:c,y:d,placement:g,strategy:i,middlewareData:p}};async function WH(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:d="floating",altBoundary:g=!1,padding:p=0}=bv(e,t),_=$I(p),T=a[g?d==="floating"?"reference":"floating":d],y=g0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(T)))==null||n?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),b=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),j=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},Y=g0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:A,strategy:l}):b);return{top:(y.top-Y.top+_.top)/j.y,bottom:(Y.bottom-y.bottom+_.bottom)/j.y,left:(y.left-Y.left+_.left)/j.x,right:(Y.right-y.right+_.right)/j.x}}const $H=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:u,padding:c=0}=bv(t,e)||{};if(u==null)return{};const d=$I(c),g={x:n,y:r},p=l_(i),_=a_(p),S=await o.getDimensions(u),T=p==="y",y=T?"top":"left",b=T?"bottom":"right",A=T?"clientHeight":"clientWidth",j=s.reference[_]+s.reference[p]-g[p]-s.floating[_],Y=g[p]-s.reference[p],J=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=J?J[A]:0;(!N||!await(o.isElement==null?void 0:o.isElement(J)))&&(N=a.floating[A]||s.floating[_]);const k=j/2-Y/2,D=N/2-S[_]/2-1,L=Yh(d[y],D),x=Yh(d[b],D),I=L,R=N-S[_]-x,$=N/2-S[_]/2+k,X=RH(I,$,R),Q=!l.arrow&&kp(i)!=null&&$!==X&&s.reference[_]/2-($<I?L:x)-S[_]/2<0,re=Q?$<I?$-I:$-R:0;return{[p]:g[p]+re,data:{[p]:X,centerOffset:$-X-re,...Q&&{alignmentOffset:re}},reset:Q}}}),YH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:d=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:S=!0,...T}=bv(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Gh(i),b=Sh(a),A=Gh(a)===a,j=await(l.isRTL==null?void 0:l.isRTL(u.floating)),Y=g||(A||!S?[m0(a)]:MH(a)),J=_!=="none";!g&&J&&Y.push(...jH(a,S,_,j));const N=[a,...Y],k=await WH(e,T),D=[];let L=((r=s.flip)==null?void 0:r.overflows)||[];if(c&&D.push(k[y]),d){const X=OH(i,o,j);D.push(k[X[0]],k[X[1]])}if(L=[...L,{placement:i,overflows:D}],!D.every(X=>X<=0)){var x,I;const X=(((x=s.flip)==null?void 0:x.index)||0)+1,Q=N[X];if(Q){var R;const H=d==="alignment"?b!==Sh(Q):!1,te=((R=L[0])==null?void 0:R.overflows[0])>0;if(!H||te)return{data:{index:X,overflows:L},reset:{placement:Q}}}let re=(I=L.filter(H=>H.overflows[0]<=0).sort((H,te)=>H.overflows[1]-te.overflows[1])[0])==null?void 0:I.placement;if(!re)switch(p){case"bestFit":{var $;const H=($=L.filter(te=>{if(J){const ie=Sh(te.placement);return ie===b||ie==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(ie=>ie>0).reduce((ie,Se)=>ie+Se,0)]).sort((te,ie)=>te[1]-ie[1])[0])==null?void 0:$[0];H&&(re=H);break}case"initialPlacement":re=a;break}if(i!==re)return{reset:{placement:re}}}return{}}}};async function GH(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Gh(n),a=kp(n),l=Sh(n)==="y",u=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,d=bv(e,t);let{mainAxis:g,crossAxis:p,alignmentAxis:_}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof _=="number"&&(p=a==="end"?_*-1:_),l?{x:p*c,y:g*u}:{x:g*u,y:p*c}}const KH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await GH(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}};function YI(t){const e=fs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Co(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=p0(n)!==s||p0(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function u_(t){return ii(t)?t:t.contextElement}function Eh(t){const e=u_(t);if(!Co(e))return ko(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=YI(e);let o=(s?p0(n.width):n.width)/r,a=(s?p0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const QH=ko(0);function GI(t){const e=Ui(t);return!o_()||!e.visualViewport?QH:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JH(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ui(t)?!1:e}function oc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=u_(t);let o=ko(1);e&&(r?ii(r)&&(o=Eh(r)):o=Eh(t));const a=JH(s,n,r)?GI(s):ko(0);let l=(i.left+a.x)/o.x,u=(i.top+a.y)/o.y,c=i.width/o.x,d=i.height/o.y;if(s){const g=Ui(s),p=r&&ii(r)?Ui(r):r;let _=g,S=J2(_);for(;S&&r&&p!==_;){const T=Eh(S),y=S.getBoundingClientRect(),b=fs(S),A=y.left+(S.clientLeft+parseFloat(b.paddingLeft))*T.x,j=y.top+(S.clientTop+parseFloat(b.paddingTop))*T.y;l*=T.x,u*=T.y,c*=T.x,d*=T.y,l+=A,u+=j,_=Ui(S),S=J2(_)}}return g0({width:c,height:d,x:l,y:u})}function c_(t,e){const n=_v(t).scrollLeft;return e?e.left+n:oc(Do(t)).left+n}function KI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:c_(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function XH(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Do(r),a=e?wv(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},u=ko(1);const c=ko(0),d=Co(r);if((d||!d&&!s)&&((hf(r)!=="body"||Tp(o))&&(l=_v(r)),Co(r))){const p=oc(r);u=Eh(r),c.x=p.x+r.clientLeft,c.y=p.y+r.clientTop}const g=o&&!d&&!s?KI(o,l,!0):ko(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x+g.x,y:n.y*u.y-l.scrollTop*u.y+c.y+g.y}}function ZH(t){return Array.from(t.getClientRects())}function eW(t){const e=Do(t),n=_v(t),r=t.ownerDocument.body,i=Wu(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Wu(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+c_(t);const a=-n.scrollTop;return fs(r).direction==="rtl"&&(o+=Wu(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function tW(t,e){const n=Ui(t),r=Do(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const u=o_();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function nW(t,e){const n=oc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Co(t)?Eh(t):ko(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:o,height:a,x:l,y:u}}function Dx(t,e,n){let r;if(e==="viewport")r=tW(t,n);else if(e==="document")r=eW(Do(t));else if(ii(e))r=nW(e,n);else{const i=GI(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return g0(r)}function QI(t,e){const n=Jl(t);return n===e||!ii(n)||$h(n)?!1:fs(n).position==="fixed"||QI(n,e)}function rW(t,e){const n=e.get(t);if(n)return n;let r=ip(t,[],!1).filter(a=>ii(a)&&hf(a)!=="body"),i=null;const s=fs(t).position==="fixed";let o=s?Jl(t):t;for(;ii(o)&&!$h(o);){const a=fs(o),l=s_(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Tp(o)&&!l&&QI(t,o))?r=r.filter(c=>c!==o):i=a,o=Jl(o)}return e.set(t,r),r}function iW(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?wv(e)?[]:rW(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((u,c)=>{const d=Dx(e,c,i);return u.top=Wu(d.top,u.top),u.right=Yh(d.right,u.right),u.bottom=Yh(d.bottom,u.bottom),u.left=Wu(d.left,u.left),u},Dx(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function sW(t){const{width:e,height:n}=YI(t);return{width:e,height:n}}function oW(t,e,n){const r=Co(e),i=Do(e),s=n==="fixed",o=oc(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ko(0);function u(){l.x=c_(i)}if(r||!r&&!s)if((hf(e)!=="body"||Tp(i))&&(a=_v(e)),r){const p=oc(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&u();s&&!r&&i&&u();const c=i&&!r&&!s?KI(i,a):ko(0),d=o.left+a.scrollLeft-l.x-c.x,g=o.top+a.scrollTop-l.y-c.y;return{x:d,y:g,width:o.width,height:o.height}}function Yy(t){return fs(t).position==="static"}function Rx(t,e){if(!Co(t)||fs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Do(t)===n&&(n=n.ownerDocument.body),n}function JI(t,e){const n=Ui(t);if(wv(t))return n;if(!Co(t)){let i=Jl(t);for(;i&&!$h(i);){if(ii(i)&&!Yy(i))return i;i=Jl(i)}return n}let r=Rx(t,e);for(;r&&IH(r)&&Yy(r);)r=Rx(r,e);return r&&$h(r)&&Yy(r)&&!s_(r)?n:r||CH(t)||n}const aW=async function(t){const e=this.getOffsetParent||JI,n=this.getDimensions,r=await n(t.floating);return{reference:oW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lW(t){return fs(t).direction==="rtl"}const uW={convertOffsetParentRelativeRectToViewportRelativeRect:XH,getDocumentElement:Do,getClippingRect:iW,getOffsetParent:JI,getElementRects:aW,getClientRects:ZH,getDimensions:sW,getScale:Eh,isElement:ii,isRTL:lW};function XI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function cW(t,e){let n=null,r;const i=Do(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:c,top:d,width:g,height:p}=u;if(a||e(),!g||!p)return;const _=Am(d),S=Am(i.clientWidth-(c+g)),T=Am(i.clientHeight-(d+p)),y=Am(c),A={rootMargin:-_+"px "+-S+"px "+-T+"px "+-y+"px",threshold:Wu(0,Yh(1,l))||1};let j=!0;function Y(J){const N=J[0].intersectionRatio;if(N!==l){if(!j)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!XI(u,t.getBoundingClientRect())&&o(),j=!1}try{n=new IntersectionObserver(Y,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(Y,A)}n.observe(t)}return o(!0),s}function hW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=u_(t),c=i||s?[...u?ip(u):[],...ip(e)]:[];c.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=u&&a?cW(u,n):null;let g=-1,p=null;o&&(p=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=p)==null||A.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let _,S=l?oc(t):null;l&&T();function T(){const y=oc(t);S&&!XI(S,y)&&n(),S=y,_=requestAnimationFrame(T)}return n(),()=>{var y;c.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d==null||d(),(y=p)==null||y.disconnect(),p=null,l&&cancelAnimationFrame(_)}}const fW=KH,dW=YH,Lx=$H,pW=(t,e,n)=>{const r=new Map,i={platform:uW,...n},s={...i.platform,_c:r};return HH(t,e,{...i,platform:s})};var lg=typeof document<"u"?se.useLayoutEffect:se.useEffect;function y0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!y0(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!y0(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function ZI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ox(t,e){const n=ZI(t);return Math.round(e*n)/n}function Gy(t){const e=se.useRef(t);return lg(()=>{e.current=t}),e}function mW(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[c,d]=se.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,p]=se.useState(r);y0(g,r)||p(r);const[_,S]=se.useState(null),[T,y]=se.useState(null),b=se.useCallback(H=>{H!==J.current&&(J.current=H,S(H))},[]),A=se.useCallback(H=>{H!==N.current&&(N.current=H,y(H))},[]),j=s||_,Y=o||T,J=se.useRef(null),N=se.useRef(null),k=se.useRef(c),D=l!=null,L=Gy(l),x=Gy(i),I=Gy(u),R=se.useCallback(()=>{if(!J.current||!N.current)return;const H={placement:e,strategy:n,middleware:g};x.current&&(H.platform=x.current),pW(J.current,N.current,H).then(te=>{const ie={...te,isPositioned:I.current!==!1};$.current&&!y0(k.current,ie)&&(k.current=ie,Kw.flushSync(()=>{d(ie)}))})},[g,e,n,x,I]);lg(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,d(H=>({...H,isPositioned:!1})))},[u]);const $=se.useRef(!1);lg(()=>($.current=!0,()=>{$.current=!1}),[]),lg(()=>{if(j&&(J.current=j),Y&&(N.current=Y),j&&Y){if(L.current)return L.current(j,Y,R);R()}},[j,Y,R,L,D]);const X=se.useMemo(()=>({reference:J,floating:N,setReference:b,setFloating:A}),[b,A]),Q=se.useMemo(()=>({reference:j,floating:Y}),[j,Y]),re=se.useMemo(()=>{const H={position:n,left:0,top:0};if(!Q.floating)return H;const te=Ox(Q.floating,c.x),ie=Ox(Q.floating,c.y);return a?{...H,transform:"translate("+te+"px, "+ie+"px)",...ZI(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:ie}},[n,a,Q.floating,c.x,c.y]);return se.useMemo(()=>({...c,update:R,refs:X,elements:Q,floatingStyles:re}),[c,R,X,Q,re])}const gW=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Lx({element:r.current,padding:i}).fn(n):{}:r?Lx({element:r,padding:i}).fn(n):{}}}},vW=(t,e)=>({...fW(t),options:[t,e]}),yW=(t,e)=>({...dW(t),options:[t,e]}),wW=(t,e)=>({...gW(t),options:[t,e]}),_W={...iw};let Mx=!1,bW=0;const Fx=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+bW++;function SW(){const[t,e]=se.useState(()=>Mx?Fx():void 0);return v0(()=>{t==null&&e(Fx())},[]),se.useEffect(()=>{Mx=!0},[]),t}const EW=_W.useId,eC=EW||SW,xW=se.forwardRef(function(e,n){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:o}},width:a=14,height:l=7,tipRadius:u=0,strokeWidth:c=0,staticOffset:d,stroke:g,d:p,style:{transform:_,...S}={},...T}=e,y=eC(),[b,A]=se.useState(!1);if(v0(()=>{if(!i)return;fs(i).direction==="rtl"&&A(!0)},[i]),!i)return null;const[j,Y]=r.split("-"),J=j==="top"||j==="bottom";let N=d;(J&&o!=null&&o.x||!J&&o!=null&&o.y)&&(N=null);const k=c*2,D=k/2,L=a/2*(u/-8+1),x=l/2*u/4,I=!!p,R=N&&Y==="end"?"bottom":"top";let $=N&&Y==="end"?"right":"left";N&&b&&($=Y==="end"?"left":"right");const X=(s==null?void 0:s.x)!=null?N||s.x:"",Q=(s==null?void 0:s.y)!=null?N||s.y:"",re=p||"M0,0"+(" H"+a)+(" L"+(a-L)+","+(l-x))+(" Q"+a/2+","+l+" "+L+","+(l-x))+" Z",H={top:I?"rotate(180deg)":"",left:I?"rotate(90deg)":"rotate(-90deg)",bottom:I?"":"rotate(180deg)",right:I?"rotate(-90deg)":"rotate(90deg)"}[j];return U.jsxs("svg",{...T,"aria-hidden":!0,ref:n,width:I?a:a+k,height:a,viewBox:"0 0 "+a+" "+(l>a?l:a),style:{position:"absolute",pointerEvents:"none",[$]:X,[R]:Q,[j]:J||I?"100%":"calc(100% - "+k/2+"px)",transform:[H,_].filter(te=>!!te).join(" "),...S},children:[k>0&&U.jsx("path",{clipPath:"url(#"+y+")",fill:"none",stroke:g,strokeWidth:k+(p?0:1),d:re}),U.jsx("path",{stroke:k&&!p?T.fill:"none",d:re}),U.jsx("clipPath",{id:y,children:U.jsx("rect",{x:-D,y:D*(I?-1:1),width:a+k,height:a})})]})});function TW(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var r;(r=t.get(e))==null||r.delete(n)}}}const kW=se.createContext(null),AW=se.createContext(null),PW=()=>{var t;return((t=se.useContext(kW))==null?void 0:t.id)||null},IW=()=>se.useContext(AW);function CW(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=eC(),s=se.useRef({}),[o]=se.useState(()=>TW()),a=PW()!=null,[l,u]=se.useState(r.reference),c=qH((p,_,S)=>{s.current.openEvent=p?_:void 0,o.emit("openchange",{open:p,event:_,reason:S,nested:a}),n==null||n(p,_,S)}),d=se.useMemo(()=>({setPositionReference:u}),[]),g=se.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return se.useMemo(()=>({dataRef:s,open:e,onOpenChange:c,elements:g,events:o,floatingId:i,refs:d}),[e,c,g,o,i,d])}function NW(t){t===void 0&&(t={});const{nodeId:e}=t,n=CW({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=se.useState(null),[a,l]=se.useState(null),c=(i==null?void 0:i.domReference)||s,d=se.useRef(null),g=IW();v0(()=>{c&&(d.current=c)},[c]);const p=mW({...t,elements:{...i,...a&&{reference:a}}}),_=se.useCallback(A=>{const j=ii(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),getClientRects:()=>A.getClientRects(),contextElement:A}:A;l(j),p.refs.setReference(j)},[p.refs]),S=se.useCallback(A=>{(ii(A)||A===null)&&(d.current=A,o(A)),(ii(p.refs.reference.current)||p.refs.reference.current===null||A!==null&&!ii(A))&&p.refs.setReference(A)},[p.refs]),T=se.useMemo(()=>({...p.refs,setReference:S,setPositionReference:_,domReference:d}),[p.refs,S,_]),y=se.useMemo(()=>({...p.elements,domReference:c}),[p.elements,c]),b=se.useMemo(()=>({...p,...r,refs:T,elements:y,nodeId:e}),[p,T,y,e,r]);return v0(()=>{r.dataRef.current.floatingContext=b;const A=g==null?void 0:g.nodesRef.current.find(j=>j.id===e);A&&(A.context=b)}),se.useMemo(()=>({...p,context:b,refs:T,elements:y}),[p,T,y,b])}/*!
  react-datepicker v8.3.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var Z2=function(e,n){return Z2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},Z2(e,n)};function vr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Z2(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var zt=function(){return zt=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])}return n},zt.apply(this,arguments)};function _o(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var DW=function(t){var e=t.showTimeSelectOnly,n=e===void 0?!1:e,r=t.showTime,i=r===void 0?!1:r,s=t.className,o=t.children,a=n?"Choose Time":"Choose Date".concat(i?" and Time":"");return be.createElement("div",{className:s,role:"dialog","aria-label":a,"aria-modal":"true"},o)},RW=function(t,e){var n=se.useRef(null),r=se.useRef(t);r.current=t;var i=se.useCallback(function(s){var o,a=s.composed&&s.composedPath&&s.composedPath().find(function(l){return l instanceof Node})||s.target;n.current&&!n.current.contains(a)&&(e&&a instanceof HTMLElement&&a.classList.contains(e)||(o=r.current)===null||o===void 0||o.call(r,s))},[e]);return se.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n},Sv=function(t){var e=t.children,n=t.onClickOutside,r=t.className,i=t.containerRef,s=t.style,o=t.ignoreClass,a=RW(n,o);return be.createElement("div",{className:r,style:s,ref:function(l){a.current=l,i&&(i.current=l)}},e)},Ge;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Ge||(Ge={}));function tC(){var t=typeof window<"u"?window:globalThis;return t}var Ap=12;function Qt(t){if(t==null)return new Date;var e=typeof t=="string"?dH(t):rt(t);return Ev(e)?e:new Date}function Ky(t,e,n,r,i){i===void 0&&(i=Qt());for(var s=Kh(n)||Kh(h_()),o=Array.isArray(e)?e:[e],a=0,l=o;a<l.length;a++){var u=l[a],c=aH(t,u,i,{locale:s});if(Ev(c)&&(!r||t===En(c,u,n)))return c}return null}function Ev(t,e){return u0(t)&&!sc(t,new Date("1/1/1800"))}function En(t,e,n){if(n==="en")return Ax(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Kh(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),r=r||Kh(h_()),Ax(t,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ts(t,e){var n=e.dateFormat,r=e.locale,i=Array.isArray(n)&&n.length>0?n[0]:n;return t&&En(t,i,r)||""}function LW(t,e,n){if(!t)return"";var r=ts(t,n),i=e?ts(e,n):"";return"".concat(r," - ").concat(i)}function OW(t,e){if(!(t!=null&&t.length))return"";var n=t[0]?ts(t[0],e):"";if(t.length===1)return n;if(t.length===2&&t[1]){var r=ts(t[1],e);return"".concat(n,", ").concat(r)}var i=t.length-1;return"".concat(n," (+").concat(i,")")}function Qy(t,e){var n=e.hour,r=n===void 0?0:n,i=e.minute,s=i===void 0?0:i,o=e.second,a=o===void 0?0:o;return sg(og(ag(t,a),s),r)}function MW(t){return t_(t)}function FW(t,e){return En(t,"ddd",e)}function ug(t){return ic(t)}function jl(t,e,n){var r=Kh(e||h_());return ka(t,{locale:r,weekStartsOn:n})}function ma(t){return RI(t)}function td(t){return vv(t)}function jx(t){return G2(t)}function Vx(){return ic(Qt())}function Bx(t){return NI(t)}function jW(t){return dz(t)}function VW(t){return DI(t)}function po(t,e){return t&&e?hH(t,e):!t&&!e}function ti(t,e){return t&&e?uH(t,e):!t&&!e}function w0(t,e){return t&&e?cH(t,e):!t&&!e}function Ut(t,e){return t&&e?hz(t,e):!t&&!e}function Ou(t,e){return t&&e?fq(t,e):!t&&!e}function nd(t,e,n){var r,i=ic(e),s=NI(n);try{r=rp(t,{start:i,end:s})}catch{r=!1}return r}function h_(){var t=tC();return t.__localeId__}function Kh(t){if(typeof t=="string"){var e=tC();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function BW(t,e,n){return e(En(t,"EEEE",n))}function UW(t,e){return En(t,"EEEEEE",e)}function zW(t,e){return En(t,"EEE",e)}function f_(t,e){return En(ns(Qt(),t),"LLLL",e)}function nC(t,e){return En(ns(Qt(),t),"LLL",e)}function qW(t,e){return En(Jc(Qt(),t),"QQQ",e)}function ss(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.excludeDateIntervals,a=n.includeDates,l=n.includeDateIntervals,u=n.filterDate;return Pp(t,{minDate:r,maxDate:i})||s&&s.some(function(c){return c instanceof Date?Ut(t,c):Ut(t,c.date)})||o&&o.some(function(c){var d=c.start,g=c.end;return rp(t,{start:d,end:g})})||a&&!a.some(function(c){return Ut(t,c)})||l&&!l.some(function(c){var d=c.start,g=c.end;return rp(t,{start:d,end:g})})||u&&!u(Qt(t))||!1}function d_(t,e){var n=e===void 0?{}:e,r=n.excludeDates,i=n.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var o=s.start,a=s.end;return rp(t,{start:o,end:a})}):r&&r.some(function(s){var o;return s instanceof Date?Ut(t,s):Ut(t,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function rC(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return Pp(t,{minDate:r?RI(r):void 0,maxDate:i?DI(i):void 0})||(s==null?void 0:s.some(function(l){return ti(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return ti(t,l)})||a&&!a(Qt(t))||!1}function Pm(t,e,n,r){var i=It(t),s=ri(t),o=It(e),a=ri(e),l=It(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function HW(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates;return Pp(t,{minDate:r,maxDate:i})||s&&s.some(function(a){return ti(a instanceof Date?a:a.date,t)})||o&&!o.some(function(a){return ti(a,t)})||!1}function Im(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate;return Pp(t,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(l){return w0(t,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return w0(t,l)})||a&&!a(Qt(t))||!1}function Cm(t,e,n){if(!e||!n||!u0(e)||!u0(n))return!1;var r=It(e),i=It(n);return r<=t&&i>=t}function cg(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.maxDate,s=n.excludeDates,o=n.includeDates,a=n.filterDate,l=new Date(t,0,1);return Pp(l,{minDate:r?vv(r):void 0,maxDate:i?LI(i):void 0})||(s==null?void 0:s.some(function(u){return po(l,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return po(l,u)})||a&&!a(Qt(l))||!1}function Nm(t,e,n,r){var i=It(t),s=qu(t),o=It(e),a=qu(e),l=It(r);return i===o&&i===l?s<=n&&n<=a:i<o?l===i&&s<=n||l===o&&a>=n||l<o&&l>i:!1}function Pp(t,e){var n,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(n=i&&Hh(t,i)<0||s&&Hh(t,s)>0)!==null&&n!==void 0?n:!1}function Ux(t,e){return e.some(function(n){return da(n)===da(t)&&pa(n)===pa(t)&&Fl(n)===Fl(t)})}function zx(t,e){var n=e===void 0?{}:e,r=n.excludeTimes,i=n.includeTimes,s=n.filterTime;return r&&Ux(t,r)||i&&!Ux(t,i)||s&&!s(t)||!1}function qx(t,e){var n=e.minTime,r=e.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var i=Qt();i=sg(i,da(t)),i=og(i,pa(t)),i=ag(i,Fl(t));var s=Qt();s=sg(s,da(n)),s=og(s,pa(n)),s=ag(s,Fl(n));var o=Qt();o=sg(o,da(r)),o=og(o,pa(r)),o=ag(o,Fl(r));var a;try{a=!rp(i,{start:s,end:o})}catch{a=!1}return a}function Hx(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Hu(t,1);return r&&c0(r,s)>0||i&&i.every(function(o){return c0(o,s)>0})||!1}function Wx(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=Us(t,1);return r&&c0(s,r)>0||i&&i.every(function(o){return c0(s,o)>0})||!1}function WW(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=vv(t),o=qI(s);return r&&h0(r,o)>0||i&&i.every(function(a){return h0(a,o)>0})||!1}function $W(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=LI(t),o=e_(s,1);return r&&h0(o,r)>0||i&&i.every(function(a){return h0(o,a)>0})||!1}function $x(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.includeDates,s=Wh(t,1);return r&&f0(r,s)>0||i&&i.every(function(o){return f0(o,s)>0})||!1}function YW(t,e){var n=e===void 0?{}:e,r=n.minDate,i=n.yearItemNumber,s=i===void 0?Ap:i,o=td(Wh(t,s)),a=bl(o,s).endPeriod,l=r&&It(r);return l&&l>a||!1}function Yx(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.includeDates,s=ha(t,1);return r&&f0(s,r)>0||i&&i.every(function(o){return f0(s,o)>0})||!1}function GW(t,e){var n=e===void 0?{}:e,r=n.maxDate,i=n.yearItemNumber,s=i===void 0?Ap:i,o=ha(t,s),a=bl(o,s).startPeriod,l=r&&It(r);return l&&l<a||!1}function iC(t){var e=t.minDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Hh(i,e)>=0});return bx(r)}else return n?bx(n):e}function sC(t){var e=t.maxDate,n=t.includeDates;if(n&&e){var r=n.filter(function(i){return Hh(i,e)<=0});return _x(r)}else return n?_x(n):e}function Gx(t,e){var n;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=t.length;i<s;i++){var o=t[i];if(fa(o)){var a=En(o,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(e)||(l.push(e),r.set(a,l))}else if(typeof o=="object"){var u=Object.keys(o),c=(n=u[0])!==null&&n!==void 0?n:"",d=o[c];if(typeof c=="string"&&Array.isArray(d))for(var g=0,p=d.length;g<p;g++){var _=d[g];if(_){var a=En(_,"MM.dd.yyyy"),l=r.get(a)||[];l.includes(c)||(l.push(c),r.set(a,l))}}}}return r}function KW(t,e){return t.length!==e.length?!1:t.every(function(n,r){return n===e[r]})}function QW(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var n=new Map;return t.forEach(function(r){var i=r.date,s=r.holidayName;if(fa(i)){var o=En(i,"MM.dd.yyyy"),a=n.get(o)||{className:"",holidayNames:[]};if(!("className"in a&&a.className===e&&KW(a.holidayNames,[s]))){a.className=e;var l=a.holidayNames;a.holidayNames=l?_o(_o([],l,!0),[s],!1):[s],n.set(o,a)}}}),n}function JW(t,e,n,r,i){for(var s=i.length,o=[],a=0;a<s;a++){var l=t,u=i[a];u&&(l=az(l,da(u)),l=Y2(l,pa(u)),l=cz(l,Fl(u)));var c=Y2(t,(n+1)*r);Ql(l,e)&&sc(l,c)&&u!=null&&o.push(u)}return o}function Kx(t){return t<10?"0".concat(t):"".concat(t)}function bl(t,e){e===void 0&&(e=Ap);var n=Math.ceil(It(t)/e)*e,r=n-(e-1);return{startPeriod:r,endPeriod:n}}function XW(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+n-+e)/36e5)}function Qx(t){var e=t.getSeconds(),n=t.getMilliseconds();return rt(t.getTime()-e*1e3-n)}function ZW(t,e){return Qx(t).getTime()===Qx(e).getTime()}function Jx(t){if(!fa(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function Xx(t,e){if(!fa(t)||!fa(e))throw new Error("Invalid date received");var n=Jx(t),r=Jx(e);return sc(n,r)}function oC(t){return t.key===Ge.Space}var e$=function(t){vr(e,t);function e(n){var r=t.call(this,n)||this;return r.inputRef=be.createRef(),r.onTimeChange=function(i){var s,o;r.setState({time:i});var a=r.props.date,l=a instanceof Date&&!isNaN(+a),u=l?a:new Date;if(i!=null&&i.includes(":")){var c=i.split(":"),d=c[0],g=c[1];u.setHours(Number(d)),u.setMinutes(Number(g))}(o=(s=r.props).onChange)===null||o===void 0||o.call(s,u)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,o=s.date,a=s.timeString,l=s.customTimeInput;return l?se.cloneElement(l,{date:o,value:i,onChange:r.onTimeChange}):be.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var u;(u=r.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:i,onChange:function(u){r.onTimeChange(u.target.value||a)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},e.prototype.render=function(){return be.createElement("div",{className:"react-datepicker__input-time-container"},be.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),be.createElement("div",{className:"react-datepicker-time__input-container"},be.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e}(se.Component),t$=function(t){vr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.dayEl=se.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Ge.Space&&(r.preventDefault(),r.key=Ge.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isSameDay=function(r){return Ut(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var i=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(o){return n.isSameDayOrWeek(o)}):n.isSameDayOrWeek(n.props.selected),s=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!i&&n.isSameDayOrWeek(n.props.preSelection)&&!s},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),ss(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return d_(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Ut(n.props.day,jl(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&Ut(r,jl(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,i=r.day,s=r.highlightDates;if(!s)return!1;var o=En(i,"MM.dd.yyyy");return s.get(o)},n.getHolidaysClass=function(){var r,i=n.props,s=i.day,o=i.holidays;if(!o)return[void 0];var a=En(s,"MM.dd.yyyy");return o.has(a)?[(r=o.get(a))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:nd(i,s,o)},n.isInSelectingRange=function(){var r,i=n.props,s=i.day,o=i.selectsStart,a=i.selectsEnd,l=i.selectsRange,u=i.selectsDisabledDaysInRange,c=i.startDate,d=i.endDate,g=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(o||a||l)||!g||!u&&n.isDisabled()?!1:o&&d&&(sc(g,d)||Ou(g,d))?nd(s,g,d):a&&c&&!d&&(Ql(g,c)||Ou(g,c))||l&&c&&!d&&(Ql(g,c)||Ou(g,c))?nd(s,c,g):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.startDate,a=i.selectsStart,l=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a?Ut(s,l):Ut(s,o)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var i=n.props,s=i.day,o=i.endDate,a=i.selectsEnd,l=i.selectsRange,u=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return a||l?Ut(s,u):Ut(s,o)},n.isRangeStart=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:Ut(s,i)},n.isRangeEnd=function(){var r=n.props,i=r.day,s=r.startDate,o=r.endDate;return!s||!o?!1:Ut(o,i)},n.isWeekend=function(){var r=lq(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===ri(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(ri(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(Qt())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var i=n.props.dayClassName?n.props.dayClassName(r):void 0;return Sn("react-datepicker__day",i,"react-datepicker__day--"+FW(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,a=r.ariaLabelPrefixWhenDisabled,l=a===void 0?"Not available":a,u=n.isDisabled()||n.isExcluded()?l:o;return"".concat(u," ").concat(En(i,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,i=r.day,s=r.holidays,o=s===void 0?new Map:s,a=r.excludeDates,l=En(i,"MM.dd.yyyy"),u=[];return o.has(l)&&u.push.apply(u,o.get(l).holidayNames),n.isExcluded()&&u.push(a==null?void 0:a.filter(function(c){return c instanceof Date?Ut(c,i):Ut(c==null?void 0:c.date,i)}).map(function(c){if(!(c instanceof Date))return c==null?void 0:c.message})),u.join(", ")},n.getTabIndex=function(){var r=n.props.selected,i=n.props.preSelection,s=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&Ut(i,r))?0:-1;return s},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(Px(n.props.day),n.props.day):Px(n.props.day)},n.render=function(){return be.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&be.createElement("span",{className:"overlay"},n.getTitle()))},n}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},e.prototype.isDayActiveElement=function(){var n,r,i;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e}(se.Component),n$=function(t){vr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.weekNumberEl=se.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var i,s,o=r.key;o===Ge.Space&&(r.preventDefault(),r.key=Ge.Enter),(s=(i=n.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Ut(n.props.date,n.props.selected)&&Ut(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Ut(n.props.date,n.props.selected)&&Ut(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var i=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Ut(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(i=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},e.prototype.render=function(){var n=this.props,r=n.weekNumber,i=n.isWeekDisabled,s=n.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,a=n.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!a&&!i,"react-datepicker__week-number--selected":!!a&&Ut(this.props.date,this.props.selected)};return be.createElement("div",{ref:this.weekNumberEl,className:Sn(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},e}(se.Component),r$=function(t){vr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isDisabled=function(r){return ss(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,i){n.props.onDayClick&&n.props.onDayClick(r,i)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,i,s){for(var o,a,l,u=new Date(r),c=0;c<7;c++){var d=new Date(r);d.setDate(d.getDate()+c);var g=!n.isDisabled(d);if(g){u=d;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(u,i,s),n.props.showWeekPicker&&n.handleDayClick(u,s),((o=n.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((l=(a=n.props).setOpen)===null||l===void 0||l.call(a,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):MW(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),i=Fs(r,6),s=new Date(r);s<=i;){if(!n.isDisabled(s))return!1;s=Fs(s,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),i=[],s=n.formatWeekNumber(r);if(n.props.showWeekNumber){var o=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,s):void 0;i.push(be.createElement(n$,zt({key:"W"},e.defaultProps,n.props,{weekNumber:s,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:o})))}return i.concat([0,1,2,3,4,5,6].map(function(a){var l=Fs(r,a);return be.createElement(t$,zt({},e.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:n.handleDayClick.bind(n,l),onMouseEnter:n.handleDayMouseEnter.bind(n,l)}))}))},n.startOfWeek=function(){return jl(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Ut(n.startOfWeek(),n.props.selected)&&Ut(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Ut(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return be.createElement("div",{className:Sn(n)},this.renderDays())},e}(se.Component),$f,i$=6,xh={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Jy=($f={},$f[xh.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},$f[xh.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},$f[xh.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},$f),Dm=1;function Zx(t,e){return t?xh.FOUR_COLUMNS:e?xh.TWO_COLUMNS:xh.THREE_COLUMNS}var s$=function(t){vr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.MONTH_REFS=_o([],Array(12),!0).map(function(){return se.createRef()}),n.QUARTER_REFS=_o([],Array(4),!0).map(function(){return se.createRef()}),n.isDisabled=function(r){return ss(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return d_(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,i){var s,o;(o=(s=n.props).onDayClick)===null||o===void 0||o.call(s,r,i,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var i,s;(s=(i=n.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},n.handleMouseLeave=function(){var r,i;(i=(r=n.props).onMouseLeave)===null||i===void 0||i.call(r)},n.isRangeStartMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:ti(ns(s,r),o)},n.isRangeStartQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:w0(Jc(s,r),o)},n.isRangeEndMonth=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:ti(ns(s,r),a)},n.isRangeEndQuarter=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate;return!o||!a?!1:w0(Jc(s,r),a)},n.isInSelectingRangeMonth=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,c=s.startDate,d=s.endDate,g=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||u)||!g?!1:a&&d?Pm(g,d,r,o):l&&c||u&&c&&!d?Pm(c,g,r,o):!1},n.isSelectingMonthRangeStart=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.startDate,l=s.selectsStart,u=ns(o,r),c=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l?ti(u,c):ti(u,a)},n.isSelectingMonthRangeEnd=function(r){var i;if(!n.isInSelectingRangeMonth(r))return!1;var s=n.props,o=s.day,a=s.endDate,l=s.selectsEnd,u=s.selectsRange,c=ns(o,r),d=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return l||u?ti(c,d):ti(c,a)},n.isInSelectingRangeQuarter=function(r){var i,s=n.props,o=s.day,a=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,c=s.startDate,d=s.endDate,g=(i=n.props.selectingDate)!==null&&i!==void 0?i:n.props.preSelection;return!(a||l||u)||!g?!1:a&&d?Nm(g,d,r,o):l&&c||u&&c&&!d?Nm(c,g,r,o):!1},n.isWeekInMonth=function(r){var i=n.props.day,s=Fs(r,6);return ti(r,i)||ti(s,i)},n.isCurrentMonth=function(r,i){return It(r)===It(Qt())&&i===ri(Qt())},n.isCurrentQuarter=function(r,i){return It(r)===It(Qt())&&i===qu(Qt())},n.isSelectedMonth=function(r,i,s){return ri(s)===i&&It(r)===It(s)},n.isSelectMonthInList=function(r,i,s){return s.some(function(o){return n.isSelectedMonth(r,i,o)})},n.isSelectedQuarter=function(r,i,s){return qu(r)===i&&It(r)===It(s)},n.renderWeeks=function(){for(var r=[],i=n.props.fixedHeight,s=0,o=!1,a=jl(ma(n.props.day),n.props.locale,n.props.calendarStartDay),l=function(_){return n.props.showWeekPicker?jl(_,n.props.locale,n.props.calendarStartDay):n.props.preSelection},u=function(_){return n.props.showWeekPicker?jl(_,n.props.locale,n.props.calendarStartDay):n.props.selected},c=n.props.selected?u(n.props.selected):void 0,d=n.props.preSelection?l(n.props.preSelection):void 0;r.push(be.createElement(r$,zt({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:s,day:a,month:ri(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:c,preSelection:d,showWeekNumber:n.props.showWeekNumbers}))),!o;){s++,a=l0(a,1);var g=i&&s>=i$,p=!i&&!n.isWeekInMonth(a);if(g||p)if(n.props.peekNextMonth)o=!0;else break}return r},n.onMonthClick=function(r,i){var s=n.isMonthDisabledForLabelDate(i),o=s.isDisabled,a=s.labelDate;o||n.handleDayClick(ma(a),r)},n.onMonthMouseEnter=function(r){var i=n.isMonthDisabledForLabelDate(r),s=i.isDisabled,o=i.labelDate;s||n.handleDayMouseEnter(ma(o))},n.handleMonthNavigation=function(r,i){var s,o,a,l;(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.MONTH_REFS[r])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus()},n.handleKeyboardNavigation=function(r,i,s){var o,a=n.props,l=a.selected,u=a.preSelection,c=a.setPreSelection,d=a.minDate,g=a.maxDate,p=a.showFourColumnMonthYearPicker,_=a.showTwoColumnMonthYearPicker;if(u){var S=Zx(p,_),T=n.getVerticalOffset(S),y=(o=Jy[S])===null||o===void 0?void 0:o.grid,b=function(N,k,D){var L,x,I=k,R=D;switch(N){case Ge.ArrowRight:I=Us(k,Dm),R=D===11?0:D+Dm;break;case Ge.ArrowLeft:I=Hu(k,Dm),R=D===0?11:D-Dm;break;case Ge.ArrowUp:I=Hu(k,T),R=!((L=y==null?void 0:y[0])===null||L===void 0)&&L.includes(D)?D+12-T:D-T;break;case Ge.ArrowDown:I=Us(k,T),R=!((x=y==null?void 0:y[y.length-1])===null||x===void 0)&&x.includes(D)?D-12+T:D+T;break}return{newCalculatedDate:I,newCalculatedMonth:R}},A=function(N,k,D){for(var L=40,x=N,I=!1,R=0,$=b(x,k,D),X=$.newCalculatedDate,Q=$.newCalculatedMonth;!I;){if(R>=L){X=k,Q=D;break}if(d&&X<d){x=Ge.ArrowRight;var re=b(x,X,Q);X=re.newCalculatedDate,Q=re.newCalculatedMonth}if(g&&X>g){x=Ge.ArrowLeft;var re=b(x,X,Q);X=re.newCalculatedDate,Q=re.newCalculatedMonth}if(HW(X,n.props)){var re=b(x,X,Q);X=re.newCalculatedDate,Q=re.newCalculatedMonth}else I=!0;R++}return{newCalculatedDate:X,newCalculatedMonth:Q}};if(i===Ge.Enter){n.isMonthDisabled(s)||(n.onMonthClick(r,s),c==null||c(l));return}var j=A(i,u,s),Y=j.newCalculatedDate,J=j.newCalculatedMonth;switch(i){case Ge.ArrowRight:case Ge.ArrowLeft:case Ge.ArrowUp:case Ge.ArrowDown:n.handleMonthNavigation(J,Y);break}}},n.getVerticalOffset=function(r){var i,s;return(s=(i=Jy[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},n.onMonthKeyDown=function(r,i){var s=n.props,o=s.disabledKeyboardNavigation,a=s.handleOnMonthKeyDown,l=r.key;l!==Ge.Tab&&r.preventDefault(),o||n.handleKeyboardNavigation(r,l,i),a&&a(r)},n.onQuarterClick=function(r,i){var s=Jc(n.props.day,i);Im(s,n.props)||n.handleDayClick(jx(s),r)},n.onQuarterMouseEnter=function(r){var i=Jc(n.props.day,r);Im(i,n.props)||n.handleDayMouseEnter(jx(i))},n.handleQuarterNavigation=function(r,i){var s,o,a,l;n.isDisabled(i)||n.isExcluded(i)||((o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,i),(l=(a=n.QUARTER_REFS[r-1])===null||a===void 0?void 0:a.current)===null||l===void 0||l.focus())},n.onQuarterKeyDown=function(r,i){var s,o,a=r.key;if(!n.props.disabledKeyboardNavigation)switch(a){case Ge.Enter:n.onQuarterClick(r,i),(o=(s=n.props).setPreSelection)===null||o===void 0||o.call(s,n.props.selected);break;case Ge.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===4?1:i+1,e_(n.props.preSelection,1));break;case Ge.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(i===1?4:i-1,qI(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var i,s=n.props,o=s.day,a=s.minDate,l=s.maxDate,u=s.excludeDates,c=s.includeDates,d=ns(o,r);return{isDisabled:(i=(a||l||u||c)&&rC(d,n.props))!==null&&i!==void 0?i:!1,labelDate:d}},n.isMonthDisabled=function(r){var i=n.isMonthDisabledForLabelDate(r).isDisabled;return i},n.getMonthClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.preSelection,u=i.monthClassName,c=u?u(ns(s,r)):void 0,d=n.getSelection();return Sn("react-datepicker__month-text","react-datepicker__month-".concat(r),c,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":d?n.isSelectMonthInList(s,r,d):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&l&&n.isSelectedMonth(s,r,l)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":o&&a?Pm(o,a,r,s):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(s,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=ri(n.props.preSelection),s=n.isMonthDisabledForLabelDate(i).isDisabled,o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var i=qu(n.props.preSelection),s=Im(n.props.day,n.props),o=r===i&&!(s||n.props.disabledKeyboardNavigation)?"0":"-1";return o},n.getAriaLabel=function(r){var i=n.props,s=i.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,a=i.disabledDayAriaLabelPrefix,l=a===void 0?"Not available":a,u=i.day,c=i.locale,d=ns(u,r),g=n.isDisabled(d)||n.isExcluded(d)?l:o;return"".concat(g," ").concat(En(d,"MMMM yyyy",c))},n.getQuarterClassNames=function(r){var i=n.props,s=i.day,o=i.startDate,a=i.endDate,l=i.selected,u=i.minDate,c=i.maxDate,d=i.excludeDates,g=i.includeDates,p=i.filterDate,_=i.preSelection,S=i.disabledKeyboardNavigation,T=(u||c||d||g||p)&&Im(Jc(s,r),n.props);return Sn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":T,"react-datepicker__quarter-text--selected":l?n.isSelectedQuarter(s,r,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!S&&_&&n.isSelectedQuarter(s,r,_)&&!T,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":o&&a?Nm(o,a,r,s):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":n.isCurrentQuarter(s,r)})},n.getMonthContent=function(r){var i=n.props,s=i.showFullMonthYearPicker,o=i.renderMonthContent,a=i.locale,l=i.day,u=nC(r,a),c=f_(r,a);return o?o(r,u,c,l):s?c:u},n.getQuarterContent=function(r){var i,s=n.props,o=s.renderQuarterContent,a=s.locale,l=qW(r,a);return(i=o==null?void 0:o(r,l))!==null&&i!==void 0?i:l},n.renderMonths=function(){var r,i=n.props,s=i.showTwoColumnMonthYearPicker,o=i.showFourColumnMonthYearPicker,a=i.day,l=i.selected,u=(r=Jy[Zx(o,s)])===null||r===void 0?void 0:r.grid;return u==null?void 0:u.map(function(c,d){return be.createElement("div",{className:"react-datepicker__month-wrapper",key:d},c.map(function(g,p){return be.createElement("div",{ref:n.MONTH_REFS[g],key:p,onClick:function(_){n.onMonthClick(_,g)},onKeyDown:function(_){oC(_)&&(_.preventDefault(),_.key=Ge.Enter),n.onMonthKeyDown(_,g)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(g)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(g)}:void 0,tabIndex:Number(n.getTabIndex(g)),className:n.getMonthClassNames(g),"aria-disabled":n.isMonthDisabled(g),role:"option","aria-label":n.getAriaLabel(g),"aria-current":n.isCurrentMonth(a,g)?"date":void 0,"aria-selected":l?n.isSelectedMonth(a,g,l):void 0},n.getMonthContent(g))}))})},n.renderQuarters=function(){var r=n.props,i=r.day,s=r.selected,o=[1,2,3,4];return be.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(a,l){return be.createElement("div",{key:l,ref:n.QUARTER_REFS[l],role:"option",onClick:function(u){n.onQuarterClick(u,a)},onKeyDown:function(u){n.onQuarterKeyDown(u,a)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(a)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(a)}:void 0,className:n.getQuarterClassNames(a),"aria-selected":s?n.isSelectedQuarter(i,a,s):void 0,tabIndex:Number(n.getQuarterTabIndex(a)),"aria-current":n.isCurrentQuarter(i,a)?"date":void 0},n.getQuarterContent(a))}))},n.getClassNames=function(){var r=n.props,i=r.selectingDate,s=r.selectsStart,o=r.selectsEnd,a=r.showMonthYearPicker,l=r.showQuarterYearPicker,u=r.showWeekPicker;return Sn("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||o)},{"react-datepicker__monthPicker":a},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":u})},n}return e.prototype.getSelection=function(){var n=this.props,r=n.selected,i=n.selectedDates,s=n.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,i=n.showQuarterYearPicker,s=n.day,o=n.ariaLabelPrefix,a=o===void 0?"Month ":o,l=a?a.trim()+" ":"";return be.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(En(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():i?this.renderQuarters():this.renderWeeks())},e}(se.Component),o$=function(t){vr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,i){return be.createElement("div",{className:n.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,i),"aria-selected":n.isSelectedMonth(i)?"true":void 0},n.isSelectedMonth(i)?be.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return e.prototype.render=function(){return be.createElement(Sv,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e}(se.Component),a$=function(t){vr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(i,s){return be.createElement("option",{key:i,value:s},i)})},n.renderSelectMode=function(r){return be.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(i){return n.onChange(parseInt(i.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,i){return be.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},be.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),be.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[n.props.month]))},n.renderDropdown=function(r){return be.createElement(o$,zt({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var i=n.state.dropdownVisible,s=[n.renderReadView(!i,r)];return i&&s.unshift(n.renderDropdown(r)),s},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return nC(s,n.props.locale)}:function(s){return f_(s,n.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return be.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e}(se.Component);function l$(t,e){for(var n=[],r=ma(t),i=ma(e);!Ql(r,i);)n.push(Qt(r)),r=Us(r,1);return n}var u$=function(t){vr(e,t);function e(n){var r=t.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=Q2(i),o=po(r.props.date,i)&&ti(r.props.date,i);return be.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":o?"true":void 0},o?be.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",En(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:l$(r.props.minDate,r.props.maxDate)},r}return e.prototype.render=function(){var n=Sn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return be.createElement(Sv,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(se.Component),c$=function(t){vr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=ma(n.props.minDate),i=ma(n.props.maxDate),s=[];!Ql(r,i);){var o=Q2(r);s.push(be.createElement("option",{key:o,value:o},En(r,n.props.dateFormat,n.props.locale))),r=Us(r,1)}return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return be.createElement("select",{value:Q2(ma(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var i=En(n.props.date,n.props.dateFormat,n.props.locale);return be.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},be.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),be.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},n.renderDropdown=function(){return be.createElement(u$,zt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown();var i=Qt(r);po(n.props.date,i)&&ti(n.props.date,i)||n.props.onChange(i)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return be.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(se.Component),h$=function(t){vr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;n.list&&(n.list.scrollTop=(s=n.centerLi&&e.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((i=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):n.list.clientHeight,n.centerLi))!==null&&s!==void 0?s:0)})},n.handleClick=function(r){var i,s;(n.props.minTime||n.props.maxTime)&&qx(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&zx(r,n.props)||(s=(i=n.props).onChange)===null||s===void 0||s.call(i,r)},n.isSelectedTime=function(r){return n.props.selected&&ZW(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&qx(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&zx(r,n.props)},n.liClasses=function(r){var i,s=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(da(r)*3600+pa(r)*60+Fl(r))%(((i=n.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},n.handleOnKeyDown=function(r,i){var s,o;r.key===Ge.Space&&(r.preventDefault(),r.key=Ge.Enter),(r.key===Ge.ArrowUp||r.key===Ge.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===Ge.ArrowDown||r.key===Ge.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===Ge.Enter&&n.handleClick(i),(o=(s=n.props).handleOnKeyDown)===null||o===void 0||o.call(s,r)},n.renderTimes=function(){for(var r,i=[],s=typeof n.props.format=="string"?n.props.format:"p",o=(r=n.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,a=n.props.selected||n.props.openToDate||Qt(),l=ug(a),u=n.props.injectTimes&&n.props.injectTimes.sort(function(T,y){return T.getTime()-y.getTime()}),c=60*XW(a),d=c/o,g=0;g<d;g++){var p=Y2(l,g*o);if(i.push(p),u){var _=JW(l,p,g,o,u);i=i.concat(_)}}var S=i.reduce(function(T,y){return y.getTime()<=a.getTime()?y:T},i[0]);return i.map(function(T){return be.createElement("li",{key:T.valueOf(),onClick:n.handleClick.bind(n,T),className:n.liClasses(T),ref:function(y){T===S&&(n.centerLi=y)},onKeyDown:function(y){n.handleOnKeyDown(y,T)},tabIndex:T===S?0:-1,role:"option","aria-selected":n.isSelectedTime(T)?"true":void 0,"aria-disabled":n.isDisabledTime(T)?"true":void 0},En(T,s,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?be.createElement(be.Fragment,null):be.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},be.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var n;(n=this.resizeObserver)===null||n===void 0||n.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var n=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){n.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var n=this,r,i=this.state.height;return be.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),be.createElement("div",{className:"react-datepicker__time"},be.createElement("div",{className:"react-datepicker__time-box"},be.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){n.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},e}(se.Component),eT=3,f$=function(t){vr(e,t);function e(n){var r=t.call(this,n)||this;return r.YEAR_REFS=_o([],Array(r.props.yearItemNumber),!0).map(function(){return se.createRef()}),r.isDisabled=function(i){return ss(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return d_(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var o,a;(a=(o=r.YEAR_REFS[i])===null||o===void 0?void 0:o.current)===null||a===void 0||a.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var o,a,l,u,c=r.props,d=c.date,g=c.yearItemNumber;if(!(d===void 0||g===void 0)){var p=bl(d,g).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,s),i-p<0?r.updateFocusOnPaginate(g-(p-i)):i-p>=g?r.updateFocusOnPaginate(Math.abs(g-(i-p))):(u=(l=r.YEAR_REFS[i-p])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())}},r.isSameDay=function(i,s){return Ut(i,s)},r.isCurrentYear=function(i){return i===It(Qt())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&po(fo(Qt(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&po(fo(Qt(),i),r.props.endDate)},r.isInRange=function(i){return Cm(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,o=s.selectsStart,a=s.selectsEnd,l=s.selectsRange,u=s.startDate,c=s.endDate;return!(o||a||l)||!r.selectingDate()?!1:o&&c?Cm(i,r.selectingDate(),c):a&&u||l&&u&&!c?Cm(i,u,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.startDate,l=o.selectsStart,u=fo(Qt(),i);return l?po(u,(s=r.selectingDate())!==null&&s!==void 0?s:null):po(u,a??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var o=r.props,a=o.endDate,l=o.selectsEnd,u=o.selectsRange,c=fo(Qt(),i);return l||u?po(c,(s=r.selectingDate())!==null&&s!==void 0?s:null):po(c,a??null)},r.isKeyboardSelected=function(i){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var s=r.props,o=s.minDate,a=s.maxDate,l=s.excludeDates,u=s.includeDates,c=s.filterDate,d=td(fo(r.props.date,i)),g=(o||a||l||u||c)&&cg(i,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Ut(d,td(r.props.selected))&&Ut(d,td(r.props.preSelection))&&!g}},r.isSelectedYear=function(i){var s=r.props,o=s.selectsMultiple,a=s.selected,l=s.selectedDates;return o?l==null?void 0:l.some(function(u){return i===It(u)}):!a||i===It(a)},r.onYearClick=function(i,s){var o=r.props.date;o!==void 0&&r.handleYearClick(td(fo(o,s)),i)},r.onYearKeyDown=function(i,s){var o,a,l=i.key,u=r.props,c=u.date,d=u.yearItemNumber,g=u.handleOnKeyDown;if(l!==Ge.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case Ge.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(a=(o=r.props).setPreSelection)===null||a===void 0||a.call(o,r.props.selected);break;case Ge.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,ha(r.props.preSelection,1));break;case Ge.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,Wh(r.props.preSelection,1));break;case Ge.ArrowUp:{if(c===void 0||d===void 0||r.props.preSelection==null)break;var p=bl(c,d).startPeriod,_=eT,S=s-_;if(S<p){var T=d%_;s>=p&&s<p+T?_=T:_+=T,S=s-_}r.handleYearNavigation(S,Wh(r.props.preSelection,_));break}case Ge.ArrowDown:{if(c===void 0||d===void 0||r.props.preSelection==null)break;var y=bl(c,d).endPeriod,_=eT,S=s+_;if(S>y){var T=d%_;s<=y&&s>y-T?_=T:_+=T,S=s+_}r.handleYearNavigation(S,ha(r.props.preSelection,_));break}}g&&g(i)},r.getYearClassNames=function(i){var s=r.props,o=s.date,a=s.minDate,l=s.maxDate,u=s.excludeDates,c=s.includeDates,d=s.filterDate,g=s.yearClassName;return Sn("react-datepicker__year-text","react-datepicker__year-".concat(i),o?g==null?void 0:g(fo(o,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(a||l||u||c||d)&&cg(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=It(r.props.preSelection),o=cg(i,r.props);return i===s&&!o?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var n=this,r=[],i=this.props,s=i.date,o=i.yearItemNumber,a=i.onYearMouseEnter,l=i.onYearMouseLeave;if(s===void 0)return null;for(var u=bl(s,o),c=u.startPeriod,d=u.endPeriod,g=function(S){r.push(be.createElement("div",{ref:p.YEAR_REFS[S-c],onClick:function(T){n.onYearClick(T,S)},onKeyDown:function(T){oC(T)&&(T.preventDefault(),T.key=Ge.Enter),n.onYearKeyDown(T,S)},tabIndex:Number(p.getYearTabIndex(S)),className:p.getYearClassNames(S),onMouseEnter:p.props.usePointerEvent?void 0:function(T){return a(T,S)},onPointerEnter:p.props.usePointerEvent?function(T){return a(T,S)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(T){return l(T,S)},onPointerLeave:p.props.usePointerEvent?function(T){return l(T,S)}:void 0,key:S,"aria-current":p.isCurrentYear(S)?"date":void 0},p.getYearContent(S)))},p=this,_=c;_<=d;_++)g(_);return be.createElement("div",{className:"react-datepicker__year"},be.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e}(se.Component);function d$(t,e,n,r){for(var i=[],s=0;s<2*e+1;s++){var o=t+e-s,a=!0;n&&(a=It(n)<=o),r&&a&&(a=It(r)>=o),a&&i.push(o)}return i}var p$=function(t){vr(e,t);function e(n){var r=t.call(this,n)||this;r.renderOptions=function(){var a=r.props.year,l=r.state.yearsList.map(function(d){return be.createElement("div",{className:a===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:r.onChange.bind(r,d),"aria-selected":a===d?"true":void 0},a===d?be.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",d)}),u=r.props.minDate?It(r.props.minDate):null,c=r.props.maxDate?It(r.props.maxDate):null;return(!c||!r.state.yearsList.find(function(d){return d===c}))&&l.unshift(be.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},be.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(d){return d===u}))&&l.push(be.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},be.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(a){r.props.onChange(a)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(a){var l=r.state.yearsList.map(function(u){return u+a});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=n.yearDropdownItemNumber,s=n.scrollableYearDropdown,o=i||(s?10:5);return r.state={yearsList:d$(r.props.year,o,r.props.minDate,r.props.maxDate)},r.dropdownRef=se.createRef(),r}return e.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;n.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},e.prototype.render=function(){var n=Sn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return be.createElement(Sv,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e}(se.Component),m$=function(t){vr(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?It(n.props.minDate):1900,i=n.props.maxDate?It(n.props.maxDate):2100,s=[],o=r;o<=i;o++)s.push(be.createElement("option",{key:o,value:o},o));return s},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return be.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return be.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(i){return n.toggleDropdown(i)}},be.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),be.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return be.createElement(p$,zt({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,i=[n.renderReadView(!r)];return r&&i.unshift(n.renderDropdown()),i},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,i){var s;(s=n.onSelect)===null||s===void 0||s.call(n,r,i),n.setOpen()},n.onSelect=function(r,i){var s,o;(o=(s=n.props).onSelect)===null||o===void 0||o.call(s,r,i)},n.setOpen=function(){var r,i;(i=(r=n.props).setOpen)===null||i===void 0||i.call(r,!0)},n}return e.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return be.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},e}(se.Component),g$=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],v$=function(t){var e=(t.className||"").split(/\s+/);return g$.some(function(n){return e.indexOf(n)>=0})},y$=function(t){vr(e,t);function e(n){var r=t.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,o;v$(i.target)&&((o=(s=r.props).onDropdownFocus)===null||o===void 0||o.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,o=i.selected,a=i.openToDate,l=iC(r.props),u=sC(r.props),c=Qt(),d=a||o||s;return d||(l&&sc(c,l)?l:u&&Ql(c,u)?u:c)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Us(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Hu(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,o){r.props.onSelect(i,s,o),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:fo(Qt(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,o,a,l;(o=(s=r.props).onYearChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(a=r.props).setOpen)===null||l===void 0||l.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!ss(i,r.props))return i;for(var s=ma(i),o=VW(i),a=fz(o,s),l=null,u=0;u<=a;u++){var c=Fs(s,u);if(!ss(c,r.props)){l=c;break}}return l},r.handleMonthChange=function(i){var s,o,a,l=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(a=(o=r.props).setOpen)===null||a===void 0||a.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var s,o;(o=(s=r.props).onMonthChange)===null||o===void 0||o.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var o=s.date;return{date:fo(o,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var o=s.date;return{date:ns(o,Number(i))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(i){r.setState(function(s){var o=s.date;return{date:fo(ns(o,ri(i)),It(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i){i===void 0&&(i=r.state.date);var s=jl(i,r.props.locale,r.props.calendarStartDay),o=[];return r.props.showWeekNumbers&&o.push(be.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(a){var l=Fs(s,a),u=r.formatWeekday(l,r.props.locale),c=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return be.createElement("div",{key:a,"aria-label":En(l,"EEEE",r.props.locale),className:Sn("react-datepicker__day-name",c)},u)}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?BW(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?zW(i,s):UW(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:Wh(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,o;if(!r.props.renderCustomHeader){var a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,u=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,c=Hu(r.state.date,u),d;switch(!0){case r.props.showMonthYearPicker:d=$x(r.state.date,r.props);break;case r.props.showYearPicker:d=YW(r.state.date,r.props);break;case r.props.showQuarterYearPicker:d=WW(r.state.date,r.props);break;default:d=Hx(c,r.props);break}if(!(!((o=r.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&d||r.props.showTimeSelectOnly)){var g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],_=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(_=r.decreaseYear),d&&r.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),_=void 0);var S=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,T=r.props,y=T.previousMonthButtonLabel,b=y===void 0?e.defaultProps.previousMonthButtonLabel:y,A=T.previousYearButtonLabel,j=A===void 0?e.defaultProps.previousYearButtonLabel:A,Y=r.props,J=Y.previousMonthAriaLabel,N=J===void 0?typeof b=="string"?b:"Previous Month":J,k=Y.previousYearAriaLabel,D=k===void 0?typeof j=="string"?j:"Previous Year":k;return be.createElement("button",{type:"button",className:p.join(" "),onClick:_,onKeyDown:r.props.handleOnKeyDown,"aria-label":S?D:N},be.createElement("span",{className:g.join(" ")},S?j:b))}}},r.increaseYear=function(){r.setState(function(i){var s,o=i.date;return{date:ha(o,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.showMonthYearPicker:s=Yx(r.state.date,r.props);break;case r.props.showYearPicker:s=GW(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=$W(r.state.date,r.props);break;default:s=Wx(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],a=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,c=r.props,d=c.nextMonthButtonLabel,g=d===void 0?e.defaultProps.nextMonthButtonLabel:d,p=c.nextYearButtonLabel,_=p===void 0?e.defaultProps.nextYearButtonLabel:p,S=r.props,T=S.nextMonthAriaLabel,y=T===void 0?typeof g=="string"?g:"Next Month":T,b=S.nextYearAriaLabel,A=b===void 0?typeof _=="string"?_:"Next Year":b;return be.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":u?A:y},be.createElement("span",{className:a.join(" ")},u?_:g))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),be.createElement("h2",{className:s.join(" ")},En(i,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return be.createElement(m$,zt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:It(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return be.createElement(a$,zt({},e.defaultProps,r.props,{month:ri(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return be.createElement(c$,zt({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(Vx(),i),r.props.setPreSelection&&r.props.setPreSelection(Vx())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return be.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(i){var s=i.monthDate,o=i.i;return be.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),be.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(o!==0),r.renderMonthYearDropdown(o!==0),r.renderYearDropdown(o!==0)),be.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))},r.renderCustomHeader=function(i){var s,o,a=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var u=Hx(r.state.date,r.props),c=Wx(r.state.date,r.props),d=$x(r.state.date,r.props),g=Yx(r.state.date,r.props),p=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return be.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(o=(s=r.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,zt(zt({},r.state),{customHeaderCount:l,monthDate:a,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:c,prevYearButtonDisabled:d,nextYearButtonDisabled:g})),p&&be.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderYearHeader=function(i){var s=i.monthDate,o=r.props,a=o.showYearPicker,l=o.yearItemNumber,u=l===void 0?e.defaultProps.yearItemNumber:l,c=bl(s,u),d=c.startPeriod,g=c.endPeriod;return be.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},a?"".concat(d," - ").concat(g):It(s))},r.renderHeader=function(i){var s=i.monthDate,o=i.i,a=o===void 0?0:o,l={monthDate:s,i:a};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var o=[],a=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?a-1:0,u=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ha(r.state.date,l):Hu(r.state.date,l),c=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,d=0;d<a;++d){var g=d-c+l,p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?ha(u,g):Us(u,g),_="month-".concat(d),S=d<a-1,T=d>0;o.push(be.createElement("div",{key:_,ref:function(y){r.monthContainer=y??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:p,i:d}),be.createElement(s$,zt({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:p,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:d,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:T}))))}return o}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return be.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),be.createElement(f$,zt({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return be.createElement(h$,zt({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i=r.props.selected?new Date(r.props.selected):void 0,s=i&&Ev(i)&&!!r.props.selected,o=s?"".concat(Kx(i.getHours()),":").concat(Kx(i.getMinutes())):"";if(r.props.showTimeInput)return be.createElement(e$,zt({},e.defaultProps,r.props,{date:i,timeString:o,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var i,s=bl(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),o=s.startPeriod,a=s.endPeriod,l;return r.props.showYearPicker?l="".concat(o," - ").concat(a):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=It(r.state.date):l="".concat(f_(ri(r.state.date),r.props.locale)," ").concat(It(r.state.date)),be.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return be.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=se.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Ap}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},e.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!Ut(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var i=!ti(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Ut(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var n=this.props.container||DW;return be.createElement(Sv,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},be.createElement("div",{style:{display:"contents"},ref:this.containerRef},be.createElement(n,{className:Sn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e}(se.Component),w$=function(t){var e=t.icon,n=t.className,r=n===void 0?"":n,i=t.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return be.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i});if(be.isValidElement(e)){var o=e;return be.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(r),onClick:function(a){typeof o.props.onClick=="function"&&o.props.onClick(a),typeof i=="function"&&i(a)}})}return be.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},be.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},aC=function(t){vr(e,t);function e(n){var r=t.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return SR.createPortal(this.props.children,this.el)},e}(se.Component),_$="[tabindex], a, button, input, select, textarea",b$=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},lC=function(t){vr(e,t);function e(n){var r=t.call(this,n)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(_$),1,-1).filter(b$)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=se.createRef(),r}return e.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:e.defaultProps.enableTabLoop)?be.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},be.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,be.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e}(se.Component);function S$(t){var e=function(n){var r,i=typeof n.hidePopper=="boolean"?n.hidePopper:!0,s=se.useRef(null),o=NW(zt({open:!i,whileElementsMounted:hW,placement:n.popperPlacement,middleware:_o([yW({padding:15}),vW(10),wW({element:s})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),a=zt(zt({},n),{hidePopper:i,popperProps:zt(zt({},o),{arrowRef:s})});return be.createElement(t,zt({},a))};return e}var E$=function(t){vr(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return Object.defineProperty(e,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var n=this.props,r=n.className,i=n.wrapperClassName,s=n.hidePopper,o=s===void 0?e.defaultProps.hidePopper:s,a=n.popperComponent,l=n.targetComponent,u=n.enableTabLoop,c=n.popperOnKeyDown,d=n.portalId,g=n.portalHost,p=n.popperProps,_=n.showArrow,S=void 0;if(!o){var T=Sn("react-datepicker-popper",r);S=be.createElement(lC,{enableTabLoop:u},be.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:T,"data-placement":p.placement,onKeyDown:c},a,_&&be.createElement(xW,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(S=se.createElement(this.props.popperContainer,{},S)),d&&!o&&(S=be.createElement(aC,{portalId:d,portalHost:g},S));var y=Sn("react-datepicker-wrapper",i);return be.createElement(be.Fragment,null,be.createElement("div",{ref:p.refs.setReference,className:y},l),S)},e}(se.Component),x$=S$(E$),tT="react-datepicker-ignore-onclickoutside";function T$(t,e){return t&&e?ri(t)!==ri(e)||It(t)!==It(e):t!==e}var Xy="Date input not valid.",k$=function(t){vr(e,t);function e(n){var r=t.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:Qt()},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,o){var a=new Date(o.date);return Ev(a)?_o(_o([],s,!0),[zt(zt({},o),{date:a})],!1):s},[])},r.calcInitialState=function(){var i,s=r.getPreSelection(),o=iC(r.props),a=sC(r.props),l=o&&sc(s,ug(o))?o:a&&Ql(s,Bx(a))?a:s;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(i=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&i!==void 0?i:l,highlightDates:Gx(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(zt(zt({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(zt(zt({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},r.setBlur=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Zy},function(){i||r.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return fa(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,o,a=r.state.wasHidden,l=a?r.state.open:!0;a&&r.resetHiddenStatus(),r.state.preventFocus||((o=(s=r.props).onFocus)===null||o===void 0||o.call(s,i),l&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(i){var s,o;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((o=(s=r.props).onBlur)===null||o===void 0||o.call(s,i)),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,o;r.props.inline||r.setOpen(!1),(o=(s=r.props).onClickOutside)===null||o===void 0||o.call(s,i),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,o,a,l,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var d=u[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,u),!d||typeof d.isDefaultPrevented!="function"||d.isDefaultPrevented()))){r.setState({inputValue:(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:null,lastPreSelectChange:A$});var g=r.props,p=g.selectsRange,_=g.startDate,S=g.endDate,T=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,y=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,b=(d==null?void 0:d.target)instanceof HTMLInputElement?d.target.value:"";if(p){var A=b.split("-",2).map(function(x){return x.trim()}),j=A[0],Y=A[1],J=Ky(j??"",T,r.props.locale,y),N=Ky(Y??"",T,r.props.locale,y),k=(_==null?void 0:_.getTime())!==(J==null?void 0:J.getTime()),D=(S==null?void 0:S.getTime())!==(N==null?void 0:N.getTime());if(!k&&!D||J&&ss(J,r.props)||N&&ss(N,r.props))return;(a=(o=r.props).onChange)===null||a===void 0||a.call(o,[J,N],d)}else{var L=Ky(b,T,r.props.locale,y,(l=r.props.selected)!==null&&l!==void 0?l:void 0);(L||!b)&&r.setSelected(L,d,!0)}}},r.handleSelect=function(i,s,o){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(i,s,!1,o),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(i);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var a=r.props,l=a.startDate,u=a.endDate;l&&!u&&(r.props.swapRange||!Xx(i,l))&&r.setOpen(!1)}},r.setSelected=function(i,s,o,a){var l,u,c=i;if(r.props.showYearPicker){if(c!==null&&cg(It(c),r.props))return}else if(r.props.showMonthYearPicker){if(c!==null&&rC(c,r.props))return}else if(c!==null&&ss(c,r.props))return;var d=r.props,g=d.onChange,p=d.selectsRange,_=d.startDate,S=d.endDate,T=d.selectsMultiple,y=d.selectedDates,b=d.minTime,A=d.swapRange;if(!Ou(r.props.selected,c)||r.props.allowSameDay||p||T)if(c!==null&&(r.props.selected&&(!o||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(c=Qy(c,{hour:da(r.props.selected),minute:pa(r.props.selected),second:Fl(r.props.selected)})),!o&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&b&&(c=Qy(c,{hour:b.getHours(),minute:b.getMinutes(),second:b.getSeconds()})),r.props.inline||r.setState({preSelection:c}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:a})),p){var j=!_&&!S,Y=_&&!S,J=_&&S;j?g==null||g([c,null],s):Y&&(c===null?g==null||g([null,null],s):Xx(c,_)?A?g==null||g([c,_],s):g==null||g([c,null],s):g==null||g([_,c],s)),J&&(g==null||g([c,null],s))}else if(T){if(c!==null)if(!(y!=null&&y.length))g==null||g([c],s);else{var N=y.some(function(D){return Ut(D,c)});if(N){var k=y.filter(function(D){return!Ut(D,c)});g==null||g(k,s)}else g==null||g(_o(_o([],y,!0),[c],!1),s)}}else g==null||g(c,s);o||((u=(l=r.props).onSelect)===null||u===void 0||u.call(l,c,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){var s=fa(r.props.minDate),o=fa(r.props.maxDate),a=!0;if(i){var l=ug(i);if(s&&o)a=nd(i,r.props.minDate,r.props.maxDate);else if(s){var u=ug(r.props.minDate);a=Ql(i,u)||Ou(l,u)}else if(o){var c=Bx(r.props.maxDate);a=sc(i,c)||Ou(l,c)}}a&&r.setState({preSelection:i})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i){var s,o;if(!(r.props.selectsRange||r.props.selectsMultiple)){var a=r.props.selected?r.props.selected:r.getPreSelection(),l=r.props.selected?i:Qy(a,{hour:da(i),minute:pa(i)});r.setState({preSelection:l}),(o=(s=r.props).onChange)===null||o===void 0||o.call(s,l),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.onInputKeyDown=function(i){var s,o,a,l,u,c;(o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i);var d=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(d===Ge.ArrowDown||d===Ge.ArrowUp||d===Ge.Enter)&&((a=r.onInputClick)===null||a===void 0||a.call(r));return}if(r.state.open){if(d===Ge.ArrowDown||d===Ge.ArrowUp){i.preventDefault();var g=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(g);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var _=Qt(r.state.preSelection);d===Ge.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Zy?(r.handleSelect(_,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(_)):r.setOpen(!1)):d===Ge.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):d===Ge.Tab&&r.setOpen(!1),r.inputOk()||(c=(u=r.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:Xy})}},r.onPortalKeyDown=function(i){var s=i.key;s===Ge.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,o,a,l,u,c,d=r.props,g=d.minDate,p=d.maxDate,_=d.disabledKeyboardNavigation,S=d.showWeekPicker,T=d.shouldCloseOnSelect,y=d.locale,b=d.calendarStartDay,A=d.adjustDateOnChange,j=d.inline;if((o=(s=r.props).onKeyDown)===null||o===void 0||o.call(s,i),!_){var Y=i.key,J=i.shiftKey,N=Qt(r.state.preSelection),k=function(X,Q){var re=Q;switch(X){case Ge.ArrowRight:re=S?l0(Q,1):Fs(Q,1);break;case Ge.ArrowLeft:re=S?Ix(Q):fH(Q);break;case Ge.ArrowUp:re=Ix(Q);break;case Ge.ArrowDown:re=l0(Q,1);break;case Ge.PageUp:re=J?Wh(Q,1):Hu(Q,1);break;case Ge.PageDown:re=J?ha(Q,1):Us(Q,1);break;case Ge.Home:re=jl(Q,y,b);break;case Ge.End:re=jW(Q);break}return re},D=function(X,Q){for(var re=40,H=X,te=!1,ie=0,Se=k(X,Q);!te;){if(ie>=re){Se=Q;break}g&&Se<g&&(H=Ge.ArrowRight,Se=ss(g,r.props)?k(H,Se):g),p&&Se>p&&(H=Ge.ArrowLeft,Se=ss(p,r.props)?k(H,Se):p),ss(Se,r.props)?((H===Ge.PageUp||H===Ge.Home)&&(H=Ge.ArrowRight),(H===Ge.PageDown||H===Ge.End)&&(H=Ge.ArrowLeft),Se=k(H,Se)):te=!0,ie++}return Se};if(Y===Ge.Enter){i.preventDefault(),r.handleSelect(N,i),!T&&r.setPreSelection(N);return}else if(Y===Ge.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(a=r.props).onInputError)===null||l===void 0||l.call(a,{code:1,msg:Xy});return}var L=null;switch(Y){case Ge.ArrowLeft:case Ge.ArrowRight:case Ge.ArrowUp:case Ge.ArrowDown:case Ge.PageUp:case Ge.PageDown:case Ge.Home:case Ge.End:L=D(Y,N);break}if(!L){(c=(u=r.props).onInputError)===null||c===void 0||c.call(u,{code:1,msg:Xy});return}if(i.preventDefault(),r.setState({lastPreSelectChange:Zy}),A&&r.setSelected(L),r.setPreSelection(L),j){var x=ri(N),I=ri(L),R=It(N),$=It(L);x!==I||R!==$?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(i){var s=i.key;s===Ge.Escape&&(i.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,o=s.selectsRange,a=s.onChange;o?a==null||a([null,null],i):a==null||a(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:be.createElement(y$,zt({showMonthYearDropdown:void 0,ref:function(o){r.calendar=o}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:QW(r.modifyHolidays()),outsideClickIgnoreClass:tT,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var i=r.props,s=i.dateFormat,o=s===void 0?e.defaultProps.dateFormat:s,a=i.locale,l=r.props.showTimeInput||r.props.showTimeSelect,u=l?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(ts(r.props.startDate,{dateFormat:u,locale:a}),". ").concat(r.props.endDate?"End date: "+ts(r.props.endDate,{dateFormat:u,locale:a}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(ts(r.props.selected,{dateFormat:o,locale:a})):r.props.showYearPicker?c="Selected year: ".concat(ts(r.props.selected,{dateFormat:"yyyy",locale:a})):r.props.showMonthYearPicker?c="Selected month: ".concat(ts(r.props.selected,{dateFormat:"MMMM yyyy",locale:a})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(ts(r.props.selected,{dateFormat:"yyyy, QQQ",locale:a})):c="Selected date: ".concat(ts(r.props.selected,{dateFormat:u,locale:a})),be.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var i,s,o,a=Sn(r.props.className,(i={},i[tT]=r.state.open,i)),l=r.props.customInput||be.createElement("input",{type:"text"}),u=r.props.customInputRef||"ref",c=r.props,d=c.dateFormat,g=d===void 0?e.defaultProps.dateFormat:d,p=c.locale,_=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?LW(r.props.startDate,r.props.endDate,{dateFormat:g,locale:p}):r.props.selectsMultiple?OW((o=r.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:g,locale:p}):ts(r.props.selected,{dateFormat:g,locale:p});return se.cloneElement(l,(s={},s[u]=function(S){r.input=S},s.value=_,s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=Sn(l.props.className,a),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s["aria-describedby"]=r.props.ariaDescribedBy,s["aria-invalid"]=r.props.ariaInvalid,s["aria-labelledby"]=r.props.ariaLabelledBy,s["aria-required"]=r.props.ariaRequired,s))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,o=i.disabled,a=i.selected,l=i.startDate,u=i.endDate,c=i.clearButtonTitle,d=i.clearButtonClassName,g=d===void 0?"":d,p=i.ariaLabelClose,_=p===void 0?"Close":p,S=i.selectedDates;return s&&(a!=null||l!=null||u!=null||S!=null&&S.length)?be.createElement("button",{type:"button",className:Sn("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":_,onClick:r.onClearClick,title:c,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ap,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(n,r){var i,s,o,a;n.inline&&T$(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:Gx(this.props.highlightDates)}),!r.focused&&!Ou(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((a=(o=this.props).onCalendarClose)===null||a===void 0||a.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,i=n.icon,s=n.calendarIconClassname,o=n.calendarIconClassName,a=n.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),be.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&be.createElement(w$,zt({icon:i,className:Sn(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},a?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?be.createElement(lC,{enableTabLoop:this.props.enableTabLoop},be.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=be.createElement(aC,zt({portalId:this.props.portalId},this.props),r)),be.createElement("div",null,this.renderInputContainer(),r)}return be.createElement(x$,zt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e}(se.Component),A$="input",Zy="navigate",uC={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(QC,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",d="month",g="quarter",p="year",_="date",S="Invalid Date",T=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function($){var X=["th","st","nd","rd"],Q=$%100;return"["+$+(X[(Q-20)%10]||X[Q]||X[0])+"]"}},A=function($,X,Q){var re=String($);return!re||re.length>=X?$:""+Array(X+1-re.length).join(Q)+$},j={s:A,z:function($){var X=-$.utcOffset(),Q=Math.abs(X),re=Math.floor(Q/60),H=Q%60;return(X<=0?"+":"-")+A(re,2,"0")+":"+A(H,2,"0")},m:function $(X,Q){if(X.date()<Q.date())return-$(Q,X);var re=12*(Q.year()-X.year())+(Q.month()-X.month()),H=X.clone().add(re,d),te=Q-H<0,ie=X.clone().add(re+(te?-1:1),d);return+(-(re+(Q-H)/(te?H-ie:ie-H))||0)},a:function($){return $<0?Math.ceil($)||0:Math.floor($)},p:function($){return{M:d,y:p,w:c,d:u,D:_,h:l,m:a,s:o,ms:s,Q:g}[$]||String($||"").toLowerCase().replace(/s$/,"")},u:function($){return $===void 0}},Y="en",J={};J[Y]=b;var N="$isDayjsObject",k=function($){return $ instanceof I||!(!$||!$[N])},D=function $(X,Q,re){var H;if(!X)return Y;if(typeof X=="string"){var te=X.toLowerCase();J[te]&&(H=te),Q&&(J[te]=Q,H=te);var ie=X.split("-");if(!H&&ie.length>1)return $(ie[0])}else{var Se=X.name;J[Se]=X,H=Se}return!re&&H&&(Y=H),H||!re&&Y},L=function($,X){if(k($))return $.clone();var Q=typeof X=="object"?X:{};return Q.date=$,Q.args=arguments,new I(Q)},x=j;x.l=D,x.i=k,x.w=function($,X){return L($,{locale:X.$L,utc:X.$u,x:X.$x,$offset:X.$offset})};var I=function(){function $(Q){this.$L=D(Q.locale,null,!0),this.parse(Q),this.$x=this.$x||Q.x||{},this[N]=!0}var X=$.prototype;return X.parse=function(Q){this.$d=function(re){var H=re.date,te=re.utc;if(H===null)return new Date(NaN);if(x.u(H))return new Date;if(H instanceof Date)return new Date(H);if(typeof H=="string"&&!/Z$/i.test(H)){var ie=H.match(T);if(ie){var Se=ie[2]-1||0,F=(ie[7]||"0").substring(0,3);return te?new Date(Date.UTC(ie[1],Se,ie[3]||1,ie[4]||0,ie[5]||0,ie[6]||0,F)):new Date(ie[1],Se,ie[3]||1,ie[4]||0,ie[5]||0,ie[6]||0,F)}}return new Date(H)}(Q),this.init()},X.init=function(){var Q=this.$d;this.$y=Q.getFullYear(),this.$M=Q.getMonth(),this.$D=Q.getDate(),this.$W=Q.getDay(),this.$H=Q.getHours(),this.$m=Q.getMinutes(),this.$s=Q.getSeconds(),this.$ms=Q.getMilliseconds()},X.$utils=function(){return x},X.isValid=function(){return this.$d.toString()!==S},X.isSame=function(Q,re){var H=L(Q);return this.startOf(re)<=H&&H<=this.endOf(re)},X.isAfter=function(Q,re){return L(Q)<this.startOf(re)},X.isBefore=function(Q,re){return this.endOf(re)<L(Q)},X.$g=function(Q,re,H){return x.u(Q)?this[re]:this.set(H,Q)},X.unix=function(){return Math.floor(this.valueOf()/1e3)},X.valueOf=function(){return this.$d.getTime()},X.startOf=function(Q,re){var H=this,te=!!x.u(re)||re,ie=x.p(Q),Se=function(we,Ne){var De=x.w(H.$u?Date.UTC(H.$y,Ne,we):new Date(H.$y,Ne,we),H);return te?De:De.endOf(u)},F=function(we,Ne){return x.w(H.toDate()[we].apply(H.toDate("s"),(te?[0,0,0,0]:[23,59,59,999]).slice(Ne)),H)},G=this.$W,ee=this.$M,oe=this.$D,ce="set"+(this.$u?"UTC":"");switch(ie){case p:return te?Se(1,0):Se(31,11);case d:return te?Se(1,ee):Se(0,ee+1);case c:var me=this.$locale().weekStart||0,_e=(G<me?G+7:G)-me;return Se(te?oe-_e:oe+(6-_e),ee);case u:case _:return F(ce+"Hours",0);case l:return F(ce+"Minutes",1);case a:return F(ce+"Seconds",2);case o:return F(ce+"Milliseconds",3);default:return this.clone()}},X.endOf=function(Q){return this.startOf(Q,!1)},X.$set=function(Q,re){var H,te=x.p(Q),ie="set"+(this.$u?"UTC":""),Se=(H={},H[u]=ie+"Date",H[_]=ie+"Date",H[d]=ie+"Month",H[p]=ie+"FullYear",H[l]=ie+"Hours",H[a]=ie+"Minutes",H[o]=ie+"Seconds",H[s]=ie+"Milliseconds",H)[te],F=te===u?this.$D+(re-this.$W):re;if(te===d||te===p){var G=this.clone().set(_,1);G.$d[Se](F),G.init(),this.$d=G.set(_,Math.min(this.$D,G.daysInMonth())).$d}else Se&&this.$d[Se](F);return this.init(),this},X.set=function(Q,re){return this.clone().$set(Q,re)},X.get=function(Q){return this[x.p(Q)]()},X.add=function(Q,re){var H,te=this;Q=Number(Q);var ie=x.p(re),Se=function(ee){var oe=L(te);return x.w(oe.date(oe.date()+Math.round(ee*Q)),te)};if(ie===d)return this.set(d,this.$M+Q);if(ie===p)return this.set(p,this.$y+Q);if(ie===u)return Se(1);if(ie===c)return Se(7);var F=(H={},H[a]=r,H[l]=i,H[o]=n,H)[ie]||1,G=this.$d.getTime()+Q*F;return x.w(G,this)},X.subtract=function(Q,re){return this.add(-1*Q,re)},X.format=function(Q){var re=this,H=this.$locale();if(!this.isValid())return H.invalidDate||S;var te=Q||"YYYY-MM-DDTHH:mm:ssZ",ie=x.z(this),Se=this.$H,F=this.$m,G=this.$M,ee=H.weekdays,oe=H.months,ce=H.meridiem,me=function(Ne,De,Be,Ve){return Ne&&(Ne[De]||Ne(re,te))||Be[De].slice(0,Ve)},_e=function(Ne){return x.s(Se%12||12,Ne,"0")},we=ce||function(Ne,De,Be){var Ve=Ne<12?"AM":"PM";return Be?Ve.toLowerCase():Ve};return te.replace(y,function(Ne,De){return De||function(Be){switch(Be){case"YY":return String(re.$y).slice(-2);case"YYYY":return x.s(re.$y,4,"0");case"M":return G+1;case"MM":return x.s(G+1,2,"0");case"MMM":return me(H.monthsShort,G,oe,3);case"MMMM":return me(oe,G);case"D":return re.$D;case"DD":return x.s(re.$D,2,"0");case"d":return String(re.$W);case"dd":return me(H.weekdaysMin,re.$W,ee,2);case"ddd":return me(H.weekdaysShort,re.$W,ee,3);case"dddd":return ee[re.$W];case"H":return String(Se);case"HH":return x.s(Se,2,"0");case"h":return _e(1);case"hh":return _e(2);case"a":return we(Se,F,!0);case"A":return we(Se,F,!1);case"m":return String(F);case"mm":return x.s(F,2,"0");case"s":return String(re.$s);case"ss":return x.s(re.$s,2,"0");case"SSS":return x.s(re.$ms,3,"0");case"Z":return ie}return null}(Ne)||ie.replace(":","")})},X.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},X.diff=function(Q,re,H){var te,ie=this,Se=x.p(re),F=L(Q),G=(F.utcOffset()-this.utcOffset())*r,ee=this-F,oe=function(){return x.m(ie,F)};switch(Se){case p:te=oe()/12;break;case d:te=oe();break;case g:te=oe()/3;break;case c:te=(ee-G)/6048e5;break;case u:te=(ee-G)/864e5;break;case l:te=ee/i;break;case a:te=ee/r;break;case o:te=ee/n;break;default:te=ee}return H?te:x.a(te)},X.daysInMonth=function(){return this.endOf(d).$D},X.$locale=function(){return J[this.$L]},X.locale=function(Q,re){if(!Q)return this.$L;var H=this.clone(),te=D(Q,re,!0);return te&&(H.$L=te),H},X.clone=function(){return x.w(this.$d,this)},X.toDate=function(){return new Date(this.valueOf())},X.toJSON=function(){return this.isValid()?this.toISOString():null},X.toISOString=function(){return this.$d.toISOString()},X.toString=function(){return this.$d.toUTCString()},$}(),R=I.prototype;return L.prototype=R,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",p],["$D",_]].forEach(function($){R[$[1]]=function(X){return this.$g(X,$[0],$[1])}}),L.extend=function($,X){return $.$i||($(X,I,L),$.$i=!0),L},L.locale=D,L.isDayjs=k,L.unix=function($){return L(1e3*$)},L.en=J[Y],L.Ls=J,L.p={},L})})(uC);var P$=uC.exports;const nT=_0(P$),I$={India:{"Tamil Nadu":{Vellore:["Sholinghur","Arcot","Gudiyattam"],Chennai:["Tambaram","T Nagar","Anna Nagar"]},Kerala:{Kollam:["Paravur","Chavara"],Ernakulam:["Kochi","Aluva"]}},USA:{California:{"Los Angeles County":["Los Angeles","Glendale"],"San Diego County":["San Diego","Chula Vista"]}}},C$=t=>{if(!document.querySelector(`script[src="${t}"]`)){const n=document.createElement("script");n.src=t,n.async=!0,document.body.appendChild(n)}},N$=({apiKey:t,onSelect:e,defaultValue:n,onLoading:r,placeholder:i})=>{const s=se.useRef(null),o=se.useRef(null),a=se.useRef(null);return se.useEffect(()=>{C$(`https://maps.googleapis.com/maps/api/js?key=${t}&libraries=places`);const l=setInterval(()=>{window.google&&window.google.maps&&window.google.maps.places&&(clearInterval(l),s.current&&(o.current=new window.google.maps.places.Autocomplete(s.current,{types:["(cities)"],componentRestrictions:{country:"in"}}),o.current.addListener("place_changed",async()=>{r&&r(!0);const u=o.current.getPlace();if(!u.geometry){r&&r(!1);return}const c=u.geometry.location.lat(),d=u.geometry.location.lng(),g=u.formatted_address||u.name;let p="";try{const _=Math.floor(Date.now()/1e3);p=(await(await fetch(`https://maps.googleapis.com/maps/api/timezone/json?location=${c},${d}&timestamp=${_}&key=${t}`)).json()).timeZoneId||""}catch{p=""}e({locationName:g,latitude:String(c),longitude:String(d),timeZone:p}),r&&r(!1)})))},300);return()=>{clearInterval(l),a.current&&clearTimeout(a.current)}},[t,e,r]),U.jsxs("div",{className:"google-places-autocomplete",style:{position:"relative"},children:[U.jsx("span",{style:{position:"absolute",left:8,top:8,color:"#888",zIndex:2},children:U.jsx("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:U.jsx("path",{d:"M21 21l-4.35-4.35M11 19a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"})})}),U.jsx("input",{ref:s,defaultValue:n,placeholder:i||"Start typing a city name (e.g., Chennai, Delhi)",style:{paddingLeft:36,width:"100%",height:36,borderRadius:6,border:"1px solid #ccc"}})]})};var D$={};const rT=D$.REACT_APP_GOOGLE_MAPS_API_KEY||"",R$=({onSubmit:t,loading:e,error:n,initialData:r})=>{var L;const[i,s]=se.useState({name:"",dateOfBirth:"",timeOfBirth:"",state:"",district:"",city:"",latitude:void 0,longitude:void 0,locationName:"",timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone,...r}),[o,a]=se.useState(r&&r.dateOfBirth?new Date(r.dateOfBirth):null);se.useEffect(()=>{r&&(s(x=>({...x,...r})),r.dateOfBirth&&a(new Date(r.dateOfBirth)))},[r]);const[l,u]=se.useState({}),[c,d]=se.useState(!1),[g,p]=se.useState(!1),[_,S]=se.useState(!1),[T,y]=se.useState(()=>{try{return JSON.parse(localStorage.getItem("astrobalendar_last_locations")||"[]")}catch{return[]}});se.useRef(null);let b=[],A=[];try{const x=I$.India;if(i.state&&x&&x[i.state]){const I=x[i.state];b=Object.keys(I),i.district&&I[i.district]&&(A=I[i.district])}}catch{b=[],A=[]}const j=["","Andhra Pradesh","Arunachal Pradesh","Assam","Bihar","Chhattisgarh","Goa","Gujarat","Haryana","Himachal Pradesh","Jharkhand","Karnataka","Kerala","Madhya Pradesh","Maharashtra","Manipur","Meghalaya","Mizoram","Nagaland","Odisha","Punjab","Rajasthan","Sikkim","Tamil Nadu","Telangana","Tripura","Uttar Pradesh","Uttarakhand","West Bengal","Andaman and Nicobar Islands","Chandigarh","Dadra and Nagar Haveli and Daman and Diu","Delhi","Jammu and Kashmir","Ladakh","Lakshadweep","Puducherry"],Y=x=>{if(!/^(\d{2})\/(\d{2})\/(\d{4})$/.test(x))return!1;const[R,$,X]=x.split("/").map(Number),Q=new Date(X,$-1,R);return!(Q.getFullYear()!==X||Q.getMonth()!==$-1||Q.getDate()!==R)},J=x=>{if(!/^(\d{2}):(\d{2})$/.test(x))return!1;const[R,$]=x.split(":").map(Number);return R>=0&&R<=23&&$>=0&&$<=59},N=x=>{const{name:I,value:R}=x.target;s($=>({...$,[I]:R})),u($=>({...$,[I]:""}))},k=x=>{a(x),x?(s(I=>({...I,dateOfBirth:nT(x).format("DD/MM/YYYY")})),u(I=>({...I,dateOfBirth:""}))):s(I=>({...I,dateOfBirth:""}))},D=async x=>{x.preventDefault(),u({});const I={};if(["name","dateOfBirth","timeOfBirth","state","district","city"].forEach(X=>{i[X]||(I[X]="This field is required")}),(!o||!Y(i.dateOfBirth))&&(I.dateOfBirth="Please enter a valid date (DD/MM/YYYY)"),i.timeOfBirth&&!J(i.timeOfBirth)&&(I.timeOfBirth="Please enter a valid time (HH:MM)"),Object.keys(I).length>0){u(I);return}if(!i.latitude||!i.longitude||!i.timeZone)try{const X=i.city.trim().toLowerCase(),Q=i.state.trim().toLowerCase(),re=i.district.trim().toLowerCase(),H=`${X}, ${Q}, india`,te={"sholinghur, tamil nadu, india":{latitude:"13.1132",longitude:"79.4182",timeZone:"Asia/Kolkata"},"sholinghur, arcot, tamil nadu, india":{latitude:"13.1132",longitude:"79.4182",timeZone:"Asia/Kolkata"},"sholinghur, vellore, tamil nadu, india":{latitude:"13.1210",longitude:"79.4182",timeZone:"Asia/Kolkata"},"mumbai, maharashtra, india":{latitude:"19.0760",longitude:"72.8777",timeZone:"Asia/Kolkata"},"delhi, delhi, india":{latitude:"28.7041",longitude:"77.1025",timeZone:"Asia/Kolkata"},"kolkata, west bengal, india":{latitude:"22.5726",longitude:"88.3639",timeZone:"Asia/Kolkata"},"hyderabad, telangana, india":{latitude:"17.3850",longitude:"78.4867",timeZone:"Asia/Kolkata"}};let ie=te[H],Se=[H];if(!ie&&i.district){const F=`${X}, ${re}, ${Q}, india`;ie=te[F],Se.push(F)}if(console.log("Location lookup keys tried:",Se),ie)s(F=>({...F,latitude:Number(ie.latitude),longitude:Number(ie.longitude),timeZone:ie.timeZone}));else throw new Error("Missing or invalid location")}catch(X){console.error("Error getting location data:",X),I.city="Could not find location data",u(I);return}const $={...i,dateOfBirth:o?nT(o).format("YYYY-MM-DD"):i.dateOfBirth,latitude:i.latitude,longitude:i.longitude,timeZone:i.timeZone};console.log("Submitting birth data:",$),t($)};return U.jsx("form",{className:"space-y-8",onSubmit:D,"aria-label":"Birth Data Form",title:"Birth Data Form",children:U.jsxs("div",{className:"space-y-6",children:[U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{className:"block text-white text-lg font-semibold",title:"Name",children:"Name"}),U.jsx("input",{type:"text",name:"name",value:i.name,onChange:N,placeholder:"Enter your name",className:"w-full px-4 py-3 rounded-lg bg-purple-900/50 text-white border border-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-400","aria-label":"Name"}),U.jsx("p",{className:"text-purple-400 text-sm mt-1",children:"Please enter your full name"}),l.name&&U.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.name})]}),U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{className:"block text-white text-lg font-semibold",title:"Date of Birth",children:"Date of Birth"}),U.jsxs("div",{className:"relative flex items-center",children:[U.jsx("span",{className:"absolute left-3 text-purple-300",title:"Calendar",children:U.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[U.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2"}),U.jsx("path",{d:"M16 2v4M8 2v4M3 10h18"})]})}),U.jsx(k$,{selected:o,onChange:k,dateFormat:"dd-MM-yyyy",placeholderText:"DD-MM-YYYY",className:"w-full px-4 py-3 pl-10 rounded-lg bg-purple-900/50 text-white border border-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-400",showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",maxDate:new Date,isClearable:!0,customInput:U.jsx("input",{type:"text",pattern:"\\d{2}-\\d{2}-\\d{4}",onBlur:()=>{u(o?x=>({...x,dateOfBirth:""}):x=>({...x,dateOfBirth:"Date is required"}))},"aria-label":"Date of Birth",title:"Date of Birth",placeholder:"DD-MM-YYYY"})})]}),U.jsx("p",{className:"text-purple-400 text-sm mt-1",title:"Please select date of birth",children:"Please select date of birth"}),l.dateOfBirth&&U.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.dateOfBirth})]}),U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{className:"block text-white text-lg font-semibold",children:"State"}),U.jsxs("select",{name:"state",value:i.state,onChange:N,className:"w-full px-4 py-3 rounded-lg bg-purple-900/50 text-white border border-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-400","aria-label":"State",required:!0,children:[U.jsx("option",{value:"",children:"Select state"}),j.map(x=>U.jsx("option",{value:x,children:x},x))]}),l.state&&U.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.state})]}),U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{className:"block text-white text-lg font-semibold",children:"District"}),U.jsxs("select",{name:"district",value:i.district,onChange:N,className:"w-full px-4 py-3 rounded-lg bg-purple-900/50 text-white border border-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-400","aria-label":"District",required:!0,disabled:!i.state,children:[U.jsx("option",{value:"",children:i.state?"Select district":"Select state first"}),b.map(x=>U.jsx("option",{value:x,children:x},x))]}),l.district&&U.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.district})]}),U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{className:"block text-white text-lg font-semibold",children:"City / Town / Village"}),rT?U.jsx(N$,{apiKey:rT,onSelect:x=>{s(R=>({...R,city:x.locationName,locationName:x.locationName,latitude:x.latitude,longitude:x.longitude,timeZone:x.timeZone})),S(!0),p(!1);const I=[x,...T.filter(R=>R.locationName!==x.locationName)].slice(0,3);y(I),localStorage.setItem("astrobalendar_last_locations",JSON.stringify(I))},defaultValue:i.city||((L=T[0])==null?void 0:L.locationName)||"",onLoading:d,placeholder:"Start typing a city name (e.g., Chennai, Delhi)"}):U.jsxs("select",{name:"city",value:i.city,onChange:N,className:"w-full px-4 py-3 rounded-lg bg-purple-900/50 text-white border border-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-400","aria-label":"City / Town / Village",required:!0,disabled:!i.district,children:[U.jsx("option",{value:"",children:i.district?A.length?"Select city/town/village":"No cities available":"Select district first"}),A.map(x=>U.jsx("option",{value:x,children:x},x))]}),l.city&&U.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.city})]}),U.jsxs("div",{className:"space-y-2",children:[U.jsx("label",{className:"block text-white text-lg font-semibold",children:"Time of Birth"}),U.jsxs("div",{className:"relative flex items-center",children:[U.jsx("span",{className:"absolute left-3 text-purple-300",title:"Clock",children:U.jsxs("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[U.jsx("circle",{cx:"12",cy:"12",r:"10"}),U.jsx("path",{d:"M12 6v6l4 2"})]})}),U.jsx("input",{type:"time",name:"timeOfBirth",value:i.timeOfBirth,onChange:N,className:"w-full px-4 py-2 pl-10 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-400 text-black","aria-label":"Time of Birth",title:"Enter time in 24-hour format (e.g., 16:30 for 4:30 PM)",placeholder:"HH:mm",step:"60",pattern:"^([01]?[0-9]|2[0-3]):[0-5][0-9]$",onBlur:x=>{x.target.value?/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(x.target.value)?u(I=>({...I,timeOfBirth:""})):u(I=>({...I,timeOfBirth:"Enter time in 24-hour format (e.g., 16:30)"})):u(I=>({...I,timeOfBirth:"Time is required"}))}})]}),U.jsx("p",{className:"text-purple-400 text-sm mt-1",title:"Enter time in 24-hour format (e.g., 16:30 for 4:30 PM)",children:"Enter time in 24-hour format (e.g., 16:30 for 4:30 PM)"}),l.timeOfBirth&&U.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.timeOfBirth})]}),U.jsx("button",{type:"submit",disabled:!1,className:"w-full bg-purple-400 text-white px-6 py-3 rounded-lg hover:bg-purple-500 transition-all duration-300 shadow-lg hover:shadow-purple-500/50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Get Prediction"})]})})},L$=async t=>{const e=Vs(Bs,"users",t,"birthProfile","profile"),n=await _p(e);return n.exists()?n.data():null},O$=async(t,e)=>{const n=Vs(Bs,"users",t,"birthProfile","profile");await Uh(n,e)},M$=({onPrediction:t})=>{const{user:e,userRole:n}=lf(),[r,i]=se.useState(null),[s,o]=se.useState(null),[a,l]=se.useState(!1),[u,c]=se.useState(null),[d,g]=se.useState(!1),[p,_]=se.useState(null);se.useEffect(()=>{(async()=>{if(e){const b=await L$(e.uid);b?(_(b),g(!1)):g(!0)}})()},[e]);const S=async y=>{l(!0),c(null);try{e&&(await O$(e.uid,y),_(y),g(!1));const b=await iz(y,e,n);if(b.prediction||b.prediction_id)i(JSON.stringify(b.prediction,null,2)),o(b.prediction_id||b.predictionId||null),t&&t(b.prediction);else if(b.success)i(JSON.stringify(b.data,null,2)),o(b.predictionId||null),t&&t(b.data);else throw new Error(b.error||"Prediction failed")}catch(b){console.error("Error fetching prediction:",b),c(b instanceof Error?b.message:"Failed to fetch prediction")}finally{l(!1)}},T=()=>{const y=new at;y.text("Horoscope Report",10,10);const b=p||{};y.text(`Name: ${b.name||""}`,10,20),y.text(`Date: ${b.dateOfBirth||""}`,10,30),y.text(`Time: ${b.timeOfBirth||""}`,10,40),y.text(`Location: ${b.city||""}, ${b.district||""}, ${b.state||""}`,10,50),y.text("Prediction Result:",10,60),y.text(r||"No result",10,70),s&&y.text(`Prediction ID: ${s}`,10,80),y.save("horoscope.pdf")};return U.jsxs("div",{className:"new-horoscope space-y-8",children:[e&&U.jsxs("div",{className:"mb-4 text-lg text-purple-300",children:["Welcome, ",e.displayName||e.email,"!"]}),p&&!d?U.jsxs("div",{className:"bg-purple-900/40 p-4 rounded-lg mb-4",children:[U.jsx("div",{className:"mb-2",children:"Your birth data is saved:"}),U.jsx("pre",{className:"text-purple-200 text-sm whitespace-pre-wrap",children:JSON.stringify(p,null,2)}),U.jsx("button",{className:"mt-2 px-4 py-2 bg-purple-700 text-white rounded hover:bg-purple-600",onClick:()=>g(!0),children:"Edit Birth Info"})]}):U.jsx(R$,{onSubmit:S,loading:a,error:u,initialData:p}),r&&U.jsxs("div",{className:"result-section mt-6",children:[U.jsx("h3",{className:"text-lg font-bold mb-2",children:"Prediction Result"}),U.jsx("pre",{className:"bg-gray-800 text-white rounded-lg p-4 overflow-x-auto whitespace-pre-wrap",children:r}),s&&U.jsxs("div",{className:"mb-4",children:[U.jsx("strong",{children:"Prediction ID:"})," ",s]}),U.jsx("button",{onClick:T,className:"mt-4 px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600",children:"Export as PDF"})]}),U.jsx(Vj,{position:"top-right",autoClose:4e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},F$=({data:t})=>{const e=()=>{const n=new at;n.text("Your Horoscope",10,10),Object.entries(t).forEach(([r,i],s)=>{Array.isArray(i)?(n.text(`${r}:`,10,20+s*20),i.forEach((o,a)=>{n.text(`- ${o}`,10,30+s*20+a*10)})):n.text(`${r}: ${i}`,10,20+s*20)}),n.save("horoscope.pdf")};return U.jsxs("div",{className:"p-6 bg-white rounded shadow",children:[U.jsx("div",{className:"space-y-6",children:t&&Object.entries(t).map(([n,r])=>U.jsxs("div",{className:"border-t pt-4",children:[U.jsx("h3",{className:"font-semibold text-lg mb-2",children:n}),Array.isArray(r)?U.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.map((i,s)=>U.jsx("li",{className:"text-gray-700",children:i},s))}):typeof r=="object"&&r!==null?U.jsx("div",{className:"space-y-2",children:Object.entries(r).map(([i,s])=>U.jsxs("div",{className:"flex items-center",children:[U.jsxs("span",{className:"font-medium w-24",children:[i,":"]}),U.jsx("span",{className:"text-gray-700",children:s})]},i))}):U.jsx("p",{className:"text-gray-700",children:r})]},n))}),U.jsx("button",{onClick:e,className:"mt-6 bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded",children:"Export to PDF"})]})},j$=({onPrediction:t})=>{const[e,n]=se.useState(null),r=i=>{n(i),t&&t(i)};return U.jsx("div",{className:"flex flex-col min-h-screen",children:U.jsx("main",{className:"flex-1 p-6",children:e?U.jsx(F$,{data:e}):U.jsx(M$,{onPrediction:r})})})},V$={data:{moonSign:"Cancer",ascendant:"Leo",sunSign:"Gemini",nakshatra:"Pushya",rasi:"Karkataka",dasa:"Venus",subDasa:"Mercury",planetaryStrength:"Strong",career:"Creative fields, communications",health:"Good overall health with some digestive issues",relationships:"Strong family bonds, stable partnerships"}},B$={},U$=()=>{const[t,e]=se.useState(!1),[n,r]=se.useState(!0),i=()=>{e(!0),r(!1)};return U.jsx("div",{className:"min-h-screen bg-gradient-to-b from-purple-900 via-black to-black text-white font-sans p-4",children:U.jsxs("div",{className:"w-full max-w-2xl mx-auto",children:[U.jsx("div",{className:"mb-4",children:U.jsx("button",{onClick:i,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded",children:"Simulate Error"})}),n?U.jsx(I2,{data:V$.data,onBack:()=>window.history.back(),onError:i}):U.jsx(I2,{data:B$.data,onBack:()=>window.history.back()})]})})},z$=()=>{const[t,e]=se.useState(null),[n,r]=se.useState(""),i=cc();se.useEffect(()=>{const o=h5(Ms,async a=>{if(e(a),a){const l=await _p(Vs(Bs,"users",a.uid));if(l.exists()){const u=l.data();r(u.firstName&&u.lastName?`${u.firstName} ${u.lastName}`:u.displayName||a.displayName||a.email)}else r(a.displayName||a.email)}else r("")});return()=>o()},[]);const s=async()=>{await wk(Ms),i("/")};return U.jsxs("nav",{className:"bg-yellow-600 shadow-lg py-4 px-6 flex items-center justify-between",children:[U.jsx("h1",{className:"text-2xl font-bold text-white tracking-wide",children:"🔮 AstroBalendar"}),U.jsxs("div",{className:"space-x-4 flex items-center",children:[U.jsx(cl,{to:"/",className:"text-white hover:underline",children:"Home"}),U.jsx(cl,{to:"/calendar",className:"text-white hover:underline",children:"Calendar"}),U.jsx(cl,{to:"/chat",className:"text-white hover:underline",children:"Chat"}),U.jsx(cl,{to:"/new-horoscope",className:"text-white hover:underline",children:"New Horoscope"}),U.jsx(cl,{to:"/birth-data",className:"text-white hover:underline",children:"Birth Data"}),t?U.jsxs(U.Fragment,{children:[U.jsx("span",{className:"ml-4 font-semibold text-white bg-yellow-700 px-3 py-1 rounded-lg",children:n}),U.jsx("button",{onClick:s,className:"ml-4 bg-white text-yellow-700 px-4 py-2 rounded font-semibold shadow hover:bg-yellow-100 transition",children:"Logout"})]}):U.jsxs(U.Fragment,{children:[U.jsx(cl,{to:"/login",children:U.jsx("button",{type:"button",className:"ml-4 bg-white text-yellow-700 px-4 py-2 rounded font-semibold shadow hover:bg-yellow-100 transition",children:"Login"})}),U.jsx(cl,{to:"/signup",children:U.jsx("button",{type:"button",className:"ml-2 bg-yellow-700 text-white px-4 py-2 rounded font-semibold shadow hover:bg-yellow-800 transition",children:"Sign Up"})})]})]})]})},q$=()=>{const t=cc(),e=Ms.currentUser,[n,r]=se.useState({firstName:"",middleName:"",lastName:"",mobile:"",address:"",city:"",district:"",state:"",country:"India",latitude:"",longitude:"",email:(e==null?void 0:e.email)||""}),[i,s]=se.useState(!1),[o,a]=se.useState(""),[l,u]=se.useState(!1),[c,d]=se.useState((e==null?void 0:e.emailVerified)||!1),[g,p]=se.useState(""),[_,S]=se.useState(!1);se.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(J=>{r(N=>({...N,latitude:J.coords.latitude.toString(),longitude:J.coords.longitude.toString()}))},()=>{},{enableHighAccuracy:!0})},[]);const T=J=>{r({...n,[J.target.name]:J.target.value})},y=async()=>{S(!0),p("");try{window.recaptchaVerifier||(window.recaptchaVerifier=new Pk("recaptcha-container",{size:"invisible"},Ms));const J=await Ik(Ms,"+91"+n.mobile,window.recaptchaVerifier);window.confirmationResult=J,s(!0)}catch(J){p(J.message)}S(!1)},b=async()=>{S(!0),p("");try{await window.confirmationResult.confirm(o),u(!0)}catch{p("Invalid OTP. Try again.")}S(!1)},A=async()=>{if(e){S(!0),p("");try{await e.sendEmailVerification(),alert("Verification email sent. Please check your inbox.")}catch{p("Failed to send verification email.")}S(!1)}},j=async()=>{e&&(await e.reload(),d(e.emailVerified))},Y=async J=>{if(J.preventDefault(),p(""),S(!0),!l){p("Please verify your mobile number."),S(!1);return}if(!c){p("Please verify your email address."),S(!1);return}try{await Uh(Vs(Bs,"birthdata",e.uid),{...n,uid:e.uid,createdAt:new Date().toISOString()}),await Uh(Vs(Bs,"users",e.uid),{verified:!0},{merge:!0}),t("/dashboard")}catch{p("Failed to save birth data.")}S(!1)};return U.jsxs("div",{className:"birthdata-entry-container",children:[U.jsx("h2",{children:"Enter Your Birth Data"}),U.jsxs("form",{onSubmit:Y,children:[U.jsx("input",{name:"firstName",placeholder:"First Name",value:n.firstName,onChange:T,required:!0}),U.jsx("input",{name:"middleName",placeholder:"Middle Name",value:n.middleName,onChange:T}),U.jsx("input",{name:"lastName",placeholder:"Last Name",value:n.lastName,onChange:T,required:!0}),U.jsx("input",{name:"mobile",placeholder:"Mobile Number",value:n.mobile,onChange:T,required:!0,maxLength:10}),!l&&U.jsxs(U.Fragment,{children:[i?U.jsxs(U.Fragment,{children:[U.jsx("input",{name:"otp",placeholder:"Enter OTP",value:o,onChange:J=>a(J.target.value),required:!0}),U.jsx("button",{type:"button",disabled:_,onClick:b,children:"Verify OTP"})]}):U.jsx("button",{type:"button",disabled:_,onClick:y,children:"Send OTP"}),U.jsx("div",{id:"recaptcha-container"})]}),U.jsx("input",{name:"email",placeholder:"Email",value:n.email,disabled:!0,readOnly:!0}),!c&&U.jsxs(U.Fragment,{children:[U.jsx("button",{type:"button",onClick:A,disabled:_,children:"Send Email Verification"}),U.jsx("button",{type:"button",onClick:j,disabled:_,children:"I have verified my email"})]}),U.jsx("input",{name:"address",placeholder:"Full Address",value:n.address,onChange:T,required:!0}),U.jsx("input",{name:"city",placeholder:"City",value:n.city,onChange:T,required:!0}),U.jsx("input",{name:"district",placeholder:"District",value:n.district,onChange:T,required:!0}),U.jsx("input",{name:"state",placeholder:"State",value:n.state,onChange:T,required:!0}),U.jsx("input",{name:"country",placeholder:"Country",value:n.country,onChange:T,required:!0}),U.jsx("input",{name:"latitude",placeholder:"Latitude",value:n.latitude,onChange:T,required:!0}),U.jsx("input",{name:"longitude",placeholder:"Longitude",value:n.longitude,onChange:T,required:!0}),g&&U.jsx("div",{className:"error",children:g}),U.jsx("button",{type:"submit",disabled:_||!l||!c,children:"Submit"})]})]})};class H$ extends se.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){var r,i,s;console.error("🔥 FULL ERROR:",{error:e,message:e.message,stack:e.stack,componentStack:n.componentStack,timestamp:new Date().toISOString(),location:window.location.href,route:window.location.pathname,params:new URLSearchParams(window.location.search).toString(),userAgent:navigator.userAgent}),console.error("🧠 ERROR INFO:",{errorInfo:n,componentStack:n.componentStack,fileName:(s=(i=(r=n.componentStack)==null?void 0:r.split(`
`)[0])==null?void 0:i.split("(")[1])==null?void 0:s.split(":")[0]}),this.props.onError&&this.props.onError(e,n),this.setState({hasError:!0,errorInfo:`Error: ${e.message}
Stack: ${e.stack||"No stack trace available"}`})}render(){return this.state.hasError?U.jsxs("div",{className:"error-boundary",children:[U.jsx("h1",{children:"Something went wrong"}),U.jsx("p",{children:this.state.errorInfo}),U.jsx("button",{onClick:()=>this.setState({hasError:!1}),children:"Try again"})]}):this.props.children}}function W$(){const[t,e]=se.useState(null);return U.jsx(H$,{children:U.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-purple-900 via-black to-black text-white font-sans",children:[U.jsx(z$,{}),U.jsx("main",{className:"p-4",children:U.jsx(F9,{children:U.jsxs(dL,{children:[U.jsx(Zr,{path:"/birthdata",element:U.jsx(Vf,{children:U.jsx(q$,{})})}),U.jsx(Zr,{path:"/",element:U.jsx(U9,{})}),U.jsx(Zr,{path:"/calendar",element:U.jsx(z9,{})}),U.jsx(Zr,{path:"/login",element:U.jsx(q9,{})}),U.jsx(Zr,{path:"/signup",element:U.jsx(Y9,{})}),U.jsx(Zr,{path:"/role-selection",element:U.jsx(K9,{})}),U.jsx(Zr,{path:"/prediction",element:U.jsx(AV,{prediction:t})}),U.jsx(Zr,{path:"/chat",element:U.jsx(sU,{})}),U.jsx(Zr,{path:"/test-prediction",element:U.jsx(U$,{})}),U.jsx(Zr,{path:"/new-horoscope",element:U.jsx(Vf,{children:U.jsx(j$,{})})}),U.jsx(Zr,{path:"/dashboard/astrologer",element:U.jsx(Vf,{children:U.jsx(Py,{role:"astrologer",children:U.jsx(j9,{})})})}),U.jsx(Zr,{path:"/dashboard/student",element:U.jsx(Vf,{children:U.jsx(Py,{role:"student",children:U.jsx(B9,{})})})}),U.jsx(Zr,{path:"/dashboard/client",element:U.jsx(Vf,{children:U.jsx(Py,{role:"client",children:U.jsx(V9,{})})})}),U.jsx(Zr,{path:"*",element:U.jsxs("div",{className:"text-center py-8 text-red-500",children:[U.jsx("h2",{children:"404 - Page Not Found"}),U.jsx(cl,{to:"/",className:"text-blue-400 hover:text-blue-300",children:"Go back to home"})]})})]})})}),U.jsx("footer",{className:"text-center text-xs text-gray-400 py-6",children:"2025 AstroBalendar | Privacy | Terms | Contact"})]})})}e1.createRoot(document.getElementById("root")).render(U.jsx(_L,{children:U.jsx(be.StrictMode,{children:U.jsx(W$,{})})}));export{nn as _,QC as c,_0 as g};
//# sourceMappingURL=index-DCeSzJ4V.js.map
